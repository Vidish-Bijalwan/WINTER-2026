import{p as d,r as o,j as e,L as m}from"./index--xrktNsK.js";import{m as f,B as u}from"./button-qKzjhVfS.js";import{L as x}from"./loader-circle-JiVww5OX.js";import{C as h}from"./circle-check-BMN-XR7E.js";import{C as p}from"./circle-x-CEjRgKuY.js";import{A as g}from"./arrow-left-CGCIeCLj.js";function C(){const[l]=d(),i=l.get("token"),[s,r]=o.useState("loading"),[c,a]=o.useState("Verifying your email...");return o.useEffect(()=>{if(!i){r("error"),a("Invalid verification link.");return}(async()=>{try{const t=await fetch(`http://localhost:8000/api/auth/verify-email?token=${i}`),n=await t.json();t.ok?(r("success"),a("Your email has been successfully verified!")):(r("error"),a(n.detail||"Verification failed. The link may be expired."))}catch{r("error"),a("An error occurred while verifying your email.")}})()},[i]),e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.02] -z-10"}),e.jsxs(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md p-8 bg-card/50 backdrop-blur-xl border border-border/50 rounded-xl shadow-2xl text-center",children:[e.jsxs("div",{className:"flex justify-center mb-6",children:[s==="loading"&&e.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:e.jsx(x,{className:"w-8 h-8 text-primary animate-spin"})}),s==="success"&&e.jsx("div",{className:"p-4 bg-green-500/10 rounded-full",children:e.jsx(h,{className:"w-8 h-8 text-green-500"})}),s==="error"&&e.jsx("div",{className:"p-4 bg-destructive/10 rounded-full",children:e.jsx(p,{className:"w-8 h-8 text-destructive"})})]}),e.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[s==="loading"&&"Verifying Email",s==="success"&&"Email Verified",s==="error"&&"Verification Failed"]}),e.jsx("p",{className:"text-muted-foreground mb-8",children:c}),s!=="loading"&&e.jsx(m,{to:"/login",children:e.jsxs(u,{className:"w-full",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})}export{C as default};
