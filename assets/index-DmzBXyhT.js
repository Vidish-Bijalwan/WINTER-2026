var hW=t=>{throw TypeError(t)};var Z3=(t,e,n)=>e.has(t)||hW("Cannot "+n);var ut=(t,e,n)=>(Z3(t,e,"read from private field"),n?n.call(t):e.get(t)),qn=(t,e,n)=>e.has(t)?hW("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),mn=(t,e,n,r)=>(Z3(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ea=(t,e,n)=>(Z3(t,e,"access private method"),n);var EE=(t,e,n,r)=>({set _(i){mn(t,e,i,n)},get _(){return ut(t,e,r)}});function X0e(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xee(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var qee={exports:{}},GP={},Yee={exports:{}},Wn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS=Symbol.for("react.element"),q0e=Symbol.for("react.portal"),Y0e=Symbol.for("react.fragment"),K0e=Symbol.for("react.strict_mode"),Z0e=Symbol.for("react.profiler"),J0e=Symbol.for("react.provider"),Q0e=Symbol.for("react.context"),exe=Symbol.for("react.forward_ref"),txe=Symbol.for("react.suspense"),nxe=Symbol.for("react.memo"),rxe=Symbol.for("react.lazy"),pW=Symbol.iterator;function ixe(t){return t===null||typeof t!="object"?null:(t=pW&&t[pW]||t["@@iterator"],typeof t=="function"?t:null)}var Kee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zee=Object.assign,Jee={};function Sx(t,e,n){this.props=t,this.context=e,this.refs=Jee,this.updater=n||Kee}Sx.prototype.isReactComponent={};Sx.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sx.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qee(){}Qee.prototype=Sx.prototype;function xz(t,e,n){this.props=t,this.context=e,this.refs=Jee,this.updater=n||Kee}var bz=xz.prototype=new Qee;bz.constructor=xz;Zee(bz,Sx.prototype);bz.isPureReactComponent=!0;var mW=Array.isArray,ete=Object.prototype.hasOwnProperty,_z={current:null},tte={key:!0,ref:!0,__self:!0,__source:!0};function nte(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)ete.call(e,r)&&!tte.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:BS,type:t,key:o,ref:a,props:i,_owner:_z.current}}function oxe(t,e){return{$$typeof:BS,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wz(t){return typeof t=="object"&&t!==null&&t.$$typeof===BS}function axe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gW=/\/+/g;function J3(t,e){return typeof t=="object"&&t!==null&&t.key!=null?axe(""+t.key):e.toString(36)}function kT(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case BS:case q0e:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+J3(a,0):r,mW(i)?(n="",t!=null&&(n=t.replace(gW,"$&/")+"/"),kT(i,e,n,"",function(c){return c})):i!=null&&(wz(i)&&(i=oxe(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(gW,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",mW(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+J3(o,s);a+=kT(o,e,n,l,i)}else if(l=ixe(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+J3(o,s++),a+=kT(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function TE(t,e,n){if(t==null)return t;var r=[],i=0;return kT(t,r,"","",function(o){return e.call(n,o,i++)}),r}function sxe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qa={current:null},NT={transition:null},lxe={ReactCurrentDispatcher:qa,ReactCurrentBatchConfig:NT,ReactCurrentOwner:_z};function rte(){throw Error("act(...) is not supported in production builds of React.")}Wn.Children={map:TE,forEach:function(t,e,n){TE(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return TE(t,function(){e++}),e},toArray:function(t){return TE(t,function(e){return e})||[]},only:function(t){if(!wz(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wn.Component=Sx;Wn.Fragment=Y0e;Wn.Profiler=Z0e;Wn.PureComponent=xz;Wn.StrictMode=K0e;Wn.Suspense=txe;Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lxe;Wn.act=rte;Wn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Zee({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=_z.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)ete.call(e,l)&&!tte.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:BS,type:t.type,key:i,ref:o,props:r,_owner:a}};Wn.createContext=function(t){return t={$$typeof:Q0e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:J0e,_context:t},t.Consumer=t};Wn.createElement=nte;Wn.createFactory=function(t){var e=nte.bind(null,t);return e.type=t,e};Wn.createRef=function(){return{current:null}};Wn.forwardRef=function(t){return{$$typeof:exe,render:t}};Wn.isValidElement=wz;Wn.lazy=function(t){return{$$typeof:rxe,_payload:{_status:-1,_result:t},_init:sxe}};Wn.memo=function(t,e){return{$$typeof:nxe,type:t,compare:e===void 0?null:e}};Wn.startTransition=function(t){var e=NT.transition;NT.transition={};try{t()}finally{NT.transition=e}};Wn.unstable_act=rte;Wn.useCallback=function(t,e){return qa.current.useCallback(t,e)};Wn.useContext=function(t){return qa.current.useContext(t)};Wn.useDebugValue=function(){};Wn.useDeferredValue=function(t){return qa.current.useDeferredValue(t)};Wn.useEffect=function(t,e){return qa.current.useEffect(t,e)};Wn.useId=function(){return qa.current.useId()};Wn.useImperativeHandle=function(t,e,n){return qa.current.useImperativeHandle(t,e,n)};Wn.useInsertionEffect=function(t,e){return qa.current.useInsertionEffect(t,e)};Wn.useLayoutEffect=function(t,e){return qa.current.useLayoutEffect(t,e)};Wn.useMemo=function(t,e){return qa.current.useMemo(t,e)};Wn.useReducer=function(t,e,n){return qa.current.useReducer(t,e,n)};Wn.useRef=function(t){return qa.current.useRef(t)};Wn.useState=function(t){return qa.current.useState(t)};Wn.useSyncExternalStore=function(t,e,n){return qa.current.useSyncExternalStore(t,e,n)};Wn.useTransition=function(){return qa.current.useTransition()};Wn.version="18.3.1";Yee.exports=Wn;var A=Yee.exports;const de=yn(A),XP=X0e({__proto__:null,default:de},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cxe=A,uxe=Symbol.for("react.element"),fxe=Symbol.for("react.fragment"),dxe=Object.prototype.hasOwnProperty,hxe=cxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pxe={key:!0,ref:!0,__self:!0,__source:!0};function ite(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)dxe.call(e,r)&&!pxe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uxe,type:t,key:o,ref:a,props:i,_owner:hxe.current}}GP.Fragment=fxe;GP.jsx=ite;GP.jsxs=ite;qee.exports=GP;var S=qee.exports,ote={exports:{}},nl={},ate={exports:{}},ste={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var q=B.length;B.push(G);e:for(;0<q;){var te=q-1>>>1,Y=B[te];if(0<i(Y,G))B[te]=G,B[q]=Y,q=te;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],q=B.pop();if(q!==G){B[0]=q;e:for(var te=0,Y=B.length,J=Y>>>1;te<J;){var re=2*(te+1)-1,oe=B[re],pe=re+1,fe=B[pe];if(0>i(oe,q))pe<Y&&0>i(fe,oe)?(B[te]=fe,B[pe]=q,te=pe):(B[te]=oe,B[re]=q,te=re);else if(pe<Y&&0>i(fe,q))B[te]=fe,B[pe]=q,te=pe;else break e}}return G}function i(B,G){var q=B.sortIndex-G.sortIndex;return q!==0?q:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=B)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function _(B){if(v=!1,x(B),!m)if(n(l)!==null)m=!0,W(T);else{var G=n(c);G!==null&&X(_,G.startTime-B)}}function T(B,G){m=!1,v&&(v=!1,g(I),I=-1),h=!0;var q=d;try{for(x(G),f=n(l);f!==null&&(!(f.expirationTime>G)||B&&!D());){var te=f.callback;if(typeof te=="function"){f.callback=null,d=f.priorityLevel;var Y=te(f.expirationTime<=G);G=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),x(G)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var re=n(c);re!==null&&X(_,re.startTime-G),J=!1}return J}finally{f=null,d=q,h=!1}}var C=!1,P=null,I=-1,O=5,N=-1;function D(){return!(t.unstable_now()-N<O)}function U(){if(P!==null){var B=t.unstable_now();N=B;var G=!0;try{G=P(!0,B)}finally{G?V():(C=!1,P=null)}}else C=!1}var V;if(typeof b=="function")V=function(){b(U)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=U,V=function(){F.postMessage(null)}}else V=function(){y(U,0)};function W(B){P=B,C||(C=!0,V())}function X(B,G){I=y(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,W(T))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var q=d;d=G;try{return B()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=d;d=B;try{return G()}finally{d=q}},t.unstable_scheduleCallback=function(B,G,q){var te=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,B){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,B={id:u++,callback:G,priorityLevel:B,startTime:q,expirationTime:Y,sortIndex:-1},q>te?(B.sortIndex=q,e(c,B),n(l)===null&&B===n(c)&&(v?(g(I),I=-1):v=!0,X(_,q-te))):(B.sortIndex=Y,e(l,B),m||h||(m=!0,W(T))),B},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(B){var G=d;return function(){var q=d;d=G;try{return B.apply(this,arguments)}finally{d=q}}}})(ste);ate.exports=ste;var mxe=ate.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gxe=A,Ks=mxe;function St(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lte=new Set,P1={};function Wg(t,e){w0(t,e),w0(t+"Capture",e)}function w0(t,e){for(P1[t]=e,t=0;t<e.length;t++)lte.add(e[t])}var Jf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fD=Object.prototype.hasOwnProperty,vxe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vW={},yW={};function yxe(t){return fD.call(yW,t)?!0:fD.call(vW,t)?!1:vxe.test(t)?yW[t]=!0:(vW[t]=!0,!1)}function xxe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bxe(t,e,n,r){if(e===null||typeof e>"u"||xxe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ya(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Go={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Go[t]=new Ya(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Go[e]=new Ya(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Go[t]=new Ya(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Go[t]=new Ya(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Go[t]=new Ya(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Go[t]=new Ya(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Go[t]=new Ya(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Go[t]=new Ya(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Go[t]=new Ya(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sz=/[\-:]([a-z])/g;function Mz(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sz,Mz);Go[e]=new Ya(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sz,Mz);Go[e]=new Ya(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sz,Mz);Go[e]=new Ya(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Go[t]=new Ya(t,1,!1,t.toLowerCase(),null,!1,!1)});Go.xlinkHref=new Ya("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Go[t]=new Ya(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ez(t,e,n,r){var i=Go.hasOwnProperty(e)?Go[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bxe(e,n,i,r)&&(n=null),r||i===null?yxe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xd=gxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,AE=Symbol.for("react.element"),xy=Symbol.for("react.portal"),by=Symbol.for("react.fragment"),Tz=Symbol.for("react.strict_mode"),dD=Symbol.for("react.profiler"),cte=Symbol.for("react.provider"),ute=Symbol.for("react.context"),Az=Symbol.for("react.forward_ref"),hD=Symbol.for("react.suspense"),pD=Symbol.for("react.suspense_list"),Cz=Symbol.for("react.memo"),lh=Symbol.for("react.lazy"),fte=Symbol.for("react.offscreen"),xW=Symbol.iterator;function Db(t){return t===null||typeof t!="object"?null:(t=xW&&t[xW]||t["@@iterator"],typeof t=="function"?t:null)}var mi=Object.assign,Q3;function C_(t){if(Q3===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Q3=e&&e[1]||""}return`
`+Q3+t}var ek=!1;function tk(t,e){if(!t||ek)return"";ek=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{ek=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?C_(t):""}function _xe(t){switch(t.tag){case 5:return C_(t.type);case 16:return C_("Lazy");case 13:return C_("Suspense");case 19:return C_("SuspenseList");case 0:case 2:case 15:return t=tk(t.type,!1),t;case 11:return t=tk(t.type.render,!1),t;case 1:return t=tk(t.type,!0),t;default:return""}}function mD(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case by:return"Fragment";case xy:return"Portal";case dD:return"Profiler";case Tz:return"StrictMode";case hD:return"Suspense";case pD:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ute:return(t.displayName||"Context")+".Consumer";case cte:return(t._context.displayName||"Context")+".Provider";case Az:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cz:return e=t.displayName||null,e!==null?e:mD(t.type)||"Memo";case lh:e=t._payload,t=t._init;try{return mD(t(e))}catch{}}return null}function wxe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mD(e);case 8:return e===Tz?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dte(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sxe(t){var e=dte(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function CE(t){t._valueTracker||(t._valueTracker=Sxe(t))}function hte(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dte(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bA(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gD(t,e){var n=e.checked;return mi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bW(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pte(t,e){e=e.checked,e!=null&&Ez(t,"checked",e,!1)}function vD(t,e){pte(t,e);var n=Zh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yD(t,e.type,n):e.hasOwnProperty("defaultValue")&&yD(t,e.type,Zh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _W(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yD(t,e,n){(e!=="number"||bA(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var P_=Array.isArray;function Xy(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xD(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(St(91));return mi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wW(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(St(92));if(P_(n)){if(1<n.length)throw Error(St(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zh(n)}}function mte(t,e){var n=Zh(e.value),r=Zh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function SW(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gte(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bD(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gte(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var PE,vte=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(PE=PE||document.createElement("div"),PE.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=PE.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function R1(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var G_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mxe=["Webkit","ms","Moz","O"];Object.keys(G_).forEach(function(t){Mxe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),G_[e]=G_[t]})});function yte(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||G_.hasOwnProperty(t)&&G_[t]?(""+e).trim():e+"px"}function xte(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yte(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Exe=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _D(t,e){if(e){if(Exe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(St(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(St(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(St(61))}if(e.style!=null&&typeof e.style!="object")throw Error(St(62))}}function wD(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SD=null;function Pz(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var MD=null,qy=null,Yy=null;function MW(t){if(t=FS(t)){if(typeof MD!="function")throw Error(St(280));var e=t.stateNode;e&&(e=JP(e),MD(t.stateNode,t.type,e))}}function bte(t){qy?Yy?Yy.push(t):Yy=[t]:qy=t}function _te(){if(qy){var t=qy,e=Yy;if(Yy=qy=null,MW(t),e)for(t=0;t<e.length;t++)MW(e[t])}}function wte(t,e){return t(e)}function Ste(){}var nk=!1;function Mte(t,e,n){if(nk)return t(e,n);nk=!0;try{return wte(t,e,n)}finally{nk=!1,(qy!==null||Yy!==null)&&(Ste(),_te())}}function O1(t,e){var n=t.stateNode;if(n===null)return null;var r=JP(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(St(231,e,typeof n));return n}var ED=!1;if(Jf)try{var jb={};Object.defineProperty(jb,"passive",{get:function(){ED=!0}}),window.addEventListener("test",jb,jb),window.removeEventListener("test",jb,jb)}catch{ED=!1}function Txe(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var X_=!1,_A=null,wA=!1,TD=null,Axe={onError:function(t){X_=!0,_A=t}};function Cxe(t,e,n,r,i,o,a,s,l){X_=!1,_A=null,Txe.apply(Axe,arguments)}function Pxe(t,e,n,r,i,o,a,s,l){if(Cxe.apply(this,arguments),X_){if(X_){var c=_A;X_=!1,_A=null}else throw Error(St(198));wA||(wA=!0,TD=c)}}function Vg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ete(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function EW(t){if(Vg(t)!==t)throw Error(St(188))}function Rxe(t){var e=t.alternate;if(!e){if(e=Vg(t),e===null)throw Error(St(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return EW(i),t;if(o===r)return EW(i),e;o=o.sibling}throw Error(St(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(St(189))}}if(n.alternate!==r)throw Error(St(190))}if(n.tag!==3)throw Error(St(188));return n.stateNode.current===n?t:e}function Tte(t){return t=Rxe(t),t!==null?Ate(t):null}function Ate(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ate(t);if(e!==null)return e;t=t.sibling}return null}var Cte=Ks.unstable_scheduleCallback,TW=Ks.unstable_cancelCallback,Oxe=Ks.unstable_shouldYield,Lxe=Ks.unstable_requestPaint,Di=Ks.unstable_now,kxe=Ks.unstable_getCurrentPriorityLevel,Rz=Ks.unstable_ImmediatePriority,Pte=Ks.unstable_UserBlockingPriority,SA=Ks.unstable_NormalPriority,Nxe=Ks.unstable_LowPriority,Rte=Ks.unstable_IdlePriority,qP=null,bu=null;function Ixe(t){if(bu&&typeof bu.onCommitFiberRoot=="function")try{bu.onCommitFiberRoot(qP,t,void 0,(t.current.flags&128)===128)}catch{}}var Pc=Math.clz32?Math.clz32:Bxe,Dxe=Math.log,jxe=Math.LN2;function Bxe(t){return t>>>=0,t===0?32:31-(Dxe(t)/jxe|0)|0}var RE=64,OE=4194304;function R_(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function MA(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=R_(s):(o&=a,o!==0&&(r=R_(o)))}else a=n&~i,a!==0?r=R_(a):o!==0&&(r=R_(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pc(e),i=1<<n,r|=t[n],e&=~i;return r}function zxe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $xe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Pc(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=zxe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function AD(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ote(){var t=RE;return RE<<=1,!(RE&4194240)&&(RE=64),t}function rk(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zS(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pc(e),t[e]=n}function Fxe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pc(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Oz(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _r=0;function Lte(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kte,Lz,Nte,Ite,Dte,CD=!1,LE=[],Ih=null,Dh=null,jh=null,L1=new Map,k1=new Map,ph=[],Uxe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AW(t,e){switch(t){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Dh=null;break;case"mouseover":case"mouseout":jh=null;break;case"pointerover":case"pointerout":L1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":k1.delete(e.pointerId)}}function Bb(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=FS(e),e!==null&&Lz(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Wxe(t,e,n,r,i){switch(e){case"focusin":return Ih=Bb(Ih,t,e,n,r,i),!0;case"dragenter":return Dh=Bb(Dh,t,e,n,r,i),!0;case"mouseover":return jh=Bb(jh,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return L1.set(o,Bb(L1.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,k1.set(o,Bb(k1.get(o)||null,t,e,n,r,i)),!0}return!1}function jte(t){var e=Rm(t.target);if(e!==null){var n=Vg(e);if(n!==null){if(e=n.tag,e===13){if(e=Ete(n),e!==null){t.blockedOn=e,Dte(t.priority,function(){Nte(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function IT(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=PD(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);SD=r,n.target.dispatchEvent(r),SD=null}else return e=FS(n),e!==null&&Lz(e),t.blockedOn=n,!1;e.shift()}return!0}function CW(t,e,n){IT(t)&&n.delete(e)}function Vxe(){CD=!1,Ih!==null&&IT(Ih)&&(Ih=null),Dh!==null&&IT(Dh)&&(Dh=null),jh!==null&&IT(jh)&&(jh=null),L1.forEach(CW),k1.forEach(CW)}function zb(t,e){t.blockedOn===e&&(t.blockedOn=null,CD||(CD=!0,Ks.unstable_scheduleCallback(Ks.unstable_NormalPriority,Vxe)))}function N1(t){function e(i){return zb(i,t)}if(0<LE.length){zb(LE[0],t);for(var n=1;n<LE.length;n++){var r=LE[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ih!==null&&zb(Ih,t),Dh!==null&&zb(Dh,t),jh!==null&&zb(jh,t),L1.forEach(e),k1.forEach(e),n=0;n<ph.length;n++)r=ph[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ph.length&&(n=ph[0],n.blockedOn===null);)jte(n),n.blockedOn===null&&ph.shift()}var Ky=xd.ReactCurrentBatchConfig,EA=!0;function Hxe(t,e,n,r){var i=_r,o=Ky.transition;Ky.transition=null;try{_r=1,kz(t,e,n,r)}finally{_r=i,Ky.transition=o}}function Gxe(t,e,n,r){var i=_r,o=Ky.transition;Ky.transition=null;try{_r=4,kz(t,e,n,r)}finally{_r=i,Ky.transition=o}}function kz(t,e,n,r){if(EA){var i=PD(t,e,n,r);if(i===null)hk(t,e,r,TA,n),AW(t,r);else if(Wxe(i,t,e,n,r))r.stopPropagation();else if(AW(t,r),e&4&&-1<Uxe.indexOf(t)){for(;i!==null;){var o=FS(i);if(o!==null&&kte(o),o=PD(t,e,n,r),o===null&&hk(t,e,r,TA,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else hk(t,e,r,null,n)}}var TA=null;function PD(t,e,n,r){if(TA=null,t=Pz(r),t=Rm(t),t!==null)if(e=Vg(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ete(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return TA=t,null}function Bte(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kxe()){case Rz:return 1;case Pte:return 4;case SA:case Nxe:return 16;case Rte:return 536870912;default:return 16}default:return 16}}var Mh=null,Nz=null,DT=null;function zte(){if(DT)return DT;var t,e=Nz,n=e.length,r,i="value"in Mh?Mh.value:Mh.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return DT=i.slice(t,1<r?1-r:void 0)}function jT(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kE(){return!0}function PW(){return!1}function rl(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kE:PW,this.isPropagationStopped=PW,this}return mi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kE)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kE)},persist:function(){},isPersistent:kE}),e}var Mx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iz=rl(Mx),$S=mi({},Mx,{view:0,detail:0}),Xxe=rl($S),ik,ok,$b,YP=mi({},$S,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dz,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$b&&($b&&t.type==="mousemove"?(ik=t.screenX-$b.screenX,ok=t.screenY-$b.screenY):ok=ik=0,$b=t),ik)},movementY:function(t){return"movementY"in t?t.movementY:ok}}),RW=rl(YP),qxe=mi({},YP,{dataTransfer:0}),Yxe=rl(qxe),Kxe=mi({},$S,{relatedTarget:0}),ak=rl(Kxe),Zxe=mi({},Mx,{animationName:0,elapsedTime:0,pseudoElement:0}),Jxe=rl(Zxe),Qxe=mi({},Mx,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ebe=rl(Qxe),tbe=mi({},Mx,{data:0}),OW=rl(tbe),nbe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rbe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ibe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function obe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ibe[t])?!!e[t]:!1}function Dz(){return obe}var abe=mi({},$S,{key:function(t){if(t.key){var e=nbe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jT(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rbe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dz,charCode:function(t){return t.type==="keypress"?jT(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jT(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sbe=rl(abe),lbe=mi({},YP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LW=rl(lbe),cbe=mi({},$S,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dz}),ube=rl(cbe),fbe=mi({},Mx,{propertyName:0,elapsedTime:0,pseudoElement:0}),dbe=rl(fbe),hbe=mi({},YP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pbe=rl(hbe),mbe=[9,13,27,32],jz=Jf&&"CompositionEvent"in window,q_=null;Jf&&"documentMode"in document&&(q_=document.documentMode);var gbe=Jf&&"TextEvent"in window&&!q_,$te=Jf&&(!jz||q_&&8<q_&&11>=q_),kW=" ",NW=!1;function Fte(t,e){switch(t){case"keyup":return mbe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ute(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _y=!1;function vbe(t,e){switch(t){case"compositionend":return Ute(e);case"keypress":return e.which!==32?null:(NW=!0,kW);case"textInput":return t=e.data,t===kW&&NW?null:t;default:return null}}function ybe(t,e){if(_y)return t==="compositionend"||!jz&&Fte(t,e)?(t=zte(),DT=Nz=Mh=null,_y=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $te&&e.locale!=="ko"?null:e.data;default:return null}}var xbe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IW(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xbe[t.type]:e==="textarea"}function Wte(t,e,n,r){bte(r),e=AA(e,"onChange"),0<e.length&&(n=new Iz("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Y_=null,I1=null;function bbe(t){ene(t,0)}function KP(t){var e=My(t);if(hte(e))return t}function _be(t,e){if(t==="change")return e}var Vte=!1;if(Jf){var sk;if(Jf){var lk="oninput"in document;if(!lk){var DW=document.createElement("div");DW.setAttribute("oninput","return;"),lk=typeof DW.oninput=="function"}sk=lk}else sk=!1;Vte=sk&&(!document.documentMode||9<document.documentMode)}function jW(){Y_&&(Y_.detachEvent("onpropertychange",Hte),I1=Y_=null)}function Hte(t){if(t.propertyName==="value"&&KP(I1)){var e=[];Wte(e,I1,t,Pz(t)),Mte(bbe,e)}}function wbe(t,e,n){t==="focusin"?(jW(),Y_=e,I1=n,Y_.attachEvent("onpropertychange",Hte)):t==="focusout"&&jW()}function Sbe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return KP(I1)}function Mbe(t,e){if(t==="click")return KP(e)}function Ebe(t,e){if(t==="input"||t==="change")return KP(e)}function Tbe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lc=typeof Object.is=="function"?Object.is:Tbe;function D1(t,e){if(Lc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fD.call(e,i)||!Lc(t[i],e[i]))return!1}return!0}function BW(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zW(t,e){var n=BW(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BW(n)}}function Gte(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gte(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xte(){for(var t=window,e=bA();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bA(t.document)}return e}function Bz(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Abe(t){var e=Xte(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Gte(n.ownerDocument.documentElement,n)){if(r!==null&&Bz(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=zW(n,o);var a=zW(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cbe=Jf&&"documentMode"in document&&11>=document.documentMode,wy=null,RD=null,K_=null,OD=!1;function $W(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;OD||wy==null||wy!==bA(r)||(r=wy,"selectionStart"in r&&Bz(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),K_&&D1(K_,r)||(K_=r,r=AA(RD,"onSelect"),0<r.length&&(e=new Iz("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wy)))}function NE(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sy={animationend:NE("Animation","AnimationEnd"),animationiteration:NE("Animation","AnimationIteration"),animationstart:NE("Animation","AnimationStart"),transitionend:NE("Transition","TransitionEnd")},ck={},qte={};Jf&&(qte=document.createElement("div").style,"AnimationEvent"in window||(delete Sy.animationend.animation,delete Sy.animationiteration.animation,delete Sy.animationstart.animation),"TransitionEvent"in window||delete Sy.transitionend.transition);function ZP(t){if(ck[t])return ck[t];if(!Sy[t])return t;var e=Sy[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qte)return ck[t]=e[n];return t}var Yte=ZP("animationend"),Kte=ZP("animationiteration"),Zte=ZP("animationstart"),Jte=ZP("transitionend"),Qte=new Map,FW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gp(t,e){Qte.set(t,e),Wg(e,[t])}for(var uk=0;uk<FW.length;uk++){var fk=FW[uk],Pbe=fk.toLowerCase(),Rbe=fk[0].toUpperCase()+fk.slice(1);gp(Pbe,"on"+Rbe)}gp(Yte,"onAnimationEnd");gp(Kte,"onAnimationIteration");gp(Zte,"onAnimationStart");gp("dblclick","onDoubleClick");gp("focusin","onFocus");gp("focusout","onBlur");gp(Jte,"onTransitionEnd");w0("onMouseEnter",["mouseout","mouseover"]);w0("onMouseLeave",["mouseout","mouseover"]);w0("onPointerEnter",["pointerout","pointerover"]);w0("onPointerLeave",["pointerout","pointerover"]);Wg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var O_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Obe=new Set("cancel close invalid load scroll toggle".split(" ").concat(O_));function UW(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pxe(r,e,void 0,t),t.currentTarget=null}function ene(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;UW(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;UW(i,s,c),o=l}}}if(wA)throw t=TD,wA=!1,TD=null,t}function qr(t,e){var n=e[DD];n===void 0&&(n=e[DD]=new Set);var r=t+"__bubble";n.has(r)||(tne(e,t,2,!1),n.add(r))}function dk(t,e,n){var r=0;e&&(r|=4),tne(n,t,r,e)}var IE="_reactListening"+Math.random().toString(36).slice(2);function j1(t){if(!t[IE]){t[IE]=!0,lte.forEach(function(n){n!=="selectionchange"&&(Obe.has(n)||dk(n,!1,t),dk(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[IE]||(e[IE]=!0,dk("selectionchange",!1,e))}}function tne(t,e,n,r){switch(Bte(e)){case 1:var i=Hxe;break;case 4:i=Gxe;break;default:i=kz}n=i.bind(null,e,n,t),i=void 0,!ED||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hk(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Rm(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Mte(function(){var c=o,u=Pz(n),f=[];e:{var d=Qte.get(t);if(d!==void 0){var h=Iz,m=t;switch(t){case"keypress":if(jT(n)===0)break e;case"keydown":case"keyup":h=sbe;break;case"focusin":m="focus",h=ak;break;case"focusout":m="blur",h=ak;break;case"beforeblur":case"afterblur":h=ak;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=RW;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Yxe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ube;break;case Yte:case Kte:case Zte:h=Jxe;break;case Jte:h=dbe;break;case"scroll":h=Xxe;break;case"wheel":h=pbe;break;case"copy":case"cut":case"paste":h=ebe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=LW}var v=(e&4)!==0,y=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var b=c,x;b!==null;){x=b;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,g!==null&&(_=O1(b,g),_!=null&&v.push(B1(b,_,x)))),y)break;b=b.return}0<v.length&&(d=new h(d,m,null,n,u),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==SD&&(m=n.relatedTarget||n.fromElement)&&(Rm(m)||m[Qf]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Rm(m):null,m!==null&&(y=Vg(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(v=RW,_="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=LW,_="onPointerLeave",g="onPointerEnter",b="pointer"),y=h==null?d:My(h),x=m==null?d:My(m),d=new v(_,b+"leave",h,n,u),d.target=y,d.relatedTarget=x,_=null,Rm(u)===c&&(v=new v(g,b+"enter",m,n,u),v.target=x,v.relatedTarget=y,_=v),y=_,h&&m)t:{for(v=h,g=m,b=0,x=v;x;x=Cv(x))b++;for(x=0,_=g;_;_=Cv(_))x++;for(;0<b-x;)v=Cv(v),b--;for(;0<x-b;)g=Cv(g),x--;for(;b--;){if(v===g||g!==null&&v===g.alternate)break t;v=Cv(v),g=Cv(g)}v=null}else v=null;h!==null&&WW(f,d,h,v,!1),m!==null&&y!==null&&WW(f,y,m,v,!0)}}e:{if(d=c?My(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var T=_be;else if(IW(d))if(Vte)T=Ebe;else{T=Sbe;var C=wbe}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=Mbe);if(T&&(T=T(t,c))){Wte(f,T,n,u);break e}C&&C(t,d,c),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&yD(d,"number",d.value)}switch(C=c?My(c):window,t){case"focusin":(IW(C)||C.contentEditable==="true")&&(wy=C,RD=c,K_=null);break;case"focusout":K_=RD=wy=null;break;case"mousedown":OD=!0;break;case"contextmenu":case"mouseup":case"dragend":OD=!1,$W(f,n,u);break;case"selectionchange":if(Cbe)break;case"keydown":case"keyup":$W(f,n,u)}var P;if(jz)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else _y?Fte(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&($te&&n.locale!=="ko"&&(_y||I!=="onCompositionStart"?I==="onCompositionEnd"&&_y&&(P=zte()):(Mh=u,Nz="value"in Mh?Mh.value:Mh.textContent,_y=!0)),C=AA(c,I),0<C.length&&(I=new OW(I,t,null,n,u),f.push({event:I,listeners:C}),P?I.data=P:(P=Ute(n),P!==null&&(I.data=P)))),(P=gbe?vbe(t,n):ybe(t,n))&&(c=AA(c,"onBeforeInput"),0<c.length&&(u=new OW("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=P))}ene(f,e)})}function B1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function AA(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=O1(t,n),o!=null&&r.unshift(B1(t,o,i)),o=O1(t,e),o!=null&&r.push(B1(t,o,i))),t=t.return}return r}function Cv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WW(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=O1(n,o),l!=null&&a.unshift(B1(n,l,s))):i||(l=O1(n,o),l!=null&&a.push(B1(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Lbe=/\r\n?/g,kbe=/\u0000|\uFFFD/g;function VW(t){return(typeof t=="string"?t:""+t).replace(Lbe,`
`).replace(kbe,"")}function DE(t,e,n){if(e=VW(e),VW(t)!==e&&n)throw Error(St(425))}function CA(){}var LD=null,kD=null;function ND(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ID=typeof setTimeout=="function"?setTimeout:void 0,Nbe=typeof clearTimeout=="function"?clearTimeout:void 0,HW=typeof Promise=="function"?Promise:void 0,Ibe=typeof queueMicrotask=="function"?queueMicrotask:typeof HW<"u"?function(t){return HW.resolve(null).then(t).catch(Dbe)}:ID;function Dbe(t){setTimeout(function(){throw t})}function pk(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),N1(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);N1(e)}function Bh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function GW(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ex=Math.random().toString(36).slice(2),uu="__reactFiber$"+Ex,z1="__reactProps$"+Ex,Qf="__reactContainer$"+Ex,DD="__reactEvents$"+Ex,jbe="__reactListeners$"+Ex,Bbe="__reactHandles$"+Ex;function Rm(t){var e=t[uu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qf]||n[uu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=GW(t);t!==null;){if(n=t[uu])return n;t=GW(t)}return e}t=n,n=t.parentNode}return null}function FS(t){return t=t[uu]||t[Qf],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function My(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(St(33))}function JP(t){return t[z1]||null}var jD=[],Ey=-1;function vp(t){return{current:t}}function Qr(t){0>Ey||(t.current=jD[Ey],jD[Ey]=null,Ey--)}function Wr(t,e){Ey++,jD[Ey]=t.current,t.current=e}var Jh={},xa=vp(Jh),vs=vp(!1),pg=Jh;function S0(t,e){var n=t.type.contextTypes;if(!n)return Jh;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ys(t){return t=t.childContextTypes,t!=null}function PA(){Qr(vs),Qr(xa)}function XW(t,e,n){if(xa.current!==Jh)throw Error(St(168));Wr(xa,e),Wr(vs,n)}function nne(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(St(108,wxe(t)||"Unknown",i));return mi({},n,r)}function RA(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jh,pg=xa.current,Wr(xa,t),Wr(vs,vs.current),!0}function qW(t,e,n){var r=t.stateNode;if(!r)throw Error(St(169));n?(t=nne(t,e,pg),r.__reactInternalMemoizedMergedChildContext=t,Qr(vs),Qr(xa),Wr(xa,t)):Qr(vs),Wr(vs,n)}var Pf=null,QP=!1,mk=!1;function rne(t){Pf===null?Pf=[t]:Pf.push(t)}function zbe(t){QP=!0,rne(t)}function yp(){if(!mk&&Pf!==null){mk=!0;var t=0,e=_r;try{var n=Pf;for(_r=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pf=null,QP=!1}catch(i){throw Pf!==null&&(Pf=Pf.slice(t+1)),Cte(Rz,yp),i}finally{_r=e,mk=!1}}return null}var Ty=[],Ay=0,OA=null,LA=0,Ml=[],El=0,mg=null,Nf=1,If="";function pm(t,e){Ty[Ay++]=LA,Ty[Ay++]=OA,OA=t,LA=e}function ine(t,e,n){Ml[El++]=Nf,Ml[El++]=If,Ml[El++]=mg,mg=t;var r=Nf;t=If;var i=32-Pc(r)-1;r&=~(1<<i),n+=1;var o=32-Pc(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Nf=1<<32-Pc(e)+i|n<<i|r,If=o+t}else Nf=1<<o|n<<i|r,If=t}function zz(t){t.return!==null&&(pm(t,1),ine(t,1,0))}function $z(t){for(;t===OA;)OA=Ty[--Ay],Ty[Ay]=null,LA=Ty[--Ay],Ty[Ay]=null;for(;t===mg;)mg=Ml[--El],Ml[El]=null,If=Ml[--El],Ml[El]=null,Nf=Ml[--El],Ml[El]=null}var Gs=null,Us=null,ri=!1,xc=null;function one(t,e){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function YW(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gs=t,Us=Bh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gs=t,Us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mg!==null?{id:Nf,overflow:If}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ol(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gs=t,Us=null,!0):!1;default:return!1}}function BD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zD(t){if(ri){var e=Us;if(e){var n=e;if(!YW(t,e)){if(BD(t))throw Error(St(418));e=Bh(n.nextSibling);var r=Gs;e&&YW(t,e)?one(r,n):(t.flags=t.flags&-4097|2,ri=!1,Gs=t)}}else{if(BD(t))throw Error(St(418));t.flags=t.flags&-4097|2,ri=!1,Gs=t}}}function KW(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gs=t}function jE(t){if(t!==Gs)return!1;if(!ri)return KW(t),ri=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ND(t.type,t.memoizedProps)),e&&(e=Us)){if(BD(t))throw ane(),Error(St(418));for(;e;)one(t,e),e=Bh(e.nextSibling)}if(KW(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(St(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Us=Bh(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Us=null}}else Us=Gs?Bh(t.stateNode.nextSibling):null;return!0}function ane(){for(var t=Us;t;)t=Bh(t.nextSibling)}function M0(){Us=Gs=null,ri=!1}function Fz(t){xc===null?xc=[t]:xc.push(t)}var $be=xd.ReactCurrentBatchConfig;function Fb(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(St(309));var r=n.stateNode}if(!r)throw Error(St(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(St(284));if(!n._owner)throw Error(St(290,t))}return t}function BE(t,e){throw t=Object.prototype.toString.call(e),Error(St(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZW(t){var e=t._init;return e(t._payload)}function sne(t){function e(g,b){if(t){var x=g.deletions;x===null?(g.deletions=[b],g.flags|=16):x.push(b)}}function n(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=Uh(g,b),g.index=0,g.sibling=null,g}function o(g,b,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<b?(g.flags|=2,b):x):(g.flags|=2,b)):(g.flags|=1048576,b)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,b,x,_){return b===null||b.tag!==6?(b=wk(x,g.mode,_),b.return=g,b):(b=i(b,x),b.return=g,b)}function l(g,b,x,_){var T=x.type;return T===by?u(g,b,x.props.children,_,x.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===lh&&ZW(T)===b.type)?(_=i(b,x.props),_.ref=Fb(g,b,x),_.return=g,_):(_=VT(x.type,x.key,x.props,null,g.mode,_),_.ref=Fb(g,b,x),_.return=g,_)}function c(g,b,x,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Sk(x,g.mode,_),b.return=g,b):(b=i(b,x.children||[]),b.return=g,b)}function u(g,b,x,_,T){return b===null||b.tag!==7?(b=Qm(x,g.mode,_,T),b.return=g,b):(b=i(b,x),b.return=g,b)}function f(g,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=wk(""+b,g.mode,x),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case AE:return x=VT(b.type,b.key,b.props,null,g.mode,x),x.ref=Fb(g,null,b),x.return=g,x;case xy:return b=Sk(b,g.mode,x),b.return=g,b;case lh:var _=b._init;return f(g,_(b._payload),x)}if(P_(b)||Db(b))return b=Qm(b,g.mode,x,null),b.return=g,b;BE(g,b)}return null}function d(g,b,x,_){var T=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(g,b,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case AE:return x.key===T?l(g,b,x,_):null;case xy:return x.key===T?c(g,b,x,_):null;case lh:return T=x._init,d(g,b,T(x._payload),_)}if(P_(x)||Db(x))return T!==null?null:u(g,b,x,_,null);BE(g,x)}return null}function h(g,b,x,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(x)||null,s(b,g,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case AE:return g=g.get(_.key===null?x:_.key)||null,l(b,g,_,T);case xy:return g=g.get(_.key===null?x:_.key)||null,c(b,g,_,T);case lh:var C=_._init;return h(g,b,x,C(_._payload),T)}if(P_(_)||Db(_))return g=g.get(x)||null,u(b,g,_,T,null);BE(b,_)}return null}function m(g,b,x,_){for(var T=null,C=null,P=b,I=b=0,O=null;P!==null&&I<x.length;I++){P.index>I?(O=P,P=null):O=P.sibling;var N=d(g,P,x[I],_);if(N===null){P===null&&(P=O);break}t&&P&&N.alternate===null&&e(g,P),b=o(N,b,I),C===null?T=N:C.sibling=N,C=N,P=O}if(I===x.length)return n(g,P),ri&&pm(g,I),T;if(P===null){for(;I<x.length;I++)P=f(g,x[I],_),P!==null&&(b=o(P,b,I),C===null?T=P:C.sibling=P,C=P);return ri&&pm(g,I),T}for(P=r(g,P);I<x.length;I++)O=h(P,g,I,x[I],_),O!==null&&(t&&O.alternate!==null&&P.delete(O.key===null?I:O.key),b=o(O,b,I),C===null?T=O:C.sibling=O,C=O);return t&&P.forEach(function(D){return e(g,D)}),ri&&pm(g,I),T}function v(g,b,x,_){var T=Db(x);if(typeof T!="function")throw Error(St(150));if(x=T.call(x),x==null)throw Error(St(151));for(var C=T=null,P=b,I=b=0,O=null,N=x.next();P!==null&&!N.done;I++,N=x.next()){P.index>I?(O=P,P=null):O=P.sibling;var D=d(g,P,N.value,_);if(D===null){P===null&&(P=O);break}t&&P&&D.alternate===null&&e(g,P),b=o(D,b,I),C===null?T=D:C.sibling=D,C=D,P=O}if(N.done)return n(g,P),ri&&pm(g,I),T;if(P===null){for(;!N.done;I++,N=x.next())N=f(g,N.value,_),N!==null&&(b=o(N,b,I),C===null?T=N:C.sibling=N,C=N);return ri&&pm(g,I),T}for(P=r(g,P);!N.done;I++,N=x.next())N=h(P,g,I,N.value,_),N!==null&&(t&&N.alternate!==null&&P.delete(N.key===null?I:N.key),b=o(N,b,I),C===null?T=N:C.sibling=N,C=N);return t&&P.forEach(function(U){return e(g,U)}),ri&&pm(g,I),T}function y(g,b,x,_){if(typeof x=="object"&&x!==null&&x.type===by&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case AE:e:{for(var T=x.key,C=b;C!==null;){if(C.key===T){if(T=x.type,T===by){if(C.tag===7){n(g,C.sibling),b=i(C,x.props.children),b.return=g,g=b;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===lh&&ZW(T)===C.type){n(g,C.sibling),b=i(C,x.props),b.ref=Fb(g,C,x),b.return=g,g=b;break e}n(g,C);break}else e(g,C);C=C.sibling}x.type===by?(b=Qm(x.props.children,g.mode,_,x.key),b.return=g,g=b):(_=VT(x.type,x.key,x.props,null,g.mode,_),_.ref=Fb(g,b,x),_.return=g,g=_)}return a(g);case xy:e:{for(C=x.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(g,b.sibling),b=i(b,x.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else e(g,b);b=b.sibling}b=Sk(x,g.mode,_),b.return=g,g=b}return a(g);case lh:return C=x._init,y(g,b,C(x._payload),_)}if(P_(x))return m(g,b,x,_);if(Db(x))return v(g,b,x,_);BE(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,x),b.return=g,g=b):(n(g,b),b=wk(x,g.mode,_),b.return=g,g=b),a(g)):n(g,b)}return y}var E0=sne(!0),lne=sne(!1),kA=vp(null),NA=null,Cy=null,Uz=null;function Wz(){Uz=Cy=NA=null}function Vz(t){var e=kA.current;Qr(kA),t._currentValue=e}function $D(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zy(t,e){NA=t,Uz=Cy=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gs=!0),t.firstContext=null)}function Bl(t){var e=t._currentValue;if(Uz!==t)if(t={context:t,memoizedValue:e,next:null},Cy===null){if(NA===null)throw Error(St(308));Cy=t,NA.dependencies={lanes:0,firstContext:t}}else Cy=Cy.next=t;return e}var Om=null;function Hz(t){Om===null?Om=[t]:Om.push(t)}function cne(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hz(e)):(n.next=i.next,i.next=n),e.interleaved=n,ed(t,r)}function ed(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ch=!1;function Gz(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function une(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Uf(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ir&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ed(t,n)}return i=r.interleaved,i===null?(e.next=e,Hz(r)):(e.next=i.next,i.next=e),r.interleaved=e,ed(t,n)}function BT(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Oz(t,n)}}function JW(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function IA(t,e,n,r){var i=t.updateQueue;ch=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,u=c=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,v=s;switch(d=e,h=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=mi({},f,d);break e;case 2:ch=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vg|=a,t.lanes=a,t.memoizedState=f}}function QW(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(St(191,i));i.call(r)}}}var US={},_u=vp(US),$1=vp(US),F1=vp(US);function Lm(t){if(t===US)throw Error(St(174));return t}function Xz(t,e){switch(Wr(F1,e),Wr($1,t),Wr(_u,US),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bD(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bD(e,t)}Qr(_u),Wr(_u,e)}function T0(){Qr(_u),Qr($1),Qr(F1)}function fne(t){Lm(F1.current);var e=Lm(_u.current),n=bD(e,t.type);e!==n&&(Wr($1,t),Wr(_u,n))}function qz(t){$1.current===t&&(Qr(_u),Qr($1))}var ui=vp(0);function DA(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gk=[];function Yz(){for(var t=0;t<gk.length;t++)gk[t]._workInProgressVersionPrimary=null;gk.length=0}var zT=xd.ReactCurrentDispatcher,vk=xd.ReactCurrentBatchConfig,gg=0,pi=null,co=null,Eo=null,jA=!1,Z_=!1,U1=0,Fbe=0;function ta(){throw Error(St(321))}function Kz(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lc(t[n],e[n]))return!1;return!0}function Zz(t,e,n,r,i,o){if(gg=o,pi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zT.current=t===null||t.memoizedState===null?Hbe:Gbe,t=n(r,i),Z_){o=0;do{if(Z_=!1,U1=0,25<=o)throw Error(St(301));o+=1,Eo=co=null,e.updateQueue=null,zT.current=Xbe,t=n(r,i)}while(Z_)}if(zT.current=BA,e=co!==null&&co.next!==null,gg=0,Eo=co=pi=null,jA=!1,e)throw Error(St(300));return t}function Jz(){var t=U1!==0;return U1=0,t}function ru(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Eo===null?pi.memoizedState=Eo=t:Eo=Eo.next=t,Eo}function zl(){if(co===null){var t=pi.alternate;t=t!==null?t.memoizedState:null}else t=co.next;var e=Eo===null?pi.memoizedState:Eo.next;if(e!==null)Eo=e,co=t;else{if(t===null)throw Error(St(310));co=t,t={memoizedState:co.memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},Eo===null?pi.memoizedState=Eo=t:Eo=Eo.next=t}return Eo}function W1(t,e){return typeof e=="function"?e(t):e}function yk(t){var e=zl(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var r=co,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((gg&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,pi.lanes|=u,vg|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Lc(r,e.memoizedState)||(gs=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,pi.lanes|=o,vg|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xk(t){var e=zl(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Lc(o,e.memoizedState)||(gs=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function dne(){}function hne(t,e){var n=pi,r=zl(),i=e(),o=!Lc(r.memoizedState,i);if(o&&(r.memoizedState=i,gs=!0),r=r.queue,Qz(gne.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Eo!==null&&Eo.memoizedState.tag&1){if(n.flags|=2048,V1(9,mne.bind(null,n,r,i,e),void 0,null),Ao===null)throw Error(St(349));gg&30||pne(n,e,i)}return i}function pne(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mne(t,e,n,r){e.value=n,e.getSnapshot=r,vne(e)&&yne(t)}function gne(t,e,n){return n(function(){vne(e)&&yne(t)})}function vne(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lc(t,n)}catch{return!0}}function yne(t){var e=ed(t,1);e!==null&&Rc(e,t,1,-1)}function e7(t){var e=ru();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:W1,lastRenderedState:t},e.queue=t,t=t.dispatch=Vbe.bind(null,pi,t),[e.memoizedState,t]}function V1(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xne(){return zl().memoizedState}function $T(t,e,n,r){var i=ru();pi.flags|=t,i.memoizedState=V1(1|e,n,void 0,r===void 0?null:r)}function eR(t,e,n,r){var i=zl();r=r===void 0?null:r;var o=void 0;if(co!==null){var a=co.memoizedState;if(o=a.destroy,r!==null&&Kz(r,a.deps)){i.memoizedState=V1(e,n,o,r);return}}pi.flags|=t,i.memoizedState=V1(1|e,n,o,r)}function t7(t,e){return $T(8390656,8,t,e)}function Qz(t,e){return eR(2048,8,t,e)}function bne(t,e){return eR(4,2,t,e)}function _ne(t,e){return eR(4,4,t,e)}function wne(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sne(t,e,n){return n=n!=null?n.concat([t]):null,eR(4,4,wne.bind(null,e,t),n)}function e$(){}function Mne(t,e){var n=zl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kz(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ene(t,e){var n=zl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kz(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Tne(t,e,n){return gg&21?(Lc(n,e)||(n=Ote(),pi.lanes|=n,vg|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gs=!0),t.memoizedState=n)}function Ube(t,e){var n=_r;_r=n!==0&&4>n?n:4,t(!0);var r=vk.transition;vk.transition={};try{t(!1),e()}finally{_r=n,vk.transition=r}}function Ane(){return zl().memoizedState}function Wbe(t,e,n){var r=Fh(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cne(t))Pne(e,n);else if(n=cne(t,e,n,r),n!==null){var i=Ha();Rc(n,t,r,i),Rne(n,e,r)}}function Vbe(t,e,n){var r=Fh(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cne(t))Pne(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Lc(s,a)){var l=e.interleaved;l===null?(i.next=i,Hz(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cne(t,e,i,r),n!==null&&(i=Ha(),Rc(n,t,r,i),Rne(n,e,r))}}function Cne(t){var e=t.alternate;return t===pi||e!==null&&e===pi}function Pne(t,e){Z_=jA=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rne(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Oz(t,n)}}var BA={readContext:Bl,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useInsertionEffect:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useSyncExternalStore:ta,useId:ta,unstable_isNewReconciler:!1},Hbe={readContext:Bl,useCallback:function(t,e){return ru().memoizedState=[t,e===void 0?null:e],t},useContext:Bl,useEffect:t7,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$T(4194308,4,wne.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $T(4194308,4,t,e)},useInsertionEffect:function(t,e){return $T(4,2,t,e)},useMemo:function(t,e){var n=ru();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ru();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Wbe.bind(null,pi,t),[r.memoizedState,t]},useRef:function(t){var e=ru();return t={current:t},e.memoizedState=t},useState:e7,useDebugValue:e$,useDeferredValue:function(t){return ru().memoizedState=t},useTransition:function(){var t=e7(!1),e=t[0];return t=Ube.bind(null,t[1]),ru().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pi,i=ru();if(ri){if(n===void 0)throw Error(St(407));n=n()}else{if(n=e(),Ao===null)throw Error(St(349));gg&30||pne(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,t7(gne.bind(null,r,o,t),[t]),r.flags|=2048,V1(9,mne.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ru(),e=Ao.identifierPrefix;if(ri){var n=If,r=Nf;n=(r&~(1<<32-Pc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=U1++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fbe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gbe={readContext:Bl,useCallback:Mne,useContext:Bl,useEffect:Qz,useImperativeHandle:Sne,useInsertionEffect:bne,useLayoutEffect:_ne,useMemo:Ene,useReducer:yk,useRef:xne,useState:function(){return yk(W1)},useDebugValue:e$,useDeferredValue:function(t){var e=zl();return Tne(e,co.memoizedState,t)},useTransition:function(){var t=yk(W1)[0],e=zl().memoizedState;return[t,e]},useMutableSource:dne,useSyncExternalStore:hne,useId:Ane,unstable_isNewReconciler:!1},Xbe={readContext:Bl,useCallback:Mne,useContext:Bl,useEffect:Qz,useImperativeHandle:Sne,useInsertionEffect:bne,useLayoutEffect:_ne,useMemo:Ene,useReducer:xk,useRef:xne,useState:function(){return xk(W1)},useDebugValue:e$,useDeferredValue:function(t){var e=zl();return co===null?e.memoizedState=t:Tne(e,co.memoizedState,t)},useTransition:function(){var t=xk(W1)[0],e=zl().memoizedState;return[t,e]},useMutableSource:dne,useSyncExternalStore:hne,useId:Ane,unstable_isNewReconciler:!1};function dc(t,e){if(t&&t.defaultProps){e=mi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function FD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tR={isMounted:function(t){return(t=t._reactInternals)?Vg(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ha(),i=Fh(t),o=Uf(r,i);o.payload=e,n!=null&&(o.callback=n),e=zh(t,o,i),e!==null&&(Rc(e,t,i,r),BT(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ha(),i=Fh(t),o=Uf(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zh(t,o,i),e!==null&&(Rc(e,t,i,r),BT(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ha(),r=Fh(t),i=Uf(n,r);i.tag=2,e!=null&&(i.callback=e),e=zh(t,i,r),e!==null&&(Rc(e,t,r,n),BT(e,t,r))}};function n7(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!D1(n,r)||!D1(i,o):!0}function One(t,e,n){var r=!1,i=Jh,o=e.contextType;return typeof o=="object"&&o!==null?o=Bl(o):(i=ys(e)?pg:xa.current,r=e.contextTypes,o=(r=r!=null)?S0(t,i):Jh),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tR,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function r7(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tR.enqueueReplaceState(e,e.state,null)}function UD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gz(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Bl(o):(o=ys(e)?pg:xa.current,i.context=S0(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(FD(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tR.enqueueReplaceState(i,i.state,null),IA(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function A0(t,e){try{var n="",r=e;do n+=_xe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function bk(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function WD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qbe=typeof WeakMap=="function"?WeakMap:Map;function Lne(t,e,n){n=Uf(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$A||($A=!0,QD=r),WD(t,e)},n}function kne(t,e,n){n=Uf(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){WD(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){WD(t,e),typeof r!="function"&&($h===null?$h=new Set([this]):$h.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function i7(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qbe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=l_e.bind(null,t,e,n),e.then(t,t))}function o7(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function a7(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Uf(-1,1),e.tag=2,zh(n,e,1))),n.lanes|=1),t)}var Ybe=xd.ReactCurrentOwner,gs=!1;function ja(t,e,n,r){e.child=t===null?lne(e,null,n,r):E0(e,t.child,n,r)}function s7(t,e,n,r,i){n=n.render;var o=e.ref;return Zy(e,i),r=Zz(t,e,n,r,o,i),n=Jz(),t!==null&&!gs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,td(t,e,i)):(ri&&n&&zz(e),e.flags|=1,ja(t,e,r,i),e.child)}function l7(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!l$(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Nne(t,e,o,r,i)):(t=VT(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:D1,n(a,r)&&t.ref===e.ref)return td(t,e,i)}return e.flags|=1,t=Uh(o,r),t.ref=e.ref,t.return=e,e.child=t}function Nne(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(D1(o,r)&&t.ref===e.ref)if(gs=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(gs=!0);else return e.lanes=t.lanes,td(t,e,i)}return VD(t,e,n,r,i)}function Ine(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(Ry,Ds),Ds|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wr(Ry,Ds),Ds|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Wr(Ry,Ds),Ds|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Wr(Ry,Ds),Ds|=r;return ja(t,e,i,n),e.child}function Dne(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function VD(t,e,n,r,i){var o=ys(n)?pg:xa.current;return o=S0(e,o),Zy(e,i),n=Zz(t,e,n,r,o,i),r=Jz(),t!==null&&!gs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,td(t,e,i)):(ri&&r&&zz(e),e.flags|=1,ja(t,e,n,i),e.child)}function c7(t,e,n,r,i){if(ys(n)){var o=!0;RA(e)}else o=!1;if(Zy(e,i),e.stateNode===null)FT(t,e),One(e,n,r),UD(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Bl(c):(c=ys(n)?pg:xa.current,c=S0(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&r7(e,a,r,c),ch=!1;var d=e.memoizedState;a.state=d,IA(e,r,a,i),l=e.memoizedState,s!==r||d!==l||vs.current||ch?(typeof u=="function"&&(FD(e,n,u,r),l=e.memoizedState),(s=ch||n7(e,n,s,r,d,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,une(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:dc(e.type,s),a.props=c,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bl(l):(l=ys(n)?pg:xa.current,l=S0(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&r7(e,a,r,l),ch=!1,d=e.memoizedState,a.state=d,IA(e,r,a,i);var m=e.memoizedState;s!==f||d!==m||vs.current||ch?(typeof h=="function"&&(FD(e,n,h,r),m=e.memoizedState),(c=ch||n7(e,n,c,r,d,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return HD(t,e,n,r,o,i)}function HD(t,e,n,r,i,o){Dne(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&qW(e,n,!1),td(t,e,o);r=e.stateNode,Ybe.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=E0(e,t.child,null,o),e.child=E0(e,null,s,o)):ja(t,e,s,o),e.memoizedState=r.state,i&&qW(e,n,!0),e.child}function jne(t){var e=t.stateNode;e.pendingContext?XW(t,e.pendingContext,e.pendingContext!==e.context):e.context&&XW(t,e.context,!1),Xz(t,e.containerInfo)}function u7(t,e,n,r,i){return M0(),Fz(i),e.flags|=256,ja(t,e,n,r),e.child}var GD={dehydrated:null,treeContext:null,retryLane:0};function XD(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bne(t,e,n){var r=e.pendingProps,i=ui.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wr(ui,i&1),t===null)return zD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=iR(a,r,0,null),t=Qm(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=XD(n),e.memoizedState=GD,t):t$(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Kbe(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Uh(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Uh(s,o):(o=Qm(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?XD(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=GD,r}return o=t.child,t=o.sibling,r=Uh(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function t$(t,e){return e=iR({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zE(t,e,n,r){return r!==null&&Fz(r),E0(e,t.child,null,n),t=t$(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kbe(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=bk(Error(St(422))),zE(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=iR({mode:"visible",children:r.children},i,0,null),o=Qm(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&E0(e,t.child,null,a),e.child.memoizedState=XD(a),e.memoizedState=GD,o);if(!(e.mode&1))return zE(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(St(419)),r=bk(o,r,void 0),zE(t,e,a,r)}if(s=(a&t.childLanes)!==0,gs||s){if(r=Ao,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ed(t,i),Rc(r,t,i,-1))}return s$(),r=bk(Error(St(421))),zE(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=c_e.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Us=Bh(i.nextSibling),Gs=e,ri=!0,xc=null,t!==null&&(Ml[El++]=Nf,Ml[El++]=If,Ml[El++]=mg,Nf=t.id,If=t.overflow,mg=e),e=t$(e,r.children),e.flags|=4096,e)}function f7(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$D(t.return,e,n)}function _k(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zne(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ja(t,e,r.children,n),r=ui.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f7(t,n,e);else if(t.tag===19)f7(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Wr(ui,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&DA(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_k(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&DA(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_k(e,!0,n,null,o);break;case"together":_k(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function FT(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function td(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vg|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(St(153));if(e.child!==null){for(t=e.child,n=Uh(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Uh(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zbe(t,e,n){switch(e.tag){case 3:jne(e),M0();break;case 5:fne(e);break;case 1:ys(e.type)&&RA(e);break;case 4:Xz(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Wr(kA,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Wr(ui,ui.current&1),e.flags|=128,null):n&e.child.childLanes?Bne(t,e,n):(Wr(ui,ui.current&1),t=td(t,e,n),t!==null?t.sibling:null);Wr(ui,ui.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zne(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wr(ui,ui.current),r)break;return null;case 22:case 23:return e.lanes=0,Ine(t,e,n)}return td(t,e,n)}var $ne,qD,Fne,Une;$ne=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qD=function(){};Fne=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Lm(_u.current);var o=null;switch(n){case"input":i=gD(t,i),r=gD(t,r),o=[];break;case"select":i=mi({},i,{value:void 0}),r=mi({},r,{value:void 0}),o=[];break;case"textarea":i=xD(t,i),r=xD(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=CA)}_D(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(P1.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(P1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qr("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Une=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ub(t,e){if(!ri)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function na(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Jbe(t,e,n){var r=e.pendingProps;switch($z(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return na(e),null;case 1:return ys(e.type)&&PA(),na(e),null;case 3:return r=e.stateNode,T0(),Qr(vs),Qr(xa),Yz(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jE(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xc!==null&&(n4(xc),xc=null))),qD(t,e),na(e),null;case 5:qz(e);var i=Lm(F1.current);if(n=e.type,t!==null&&e.stateNode!=null)Fne(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(St(166));return na(e),null}if(t=Lm(_u.current),jE(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[uu]=e,r[z1]=o,t=(e.mode&1)!==0,n){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(i=0;i<O_.length;i++)qr(O_[i],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":bW(r,o),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qr("invalid",r);break;case"textarea":wW(r,o),qr("invalid",r)}_D(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&DE(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&DE(r.textContent,s,t),i=["children",""+s]):P1.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&qr("scroll",r)}switch(n){case"input":CE(r),_W(r,o,!0);break;case"textarea":CE(r),SW(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=CA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gte(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[uu]=e,t[z1]=r,$ne(t,e,!1,!1),e.stateNode=t;e:{switch(a=wD(n,r),n){case"dialog":qr("cancel",t),qr("close",t),i=r;break;case"iframe":case"object":case"embed":qr("load",t),i=r;break;case"video":case"audio":for(i=0;i<O_.length;i++)qr(O_[i],t);i=r;break;case"source":qr("error",t),i=r;break;case"img":case"image":case"link":qr("error",t),qr("load",t),i=r;break;case"details":qr("toggle",t),i=r;break;case"input":bW(t,r),i=gD(t,r),qr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mi({},r,{value:void 0}),qr("invalid",t);break;case"textarea":wW(t,r),i=xD(t,r),qr("invalid",t);break;default:i=r}_D(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?xte(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vte(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&R1(t,l):typeof l=="number"&&R1(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(P1.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qr("scroll",t):l!=null&&Ez(t,o,l,a))}switch(n){case"input":CE(t),_W(t,r,!1);break;case"textarea":CE(t),SW(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zh(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Xy(t,!!r.multiple,o,!1):r.defaultValue!=null&&Xy(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=CA)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return na(e),null;case 6:if(t&&e.stateNode!=null)Une(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(St(166));if(n=Lm(F1.current),Lm(_u.current),jE(e)){if(r=e.stateNode,n=e.memoizedProps,r[uu]=e,(o=r.nodeValue!==n)&&(t=Gs,t!==null))switch(t.tag){case 3:DE(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&DE(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[uu]=e,e.stateNode=r}return na(e),null;case 13:if(Qr(ui),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ri&&Us!==null&&e.mode&1&&!(e.flags&128))ane(),M0(),e.flags|=98560,o=!1;else if(o=jE(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(St(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(St(317));o[uu]=e}else M0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;na(e),o=!1}else xc!==null&&(n4(xc),xc=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ui.current&1?ho===0&&(ho=3):s$())),e.updateQueue!==null&&(e.flags|=4),na(e),null);case 4:return T0(),qD(t,e),t===null&&j1(e.stateNode.containerInfo),na(e),null;case 10:return Vz(e.type._context),na(e),null;case 17:return ys(e.type)&&PA(),na(e),null;case 19:if(Qr(ui),o=e.memoizedState,o===null)return na(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ub(o,!1);else{if(ho!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=DA(t),a!==null){for(e.flags|=128,Ub(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wr(ui,ui.current&1|2),e.child}t=t.sibling}o.tail!==null&&Di()>C0&&(e.flags|=128,r=!0,Ub(o,!1),e.lanes=4194304)}else{if(!r)if(t=DA(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ub(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ri)return na(e),null}else 2*Di()-o.renderingStartTime>C0&&n!==1073741824&&(e.flags|=128,r=!0,Ub(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Di(),e.sibling=null,n=ui.current,Wr(ui,r?n&1|2:n&1),e):(na(e),null);case 22:case 23:return a$(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ds&1073741824&&(na(e),e.subtreeFlags&6&&(e.flags|=8192)):na(e),null;case 24:return null;case 25:return null}throw Error(St(156,e.tag))}function Qbe(t,e){switch($z(e),e.tag){case 1:return ys(e.type)&&PA(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return T0(),Qr(vs),Qr(xa),Yz(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qz(e),null;case 13:if(Qr(ui),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(St(340));M0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qr(ui),null;case 4:return T0(),null;case 10:return Vz(e.type._context),null;case 22:case 23:return a$(),null;case 24:return null;default:return null}}var $E=!1,fa=!1,e_e=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Py(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mi(t,e,r)}else n.current=null}function YD(t,e,n){try{n()}catch(r){Mi(t,e,r)}}var d7=!1;function t_e(t,e){if(LD=EA,t=Xte(),Bz(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(s=a),d===o&&++u===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kD={focusedElem:t,selectionRange:n},EA=!1,Ft=e;Ft!==null;)if(e=Ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ft=t;else for(;Ft!==null;){e=Ft;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,y=m.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:dc(e.type,v),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(_){Mi(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Ft=t;break}Ft=e.return}return m=d7,d7=!1,m}function J_(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&YD(e,n,o)}i=i.next}while(i!==r)}}function nR(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function KD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wne(t){var e=t.alternate;e!==null&&(t.alternate=null,Wne(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[uu],delete e[z1],delete e[DD],delete e[jbe],delete e[Bbe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vne(t){return t.tag===5||t.tag===3||t.tag===4}function h7(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vne(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ZD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=CA));else if(r!==4&&(t=t.child,t!==null))for(ZD(t,e,n),t=t.sibling;t!==null;)ZD(t,e,n),t=t.sibling}function JD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(JD(t,e,n),t=t.sibling;t!==null;)JD(t,e,n),t=t.sibling}var zo=null,vc=!1;function Hd(t,e,n){for(n=n.child;n!==null;)Hne(t,e,n),n=n.sibling}function Hne(t,e,n){if(bu&&typeof bu.onCommitFiberUnmount=="function")try{bu.onCommitFiberUnmount(qP,n)}catch{}switch(n.tag){case 5:fa||Py(n,e);case 6:var r=zo,i=vc;zo=null,Hd(t,e,n),zo=r,vc=i,zo!==null&&(vc?(t=zo,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zo.removeChild(n.stateNode));break;case 18:zo!==null&&(vc?(t=zo,n=n.stateNode,t.nodeType===8?pk(t.parentNode,n):t.nodeType===1&&pk(t,n),N1(t)):pk(zo,n.stateNode));break;case 4:r=zo,i=vc,zo=n.stateNode.containerInfo,vc=!0,Hd(t,e,n),zo=r,vc=i;break;case 0:case 11:case 14:case 15:if(!fa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&YD(n,e,a),i=i.next}while(i!==r)}Hd(t,e,n);break;case 1:if(!fa&&(Py(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Mi(n,e,s)}Hd(t,e,n);break;case 21:Hd(t,e,n);break;case 22:n.mode&1?(fa=(r=fa)||n.memoizedState!==null,Hd(t,e,n),fa=r):Hd(t,e,n);break;default:Hd(t,e,n)}}function p7(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new e_e),e.forEach(function(r){var i=u_e.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:zo=s.stateNode,vc=!1;break e;case 3:zo=s.stateNode.containerInfo,vc=!0;break e;case 4:zo=s.stateNode.containerInfo,vc=!0;break e}s=s.return}if(zo===null)throw Error(St(160));Hne(o,a,i),zo=null,vc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Mi(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gne(e,t),e=e.sibling}function Gne(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rc(e,t),eu(t),r&4){try{J_(3,t,t.return),nR(3,t)}catch(v){Mi(t,t.return,v)}try{J_(5,t,t.return)}catch(v){Mi(t,t.return,v)}}break;case 1:rc(e,t),eu(t),r&512&&n!==null&&Py(n,n.return);break;case 5:if(rc(e,t),eu(t),r&512&&n!==null&&Py(n,n.return),t.flags&32){var i=t.stateNode;try{R1(i,"")}catch(v){Mi(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&pte(i,o),wD(s,a);var c=wD(s,o);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?xte(i,f):u==="dangerouslySetInnerHTML"?vte(i,f):u==="children"?R1(i,f):Ez(i,u,f,c)}switch(s){case"input":vD(i,o);break;case"textarea":mte(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Xy(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Xy(i,!!o.multiple,o.defaultValue,!0):Xy(i,!!o.multiple,o.multiple?[]:"",!1))}i[z1]=o}catch(v){Mi(t,t.return,v)}}break;case 6:if(rc(e,t),eu(t),r&4){if(t.stateNode===null)throw Error(St(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Mi(t,t.return,v)}}break;case 3:if(rc(e,t),eu(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{N1(e.containerInfo)}catch(v){Mi(t,t.return,v)}break;case 4:rc(e,t),eu(t);break;case 13:rc(e,t),eu(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(i$=Di())),r&4&&p7(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(fa=(c=fa)||u,rc(e,t),fa=c):rc(e,t),eu(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ft=t,u=t.child;u!==null;){for(f=Ft=u;Ft!==null;){switch(d=Ft,h=d.child,d.tag){case 0:case 11:case 14:case 15:J_(4,d,d.return);break;case 1:Py(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Mi(r,n,v)}}break;case 5:Py(d,d.return);break;case 22:if(d.memoizedState!==null){g7(f);continue}}h!==null?(h.return=d,Ft=h):g7(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=yte("display",a))}catch(v){Mi(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Mi(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rc(e,t),eu(t),r&4&&p7(t);break;case 21:break;default:rc(e,t),eu(t)}}function eu(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vne(n)){var r=n;break e}n=n.return}throw Error(St(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(R1(i,""),r.flags&=-33);var o=h7(t);JD(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=h7(t);ZD(t,s,a);break;default:throw Error(St(161))}}catch(l){Mi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n_e(t,e,n){Ft=t,Xne(t)}function Xne(t,e,n){for(var r=(t.mode&1)!==0;Ft!==null;){var i=Ft,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||$E;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||fa;s=$E;var c=fa;if($E=a,(fa=l)&&!c)for(Ft=i;Ft!==null;)a=Ft,l=a.child,a.tag===22&&a.memoizedState!==null?v7(i):l!==null?(l.return=a,Ft=l):v7(i);for(;o!==null;)Ft=o,Xne(o),o=o.sibling;Ft=i,$E=s,fa=c}m7(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ft=o):m7(t)}}function m7(t){for(;Ft!==null;){var e=Ft;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fa||nR(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fa)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&QW(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QW(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&N1(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}fa||e.flags&512&&KD(e)}catch(d){Mi(e,e.return,d)}}if(e===t){Ft=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ft=n;break}Ft=e.return}}function g7(t){for(;Ft!==null;){var e=Ft;if(e===t){Ft=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ft=n;break}Ft=e.return}}function v7(t){for(;Ft!==null;){var e=Ft;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nR(4,e)}catch(l){Mi(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Mi(e,i,l)}}var o=e.return;try{KD(e)}catch(l){Mi(e,o,l)}break;case 5:var a=e.return;try{KD(e)}catch(l){Mi(e,a,l)}}}catch(l){Mi(e,e.return,l)}if(e===t){Ft=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Ft=s;break}Ft=e.return}}var r_e=Math.ceil,zA=xd.ReactCurrentDispatcher,n$=xd.ReactCurrentOwner,Il=xd.ReactCurrentBatchConfig,ir=0,Ao=null,Ji=null,Ho=0,Ds=0,Ry=vp(0),ho=0,H1=null,vg=0,rR=0,r$=0,Q_=null,ds=null,i$=0,C0=1/0,Ef=null,$A=!1,QD=null,$h=null,FE=!1,Eh=null,FA=0,e1=0,e4=null,UT=-1,WT=0;function Ha(){return ir&6?Di():UT!==-1?UT:UT=Di()}function Fh(t){return t.mode&1?ir&2&&Ho!==0?Ho&-Ho:$be.transition!==null?(WT===0&&(WT=Ote()),WT):(t=_r,t!==0||(t=window.event,t=t===void 0?16:Bte(t.type)),t):1}function Rc(t,e,n,r){if(50<e1)throw e1=0,e4=null,Error(St(185));zS(t,n,r),(!(ir&2)||t!==Ao)&&(t===Ao&&(!(ir&2)&&(rR|=n),ho===4&&mh(t,Ho)),xs(t,r),n===1&&ir===0&&!(e.mode&1)&&(C0=Di()+500,QP&&yp()))}function xs(t,e){var n=t.callbackNode;$xe(t,e);var r=MA(t,t===Ao?Ho:0);if(r===0)n!==null&&TW(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&TW(n),e===1)t.tag===0?zbe(y7.bind(null,t)):rne(y7.bind(null,t)),Ibe(function(){!(ir&6)&&yp()}),n=null;else{switch(Lte(r)){case 1:n=Rz;break;case 4:n=Pte;break;case 16:n=SA;break;case 536870912:n=Rte;break;default:n=SA}n=tre(n,qne.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qne(t,e){if(UT=-1,WT=0,ir&6)throw Error(St(327));var n=t.callbackNode;if(Jy()&&t.callbackNode!==n)return null;var r=MA(t,t===Ao?Ho:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=UA(t,r);else{e=r;var i=ir;ir|=2;var o=Kne();(Ao!==t||Ho!==e)&&(Ef=null,C0=Di()+500,Jm(t,e));do try{a_e();break}catch(s){Yne(t,s)}while(!0);Wz(),zA.current=o,ir=i,Ji!==null?e=0:(Ao=null,Ho=0,e=ho)}if(e!==0){if(e===2&&(i=AD(t),i!==0&&(r=i,e=t4(t,i))),e===1)throw n=H1,Jm(t,0),mh(t,r),xs(t,Di()),n;if(e===6)mh(t,r);else{if(i=t.current.alternate,!(r&30)&&!i_e(i)&&(e=UA(t,r),e===2&&(o=AD(t),o!==0&&(r=o,e=t4(t,o))),e===1))throw n=H1,Jm(t,0),mh(t,r),xs(t,Di()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(St(345));case 2:mm(t,ds,Ef);break;case 3:if(mh(t,r),(r&130023424)===r&&(e=i$+500-Di(),10<e)){if(MA(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ha(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ID(mm.bind(null,t,ds,Ef),e);break}mm(t,ds,Ef);break;case 4:if(mh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Pc(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Di()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*r_e(r/1960))-r,10<r){t.timeoutHandle=ID(mm.bind(null,t,ds,Ef),r);break}mm(t,ds,Ef);break;case 5:mm(t,ds,Ef);break;default:throw Error(St(329))}}}return xs(t,Di()),t.callbackNode===n?qne.bind(null,t):null}function t4(t,e){var n=Q_;return t.current.memoizedState.isDehydrated&&(Jm(t,e).flags|=256),t=UA(t,e),t!==2&&(e=ds,ds=n,e!==null&&n4(e)),t}function n4(t){ds===null?ds=t:ds.push.apply(ds,t)}function i_e(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Lc(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mh(t,e){for(e&=~r$,e&=~rR,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pc(e),r=1<<n;t[n]=-1,e&=~r}}function y7(t){if(ir&6)throw Error(St(327));Jy();var e=MA(t,0);if(!(e&1))return xs(t,Di()),null;var n=UA(t,e);if(t.tag!==0&&n===2){var r=AD(t);r!==0&&(e=r,n=t4(t,r))}if(n===1)throw n=H1,Jm(t,0),mh(t,e),xs(t,Di()),n;if(n===6)throw Error(St(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mm(t,ds,Ef),xs(t,Di()),null}function o$(t,e){var n=ir;ir|=1;try{return t(e)}finally{ir=n,ir===0&&(C0=Di()+500,QP&&yp())}}function yg(t){Eh!==null&&Eh.tag===0&&!(ir&6)&&Jy();var e=ir;ir|=1;var n=Il.transition,r=_r;try{if(Il.transition=null,_r=1,t)return t()}finally{_r=r,Il.transition=n,ir=e,!(ir&6)&&yp()}}function a$(){Ds=Ry.current,Qr(Ry)}function Jm(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nbe(n)),Ji!==null)for(n=Ji.return;n!==null;){var r=n;switch($z(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&PA();break;case 3:T0(),Qr(vs),Qr(xa),Yz();break;case 5:qz(r);break;case 4:T0();break;case 13:Qr(ui);break;case 19:Qr(ui);break;case 10:Vz(r.type._context);break;case 22:case 23:a$()}n=n.return}if(Ao=t,Ji=t=Uh(t.current,null),Ho=Ds=e,ho=0,H1=null,r$=rR=vg=0,ds=Q_=null,Om!==null){for(e=0;e<Om.length;e++)if(n=Om[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Om=null}return t}function Yne(t,e){do{var n=Ji;try{if(Wz(),zT.current=BA,jA){for(var r=pi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jA=!1}if(gg=0,Eo=co=pi=null,Z_=!1,U1=0,n$.current=null,n===null||n.return===null){ho=1,H1=e,Ji=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ho,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=o7(a);if(h!==null){h.flags&=-257,a7(h,a,s,o,e),h.mode&1&&i7(o,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){i7(o,c,e),s$();break e}l=Error(St(426))}}else if(ri&&s.mode&1){var y=o7(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),a7(y,a,s,o,e),Fz(A0(l,s));break e}}o=l=A0(l,s),ho!==4&&(ho=2),Q_===null?Q_=[o]:Q_.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Lne(o,l,e);JW(o,g);break e;case 1:s=l;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($h===null||!$h.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=kne(o,s,e);JW(o,_);break e}}o=o.return}while(o!==null)}Jne(n)}catch(T){e=T,Ji===n&&n!==null&&(Ji=n=n.return);continue}break}while(!0)}function Kne(){var t=zA.current;return zA.current=BA,t===null?BA:t}function s$(){(ho===0||ho===3||ho===2)&&(ho=4),Ao===null||!(vg&268435455)&&!(rR&268435455)||mh(Ao,Ho)}function UA(t,e){var n=ir;ir|=2;var r=Kne();(Ao!==t||Ho!==e)&&(Ef=null,Jm(t,e));do try{o_e();break}catch(i){Yne(t,i)}while(!0);if(Wz(),ir=n,zA.current=r,Ji!==null)throw Error(St(261));return Ao=null,Ho=0,ho}function o_e(){for(;Ji!==null;)Zne(Ji)}function a_e(){for(;Ji!==null&&!Oxe();)Zne(Ji)}function Zne(t){var e=ere(t.alternate,t,Ds);t.memoizedProps=t.pendingProps,e===null?Jne(t):Ji=e,n$.current=null}function Jne(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qbe(n,e),n!==null){n.flags&=32767,Ji=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ho=6,Ji=null;return}}else if(n=Jbe(n,e,Ds),n!==null){Ji=n;return}if(e=e.sibling,e!==null){Ji=e;return}Ji=e=t}while(e!==null);ho===0&&(ho=5)}function mm(t,e,n){var r=_r,i=Il.transition;try{Il.transition=null,_r=1,s_e(t,e,n,r)}finally{Il.transition=i,_r=r}return null}function s_e(t,e,n,r){do Jy();while(Eh!==null);if(ir&6)throw Error(St(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(St(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Fxe(t,o),t===Ao&&(Ji=Ao=null,Ho=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||FE||(FE=!0,tre(SA,function(){return Jy(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Il.transition,Il.transition=null;var a=_r;_r=1;var s=ir;ir|=4,n$.current=null,t_e(t,n),Gne(n,t),Abe(kD),EA=!!LD,kD=LD=null,t.current=n,n_e(n),Lxe(),ir=s,_r=a,Il.transition=o}else t.current=n;if(FE&&(FE=!1,Eh=t,FA=i),o=t.pendingLanes,o===0&&($h=null),Ixe(n.stateNode),xs(t,Di()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($A)throw $A=!1,t=QD,QD=null,t;return FA&1&&t.tag!==0&&Jy(),o=t.pendingLanes,o&1?t===e4?e1++:(e1=0,e4=t):e1=0,yp(),null}function Jy(){if(Eh!==null){var t=Lte(FA),e=Il.transition,n=_r;try{if(Il.transition=null,_r=16>t?16:t,Eh===null)var r=!1;else{if(t=Eh,Eh=null,FA=0,ir&6)throw Error(St(331));var i=ir;for(ir|=4,Ft=t.current;Ft!==null;){var o=Ft,a=o.child;if(Ft.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Ft=c;Ft!==null;){var u=Ft;switch(u.tag){case 0:case 11:case 15:J_(8,u,o)}var f=u.child;if(f!==null)f.return=u,Ft=f;else for(;Ft!==null;){u=Ft;var d=u.sibling,h=u.return;if(Wne(u),u===c){Ft=null;break}if(d!==null){d.return=h,Ft=d;break}Ft=h}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Ft=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ft=a;else e:for(;Ft!==null;){if(o=Ft,o.flags&2048)switch(o.tag){case 0:case 11:case 15:J_(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Ft=g;break e}Ft=o.return}}var b=t.current;for(Ft=b;Ft!==null;){a=Ft;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Ft=x;else e:for(a=b;Ft!==null;){if(s=Ft,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:nR(9,s)}}catch(T){Mi(s,s.return,T)}if(s===a){Ft=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,Ft=_;break e}Ft=s.return}}if(ir=i,yp(),bu&&typeof bu.onPostCommitFiberRoot=="function")try{bu.onPostCommitFiberRoot(qP,t)}catch{}r=!0}return r}finally{_r=n,Il.transition=e}}return!1}function x7(t,e,n){e=A0(n,e),e=Lne(t,e,1),t=zh(t,e,1),e=Ha(),t!==null&&(zS(t,1,e),xs(t,e))}function Mi(t,e,n){if(t.tag===3)x7(t,t,n);else for(;e!==null;){if(e.tag===3){x7(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($h===null||!$h.has(r))){t=A0(n,t),t=kne(e,t,1),e=zh(e,t,1),t=Ha(),e!==null&&(zS(e,1,t),xs(e,t));break}}e=e.return}}function l_e(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ha(),t.pingedLanes|=t.suspendedLanes&n,Ao===t&&(Ho&n)===n&&(ho===4||ho===3&&(Ho&130023424)===Ho&&500>Di()-i$?Jm(t,0):r$|=n),xs(t,e)}function Qne(t,e){e===0&&(t.mode&1?(e=OE,OE<<=1,!(OE&130023424)&&(OE=4194304)):e=1);var n=Ha();t=ed(t,e),t!==null&&(zS(t,e,n),xs(t,n))}function c_e(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qne(t,n)}function u_e(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(St(314))}r!==null&&r.delete(e),Qne(t,n)}var ere;ere=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vs.current)gs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gs=!1,Zbe(t,e,n);gs=!!(t.flags&131072)}else gs=!1,ri&&e.flags&1048576&&ine(e,LA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;FT(t,e),t=e.pendingProps;var i=S0(e,xa.current);Zy(e,n),i=Zz(null,e,r,t,i,n);var o=Jz();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ys(r)?(o=!0,RA(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gz(e),i.updater=tR,e.stateNode=i,i._reactInternals=e,UD(e,r,t,n),e=HD(null,e,r,!0,o,n)):(e.tag=0,ri&&o&&zz(e),ja(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(FT(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=d_e(r),t=dc(r,t),i){case 0:e=VD(null,e,r,t,n);break e;case 1:e=c7(null,e,r,t,n);break e;case 11:e=s7(null,e,r,t,n);break e;case 14:e=l7(null,e,r,dc(r.type,t),n);break e}throw Error(St(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dc(r,i),VD(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dc(r,i),c7(t,e,r,i,n);case 3:e:{if(jne(e),t===null)throw Error(St(387));r=e.pendingProps,o=e.memoizedState,i=o.element,une(t,e),IA(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=A0(Error(St(423)),e),e=u7(t,e,r,n,i);break e}else if(r!==i){i=A0(Error(St(424)),e),e=u7(t,e,r,n,i);break e}else for(Us=Bh(e.stateNode.containerInfo.firstChild),Gs=e,ri=!0,xc=null,n=lne(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(M0(),r===i){e=td(t,e,n);break e}ja(t,e,r,n)}e=e.child}return e;case 5:return fne(e),t===null&&zD(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,ND(r,i)?a=null:o!==null&&ND(r,o)&&(e.flags|=32),Dne(t,e),ja(t,e,a,n),e.child;case 6:return t===null&&zD(e),null;case 13:return Bne(t,e,n);case 4:return Xz(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=E0(e,null,r,n):ja(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dc(r,i),s7(t,e,r,i,n);case 7:return ja(t,e,e.pendingProps,n),e.child;case 8:return ja(t,e,e.pendingProps.children,n),e.child;case 12:return ja(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Wr(kA,r._currentValue),r._currentValue=a,o!==null)if(Lc(o.value,a)){if(o.children===i.children&&!vs.current){e=td(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Uf(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$D(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(St(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),$D(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ja(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zy(e,n),i=Bl(i),r=r(i),e.flags|=1,ja(t,e,r,n),e.child;case 14:return r=e.type,i=dc(r,e.pendingProps),i=dc(r.type,i),l7(t,e,r,i,n);case 15:return Nne(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dc(r,i),FT(t,e),e.tag=1,ys(r)?(t=!0,RA(e)):t=!1,Zy(e,n),One(e,r,i),UD(e,r,i,n),HD(null,e,r,!0,t,n);case 19:return zne(t,e,n);case 22:return Ine(t,e,n)}throw Error(St(156,e.tag))};function tre(t,e){return Cte(t,e)}function f_e(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(t,e,n,r){return new f_e(t,e,n,r)}function l$(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d_e(t){if(typeof t=="function")return l$(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Az)return 11;if(t===Cz)return 14}return 2}function Uh(t,e){var n=t.alternate;return n===null?(n=Ol(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function VT(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")l$(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case by:return Qm(n.children,i,o,e);case Tz:a=8,i|=8;break;case dD:return t=Ol(12,n,e,i|2),t.elementType=dD,t.lanes=o,t;case hD:return t=Ol(13,n,e,i),t.elementType=hD,t.lanes=o,t;case pD:return t=Ol(19,n,e,i),t.elementType=pD,t.lanes=o,t;case fte:return iR(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cte:a=10;break e;case ute:a=9;break e;case Az:a=11;break e;case Cz:a=14;break e;case lh:a=16,r=null;break e}throw Error(St(130,t==null?t:typeof t,""))}return e=Ol(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Qm(t,e,n,r){return t=Ol(7,t,r,e),t.lanes=n,t}function iR(t,e,n,r){return t=Ol(22,t,r,e),t.elementType=fte,t.lanes=n,t.stateNode={isHidden:!1},t}function wk(t,e,n){return t=Ol(6,t,null,e),t.lanes=n,t}function Sk(t,e,n){return e=Ol(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function h_e(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rk(0),this.expirationTimes=rk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rk(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function c$(t,e,n,r,i,o,a,s,l){return t=new h_e(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ol(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gz(o),t}function p_e(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xy,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nre(t){if(!t)return Jh;t=t._reactInternals;e:{if(Vg(t)!==t||t.tag!==1)throw Error(St(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ys(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(St(171))}if(t.tag===1){var n=t.type;if(ys(n))return nne(t,n,e)}return e}function rre(t,e,n,r,i,o,a,s,l){return t=c$(n,r,!0,t,i,o,a,s,l),t.context=nre(null),n=t.current,r=Ha(),i=Fh(n),o=Uf(r,i),o.callback=e??null,zh(n,o,i),t.current.lanes=i,zS(t,i,r),xs(t,r),t}function oR(t,e,n,r){var i=e.current,o=Ha(),a=Fh(i);return n=nre(n),e.context===null?e.context=n:e.pendingContext=n,e=Uf(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zh(i,e,a),t!==null&&(Rc(t,i,a,o),BT(t,i,a)),a}function WA(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b7(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u$(t,e){b7(t,e),(t=t.alternate)&&b7(t,e)}function m_e(){return null}var ire=typeof reportError=="function"?reportError:function(t){console.error(t)};function f$(t){this._internalRoot=t}aR.prototype.render=f$.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(St(409));oR(t,e,null,null)};aR.prototype.unmount=f$.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yg(function(){oR(null,t,null,null)}),e[Qf]=null}};function aR(t){this._internalRoot=t}aR.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ite();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ph.length&&e!==0&&e<ph[n].priority;n++);ph.splice(n,0,t),n===0&&jte(t)}};function d$(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _7(){}function g_e(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=WA(a);o.call(c)}}var a=rre(e,r,t,0,null,!1,!1,"",_7);return t._reactRootContainer=a,t[Qf]=a.current,j1(t.nodeType===8?t.parentNode:t),yg(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=WA(l);s.call(c)}}var l=c$(t,0,!1,null,null,!1,!1,"",_7);return t._reactRootContainer=l,t[Qf]=l.current,j1(t.nodeType===8?t.parentNode:t),yg(function(){oR(e,l,n,r)}),l}function lR(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=WA(a);s.call(l)}}oR(e,a,t,i)}else a=g_e(n,e,t,i,r);return WA(a)}kte=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=R_(e.pendingLanes);n!==0&&(Oz(e,n|1),xs(e,Di()),!(ir&6)&&(C0=Di()+500,yp()))}break;case 13:yg(function(){var r=ed(t,1);if(r!==null){var i=Ha();Rc(r,t,1,i)}}),u$(t,1)}};Lz=function(t){if(t.tag===13){var e=ed(t,134217728);if(e!==null){var n=Ha();Rc(e,t,134217728,n)}u$(t,134217728)}};Nte=function(t){if(t.tag===13){var e=Fh(t),n=ed(t,e);if(n!==null){var r=Ha();Rc(n,t,e,r)}u$(t,e)}};Ite=function(){return _r};Dte=function(t,e){var n=_r;try{return _r=t,e()}finally{_r=n}};MD=function(t,e,n){switch(e){case"input":if(vD(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=JP(r);if(!i)throw Error(St(90));hte(r),vD(r,i)}}}break;case"textarea":mte(t,n);break;case"select":e=n.value,e!=null&&Xy(t,!!n.multiple,e,!1)}};wte=o$;Ste=yg;var v_e={usingClientEntryPoint:!1,Events:[FS,My,JP,bte,_te,o$]},Wb={findFiberByHostInstance:Rm,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y_e={bundleType:Wb.bundleType,version:Wb.version,rendererPackageName:Wb.rendererPackageName,rendererConfig:Wb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xd.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tte(t),t===null?null:t.stateNode},findFiberByHostInstance:Wb.findFiberByHostInstance||m_e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var UE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!UE.isDisabled&&UE.supportsFiber)try{qP=UE.inject(y_e),bu=UE}catch{}}nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v_e;nl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d$(e))throw Error(St(200));return p_e(t,e,null,n)};nl.createRoot=function(t,e){if(!d$(t))throw Error(St(299));var n=!1,r="",i=ire;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=c$(t,1,!1,null,null,n,!1,r,i),t[Qf]=e.current,j1(t.nodeType===8?t.parentNode:t),new f$(e)};nl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(St(188)):(t=Object.keys(t).join(","),Error(St(268,t)));return t=Tte(e),t=t===null?null:t.stateNode,t};nl.flushSync=function(t){return yg(t)};nl.hydrate=function(t,e,n){if(!sR(e))throw Error(St(200));return lR(null,t,e,!0,n)};nl.hydrateRoot=function(t,e,n){if(!d$(t))throw Error(St(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=ire;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=rre(e,null,t,1,n??null,i,!1,o,a),t[Qf]=e.current,j1(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new aR(e)};nl.render=function(t,e,n){if(!sR(e))throw Error(St(200));return lR(null,t,e,!1,n)};nl.unmountComponentAtNode=function(t){if(!sR(t))throw Error(St(40));return t._reactRootContainer?(yg(function(){lR(null,null,t,!1,function(){t._reactRootContainer=null,t[Qf]=null})}),!0):!1};nl.unstable_batchedUpdates=o$;nl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sR(n))throw Error(St(200));if(t==null||t._reactInternals===void 0)throw Error(St(38));return lR(t,e,n,!1,r)};nl.version="18.3.1-next-f1338f8080-20240426";function ore(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ore)}catch(t){console.error(t)}}ore(),ote.exports=nl;var Ll=ote.exports;const are=yn(Ll);var sre,w7=Ll;sre=w7.createRoot,w7.hydrateRoot;const x_e=1,b_e=1e6;let Mk=0;function __e(){return Mk=(Mk+1)%Number.MAX_SAFE_INTEGER,Mk.toString()}const Ek=new Map,S7=t=>{if(Ek.has(t))return;const e=setTimeout(()=>{Ek.delete(t),t1({type:"REMOVE_TOAST",toastId:t})},b_e);Ek.set(t,e)},w_e=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,x_e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?S7(n):t.toasts.forEach(r=>{S7(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},HT=[];let GT={toasts:[]};function t1(t){GT=w_e(GT,t),HT.forEach(e=>{e(GT)})}function S_e({...t}){const e=__e(),n=i=>t1({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>t1({type:"DISMISS_TOAST",toastId:e});return t1({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function cR(){const[t,e]=A.useState(GT);return A.useEffect(()=>(HT.push(e),()=>{const n=HT.indexOf(e);n>-1&&HT.splice(n,1)}),[t]),{...t,toast:S_e,dismiss:n=>t1({type:"DISMISS_TOAST",toastId:n})}}function $n(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function M7(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nu(...t){return e=>{let n=!1;const r=t.map(i=>{const o=M7(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():M7(t[i],null)}}}}function Sr(...t){return A.useCallback(Nu(...t),t)}function M_e(t,e){const n=A.createContext(e),r=o=>{const{children:a,...s}=o,l=A.useMemo(()=>s,Object.values(s));return S.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(o){const a=A.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function xp(t,e=[]){let n=[];function r(o,a){const s=A.createContext(a),l=n.length;n=[...n,a];const c=f=>{var g;const{scope:d,children:h,...m}=f,v=((g=d==null?void 0:d[t])==null?void 0:g[l])||s,y=A.useMemo(()=>m,Object.values(m));return S.jsx(v.Provider,{value:y,children:h})};c.displayName=o+"Provider";function u(f,d){var v;const h=((v=d==null?void 0:d[t])==null?void 0:v[l])||s,m=A.useContext(h);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>A.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return A.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,E_e(i,...e)]}function E_e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function E7(t){const e=T_e(t),n=A.forwardRef((r,i)=>{const{children:o,...a}=r,s=A.Children.toArray(o),l=s.find(C_e);if(l){const c=l.props.children,u=s.map(f=>f===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:f);return S.jsx(e,{...a,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,u):null})}return S.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function T_e(t){const e=A.forwardRef((n,r)=>{const{children:i,...o}=n;if(A.isValidElement(i)){const a=R_e(i),s=P_e(o,i.props);return i.type!==A.Fragment&&(s.ref=r?Nu(r,a):a),A.cloneElement(i,s)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var A_e=Symbol("radix.slottable");function C_e(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===A_e}function P_e(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function R_e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function lre(t){const e=t+"CollectionProvider",[n,r]=xp(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:y,children:g}=v,b=de.useRef(null),x=de.useRef(new Map).current;return S.jsx(i,{scope:y,itemMap:x,collectionRef:b,children:g})};a.displayName=e;const s=t+"CollectionSlot",l=E7(s),c=de.forwardRef((v,y)=>{const{scope:g,children:b}=v,x=o(s,g),_=Sr(y,x.collectionRef);return S.jsx(l,{ref:_,children:b})});c.displayName=s;const u=t+"CollectionItemSlot",f="data-radix-collection-item",d=E7(u),h=de.forwardRef((v,y)=>{const{scope:g,children:b,...x}=v,_=de.useRef(null),T=Sr(y,_),C=o(u,g);return de.useEffect(()=>(C.itemMap.set(_,{ref:_,...x}),()=>void C.itemMap.delete(_))),S.jsx(d,{[f]:"",ref:T,children:b})});h.displayName=u;function m(v){const y=o(t+"CollectionConsumer",v);return de.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,P)=>x.indexOf(C.ref.current)-x.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},m,r]}function O_e(t){const e=L_e(t),n=A.forwardRef((r,i)=>{const{children:o,...a}=r,s=A.Children.toArray(o),l=s.find(N_e);if(l){const c=l.props.children,u=s.map(f=>f===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:f);return S.jsx(e,{...a,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,u):null})}return S.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function L_e(t){const e=A.forwardRef((n,r)=>{const{children:i,...o}=n;if(A.isValidElement(i)){const a=D_e(i),s=I_e(o,i.props);return i.type!==A.Fragment&&(s.ref=r?Nu(r,a):a),A.cloneElement(i,s)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var k_e=Symbol("radix.slottable");function N_e(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===k_e}function I_e(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function D_e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var j_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jn=j_e.reduce((t,e)=>{const n=O_e(`Primitive.${e}`),r=A.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function cre(t,e){t&&Ll.flushSync(()=>t.dispatchEvent(e))}function Uo(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function B_e(t,e=globalThis==null?void 0:globalThis.document){const n=Uo(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var z_e="DismissableLayer",r4="dismissableLayer.update",$_e="dismissableLayer.pointerDownOutside",F_e="dismissableLayer.focusOutside",T7,ure=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uR=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=A.useContext(ure),[u,f]=A.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=A.useState({}),m=Sr(e,P=>f(P)),v=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(y),b=u?v.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=g,T=W_e(P=>{const I=P.target,O=[...c.branches].some(N=>N.contains(I));!_||O||(i==null||i(P),a==null||a(P),P.defaultPrevented||s==null||s())},d),C=V_e(P=>{const I=P.target;[...c.branches].some(N=>N.contains(I))||(o==null||o(P),a==null||a(P),P.defaultPrevented||s==null||s())},d);return B_e(P=>{b===c.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&s&&(P.preventDefault(),s()))},d),A.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(T7=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),A7(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=T7)}},[u,d,n,c]),A.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),A7())},[u,c]),A.useEffect(()=>{const P=()=>h({});return document.addEventListener(r4,P),()=>document.removeEventListener(r4,P)},[]),S.jsx(jn.div,{...l,ref:m,style:{pointerEvents:x?_?"auto":"none":void 0,...t.style},onFocusCapture:$n(t.onFocusCapture,C.onFocusCapture),onBlurCapture:$n(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:$n(t.onPointerDownCapture,T.onPointerDownCapture)})});uR.displayName=z_e;var U_e="DismissableLayerBranch",fre=A.forwardRef((t,e)=>{const n=A.useContext(ure),r=A.useRef(null),i=Sr(e,r);return A.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),S.jsx(jn.div,{...t,ref:i})});fre.displayName=U_e;function W_e(t,e=globalThis==null?void 0:globalThis.document){const n=Uo(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){dre($_e,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function V_e(t,e=globalThis==null?void 0:globalThis.document){const n=Uo(t),r=A.useRef(!1);return A.useEffect(()=>{const i=o=>{o.target&&!r.current&&dre(F_e,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function A7(){const t=new CustomEvent(r4);document.dispatchEvent(t)}function dre(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?cre(i,o):i.dispatchEvent(o)}var H_e=uR,G_e=fre,Iu=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},X_e="Portal",h$=A.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=A.useState(!1);Iu(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?are.createPortal(S.jsx(jn.div,{...r,ref:e}),a):null});h$.displayName=X_e;function q_e(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var Hu=t=>{const{present:e,children:n}=t,r=Y_e(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),o=Sr(r.ref,K_e(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:o}):null};Hu.displayName="Presence";function Y_e(t){const[e,n]=A.useState(),r=A.useRef(null),i=A.useRef(t),o=A.useRef("none"),a=t?"mounted":"unmounted",[s,l]=q_e(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=WE(r.current);o.current=s==="mounted"?c:"none"},[s]),Iu(()=>{const c=r.current,u=i.current;if(u!==t){const d=o.current,h=WE(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Iu(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=h=>{const v=WE(r.current).includes(CSS.escape(h.animationName));if(h.target===e&&v&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},d=h=>{h.target===e&&(o.current=WE(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:A.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function WE(t){return(t==null?void 0:t.animationName)||"none"}function K_e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Z_e=XP[" useInsertionEffect ".trim().toString()]||Iu;function fR({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=J_e({defaultProp:e,onChange:n}),s=t!==void 0,l=s?t:i;{const u=A.useRef(t!==void 0);A.useEffect(()=>{const f=u.current;f!==s&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,r])}const c=A.useCallback(u=>{var f;if(s){const d=Q_e(u)?u(t):u;d!==t&&((f=a.current)==null||f.call(a,d))}else o(u)},[s,t,o,a]);return[l,c]}function J_e({defaultProp:t,onChange:e}){const[n,r]=A.useState(t),i=A.useRef(n),o=A.useRef(e);return Z_e(()=>{o.current=e},[e]),A.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function Q_e(t){return typeof t=="function"}var e1e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),t1e="VisuallyHidden",dR=A.forwardRef((t,e)=>S.jsx(jn.span,{...t,ref:e,style:{...e1e,...t.style}}));dR.displayName=t1e;var n1e=dR,p$="ToastProvider",[m$,r1e,i1e]=lre("Toast"),[hre]=xp("Toast",[i1e]),[o1e,hR]=hre(p$),pre=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=t,[s,l]=A.useState(null),[c,u]=A.useState(0),f=A.useRef(!1),d=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${p$}\`. Expected non-empty \`string\`.`),S.jsx(m$.Provider,{scope:e,children:S.jsx(o1e,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:A.useCallback(()=>u(h=>h+1),[]),onToastRemove:A.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:a})})};pre.displayName=p$;var mre="ToastViewport",a1e=["F8"],i4="toast.viewportPause",o4="toast.viewportResume",gre=A.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=a1e,label:i="Notifications ({hotkey})",...o}=t,a=hR(mre,n),s=r1e(n),l=A.useRef(null),c=A.useRef(null),u=A.useRef(null),f=A.useRef(null),d=Sr(e,f,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=a.toastCount>0;A.useEffect(()=>{const y=g=>{var x;r.length!==0&&r.every(_=>g[_]||g.code===_)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),A.useEffect(()=>{const y=l.current,g=f.current;if(m&&y&&g){const b=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(i4);g.dispatchEvent(C),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(o4);g.dispatchEvent(C),a.isClosePausedRef.current=!1}},_=C=>{!y.contains(C.relatedTarget)&&x()},T=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",b),y.addEventListener("focusout",_),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[m,a.isClosePausedRef]);const v=A.useCallback(({tabbingDirection:y})=>{const b=s().map(x=>{const _=x.ref.current,T=[_,...x1e(_)];return y==="forwards"?T:T.reverse()});return(y==="forwards"?b.reverse():b).flat()},[s]);return A.useEffect(()=>{const y=f.current;if(y){const g=b=>{var T,C,P;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const I=document.activeElement,O=b.shiftKey;if(b.target===y&&O){(T=c.current)==null||T.focus();return}const U=v({tabbingDirection:O?"backwards":"forwards"}),V=U.findIndex(z=>z===I);Tk(U.slice(V+1))?b.preventDefault():O?(C=c.current)==null||C.focus():(P=u.current)==null||P.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[s,v]),S.jsxs(G_e,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&S.jsx(a4,{ref:c,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Tk(y)}}),S.jsx(m$.Slot,{scope:n,children:S.jsx(jn.ol,{tabIndex:-1,...o,ref:d})}),m&&S.jsx(a4,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Tk(y)}})]})});gre.displayName=mre;var vre="ToastFocusProxy",a4=A.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=hR(vre,n);return S.jsx(dR,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const s=a.relatedTarget;!((c=o.viewport)!=null&&c.contains(s))&&r()}})});a4.displayName=vre;var WS="Toast",s1e="toast.swipeStart",l1e="toast.swipeMove",c1e="toast.swipeCancel",u1e="toast.swipeEnd",yre=A.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=t,[s,l]=fR({prop:r,defaultProp:i??!0,onChange:o,caller:WS});return S.jsx(Hu,{present:n||s,children:S.jsx(h1e,{open:s,...a,ref:e,onClose:()=>l(!1),onPause:Uo(t.onPause),onResume:Uo(t.onResume),onSwipeStart:$n(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$n(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:$n(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$n(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});yre.displayName=WS;var[f1e,d1e]=hre(WS,{onClose(){}}),h1e=A.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...m}=t,v=hR(WS,n),[y,g]=A.useState(null),b=Sr(e,z=>g(z)),x=A.useRef(null),_=A.useRef(null),T=i||v.duration,C=A.useRef(0),P=A.useRef(T),I=A.useRef(0),{onToastAdd:O,onToastRemove:N}=v,D=Uo(()=>{var F;(y==null?void 0:y.contains(document.activeElement))&&((F=v.viewport)==null||F.focus()),a()}),U=A.useCallback(z=>{!z||z===1/0||(window.clearTimeout(I.current),C.current=new Date().getTime(),I.current=window.setTimeout(D,z))},[D]);A.useEffect(()=>{const z=v.viewport;if(z){const F=()=>{U(P.current),c==null||c()},W=()=>{const X=new Date().getTime()-C.current;P.current=P.current-X,window.clearTimeout(I.current),l==null||l()};return z.addEventListener(i4,W),z.addEventListener(o4,F),()=>{z.removeEventListener(i4,W),z.removeEventListener(o4,F)}}},[v.viewport,T,l,c,U]),A.useEffect(()=>{o&&!v.isClosePausedRef.current&&U(T)},[o,T,v.isClosePausedRef,U]),A.useEffect(()=>(O(),()=>N()),[O,N]);const V=A.useMemo(()=>y?Ere(y):null,[y]);return v.viewport?S.jsxs(S.Fragment,{children:[V&&S.jsx(p1e,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:V}),S.jsx(f1e,{scope:n,onClose:D,children:Ll.createPortal(S.jsx(m$.ItemSlot,{scope:n,children:S.jsx(H_e,{asChild:!0,onEscapeKeyDown:$n(s,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(jn.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...m,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:$n(t.onKeyDown,z=>{z.key==="Escape"&&(s==null||s(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:$n(t.onPointerDown,z=>{z.button===0&&(x.current={x:z.clientX,y:z.clientY})}),onPointerMove:$n(t.onPointerMove,z=>{if(!x.current)return;const F=z.clientX-x.current.x,W=z.clientY-x.current.y,X=!!_.current,B=["left","right"].includes(v.swipeDirection),G=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,q=B?G(0,F):0,te=B?0:G(0,W),Y=z.pointerType==="touch"?10:2,J={x:q,y:te},re={originalEvent:z,delta:J};X?(_.current=J,VE(l1e,f,re,{discrete:!1})):C7(J,v.swipeDirection,Y)?(_.current=J,VE(s1e,u,re,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(F)>Y||Math.abs(W)>Y)&&(x.current=null)}),onPointerUp:$n(t.onPointerUp,z=>{const F=_.current,W=z.target;if(W.hasPointerCapture(z.pointerId)&&W.releasePointerCapture(z.pointerId),_.current=null,x.current=null,F){const X=z.currentTarget,B={originalEvent:z,delta:F};C7(F,v.swipeDirection,v.swipeThreshold)?VE(u1e,h,B,{discrete:!0}):VE(c1e,d,B,{discrete:!0}),X.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),p1e=t=>{const{__scopeToast:e,children:n,...r}=t,i=hR(WS,e),[o,a]=A.useState(!1),[s,l]=A.useState(!1);return v1e(()=>a(!0)),A.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:S.jsx(h$,{asChild:!0,children:S.jsx(dR,{...r,children:o&&S.jsxs(S.Fragment,{children:[i.label," ",n]})})})},m1e="ToastTitle",xre=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(jn.div,{...r,ref:e})});xre.displayName=m1e;var g1e="ToastDescription",bre=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(jn.div,{...r,ref:e})});bre.displayName=g1e;var _re="ToastAction",wre=A.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?S.jsx(Mre,{altText:n,asChild:!0,children:S.jsx(g$,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_re}\`. Expected non-empty \`string\`.`),null)});wre.displayName=_re;var Sre="ToastClose",g$=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=d1e(Sre,n);return S.jsx(Mre,{asChild:!0,children:S.jsx(jn.button,{type:"button",...r,ref:e,onClick:$n(t.onClick,i.onClose)})})});g$.displayName=Sre;var Mre=A.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return S.jsx(jn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Ere(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),y1e(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Ere(r))}}),e}function VE(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?cre(i,o):i.dispatchEvent(o)}var C7=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function v1e(t=()=>{}){const e=Uo(t);Iu(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function y1e(t){return t.nodeType===t.ELEMENT_NODE}function x1e(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Tk(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var b1e=pre,Tre=gre,Are=yre,Cre=xre,Pre=bre,Rre=wre,Ore=g$;function Lre(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Lre(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function er(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Lre(t))&&(r&&(r+=" "),r+=e);return r}const P7=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,R7=er,VS=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return R7(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const d=P7(u)||P7(f);return i[c][d]}),s=n&&Object.entries(n).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(m=>{let[v,y]=m;return Array.isArray(y)?y.includes({...o,...s}[v]):{...o,...s}[v]===y})?[...c,f,d]:c},[]);return R7(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kre=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w1e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1e=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>A.createElement("svg",{ref:l,...w1e,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kre("lucide",i),...s},[...a.map(([c,u])=>A.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(t,e)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(S1e,{ref:o,iconNode:e,className:kre(`lucide-${_1e(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=rn("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=rn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1e=rn("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=rn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1e=rn("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1e=rn("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1e=rn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=rn("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=rn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1e=rn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=rn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1e=rn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1e=rn("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1e=rn("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=rn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1e=rn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1e=rn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1e=rn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1e=rn("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1e=rn("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1e=rn("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=rn("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1e=rn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1e=rn("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1e=rn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=rn("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=rn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1e=rn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=rn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=rn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1e=rn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1e=rn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1e=rn("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1e=rn("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1e=rn("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1e=rn("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1e=rn("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1e=rn("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=rn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1e=rn("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1e=rn("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=rn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1e=rn("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=rn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=rn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=rn("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1e=rn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ewe=rn("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const twe=rn("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=rn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=rn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=rn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=rn("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),b$="-",nwe=t=>{const e=iwe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(b$);return s[0]===""&&s.length!==1&&s.shift(),$re(s,e)||rwe(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},$re=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?$re(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(b$);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},k7=/^\[(.+)\]$/,rwe=t=>{if(k7.test(t)){const e=k7.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},iwe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return awe(Object.entries(t.classGroups),n).forEach(([o,a])=>{l4(a,r,o,e)}),r},l4=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:N7(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(owe(i)){l4(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{l4(a,N7(e,o),n,r)})})},N7=(t,e)=>{let n=t;return e.split(b$).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},owe=t=>t.isThemeGetter,awe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,swe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},Fre="!",lwe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,u=0,f;for(let y=0;y<s.length;y++){let g=s[y];if(c===0){if(g===i&&(r||s.slice(y,y+o)===e)){l.push(s.slice(u,y)),u=y+o;continue}if(g==="/"){f=y;continue}}g==="["?c++:g==="]"&&c--}const d=l.length===0?s:s.substring(u),h=d.startsWith(Fre),m=h?d.substring(1):d,v=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:v}};return n?s=>n({className:s,parseClassName:a}):a},cwe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},uwe=t=>({cache:swe(t.cacheSize),parseClassName:lwe(t),...nwe(t)}),fwe=/\s+/,dwe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(fwe);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(c);let m=!!h,v=r(m?d.substring(0,h):d);if(!v){if(!m){s=c+(s.length>0?" "+s:s);continue}if(v=r(d),!v){s=c+(s.length>0?" "+s:s);continue}m=!1}const y=cwe(u).join(":"),g=f?y+Fre:y,b=g+v;if(o.includes(b))continue;o.push(b);const x=i(v,m);for(let _=0;_<x.length;++_){const T=x[_];o.push(g+T)}s=c+(s.length>0?" "+s:s)}return s};function hwe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ure(e))&&(r&&(r+=" "),r+=n);return r}const Ure=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ure(t[r]))&&(n&&(n+=" "),n+=e);return n};function pwe(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((u,f)=>f(u),t());return n=uwe(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=dwe(l,n);return i(l,u),u}return function(){return o(hwe.apply(null,arguments))}}const Xr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Wre=/^\[(?:([a-z-]+):)?(.+)\]$/i,mwe=/^\d+\/\d+$/,gwe=new Set(["px","full","screen"]),vwe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ywe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xwe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bwe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_we=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pf=t=>Qy(t)||gwe.has(t)||mwe.test(t),Gd=t=>Tx(t,"length",Pwe),Qy=t=>!!t&&!Number.isNaN(Number(t)),Ak=t=>Tx(t,"number",Qy),Vb=t=>!!t&&Number.isInteger(Number(t)),wwe=t=>t.endsWith("%")&&Qy(t.slice(0,-1)),An=t=>Wre.test(t),Xd=t=>vwe.test(t),Swe=new Set(["length","size","percentage"]),Mwe=t=>Tx(t,Swe,Vre),Ewe=t=>Tx(t,"position",Vre),Twe=new Set(["image","url"]),Awe=t=>Tx(t,Twe,Owe),Cwe=t=>Tx(t,"",Rwe),Hb=()=>!0,Tx=(t,e,n)=>{const r=Wre.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Pwe=t=>ywe.test(t)&&!xwe.test(t),Vre=()=>!1,Rwe=t=>bwe.test(t),Owe=t=>_we.test(t),Lwe=()=>{const t=Xr("colors"),e=Xr("spacing"),n=Xr("blur"),r=Xr("brightness"),i=Xr("borderColor"),o=Xr("borderRadius"),a=Xr("borderSpacing"),s=Xr("borderWidth"),l=Xr("contrast"),c=Xr("grayscale"),u=Xr("hueRotate"),f=Xr("invert"),d=Xr("gap"),h=Xr("gradientColorStops"),m=Xr("gradientColorStopPositions"),v=Xr("inset"),y=Xr("margin"),g=Xr("opacity"),b=Xr("padding"),x=Xr("saturate"),_=Xr("scale"),T=Xr("sepia"),C=Xr("skew"),P=Xr("space"),I=Xr("translate"),O=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",An,e],U=()=>[An,e],V=()=>["",pf,Gd],z=()=>["auto",Qy,An],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",An],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Qy,An];return{cacheSize:500,separator:":",theme:{colors:[Hb],spacing:[pf,Gd],blur:["none","",Xd,An],brightness:te(),borderColor:[t],borderRadius:["none","","full",Xd,An],borderSpacing:U(),borderWidth:V(),contrast:te(),grayscale:G(),hueRotate:te(),invert:G(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[wwe,Gd],inset:D(),margin:D(),opacity:te(),padding:U(),saturate:te(),scale:te(),sepia:G(),skew:te(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",An]}],container:["container"],columns:[{columns:[Xd]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),An]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vb,An]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",An]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Vb,An]}],"grid-cols":[{"grid-cols":[Hb]}],"col-start-end":[{col:["auto",{span:["full",Vb,An]},An]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Hb]}],"row-start-end":[{row:["auto",{span:[Vb,An]},An]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",An]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",An]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",An,e]}],"min-w":[{"min-w":[An,e,"min","max","fit"]}],"max-w":[{"max-w":[An,e,"none","full","min","max","fit","prose",{screen:[Xd]},Xd]}],h:[{h:[An,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[An,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[An,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[An,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xd,Gd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ak]}],"font-family":[{font:[Hb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",An]}],"line-clamp":[{"line-clamp":["none",Qy,Ak]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pf,An]}],"list-image":[{"list-image":["none",An]}],"list-style-type":[{list:["none","disc","decimal",An]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pf,Gd]}],"underline-offset":[{"underline-offset":["auto",pf,An]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",An]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",An]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Ewe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mwe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Awe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[pf,An]}],"outline-w":[{outline:[pf,Gd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[pf,Gd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xd,Cwe]}],"shadow-color":[{shadow:[Hb]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xd,An]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",An]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",An]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",An]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Vb,An]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",An]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",An]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",An]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pf,Gd,Ak]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kwe=pwe(Lwe);function Zn(...t){return kwe(er(t))}const Nwe=b1e,Hre=A.forwardRef(({className:t,...e},n)=>S.jsx(Tre,{ref:n,className:Zn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Hre.displayName=Tre.displayName;const Iwe=VS("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Gre=A.forwardRef(({className:t,variant:e,...n},r)=>S.jsx(Are,{ref:r,className:Zn(Iwe({variant:e}),t),...n}));Gre.displayName=Are.displayName;const Dwe=A.forwardRef(({className:t,...e},n)=>S.jsx(Rre,{ref:n,className:Zn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Dwe.displayName=Rre.displayName;const Xre=A.forwardRef(({className:t,...e},n)=>S.jsx(Ore,{ref:n,className:Zn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:S.jsx(x$,{className:"h-4 w-4"})}));Xre.displayName=Ore.displayName;const qre=A.forwardRef(({className:t,...e},n)=>S.jsx(Cre,{ref:n,className:Zn("text-sm font-semibold",t),...e}));qre.displayName=Cre.displayName;const Yre=A.forwardRef(({className:t,...e},n)=>S.jsx(Pre,{ref:n,className:Zn("text-sm opacity-90",t),...e}));Yre.displayName=Pre.displayName;function jwe(){const{toasts:t}=cR();return S.jsxs(Nwe,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return S.jsxs(Gre,{...o,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(qre,{children:n}),r&&S.jsx(Yre,{children:r})]}),i,S.jsx(Xre,{})]},e)}),S.jsx(Hre,{})]})}var I7=["light","dark"],Bwe="(prefers-color-scheme: dark)",zwe=A.createContext(void 0),$we={setTheme:t=>{},themes:[]},Fwe=()=>{var t;return(t=A.useContext(zwe))!=null?t:$we};A.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:s,nonce:l})=>{let c=o==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?I7.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(m,v=!1,y=!0)=>{let g=a?a[m]:m,b=v?m+"|| ''":`'${g}'`,x="";return i&&y&&!v&&I7.includes(m)&&(x+=`d.style.colorScheme = '${m}';`),n==="class"?v||g?x+=`c.add(${b})`:x+="null":g&&(x+=`d[s](n,${b})`),x},h=t?`!function(){${u}${d(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Bwe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${d(a?"x[e]":"e",!0)}}${c?"":"else{"+d(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${d(a?"x[e]":"e",!0)}}else{${d(o,!1,!1)};}${f}}catch(t){}}();`;return A.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var Uwe=t=>{switch(t){case"success":return Hwe;case"info":return Xwe;case"warning":return Gwe;case"error":return qwe;default:return null}},Wwe=Array(12).fill(0),Vwe=({visible:t,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},de.createElement("div",{className:"sonner-spinner"},Wwe.map((n,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Hwe=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Gwe=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Xwe=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qwe=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ywe=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Kwe=()=>{let[t,e]=de.useState(document.hidden);return de.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},c4=1,Zwe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:c4++,o=this.toasts.find(s=>s.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:n}),{...s,...t,id:i,dismissible:a,title:n}):s):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,o,a=r.then(async l=>{if(o=["resolve",l],de.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(Qwe(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),s=()=>new Promise((l,c)=>a.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||c4++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cs=new Zwe,Jwe=(t,e)=>{let n=(e==null?void 0:e.id)||c4++;return cs.addToast({title:t,...e,id:n}),n},Qwe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",eSe=Jwe,tSe=()=>cs.toasts,nSe=()=>cs.getActiveToasts();Object.assign(eSe,{success:cs.success,info:cs.info,warning:cs.warning,error:cs.error,custom:cs.custom,message:cs.message,promise:cs.promise,dismiss:cs.dismiss,loading:cs.loading},{getHistory:tSe,getToasts:nSe});function rSe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}rSe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function HE(t){return t.label!==void 0}var iSe=3,oSe="32px",aSe="16px",D7=4e3,sSe=356,lSe=14,cSe=20,uSe=200;function ic(...t){return t.filter(Boolean).join(" ")}function fSe(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var dSe=t=>{var e,n,r,i,o,a,s,l,c,u,f;let{invert:d,toast:h,unstyled:m,interacting:v,setHeights:y,visibleToasts:g,heights:b,index:x,toasts:_,expanded:T,removeToast:C,defaultRichColors:P,closeButton:I,style:O,cancelButtonStyle:N,actionButtonStyle:D,className:U="",descriptionClassName:V="",duration:z,position:F,gap:W,loadingIcon:X,expandByDefault:B,classNames:G,icons:q,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:Y}=t,[J,re]=de.useState(null),[oe,pe]=de.useState(null),[fe,we]=de.useState(!1),[ge,xe]=de.useState(!1),[Te,ee]=de.useState(!1),[Ce,ae]=de.useState(!1),[be,_e]=de.useState(!1),[He,Ve]=de.useState(0),[ne,Q]=de.useState(0),ve=de.useRef(h.duration||z||D7),Se=de.useRef(null),Le=de.useRef(null),Ie=x===0,Ke=x+1<=g,Ne=h.type,Ye=h.dismissible!==!1,et=h.className||"",vt=h.descriptionClassName||"",ke=de.useMemo(()=>b.findIndex(De=>De.toastId===h.id)||0,[b,h.id]),Ze=de.useMemo(()=>{var De;return(De=h.closeButton)!=null?De:I},[h.closeButton,I]),at=de.useMemo(()=>h.duration||z||D7,[h.duration,z]),pt=de.useRef(0),me=de.useRef(0),Ae=de.useRef(0),le=de.useRef(null),[Ee,Ue]=F.split("-"),We=de.useMemo(()=>b.reduce((De,st,mt)=>mt>=ke?De:De+st.height,0),[b,ke]),ze=Kwe(),ce=h.invert||d,Re=Ne==="loading";me.current=de.useMemo(()=>ke*W+We,[ke,We]),de.useEffect(()=>{ve.current=at},[at]),de.useEffect(()=>{we(!0)},[]),de.useEffect(()=>{let De=Le.current;if(De){let st=De.getBoundingClientRect().height;return Q(st),y(mt=>[{toastId:h.id,height:st,position:h.position},...mt]),()=>y(mt=>mt.filter(rt=>rt.toastId!==h.id))}},[y,h.id]),de.useLayoutEffect(()=>{if(!fe)return;let De=Le.current,st=De.style.height;De.style.height="auto";let mt=De.getBoundingClientRect().height;De.style.height=st,Q(mt),y(rt=>rt.find(it=>it.toastId===h.id)?rt.map(it=>it.toastId===h.id?{...it,height:mt}:it):[{toastId:h.id,height:mt,position:h.position},...rt])},[fe,h.title,h.description,y,h.id]);let Xe=de.useCallback(()=>{xe(!0),Ve(me.current),y(De=>De.filter(st=>st.toastId!==h.id)),setTimeout(()=>{C(h)},uSe)},[h,C,y,me]);de.useEffect(()=>{if(h.promise&&Ne==="loading"||h.duration===1/0||h.type==="loading")return;let De;return T||v||Y&&ze?(()=>{if(Ae.current<pt.current){let st=new Date().getTime()-pt.current;ve.current=ve.current-st}Ae.current=new Date().getTime()})():ve.current!==1/0&&(pt.current=new Date().getTime(),De=setTimeout(()=>{var st;(st=h.onAutoClose)==null||st.call(h,h),Xe()},ve.current)),()=>clearTimeout(De)},[T,v,h,Ne,Y,ze,Xe]),de.useEffect(()=>{h.delete&&Xe()},[Xe,h.delete]);function ct(){var De,st,mt;return q!=null&&q.loading?de.createElement("div",{className:ic(G==null?void 0:G.loader,(De=h==null?void 0:h.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":Ne==="loading"},q.loading):X?de.createElement("div",{className:ic(G==null?void 0:G.loader,(st=h==null?void 0:h.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Ne==="loading"},X):de.createElement(Vwe,{className:ic(G==null?void 0:G.loader,(mt=h==null?void 0:h.classNames)==null?void 0:mt.loader),visible:Ne==="loading"})}return de.createElement("li",{tabIndex:0,ref:Le,className:ic(U,et,G==null?void 0:G.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,G==null?void 0:G.default,G==null?void 0:G[Ne],(n=h==null?void 0:h.classNames)==null?void 0:n[Ne]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:P,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":fe,"data-promise":!!h.promise,"data-swiped":be,"data-removed":ge,"data-visible":Ke,"data-y-position":Ee,"data-x-position":Ue,"data-index":x,"data-front":Ie,"data-swiping":Te,"data-dismissible":Ye,"data-type":Ne,"data-invert":ce,"data-swipe-out":Ce,"data-swipe-direction":oe,"data-expanded":!!(T||B&&fe),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${ge?He:me.current}px`,"--initial-height":B?"auto":`${ne}px`,...O,...h.style},onDragEnd:()=>{ee(!1),re(null),le.current=null},onPointerDown:De=>{Re||!Ye||(Se.current=new Date,Ve(me.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(ee(!0),le.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,st,mt,rt;if(Ce||!Ye)return;le.current=null;let it=Number(((De=Le.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),nt=Number(((st=Le.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pt=new Date().getTime()-((mt=Se.current)==null?void 0:mt.getTime()),Rt=J==="x"?it:nt,Xt=Math.abs(Rt)/Pt;if(Math.abs(Rt)>=cSe||Xt>.11){Ve(me.current),(rt=h.onDismiss)==null||rt.call(h,h),pe(J==="x"?it>0?"right":"left":nt>0?"down":"up"),Xe(),ae(!0),_e(!1);return}ee(!1),re(null)},onPointerMove:De=>{var st,mt,rt,it;if(!le.current||!Ye||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;let nt=De.clientY-le.current.y,Pt=De.clientX-le.current.x,Rt=(mt=t.swipeDirections)!=null?mt:fSe(F);!J&&(Math.abs(Pt)>1||Math.abs(nt)>1)&&re(Math.abs(Pt)>Math.abs(nt)?"x":"y");let Xt={x:0,y:0};J==="y"?(Rt.includes("top")||Rt.includes("bottom"))&&(Rt.includes("top")&&nt<0||Rt.includes("bottom")&&nt>0)&&(Xt.y=nt):J==="x"&&(Rt.includes("left")||Rt.includes("right"))&&(Rt.includes("left")&&Pt<0||Rt.includes("right")&&Pt>0)&&(Xt.x=Pt),(Math.abs(Xt.x)>0||Math.abs(Xt.y)>0)&&_e(!0),(rt=Le.current)==null||rt.style.setProperty("--swipe-amount-x",`${Xt.x}px`),(it=Le.current)==null||it.style.setProperty("--swipe-amount-y",`${Xt.y}px`)}},Ze&&!h.jsx?de.createElement("button",{"aria-label":te,"data-disabled":Re,"data-close-button":!0,onClick:Re||!Ye?()=>{}:()=>{var De;Xe(),(De=h.onDismiss)==null||De.call(h,h)},className:ic(G==null?void 0:G.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(o=q==null?void 0:q.close)!=null?o:Ywe):null,h.jsx||A.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:de.createElement(de.Fragment,null,Ne||h.icon||h.promise?de.createElement("div",{"data-icon":"",className:ic(G==null?void 0:G.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ct():null,h.type!=="loading"?h.icon||(q==null?void 0:q[Ne])||Uwe(Ne):null):null,de.createElement("div",{"data-content":"",className:ic(G==null?void 0:G.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},de.createElement("div",{"data-title":"",className:ic(G==null?void 0:G.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?de.createElement("div",{"data-description":"",className:ic(V,vt,G==null?void 0:G.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),A.isValidElement(h.cancel)?h.cancel:h.cancel&&HE(h.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:De=>{var st,mt;HE(h.cancel)&&Ye&&((mt=(st=h.cancel).onClick)==null||mt.call(st,De),Xe())},className:ic(G==null?void 0:G.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,A.isValidElement(h.action)?h.action:h.action&&HE(h.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:De=>{var st,mt;HE(h.action)&&((mt=(st=h.action).onClick)==null||mt.call(st,De),!De.defaultPrevented&&Xe())},className:ic(G==null?void 0:G.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function j7(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function hSe(t,e){let n={};return[t,e].forEach((r,i)=>{let o=i===1,a=o?"--mobile-offset":"--offset",s=o?aSe:oSe;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=s:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(s)}),n}var pSe=A.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:s,offset:l,mobileOffset:c,theme:u="light",richColors:f,duration:d,style:h,visibleToasts:m=iSe,toastOptions:v,dir:y=j7(),gap:g=lSe,loadingIcon:b,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:T}=t,[C,P]=de.useState([]),I=de.useMemo(()=>Array.from(new Set([r].concat(C.filter(Y=>Y.position).map(Y=>Y.position)))),[C,r]),[O,N]=de.useState([]),[D,U]=de.useState(!1),[V,z]=de.useState(!1),[F,W]=de.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=de.useRef(null),B=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=de.useRef(null),q=de.useRef(!1),te=de.useCallback(Y=>{P(J=>{var re;return(re=J.find(oe=>oe.id===Y.id))!=null&&re.delete||cs.dismiss(Y.id),J.filter(({id:oe})=>oe!==Y.id)})},[]);return de.useEffect(()=>cs.subscribe(Y=>{if(Y.dismiss){P(J=>J.map(re=>re.id===Y.id?{...re,delete:!0}:re));return}setTimeout(()=>{are.flushSync(()=>{P(J=>{let re=J.findIndex(oe=>oe.id===Y.id);return re!==-1?[...J.slice(0,re),{...J[re],...Y},...J.slice(re+1)]:[Y,...J]})})})}),[]),de.useEffect(()=>{if(u!=="system"){W(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:J})=>{W(J?"dark":"light")})}catch{Y.addListener(({matches:re})=>{try{W(re?"dark":"light")}catch(oe){console.error(oe)}})}},[u]),de.useEffect(()=>{C.length<=1&&U(!1)},[C]),de.useEffect(()=>{let Y=J=>{var re,oe;i.every(pe=>J[pe]||J.code===pe)&&(U(!0),(re=X.current)==null||re.focus()),J.code==="Escape"&&(document.activeElement===X.current||(oe=X.current)!=null&&oe.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[i]),de.useEffect(()=>{if(X.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,q.current=!1)}},[X.current]),de.createElement("section",{ref:e,"aria-label":`${_} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((Y,J)=>{var re;let[oe,pe]=Y.split("-");return C.length?de.createElement("ol",{key:Y,dir:y==="auto"?j7():y,tabIndex:-1,ref:X,className:s,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":oe,"data-lifted":D&&C.length>1&&!o,"data-x-position":pe,style:{"--front-toast-height":`${((re=O[0])==null?void 0:re.height)||0}px`,"--width":`${sSe}px`,"--gap":`${g}px`,...h,...hSe(l,c)},onBlur:fe=>{q.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(q.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||q.current||(q.current=!0,G.current=fe.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{V||U(!1)},onDragEnd:()=>U(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},C.filter(fe=>!fe.position&&J===0||fe.position===Y).map((fe,we)=>{var ge,xe;return de.createElement(dSe,{key:fe.id,icons:x,index:we,toast:fe,defaultRichColors:f,duration:(ge=v==null?void 0:v.duration)!=null?ge:d,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:m,closeButton:(xe=v==null?void 0:v.closeButton)!=null?xe:a,interacting:V,position:Y,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:te,toasts:C.filter(Te=>Te.position==fe.position),heights:O.filter(Te=>Te.position==fe.position),setHeights:N,expandByDefault:o,gap:g,loadingIcon:b,expanded:D,pauseWhenPageIsHidden:T,swipeDirections:t.swipeDirections})})):null}))});const mSe=({...t})=>{const{theme:e="system"}=Fwe();return S.jsx(pSe,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var gSe=XP[" useId ".trim().toString()]||(()=>{}),vSe=0;function Wf(t){const[e,n]=A.useState(gSe());return Iu(()=>{n(r=>r??String(vSe++))},[t]),e?`radix-${e}`:""}const ySe=["top","right","bottom","left"],ep=Math.min,Bs=Math.max,HA=Math.round,GE=Math.floor,wu=t=>({x:t,y:t}),xSe={left:"right",right:"left",bottom:"top",top:"bottom"},bSe={start:"end",end:"start"};function u4(t,e,n){return Bs(t,ep(e,n))}function nd(t,e){return typeof t=="function"?t(e):t}function rd(t){return t.split("-")[0]}function Ax(t){return t.split("-")[1]}function _$(t){return t==="x"?"y":"x"}function w$(t){return t==="y"?"height":"width"}const _Se=new Set(["top","bottom"]);function gu(t){return _Se.has(rd(t))?"y":"x"}function S$(t){return _$(gu(t))}function wSe(t,e,n){n===void 0&&(n=!1);const r=Ax(t),i=S$(t),o=w$(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=GA(a)),[a,GA(a)]}function SSe(t){const e=GA(t);return[f4(t),e,f4(e)]}function f4(t){return t.replace(/start|end/g,e=>bSe[e])}const B7=["left","right"],z7=["right","left"],MSe=["top","bottom"],ESe=["bottom","top"];function TSe(t,e,n){switch(t){case"top":case"bottom":return n?e?z7:B7:e?B7:z7;case"left":case"right":return e?MSe:ESe;default:return[]}}function ASe(t,e,n,r){const i=Ax(t);let o=TSe(rd(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(f4)))),o}function GA(t){return t.replace(/left|right|bottom|top/g,e=>xSe[e])}function CSe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Kre(t){return typeof t!="number"?CSe(t):{top:t,right:t,bottom:t,left:t}}function XA(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function $7(t,e,n){let{reference:r,floating:i}=t;const o=gu(e),a=S$(e),s=w$(a),l=rd(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Ax(e)){case"start":h[a]-=d*(n&&c?-1:1);break;case"end":h[a]+=d*(n&&c?-1:1);break}return h}const PSe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=$7(c,r,l),d=r,h={},m=0;for(let v=0;v<s.length;v++){const{name:y,fn:g}=s[v],{x:b,y:x,data:_,reset:T}=await g({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:t,floating:e}});u=b??u,f=x??f,h={...h,[y]:{...h[y],..._}},T&&m<=50&&(m++,typeof T=="object"&&(T.placement&&(d=T.placement),T.rects&&(c=T.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:u,y:f}=$7(c,d,l)),v=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function Y1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=nd(e,t),m=Kre(h),y=s[d?f==="floating"?"reference":"floating":f],g=XA(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),_=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},T=XA(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:x,strategy:l}):b);return{top:(g.top-T.top+m.top)/_.y,bottom:(T.bottom-g.bottom+m.bottom)/_.y,left:(g.left-T.left+m.left)/_.x,right:(T.right-g.right+m.right)/_.x}}const RSe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=nd(t,e)||{};if(c==null)return{};const f=Kre(u),d={x:n,y:r},h=S$(i),m=w$(h),v=await a.getDimensions(c),y=h==="y",g=y?"top":"left",b=y?"bottom":"right",x=y?"clientHeight":"clientWidth",_=o.reference[m]+o.reference[h]-d[h]-o.floating[m],T=d[h]-o.reference[h],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let P=C?C[x]:0;(!P||!await(a.isElement==null?void 0:a.isElement(C)))&&(P=s.floating[x]||o.floating[m]);const I=_/2-T/2,O=P/2-v[m]/2-1,N=ep(f[g],O),D=ep(f[b],O),U=N,V=P-v[m]-D,z=P/2-v[m]/2+I,F=u4(U,z,V),W=!l.arrow&&Ax(i)!=null&&z!==F&&o.reference[m]/2-(z<U?N:D)-v[m]/2<0,X=W?z<U?z-U:z-V:0;return{[h]:d[h]+X,data:{[h]:F,centerOffset:z-F-X,...W&&{alignmentOffset:X}},reset:W}}}),OSe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...y}=nd(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=rd(i),b=gu(s),x=rd(s)===s,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=d||(x||!v?[GA(s)]:SSe(s)),C=m!=="none";!d&&C&&T.push(...ASe(s,v,m,_));const P=[s,...T],I=await Y1(e,y),O=[];let N=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&O.push(I[g]),f){const z=wSe(i,a,_);O.push(I[z[0]],I[z[1]])}if(N=[...N,{placement:i,overflows:O}],!O.every(z=>z<=0)){var D,U;const z=(((D=o.flip)==null?void 0:D.index)||0)+1,F=P[z];if(F&&(!(f==="alignment"?b!==gu(F):!1)||N.every(B=>gu(B.placement)===b?B.overflows[0]>0:!0)))return{data:{index:z,overflows:N},reset:{placement:F}};let W=(U=N.filter(X=>X.overflows[0]<=0).sort((X,B)=>X.overflows[1]-B.overflows[1])[0])==null?void 0:U.placement;if(!W)switch(h){case"bestFit":{var V;const X=(V=N.filter(B=>{if(C){const G=gu(B.placement);return G===b||G==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(G=>G>0).reduce((G,q)=>G+q,0)]).sort((B,G)=>B[1]-G[1])[0])==null?void 0:V[0];X&&(W=X);break}case"initialPlacement":W=s;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function F7(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function U7(t){return ySe.some(e=>t[e]>=0)}const LSe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=nd(t,e);switch(r){case"referenceHidden":{const o=await Y1(e,{...i,elementContext:"reference"}),a=F7(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:U7(a)}}}case"escaped":{const o=await Y1(e,{...i,altBoundary:!0}),a=F7(o,n.floating);return{data:{escapedOffsets:a,escaped:U7(a)}}}default:return{}}}}},Zre=new Set(["left","top"]);async function kSe(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=rd(n),s=Ax(n),l=gu(n)==="y",c=Zre.has(a)?-1:1,u=o&&l?-1:1,f=nd(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(h=s==="end"?m*-1:m),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const NSe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await kSe(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},ISe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:y=>{let{x:g,y:b}=y;return{x:g,y:b}}},...l}=nd(t,e),c={x:n,y:r},u=await Y1(e,l),f=gu(rd(i)),d=_$(f);let h=c[d],m=c[f];if(o){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",b=h+u[y],x=h-u[g];h=u4(b,h,x)}if(a){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",b=m+u[y],x=m-u[g];m=u4(b,m,x)}const v=s.fn({...e,[d]:h,[f]:m});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:o,[f]:a}}}}}},DSe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=nd(t,e),u={x:n,y:r},f=gu(i),d=_$(f);let h=u[d],m=u[f];const v=nd(s,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=d==="y"?"height":"width",_=o.reference[d]-o.floating[x]+y.mainAxis,T=o.reference[d]+o.reference[x]-y.mainAxis;h<_?h=_:h>T&&(h=T)}if(c){var g,b;const x=d==="y"?"width":"height",_=Zre.has(rd(i)),T=o.reference[f]-o.floating[x]+(_&&((g=a.offset)==null?void 0:g[f])||0)+(_?0:y.crossAxis),C=o.reference[f]+o.reference[x]+(_?0:((b=a.offset)==null?void 0:b[f])||0)-(_?y.crossAxis:0);m<T?m=T:m>C&&(m=C)}return{[d]:h,[f]:m}}}},jSe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=nd(t,e),u=await Y1(e,c),f=rd(i),d=Ax(i),h=gu(i)==="y",{width:m,height:v}=o.floating;let y,g;f==="top"||f==="bottom"?(y=f,g=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(g=f,y=d==="end"?"top":"bottom");const b=v-u.top-u.bottom,x=m-u.left-u.right,_=ep(v-u[y],b),T=ep(m-u[g],x),C=!e.middlewareData.shift;let P=_,I=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=b),C&&!d){const N=Bs(u.left,0),D=Bs(u.right,0),U=Bs(u.top,0),V=Bs(u.bottom,0);h?I=m-2*(N!==0||D!==0?N+D:Bs(u.left,u.right)):P=v-2*(U!==0||V!==0?U+V:Bs(u.top,u.bottom))}await l({...e,availableWidth:I,availableHeight:P});const O=await a.getDimensions(s.floating);return m!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}};function mR(){return typeof window<"u"}function Cx(t){return Jre(t)?(t.nodeName||"").toLowerCase():"#document"}function Xs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gu(t){var e;return(e=(Jre(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Jre(t){return mR()?t instanceof Node||t instanceof Xs(t).Node:!1}function kc(t){return mR()?t instanceof Element||t instanceof Xs(t).Element:!1}function Du(t){return mR()?t instanceof HTMLElement||t instanceof Xs(t).HTMLElement:!1}function W7(t){return!mR()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xs(t).ShadowRoot}const BSe=new Set(["inline","contents"]);function GS(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Nc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!BSe.has(i)}const zSe=new Set(["table","td","th"]);function $Se(t){return zSe.has(Cx(t))}const FSe=[":popover-open",":modal"];function gR(t){return FSe.some(e=>{try{return t.matches(e)}catch{return!1}})}const USe=["transform","translate","scale","rotate","perspective"],WSe=["transform","translate","scale","rotate","perspective","filter"],VSe=["paint","layout","strict","content"];function M$(t){const e=E$(),n=kc(t)?Nc(t):t;return USe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||WSe.some(r=>(n.willChange||"").includes(r))||VSe.some(r=>(n.contain||"").includes(r))}function HSe(t){let e=tp(t);for(;Du(e)&&!P0(e);){if(M$(e))return e;if(gR(e))return null;e=tp(e)}return null}function E$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GSe=new Set(["html","body","#document"]);function P0(t){return GSe.has(Cx(t))}function Nc(t){return Xs(t).getComputedStyle(t)}function vR(t){return kc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tp(t){if(Cx(t)==="html")return t;const e=t.assignedSlot||t.parentNode||W7(t)&&t.host||Gu(t);return W7(e)?e.host:e}function Qre(t){const e=tp(t);return P0(e)?t.ownerDocument?t.ownerDocument.body:t.body:Du(e)&&GS(e)?e:Qre(e)}function K1(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Qre(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=Xs(i);if(o){const s=d4(a);return e.concat(a,a.visualViewport||[],GS(i)?i:[],s&&n?K1(s):[])}return e.concat(i,K1(i,[],n))}function d4(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eie(t){const e=Nc(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Du(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=HA(n)!==o||HA(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function T$(t){return kc(t)?t:t.contextElement}function e0(t){const e=T$(t);if(!Du(e))return wu(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=eie(e);let a=(o?HA(n.width):n.width)/r,s=(o?HA(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const XSe=wu(0);function tie(t){const e=Xs(t);return!E$()||!e.visualViewport?XSe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qSe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xs(t)?!1:e}function xg(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=T$(t);let a=wu(1);e&&(r?kc(r)&&(a=e0(r)):a=e0(t));const s=qSe(o,n,r)?tie(o):wu(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o){const d=Xs(o),h=r&&kc(r)?Xs(r):r;let m=d,v=d4(m);for(;v&&r&&h!==m;){const y=e0(v),g=v.getBoundingClientRect(),b=Nc(v),x=g.left+(v.clientLeft+parseFloat(b.paddingLeft))*y.x,_=g.top+(v.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=x,c+=_,m=Xs(v),v=d4(m)}}return XA({width:u,height:f,x:l,y:c})}function yR(t,e){const n=vR(t).scrollLeft;return e?e.left+n:xg(Gu(t)).left+n}function nie(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-yR(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function YSe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=Gu(r),s=e?gR(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=wu(1);const u=wu(0),f=Du(r);if((f||!f&&!o)&&((Cx(r)!=="body"||GS(a))&&(l=vR(r)),Du(r))){const h=xg(r);c=e0(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const d=a&&!f&&!o?nie(a,l):wu(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function KSe(t){return Array.from(t.getClientRects())}function ZSe(t){const e=Gu(t),n=vR(t),r=t.ownerDocument.body,i=Bs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Bs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+yR(t);const s=-n.scrollTop;return Nc(r).direction==="rtl"&&(a+=Bs(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const V7=25;function JSe(t,e){const n=Xs(t),r=Gu(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=E$();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=yR(r);if(c<=0){const u=r.ownerDocument,f=u.body,d=getComputedStyle(f),h=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,m=Math.abs(r.clientWidth-f.clientWidth-h);m<=V7&&(o-=m)}else c<=V7&&(o+=c);return{width:o,height:a,x:s,y:l}}const QSe=new Set(["absolute","fixed"]);function eMe(t,e){const n=xg(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Du(t)?e0(t):wu(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function H7(t,e,n){let r;if(e==="viewport")r=JSe(t,n);else if(e==="document")r=ZSe(Gu(t));else if(kc(e))r=eMe(e,n);else{const i=tie(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return XA(r)}function rie(t,e){const n=tp(t);return n===e||!kc(n)||P0(n)?!1:Nc(n).position==="fixed"||rie(n,e)}function tMe(t,e){const n=e.get(t);if(n)return n;let r=K1(t,[],!1).filter(s=>kc(s)&&Cx(s)!=="body"),i=null;const o=Nc(t).position==="fixed";let a=o?tp(t):t;for(;kc(a)&&!P0(a);){const s=Nc(a),l=M$(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&QSe.has(i.position)||GS(a)&&!l&&rie(t,a))?r=r.filter(u=>u!==a):i=s,a=tp(a)}return e.set(t,r),r}function nMe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?gR(e)?[]:tMe(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const f=H7(e,u,i);return c.top=Bs(f.top,c.top),c.right=ep(f.right,c.right),c.bottom=ep(f.bottom,c.bottom),c.left=Bs(f.left,c.left),c},H7(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rMe(t){const{width:e,height:n}=eie(t);return{width:e,height:n}}function iMe(t,e,n){const r=Du(e),i=Gu(e),o=n==="fixed",a=xg(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=wu(0);function c(){l.x=yR(i)}if(r||!r&&!o)if((Cx(e)!=="body"||GS(i))&&(s=vR(e)),r){const h=xg(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?nie(i,s):wu(0),f=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function Ck(t){return Nc(t).position==="static"}function G7(t,e){if(!Du(t)||Nc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gu(t)===n&&(n=n.ownerDocument.body),n}function iie(t,e){const n=Xs(t);if(gR(t))return n;if(!Du(t)){let i=tp(t);for(;i&&!P0(i);){if(kc(i)&&!Ck(i))return i;i=tp(i)}return n}let r=G7(t,e);for(;r&&$Se(r)&&Ck(r);)r=G7(r,e);return r&&P0(r)&&Ck(r)&&!M$(r)?n:r||HSe(t)||n}const oMe=async function(t){const e=this.getOffsetParent||iie,n=this.getDimensions,r=await n(t.floating);return{reference:iMe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aMe(t){return Nc(t).direction==="rtl"}const sMe={convertOffsetParentRelativeRectToViewportRelativeRect:YSe,getDocumentElement:Gu,getClippingRect:nMe,getOffsetParent:iie,getElementRects:oMe,getClientRects:KSe,getDimensions:rMe,getScale:e0,isElement:kc,isRTL:aMe};function oie(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function lMe(t,e){let n=null,r;const i=Gu(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(s||e(),!d||!h)return;const m=GE(f),v=GE(i.clientWidth-(u+d)),y=GE(i.clientHeight-(f+h)),g=GE(u),x={rootMargin:-m+"px "+-v+"px "+-y+"px "+-g+"px",threshold:Bs(0,ep(1,l))||1};let _=!0;function T(C){const P=C[0].intersectionRatio;if(P!==l){if(!_)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!oie(c,t.getBoundingClientRect())&&a(),_=!1}try{n=new IntersectionObserver(T,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,x)}n.observe(t)}return a(!0),o}function cMe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=T$(t),u=i||o?[...c?K1(c):[],...K1(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const f=c&&s?lMe(c,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(g=>{let[b]=g;b&&b.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,v=l?xg(t):null;l&&y();function y(){const g=xg(t);v&&!oie(v,g)&&n(),v=g,m=requestAnimationFrame(y)}return n(),()=>{var g;u.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const uMe=NSe,fMe=ISe,dMe=OSe,hMe=jSe,pMe=LSe,X7=RSe,mMe=DSe,gMe=(t,e,n)=>{const r=new Map,i={platform:sMe,...n},o={...i.platform,_c:r};return PSe(t,e,{...i,platform:o})};var vMe=typeof document<"u",yMe=function(){},XT=vMe?A.useLayoutEffect:yMe;function qA(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qA(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!qA(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function aie(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function q7(t,e){const n=aie(t);return Math.round(e*n)/n}function Pk(t){const e=A.useRef(t);return XT(()=>{e.current=t}),e}function xMe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,f]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=A.useState(r);qA(d,r)||h(r);const[m,v]=A.useState(null),[y,g]=A.useState(null),b=A.useCallback(B=>{B!==C.current&&(C.current=B,v(B))},[]),x=A.useCallback(B=>{B!==P.current&&(P.current=B,g(B))},[]),_=o||m,T=a||y,C=A.useRef(null),P=A.useRef(null),I=A.useRef(u),O=l!=null,N=Pk(l),D=Pk(i),U=Pk(c),V=A.useCallback(()=>{if(!C.current||!P.current)return;const B={placement:e,strategy:n,middleware:d};D.current&&(B.platform=D.current),gMe(C.current,P.current,B).then(G=>{const q={...G,isPositioned:U.current!==!1};z.current&&!qA(I.current,q)&&(I.current=q,Ll.flushSync(()=>{f(q)}))})},[d,e,n,D,U]);XT(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[c]);const z=A.useRef(!1);XT(()=>(z.current=!0,()=>{z.current=!1}),[]),XT(()=>{if(_&&(C.current=_),T&&(P.current=T),_&&T){if(N.current)return N.current(_,T,V);V()}},[_,T,V,N,O]);const F=A.useMemo(()=>({reference:C,floating:P,setReference:b,setFloating:x}),[b,x]),W=A.useMemo(()=>({reference:_,floating:T}),[_,T]),X=A.useMemo(()=>{const B={position:n,left:0,top:0};if(!W.floating)return B;const G=q7(W.floating,u.x),q=q7(W.floating,u.y);return s?{...B,transform:"translate("+G+"px, "+q+"px)",...aie(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:q}},[n,s,W.floating,u.x,u.y]);return A.useMemo(()=>({...u,update:V,refs:F,elements:W,floatingStyles:X}),[u,V,F,W,X])}const bMe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?X7({element:r.current,padding:i}).fn(n):{}:r?X7({element:r,padding:i}).fn(n):{}}}},_Me=(t,e)=>({...uMe(t),options:[t,e]}),wMe=(t,e)=>({...fMe(t),options:[t,e]}),SMe=(t,e)=>({...mMe(t),options:[t,e]}),MMe=(t,e)=>({...dMe(t),options:[t,e]}),EMe=(t,e)=>({...hMe(t),options:[t,e]}),TMe=(t,e)=>({...pMe(t),options:[t,e]}),AMe=(t,e)=>({...bMe(t),options:[t,e]});var CMe="Arrow",sie=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return S.jsx(jn.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});sie.displayName=CMe;var PMe=sie;function A$(t){const[e,n]=A.useState(void 0);return Iu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var lie="Popper",[cie,uie]=xp(lie),[eIt,fie]=cie(lie),die="PopperAnchor",hie=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=fie(die,n),a=A.useRef(null),s=Sr(e,a),l=A.useRef(null);return A.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||a.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:S.jsx(jn.div,{...i,ref:s})});hie.displayName=die;var C$="PopperContent",[RMe,OMe]=cie(C$),pie=A.forwardRef((t,e)=>{var fe,we,ge,xe,Te,ee;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:m,...v}=t,y=fie(C$,n),[g,b]=A.useState(null),x=Sr(e,Ce=>b(Ce)),[_,T]=A.useState(null),C=A$(_),P=(C==null?void 0:C.width)??0,I=(C==null?void 0:C.height)??0,O=r+(o!=="center"?"-"+o:""),N=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],U=D.length>0,V={padding:N,boundary:D.filter(kMe),altBoundary:U},{refs:z,floatingStyles:F,placement:W,isPositioned:X,middlewareData:B}=xMe({strategy:"fixed",placement:O,whileElementsMounted:(...Ce)=>cMe(...Ce,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[_Me({mainAxis:i+I,alignmentAxis:a}),l&&wMe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?SMe():void 0,...V}),l&&MMe({...V}),EMe({...V,apply:({elements:Ce,rects:ae,availableWidth:be,availableHeight:_e})=>{const{width:He,height:Ve}=ae.reference,ne=Ce.floating.style;ne.setProperty("--radix-popper-available-width",`${be}px`),ne.setProperty("--radix-popper-available-height",`${_e}px`),ne.setProperty("--radix-popper-anchor-width",`${He}px`),ne.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),_&&AMe({element:_,padding:s}),NMe({arrowWidth:P,arrowHeight:I}),d&&TMe({strategy:"referenceHidden",...V})]}),[G,q]=vie(W),te=Uo(m);Iu(()=>{X&&(te==null||te())},[X,te]);const Y=(fe=B.arrow)==null?void 0:fe.x,J=(we=B.arrow)==null?void 0:we.y,re=((ge=B.arrow)==null?void 0:ge.centerOffset)!==0,[oe,pe]=A.useState();return Iu(()=>{g&&pe(window.getComputedStyle(g).zIndex)},[g]),S.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:X?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(xe=B.transformOrigin)==null?void 0:xe.x,(Te=B.transformOrigin)==null?void 0:Te.y].join(" "),...((ee=B.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(RMe,{scope:n,placedSide:G,onArrowChange:T,arrowX:Y,arrowY:J,shouldHideArrow:re,children:S.jsx(jn.div,{"data-side":G,"data-align":q,...v,ref:x,style:{...v.style,animation:X?void 0:"none"}})})})});pie.displayName=C$;var mie="PopperArrow",LMe={top:"bottom",right:"left",bottom:"top",left:"right"},gie=A.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=OMe(mie,r),a=LMe[o.placedSide];return S.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:S.jsx(PMe,{...i,ref:n,style:{...i.style,display:"block"}})})});gie.displayName=mie;function kMe(t){return t!==null}var NMe=t=>({name:"transformOrigin",options:t,fn(e){var y,g,b;const{placement:n,rects:r,middlewareData:i}=e,a=((y=i.arrow)==null?void 0:y.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=vie(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((g=i.arrow)==null?void 0:g.x)??0)+s/2,h=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let m="",v="";return c==="bottom"?(m=a?f:`${d}px`,v=`${-l}px`):c==="top"?(m=a?f:`${d}px`,v=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,v=a?f:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,v=a?f:`${h}px`),{data:{x:m,y:v}}}});function vie(t){const[e,n="center"]=t.split("-");return[e,n]}var IMe=hie,DMe=pie,jMe=gie,BMe=Symbol("radix.slottable");function zMe(t){const e=({children:n})=>S.jsx(S.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=BMe,e}var[xR]=xp("Tooltip",[uie]),P$=uie(),yie="TooltipProvider",$Me=700,Y7="tooltip.open",[FMe,xie]=xR(yie),bie=t=>{const{__scopeTooltip:e,delayDuration:n=$Me,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,a=A.useRef(!0),s=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),S.jsx(FMe,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:A.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};bie.displayName=yie;var _ie="Tooltip",[tIt,bR]=xR(_ie),h4="TooltipTrigger",UMe=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=bR(h4,n),o=xie(h4,n),a=P$(n),s=A.useRef(null),l=Sr(e,s,i.onTriggerChange),c=A.useRef(!1),u=A.useRef(!1),f=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),S.jsx(IMe,{asChild:!0,...a,children:S.jsx(jn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:$n(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:$n(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:$n(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:$n(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:$n(t.onBlur,i.onClose),onClick:$n(t.onClick,i.onClose)})})});UMe.displayName=h4;var WMe="TooltipPortal",[nIt,VMe]=xR(WMe,{forceMount:void 0}),R0="TooltipContent",wie=A.forwardRef((t,e)=>{const n=VMe(R0,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,a=bR(R0,t.__scopeTooltip);return S.jsx(Hu,{present:r||a.open,children:a.disableHoverableContent?S.jsx(Sie,{side:i,...o,ref:e}):S.jsx(HMe,{side:i,...o,ref:e})})}),HMe=A.forwardRef((t,e)=>{const n=bR(R0,t.__scopeTooltip),r=xie(R0,t.__scopeTooltip),i=A.useRef(null),o=Sr(e,i),[a,s]=A.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,d=A.useCallback(()=>{s(null),f(!1)},[f]),h=A.useCallback((m,v)=>{const y=m.currentTarget,g={x:m.clientX,y:m.clientY},b=KMe(g,y.getBoundingClientRect()),x=ZMe(g,b),_=JMe(v.getBoundingClientRect()),T=eEe([...x,..._]);s(T),f(!0)},[f]);return A.useEffect(()=>()=>d(),[d]),A.useEffect(()=>{if(l&&u){const m=y=>h(y,u),v=y=>h(y,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",v)}}},[l,u,h,d]),A.useEffect(()=>{if(a){const m=v=>{const y=v.target,g={x:v.clientX,y:v.clientY},b=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),x=!QMe(g,a);b?d():x&&(d(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,a,c,d]),S.jsx(Sie,{...t,ref:o})}),[GMe,XMe]=xR(_ie,{isInside:!1}),qMe=zMe("TooltipContent"),Sie=A.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,l=bR(R0,n),c=P$(n),{onClose:u}=l;return A.useEffect(()=>(document.addEventListener(Y7,u),()=>document.removeEventListener(Y7,u)),[u]),A.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),S.jsx(uR,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:S.jsxs(DMe,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(qMe,{children:r}),S.jsx(GMe,{scope:n,isInside:!0,children:S.jsx(n1e,{id:l.contentId,role:"tooltip",children:i||r})})]})})});wie.displayName=R0;var Mie="TooltipArrow",YMe=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=P$(n);return XMe(Mie,n).isInside?null:S.jsx(jMe,{...i,...r,ref:e})});YMe.displayName=Mie;function KMe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ZMe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function JMe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function QMe(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],l=e[a],c=s.x,u=s.y,f=l.x,d=l.y;u>r!=d>r&&n<(f-c)*(r-u)/(d-u)+c&&(i=!i)}return i}function eEe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),tEe(e)}function tEe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var nEe=bie,Eie=wie;const rEe=nEe,iEe=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>S.jsx(Eie,{ref:r,sideOffset:e,className:Zn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));iEe.displayName=Eie.displayName;var _R=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oEe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},yh,yz,Bee,aEe=(Bee=class{constructor(){qn(this,yh,oEe);qn(this,yz,!1)}setTimeoutProvider(t){mn(this,yh,t)}setTimeout(t,e){return ut(this,yh).setTimeout(t,e)}clearTimeout(t){ut(this,yh).clearTimeout(t)}setInterval(t,e){return ut(this,yh).setInterval(t,e)}clearInterval(t){ut(this,yh).clearInterval(t)}},yh=new WeakMap,yz=new WeakMap,Bee),p4=new aEe;function sEe(t){setTimeout(t,0)}var wR=typeof window>"u"||"Deno"in globalThis;function hc(){}function lEe(t,e){return typeof t=="function"?t(e):t}function cEe(t){return typeof t=="number"&&t>=0&&t!==1/0}function uEe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function m4(t,e){return typeof t=="function"?t(e):t}function fEe(t,e){return typeof t=="function"?t(e):t}function K7(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==R$(a,e.options))return!1}else if(!J1(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function Z7(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Z1(e.options.mutationKey)!==Z1(o))return!1}else if(!J1(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function R$(t,e){return((e==null?void 0:e.queryKeyHashFn)||Z1)(t)}function Z1(t){return JSON.stringify(t,(e,n)=>g4(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function J1(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>J1(t[n],e[n])):!1}var dEe=Object.prototype.hasOwnProperty;function Tie(t,e){if(t===e)return t;const n=J7(t)&&J7(e);if(!n&&!(g4(t)&&g4(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),a=o.length,s=n?new Array(a):{};let l=0;for(let c=0;c<a;c++){const u=n?c:o[c],f=t[u],d=e[u];if(f===d){s[u]=f,(n?c<i:dEe.call(t,u))&&l++;continue}if(f===null||d===null||typeof f!="object"||typeof d!="object"){s[u]=d;continue}const h=Tie(f,d);s[u]=h,h===f&&l++}return i===a&&l===i?t:s}function J7(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g4(t){if(!Q7(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Q7(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Q7(t){return Object.prototype.toString.call(t)==="[object Object]"}function hEe(t){return new Promise(e=>{p4.setTimeout(e,t)})}function pEe(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Tie(t,e):e}function mEe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gEe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var O$=Symbol();function Aie(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===O$?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function vEe(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var Gm,xh,p0,zee,yEe=(zee=class extends _R{constructor(){super();qn(this,Gm);qn(this,xh);qn(this,p0);mn(this,p0,e=>{if(!wR&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ut(this,xh)||this.setEventListener(ut(this,p0))}onUnsubscribe(){var e;this.hasListeners()||((e=ut(this,xh))==null||e.call(this),mn(this,xh,void 0))}setEventListener(e){var n;mn(this,p0,e),(n=ut(this,xh))==null||n.call(this),mn(this,xh,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ut(this,Gm)!==e&&(mn(this,Gm,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ut(this,Gm)=="boolean"?ut(this,Gm):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gm=new WeakMap,xh=new WeakMap,p0=new WeakMap,zee),Cie=new yEe;function xEe(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var bEe=sEe;function _Ee(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=bEe;const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Ba=_Ee(),m0,bh,g0,$ee,wEe=($ee=class extends _R{constructor(){super();qn(this,m0,!0);qn(this,bh);qn(this,g0);mn(this,g0,e=>{if(!wR&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ut(this,bh)||this.setEventListener(ut(this,g0))}onUnsubscribe(){var e;this.hasListeners()||((e=ut(this,bh))==null||e.call(this),mn(this,bh,void 0))}setEventListener(e){var n;mn(this,g0,e),(n=ut(this,bh))==null||n.call(this),mn(this,bh,e(this.setOnline.bind(this)))}setOnline(e){ut(this,m0)!==e&&(mn(this,m0,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ut(this,m0)}},m0=new WeakMap,bh=new WeakMap,g0=new WeakMap,$ee),YA=new wEe;function SEe(t){return Math.min(1e3*2**t,3e4)}function Pie(t){return(t??"online")==="online"?YA.isOnline():!0}var v4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Rie(t){let e=!1,n=0,r;const i=xEe(),o=()=>i.status!=="pending",a=v=>{var y;if(!o()){const g=new v4(v);d(g),(y=t.onCancel)==null||y.call(t,g)}},s=()=>{e=!0},l=()=>{e=!1},c=()=>Cie.isFocused()&&(t.networkMode==="always"||YA.isOnline())&&t.canRun(),u=()=>Pie(t.networkMode)&&t.canRun(),f=v=>{o()||(r==null||r(),i.resolve(v))},d=v=>{o()||(r==null||r(),i.reject(v))},h=()=>new Promise(v=>{var y;r=g=>{(o()||c())&&v(g)},(y=t.onPause)==null||y.call(t)}).then(()=>{var v;r=void 0,o()||(v=t.onContinue)==null||v.call(t)}),m=()=>{if(o())return;let v;const y=n===0?t.initialPromise:void 0;try{v=y??t.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var C;if(o())return;const b=t.retry??(wR?0:3),x=t.retryDelay??SEe,_=typeof x=="function"?x(n,g):x,T=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,g);if(e||!T){d(g);return}n++,(C=t.onFail)==null||C.call(t,n,g),hEe(_).then(()=>c()?void 0:h()).then(()=>{e?d(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?m():h().then(m),i)}}var Xm,Fee,Oie=(Fee=class{constructor(){qn(this,Xm)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cEe(this.gcTime)&&mn(this,Xm,p4.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wR?1/0:5*60*1e3))}clearGcTimeout(){ut(this,Xm)&&(p4.clearTimeout(ut(this,Xm)),mn(this,Xm,void 0))}},Xm=new WeakMap,Fee),qm,v0,wl,Ym,So,IS,Km,mc,Sf,Uee,MEe=(Uee=class extends Oie{constructor(e){super();qn(this,mc);qn(this,qm);qn(this,v0);qn(this,wl);qn(this,Ym);qn(this,So);qn(this,IS);qn(this,Km);mn(this,Km,!1),mn(this,IS,e.defaultOptions),this.setOptions(e.options),this.observers=[],mn(this,Ym,e.client),mn(this,wl,ut(this,Ym).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,mn(this,qm,tV(this.options)),this.state=e.state??ut(this,qm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ut(this,So))==null?void 0:e.promise}setOptions(e){if(this.options={...ut(this,IS),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=tV(this.options);n.data!==void 0&&(this.setState(eV(n.data,n.dataUpdatedAt)),mn(this,qm,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ut(this,wl).remove(this)}setData(e,n){const r=pEe(this.state.data,e,this.options);return ea(this,mc,Sf).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ea(this,mc,Sf).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ut(this,So))==null?void 0:r.promise;return(i=ut(this,So))==null||i.cancel(e),n?n.then(hc).catch(hc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ut(this,qm))}isActive(){return this.observers.some(e=>fEe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===O$||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>m4(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!uEe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ut(this,So))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ut(this,So))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ut(this,wl).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ut(this,So)&&(ut(this,Km)?ut(this,So).cancel({revert:!0}):ut(this,So).cancelRetry()),this.scheduleGc()),ut(this,wl).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ea(this,mc,Sf).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,u,f,d,h,m,v,y,g,b,x;if(this.state.fetchStatus!=="idle"&&((l=ut(this,So))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ut(this,So))return ut(this,So).continueRetry(),ut(this,So).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(T=>T.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(mn(this,Km,!0),r.signal)})},o=()=>{const _=Aie(this.options,n),C=(()=>{const P={client:ut(this,Ym),queryKey:this.queryKey,meta:this.meta};return i(P),P})();return mn(this,Km,!1),this.options.persister?this.options.persister(_,C,this):_(C)},s=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ut(this,Ym),state:this.state,fetchFn:o};return i(_),_})();(c=this.options.behavior)==null||c.onFetch(s,this),mn(this,v0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&ea(this,mc,Sf).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta}),mn(this,So,Rie({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,onCancel:_=>{_ instanceof v4&&_.revert&&this.setState({...ut(this,v0),fetchStatus:"idle"}),r.abort()},onFail:(_,T)=>{ea(this,mc,Sf).call(this,{type:"failed",failureCount:_,error:T})},onPause:()=>{ea(this,mc,Sf).call(this,{type:"pause"})},onContinue:()=>{ea(this,mc,Sf).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}));try{const _=await ut(this,So).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(h=(d=ut(this,wl).config).onSuccess)==null||h.call(d,_,this),(v=(m=ut(this,wl).config).onSettled)==null||v.call(m,_,this.state.error,this),_}catch(_){if(_ instanceof v4){if(_.silent)return ut(this,So).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ea(this,mc,Sf).call(this,{type:"error",error:_}),(g=(y=ut(this,wl).config).onError)==null||g.call(y,_,this),(x=(b=ut(this,wl).config).onSettled)==null||x.call(b,this.state.data,_,this),_}finally{this.scheduleGc()}}},qm=new WeakMap,v0=new WeakMap,wl=new WeakMap,Ym=new WeakMap,So=new WeakMap,IS=new WeakMap,Km=new WeakMap,mc=new WeakSet,Sf=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...EEe(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...eV(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return mn(this,v0,e.manual?i:void 0),i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ba.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ut(this,wl).notify({query:this,type:"updated",action:e})})},Uee);function EEe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pie(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function eV(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function tV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function nV(t){return{onFetch:(e,n)=>{var u,f,d,h,m;const r=e.options,i=(d=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,o=((h=e.state.data)==null?void 0:h.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const y=x=>{vEe(x,()=>e.signal,()=>v=!0)},g=Aie(e.options,e.fetchOptions),b=async(x,_,T)=>{if(v)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const P=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:_,direction:T?"backward":"forward",meta:e.options.meta};return y(D),D})(),I=await g(P),{maxPages:O}=e.options,N=T?gEe:mEe;return{pages:N(x.pages,I,O),pageParams:N(x.pageParams,_,O)}};if(i&&o.length){const x=i==="backward",_=x?TEe:rV,T={pages:o,pageParams:a},C=_(r,T);s=await b(T,C,x)}else{const x=t??o.length;do{const _=l===0?a[0]??r.initialPageParam:rV(r,s);if(l>0&&_==null)break;s=await b(s,_),l++}while(l<x)}return s};e.options.persister?e.fetchFn=()=>{var v,y;return(y=(v=e.options).persister)==null?void 0:y.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function rV(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function TEe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var DS,au,Da,Zm,su,ih,Wee,AEe=(Wee=class extends Oie{constructor(e){super();qn(this,su);qn(this,DS);qn(this,au);qn(this,Da);qn(this,Zm);mn(this,DS,e.client),this.mutationId=e.mutationId,mn(this,Da,e.mutationCache),mn(this,au,[]),this.state=e.state||CEe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ut(this,au).includes(e)||(ut(this,au).push(e),this.clearGcTimeout(),ut(this,Da).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){mn(this,au,ut(this,au).filter(n=>n!==e)),this.scheduleGc(),ut(this,Da).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ut(this,au).length||(this.state.status==="pending"?this.scheduleGc():ut(this,Da).remove(this))}continue(){var e;return((e=ut(this,Zm))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,s,l,c,u,f,d,h,m,v,y,g,b,x,_,T,C,P,I,O;const n=()=>{ea(this,su,ih).call(this,{type:"continue"})},r={client:ut(this,DS),meta:this.options.meta,mutationKey:this.options.mutationKey};mn(this,Zm,Rie({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(N,D)=>{ea(this,su,ih).call(this,{type:"failed",failureCount:N,error:D})},onPause:()=>{ea(this,su,ih).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ut(this,Da).canRun(this)}));const i=this.state.status==="pending",o=!ut(this,Zm).canStart();try{if(i)n();else{ea(this,su,ih).call(this,{type:"pending",variables:e,isPaused:o}),await((s=(a=ut(this,Da).config).onMutate)==null?void 0:s.call(a,e,this,r));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));D!==this.state.context&&ea(this,su,ih).call(this,{type:"pending",context:D,variables:e,isPaused:o})}const N=await ut(this,Zm).start();return await((f=(u=ut(this,Da).config).onSuccess)==null?void 0:f.call(u,N,e,this.state.context,this,r)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,N,e,this.state.context,r)),await((v=(m=ut(this,Da).config).onSettled)==null?void 0:v.call(m,N,null,this.state.variables,this.state.context,this,r)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,N,null,e,this.state.context,r)),ea(this,su,ih).call(this,{type:"success",data:N}),N}catch(N){try{await((x=(b=ut(this,Da).config).onError)==null?void 0:x.call(b,N,e,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((T=(_=this.options).onError)==null?void 0:T.call(_,N,e,this.state.context,r))}catch(D){Promise.reject(D)}try{await((P=(C=ut(this,Da).config).onSettled)==null?void 0:P.call(C,void 0,N,this.state.variables,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((O=(I=this.options).onSettled)==null?void 0:O.call(I,void 0,N,e,this.state.context,r))}catch(D){Promise.reject(D)}throw ea(this,su,ih).call(this,{type:"error",error:N}),N}finally{ut(this,Da).runNext(this)}}},DS=new WeakMap,au=new WeakMap,Da=new WeakMap,Zm=new WeakMap,su=new WeakSet,ih=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ba.batch(()=>{ut(this,au).forEach(r=>{r.onMutationUpdate(e)}),ut(this,Da).notify({mutation:this,type:"updated",action:e})})},Wee);function CEe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lf,gc,jS,Vee,PEe=(Vee=class extends _R{constructor(e={}){super();qn(this,Lf);qn(this,gc);qn(this,jS);this.config=e,mn(this,Lf,new Set),mn(this,gc,new Map),mn(this,jS,0)}build(e,n,r){const i=new AEe({client:e,mutationCache:this,mutationId:++EE(this,jS)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){ut(this,Lf).add(e);const n=XE(e);if(typeof n=="string"){const r=ut(this,gc).get(n);r?r.push(e):ut(this,gc).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ut(this,Lf).delete(e)){const n=XE(e);if(typeof n=="string"){const r=ut(this,gc).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&ut(this,gc).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=XE(e);if(typeof n=="string"){const r=ut(this,gc).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=XE(e);if(typeof n=="string"){const i=(r=ut(this,gc).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ba.batch(()=>{ut(this,Lf).forEach(e=>{this.notify({type:"removed",mutation:e})}),ut(this,Lf).clear(),ut(this,gc).clear()})}getAll(){return Array.from(ut(this,Lf))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Z7(n,r))}findAll(e={}){return this.getAll().filter(n=>Z7(e,n))}notify(e){Ba.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ba.batch(()=>Promise.all(e.map(n=>n.continue().catch(hc))))}},Lf=new WeakMap,gc=new WeakMap,jS=new WeakMap,Vee);function XE(t){var e;return(e=t.options.scope)==null?void 0:e.id}var lu,Hee,REe=(Hee=class extends _R{constructor(e={}){super();qn(this,lu);this.config=e,mn(this,lu,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??R$(i,n);let a=this.get(o);return a||(a=new MEe({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){ut(this,lu).has(e.queryHash)||(ut(this,lu).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ut(this,lu).get(e.queryHash);n&&(e.destroy(),n===e&&ut(this,lu).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ba.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ut(this,lu).get(e)}getAll(){return[...ut(this,lu).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>K7(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>K7(e,r)):n}notify(e){Ba.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ba.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ba.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lu=new WeakMap,Hee),wi,_h,wh,y0,x0,Sh,b0,_0,Gee,OEe=(Gee=class{constructor(t={}){qn(this,wi);qn(this,_h);qn(this,wh);qn(this,y0);qn(this,x0);qn(this,Sh);qn(this,b0);qn(this,_0);mn(this,wi,t.queryCache||new REe),mn(this,_h,t.mutationCache||new PEe),mn(this,wh,t.defaultOptions||{}),mn(this,y0,new Map),mn(this,x0,new Map),mn(this,Sh,0)}mount(){EE(this,Sh)._++,ut(this,Sh)===1&&(mn(this,b0,Cie.subscribe(async t=>{t&&(await this.resumePausedMutations(),ut(this,wi).onFocus())})),mn(this,_0,YA.subscribe(async t=>{t&&(await this.resumePausedMutations(),ut(this,wi).onOnline())})))}unmount(){var t,e;EE(this,Sh)._--,ut(this,Sh)===0&&((t=ut(this,b0))==null||t.call(this),mn(this,b0,void 0),(e=ut(this,_0))==null||e.call(this),mn(this,_0,void 0))}isFetching(t){return ut(this,wi).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ut(this,_h).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ut(this,wi).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ut(this,wi).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(m4(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ut(this,wi).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ut(this,wi).get(r.queryHash),o=i==null?void 0:i.state.data,a=lEe(e,o);if(a!==void 0)return ut(this,wi).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Ba.batch(()=>ut(this,wi).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ut(this,wi).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ut(this,wi);Ba.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ut(this,wi);return Ba.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ba.batch(()=>ut(this,wi).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(hc).catch(hc)}invalidateQueries(t,e={}){return Ba.batch(()=>(ut(this,wi).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ba.batch(()=>ut(this,wi).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(hc)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(hc)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ut(this,wi).build(this,e);return n.isStaleByTime(m4(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hc).catch(hc)}fetchInfiniteQuery(t){return t.behavior=nV(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hc).catch(hc)}ensureInfiniteQueryData(t){return t.behavior=nV(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return YA.isOnline()?ut(this,_h).resumePausedMutations():Promise.resolve()}getQueryCache(){return ut(this,wi)}getMutationCache(){return ut(this,_h)}getDefaultOptions(){return ut(this,wh)}setDefaultOptions(t){mn(this,wh,t)}setQueryDefaults(t,e){ut(this,y0).set(Z1(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ut(this,y0).values()],n={};return e.forEach(r=>{J1(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ut(this,x0).set(Z1(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ut(this,x0).values()],n={};return e.forEach(r=>{J1(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ut(this,wh).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=R$(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===O$&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ut(this,wh).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ut(this,wi).clear(),ut(this,_h).clear()}},wi=new WeakMap,_h=new WeakMap,wh=new WeakMap,y0=new WeakMap,x0=new WeakMap,Sh=new WeakMap,b0=new WeakMap,_0=new WeakMap,Gee),LEe=A.createContext(void 0),kEe=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(LEe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(this,arguments)}var Ah;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ah||(Ah={}));const iV="popstate";function NEe(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return y4("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:KA(i)}return DEe(e,n,null,t)}function zi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function L$(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IEe(){return Math.random().toString(36).substr(2,8)}function oV(t,e){return{usr:t.state,key:t.key,idx:e}}function y4(t,e,n,r){return n===void 0&&(n=null),Q1({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Px(e):e,{state:n,key:e&&e.key||r||IEe()})}function KA(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Px(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DEe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Ah.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Q1({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function f(){s=Ah.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:s,location:v.location,delta:g})}function d(y,g){s=Ah.Push;let b=y4(v.location,y,g);c=u()+1;let x=oV(b,c),_=v.createHref(b);try{a.pushState(x,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(_)}o&&l&&l({action:s,location:v.location,delta:1})}function h(y,g){s=Ah.Replace;let b=y4(v.location,y,g);c=u();let x=oV(b,c),_=v.createHref(b);a.replaceState(x,"",_),o&&l&&l({action:s,location:v.location,delta:0})}function m(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:KA(y);return b=b.replace(/ $/,"%20"),zi(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let v={get action(){return s},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(iV,f),l=y,()=>{i.removeEventListener(iV,f),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let g=m(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return a.go(y)}};return v}var aV;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aV||(aV={}));function jEe(t,e,n){return n===void 0&&(n="/"),BEe(t,e,n)}function BEe(t,e,n,r){let i=typeof e=="string"?Px(e):e,o=k$(i.pathname||"/",n);if(o==null)return null;let a=Lie(t);zEe(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=ZEe(o);s=qEe(a[l],c)}return s}function Lie(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(zi(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wh([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(zi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Lie(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:GEe(c,o.index),routesMeta:u})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of kie(o.path))i(o,a,l)}),e}function kie(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=kie(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function zEe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XEe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $Ee=/^:[\w-]+$/,FEe=3,UEe=2,WEe=1,VEe=10,HEe=-2,sV=t=>t==="*";function GEe(t,e){let n=t.split("/"),r=n.length;return n.some(sV)&&(r+=HEe),e&&(r+=UEe),n.filter(i=>!sV(i)).reduce((i,o)=>i+($Ee.test(o)?FEe:o===""?WEe:VEe),r)}function XEe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qEe(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=YEe({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Wh([o,f.pathname]),pathnameBase:n2e(Wh([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Wh([o,f.pathnameBase]))}return a}function YEe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KEe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let v=s[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[f];return h&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function KEe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),L$(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZEe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return L$(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function k$(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const JEe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QEe=t=>JEe.test(t);function e2e(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Px(t):t,o;if(n)if(QEe(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),L$(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=lV(n.substring(1),"/"):o=lV(n,e)}else o=e;return{pathname:o,search:r2e(r),hash:i2e(i)}}function lV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rk(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t2e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function N$(t,e){let n=t2e(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function I$(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Px(t):(i=Q1({},t),zi(!i.pathname||!i.pathname.includes("?"),Rk("?","pathname","search",i)),zi(!i.pathname||!i.pathname.includes("#"),Rk("#","pathname","hash",i)),zi(!i.search||!i.search.includes("#"),Rk("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=e2e(i,s),c=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Wh=t=>t.join("/").replace(/\/\/+/g,"/"),n2e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r2e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i2e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o2e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nie=["post","put","patch","delete"];new Set(Nie);const a2e=["get",...Nie];new Set(a2e);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}const D$=A.createContext(null),s2e=A.createContext(null),bp=A.createContext(null),SR=A.createContext(null),_p=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Iie=A.createContext(null);function l2e(t,e){let{relative:n}=e===void 0?{}:e;Rx()||zi(!1);let{basename:r,navigator:i}=A.useContext(bp),{hash:o,pathname:a,search:s}=jie(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Wh([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Rx(){return A.useContext(SR)!=null}function Hg(){return Rx()||zi(!1),A.useContext(SR).location}function Die(t){A.useContext(bp).static||A.useLayoutEffect(t)}function XS(){let{isDataRoute:t}=A.useContext(_p);return t?_2e():c2e()}function c2e(){Rx()||zi(!1);let t=A.useContext(D$),{basename:e,future:n,navigator:r}=A.useContext(bp),{matches:i}=A.useContext(_p),{pathname:o}=Hg(),a=JSON.stringify(N$(i,n.v7_relativeSplatPath)),s=A.useRef(!1);return Die(()=>{s.current=!0}),A.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=I$(c,JSON.parse(a),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wh([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,a,o,t])}function jie(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(bp),{matches:i}=A.useContext(_p),{pathname:o}=Hg(),a=JSON.stringify(N$(i,r.v7_relativeSplatPath));return A.useMemo(()=>I$(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function u2e(t,e){return f2e(t,e)}function f2e(t,e,n,r){Rx()||zi(!1);let{navigator:i}=A.useContext(bp),{matches:o}=A.useContext(_p),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Hg(),u;if(e){var f;let y=typeof e=="string"?Px(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||zi(!1),u=y}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=jEe(t,{pathname:h}),v=g2e(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Wh([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Wh([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&v?A.createElement(SR.Provider,{value:{location:ew({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ah.Pop}},v):v}function d2e(){let t=b2e(),e=o2e(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const h2e=A.createElement(d2e,null);class p2e extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(_p.Provider,{value:this.props.routeContext},A.createElement(Iie.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m2e(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(D$);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(_p.Provider,{value:e},r)}function g2e(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||zi(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:h}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,d)=>{let h,m=!1,v=null,y=null;n&&(h=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||h2e,l&&(c<0&&d===0?(w2e("route-fallback"),m=!0,y=null):c===d&&(m=!0,y=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,d+1)),b=()=>{let x;return h?x=v:m?x=y:f.route.Component?x=A.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=u,A.createElement(m2e,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?A.createElement(p2e,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var Bie=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Bie||{}),zie=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zie||{});function v2e(t){let e=A.useContext(D$);return e||zi(!1),e}function y2e(t){let e=A.useContext(s2e);return e||zi(!1),e}function x2e(t){let e=A.useContext(_p);return e||zi(!1),e}function $ie(t){let e=x2e(),n=e.matches[e.matches.length-1];return n.route.id||zi(!1),n.route.id}function b2e(){var t;let e=A.useContext(Iie),n=y2e(),r=$ie();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _2e(){let{router:t}=v2e(Bie.UseNavigateStable),e=$ie(zie.UseNavigateStable),n=A.useRef(!1);return Die(()=>{n.current=!0}),A.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ew({fromRouteId:e},o)))},[t,e])}const cV={};function w2e(t,e,n){cV[t]||(cV[t]=!0)}function S2e(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function M2e(t){let{to:e,replace:n,state:r,relative:i}=t;Rx()||zi(!1);let{future:o,static:a}=A.useContext(bp),{matches:s}=A.useContext(_p),{pathname:l}=Hg(),c=XS(),u=I$(e,N$(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return A.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function cc(t){zi(!1)}function E2e(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ah.Pop,navigator:o,static:a=!1,future:s}=t;Rx()&&zi(!1);let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:o,static:a,future:ew({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Px(r));let{pathname:u="/",search:f="",hash:d="",state:h=null,key:m="default"}=r,v=A.useMemo(()=>{let y=k$(u,l);return y==null?null:{location:{pathname:y,search:f,hash:d,state:h,key:m},navigationType:i}},[l,u,f,d,h,m,i]);return v==null?null:A.createElement(bp.Provider,{value:c},A.createElement(SR.Provider,{children:n,value:v}))}function T2e(t){let{children:e,location:n}=t;return u2e(x4(e),n)}new Promise(()=>{});function x4(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let o=[...e,i];if(r.type===A.Fragment){n.push.apply(n,x4(r.props.children,o));return}r.type!==cc&&zi(!1),!r.props.index||!r.props.children||zi(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=x4(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b4(){return b4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b4.apply(this,arguments)}function A2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function C2e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function P2e(t,e){return t.button===0&&(!e||e==="_self")&&!C2e(t)}const R2e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O2e="6";try{window.__reactRouterVersion=O2e}catch{}const L2e="startTransition",uV=XP[L2e];function k2e(t){let{basename:e,children:n,future:r,window:i}=t,o=A.useRef();o.current==null&&(o.current=NEe({window:i,v5Compat:!0}));let a=o.current,[s,l]=A.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=A.useCallback(f=>{c&&uV?uV(()=>l(f)):l(f)},[l,c]);return A.useLayoutEffect(()=>a.listen(u),[a,u]),A.useEffect(()=>S2e(r),[r]),A.createElement(E2e,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const N2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I2e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uh=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,d=A2e(e,R2e),{basename:h}=A.useContext(bp),m,v=!1;if(typeof c=="string"&&I2e.test(c)&&(m=c,N2e))try{let x=new URL(window.location.href),_=c.startsWith("//")?new URL(x.protocol+c):new URL(c),T=k$(_.pathname,h);_.origin===x.origin&&T!=null?c=T+_.search+_.hash:v=!0}catch{}let y=l2e(c,{relative:i}),g=D2e(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:f});function b(x){r&&r(x),x.defaultPrevented||g(x)}return A.createElement("a",b4({},d,{href:m||y,onClick:v||o?r:b,ref:n,target:l}))});var fV;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fV||(fV={}));var dV;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dV||(dV={}));function D2e(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=XS(),c=Hg(),u=jie(t,{relative:a});return A.useCallback(f=>{if(P2e(f,n)){f.preventDefault();let d=r!==void 0?r:KA(c)===KA(u);l(t,{replace:d,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,u,r,i,n,t,o,a,s])}function j2e(t={}){const{onEvent:e,onError:n,onConnect:r,onDisconnect:i,autoConnect:o=!0,reconnectDelay:a=3e3,maxReconnectAttempts:s=5}=t,l=A.useRef(null),c=A.useRef(0),u=A.useRef(),f=A.useRef(!1),d=A.useRef({onEvent:e,onError:n,onConnect:r,onDisconnect:i});A.useEffect(()=>{d.current={onEvent:e,onError:n,onConnect:r,onDisconnect:i}},[e,n,r,i]);const[h,m]=A.useState({isConnected:!1,isConnecting:!1,error:null,eventsReceived:0,lastEventTime:null}),v=A.useCallback(b=>{var x,_,T;try{const C=JSON.parse(b);return["edit","new","log","categorize"].includes(C.type)?{id:((x=C.id)==null?void 0:x.toString())||crypto.randomUUID(),type:C.type,title:C.title||"Unknown",user:C.user||"Anonymous",bot:C.bot||!1,minor:C.minor||!1,namespace:C.namespace||0,timestamp:new Date(C.timestamp*1e3||Date.now()),oldLength:(_=C.length)==null?void 0:_.old,newLength:(T=C.length)==null?void 0:T.new,delta:C.length?C.length.new-C.length.old:0,comment:C.comment,wiki:C.wiki||"unknown",serverUrl:C.server_url||""}:null}catch(C){return console.error("Failed to parse Wikipedia event:",C),null}},[]),y=A.useCallback(()=>{var b,x,_;if(!(f.current||((b=l.current)==null?void 0:b.readyState)===EventSource.OPEN)){l.current&&(l.current.close(),l.current=null),f.current=!0,m(T=>({...T,isConnecting:!0,error:null}));try{console.log("[Wikipedia SSE] Connecting to stream...");const T=new EventSource("https://stream.wikimedia.org/v2/stream/recentchange");T.onopen=()=>{var C,P;console.log("[Wikipedia SSE] Connected successfully"),f.current=!1,m(I=>({...I,isConnected:!0,isConnecting:!1,error:null})),c.current=0,(P=(C=d.current).onConnect)==null||P.call(C)},T.onmessage=C=>{var I,O;const P=v(C.data);P&&(m(N=>({...N,eventsReceived:N.eventsReceived+1,lastEventTime:new Date})),(O=(I=d.current).onEvent)==null||O.call(I,P))},T.onerror=()=>{var P,I,O;if(console.warn("[Wikipedia SSE] Connection error, will retry..."),f.current=!1,((P=l.current)==null?void 0:P.readyState)!==EventSource.CONNECTING){const N=new Error("SSE connection lost");m(D=>({...D,isConnected:!1,isConnecting:!0,error:N})),(O=(I=d.current).onDisconnect)==null||O.call(I)}},l.current=T}catch(T){console.error("[Wikipedia SSE] Failed to create EventSource:",T),f.current=!1;const C=T instanceof Error?T:new Error("Failed to connect");m(P=>({...P,isConnecting:!1,error:C})),(_=(x=d.current).onError)==null||_.call(x,C)}}},[v]),g=A.useCallback(()=>{var b,x;console.log("[Wikipedia SSE] Disconnecting..."),u.current&&clearTimeout(u.current),l.current&&(l.current.close(),l.current=null),f.current=!1,m(_=>({..._,isConnected:!1,isConnecting:!1})),(x=(b=d.current).onDisconnect)==null||x.call(b)},[]);return A.useEffect(()=>{if(o){const b=setTimeout(()=>{y()},100);return()=>clearTimeout(b)}},[o]),A.useEffect(()=>()=>{l.current&&(l.current.close(),l.current=null),u.current&&clearTimeout(u.current)},[]),{...h,connect:y,disconnect:g,reconnect:()=>{c.current=0,g(),setTimeout(y,100)}}}function B2e(t="ws://localhost:8000/ws/stream"){const e=A.useRef(null),[n,r]=A.useState(!1),[i,o]=A.useState(null),a=A.useCallback(()=>{var l,c;((l=e.current)==null?void 0:l.readyState)===WebSocket.OPEN||((c=e.current)==null?void 0:c.readyState)===WebSocket.CONNECTING||(e.current=new WebSocket(t),e.current.onopen=()=>{console.log("[TopoForge] Connected to AI Core"),r(!0)},e.current.onclose=()=>{console.log("[TopoForge] Disconnected from AI Core"),r(!1),setTimeout(()=>{var u;((u=e.current)==null?void 0:u.readyState)===WebSocket.CLOSED&&a()},3e3)},e.current.onmessage=u=>{try{const f=JSON.parse(u.data);f.type==="analysis"&&o(f.data)}catch(f){console.error("[TopoForge] Failed to parse message",f)}})},[t]);A.useEffect(()=>(a(),()=>{e.current&&(e.current.onclose=null,e.current.close())}),[a]);const s=A.useCallback(l=>{var c;((c=e.current)==null?void 0:c.readyState)===WebSocket.OPEN&&e.current.send(JSON.stringify(l))},[]);return{isConnected:n,lastAnalysis:i,sendEvent:s}}function z2e(t){const e=["enwiki","dewiki","frwiki","eswiki","jawiki","zhwiki","commons"],n=["Main","Talk","User","Wiki","File","Template"],r=[];for(let i=0;i<n.length;i++){const o=[];for(let a=0;a<e.length;a++){const s=t.filter(d=>d.wiki===e[a]&&$2e(d.namespace)===n[i]),l=s.length,c=s.filter(d=>Math.abs(d.delta||0)>5e3).length,u=s.filter(d=>d.bot).length;let f=Math.min(l/50,.5);f+=c/10*.3,f+=(1-u/Math.max(l,1))*.2,o.push(Math.min(Math.max(f,.05),1))}r.push(o)}return{grid:r,labels:{x:e.map(i=>i.replace("wiki","").toUpperCase()),y:n}}}function $2e(t){return t===0?"Main":t===1?"Talk":t===2||t===3?"User":t===4||t===5?"Wiki":t===6||t===7?"File":"Template"}function F2e(t,e=3e4,n=24){const r=Date.now(),i=[];for(let o=n-1;o>=0;o--){const a=r-(o+1)*e,s=r-o*e,l=t.filter(v=>{const y=v.timestamp.getTime();return y>=a&&y<s}),c=l.length,u=Math.min(c/100,1),f=l.filter(v=>Math.abs(v.delta||0)>5e3).length,d=c>80||f>5,h=c>120||f>10?"critical":"warning",m=new Date(s);i.push({time:m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:m,value:u,anomaly:d,severity:d?h:void 0,eventCount:c})}return i}const Fie=A.createContext(null),U2e=2e3,W2e=2e3,hV=5e3;function V2e({children:t}){const{toast:e}=cR(),[n,r]=A.useState([]),i=A.useRef([]),o=A.useRef([]),[a,s]=A.useState(0),[l,c]=A.useState(0),[u,f]=A.useState({h0:0,h1:0,h2:0}),[d,h]=A.useState([]),[m,v]=A.useState([]),[y,g]=A.useState([]),[b,x]=A.useState({grid:[],labels:{x:[],y:[]}});A.useRef({h0:0,h1:0,h2:0});const{lastAnalysis:_,sendEvent:T}=B2e(),C=A.useCallback(W=>{const X=Date.now();r(B=>{const G=[W,...B].slice(0,U2e);return i.current=G,G}),o.current.push(X),c(B=>B+1),T({...W,value:W.delta||0,timestamp:W.timestamp.toISOString()})},[T]);A.useEffect(()=>{if(_&&(_.betti_numbers&&f({h0:_.betti_numbers.h0||0,h1:_.betti_numbers.h1||0,h2:_.betti_numbers.h2||0}),_.is_anomaly)){const W={id:crypto.randomUUID(),title:"AI Detected Anomaly",severity:_.anomaly_score>.8?"critical":"warning",source:"TopoForge AI Core",timestamp:"Just now",description:`Structural anomaly detected (Score: ${_.anomaly_score.toFixed(2)})`,confidence:Math.round(_.anomaly_score*100),bettiChange:_.betti_numbers?`:${_.betti_numbers.h0} :${_.betti_numbers.h1}`:":0 :0",events:i.current.slice(0,5)};v(X=>[W,...X].slice(0,20)),W.severity==="critical"&&e({title:" Critical Anomaly Detected",description:W.title,variant:"destructive"})}},[_,e]),A.useEffect(()=>{const W=setInterval(()=>{const B=Date.now()-hV;o.current=o.current.filter(q=>q>B);const G=o.current.length/hV*1e3;s(Math.round(G*10)/10)},1e3);return()=>clearInterval(W)},[]),A.useEffect(()=>{const W=setInterval(()=>{const X=i.current;if(X.length<10)return;const B=F2e(X);g(B);const G=z2e(X);x(G)},W2e);return()=>clearInterval(W)},[]);const P=A.useRef(e);A.useEffect(()=>{P.current=e},[e]);const I=A.useCallback(()=>{P.current({title:"Connected to Wikipedia Stream",description:"Receiving live edit events from Wikimedia"})},[]),O=A.useCallback(W=>{P.current({title:"Connection Error",description:W.message,variant:"destructive"})},[]),N=A.useCallback(()=>{P.current({title:"Disconnected",description:"Wikipedia stream disconnected"})},[]),D=j2e({onEvent:C,onConnect:I,onError:O,onDisconnect:N}),U=[{id:"wikipedia",name:"Wikipedia Recent Changes",type:"stream",status:D.isConnected?"connected":D.isConnecting?"syncing":"disconnected",lastSync:D.lastEventTime?`${Math.floor((Date.now()-D.lastEventTime.getTime())/1e3)}s ago`:"Never",eventsPerSecond:a}],V=[{id:"ingest",label:"Ingest",status:D.isConnected?"active":"idle",throughput:`${a}/s`},{id:"extract",label:"Extract",status:D.isConnected&&n.length>0?"active":"idle",throughput:`${Math.round(a*.95)}/s`},{id:"analyze",label:"TDA",status:n.length>10?"active":"idle",throughput:`${Math.round(a*.9)}/s`},{id:"detect",label:"Detect",status:n.length>10?"active":"idle",throughput:`${Math.round(a*.9)}/s`},{id:"alert",label:"Alert",status:m.length>0?"active":"idle",throughput:`${m.filter(W=>Date.now()-new Date(W.timestamp).getTime()<6e4).length}/min`}],z=A.useCallback(()=>{v([])},[]),F={isConnected:D.isConnected,isConnecting:D.isConnecting,error:D.error,events:n,recentEvents:n.slice(0,50),eventsPerSecond:a,totalEventsProcessed:l,bettiNumbers:u,persistenceDiagram:d,anomalies:m,criticalCount:m.filter(W=>W.severity==="critical").length,warningCount:m.filter(W=>W.severity==="warning").length,timeline:y,riskHeatmap:b,dataSources:U,pipelineStages:V,connect:D.connect,disconnect:D.disconnect,clearAnomalies:z};return S.jsx(Fie.Provider,{value:F,children:t})}function Rr(){const t=A.useContext(Fie);if(!t)throw new Error("useWikipediaData must be used within WikipediaDataProvider");return t}const _4="tda_users",np="tda_session",H2e=24*60*60*1e3,Uie=[{id:"1",username:"admin",password:"tda2024",email:"admin@toposhape.com",role:"admin",createdAt:new Date().toISOString()},{id:"2",username:"demo",password:"demo123",email:"demo@toposhape.com",role:"user",createdAt:new Date().toISOString()}];function G2e(){localStorage.getItem(_4)||localStorage.setItem(_4,JSON.stringify(Uie))}function Wie(){G2e();const t=localStorage.getItem(_4);return t?JSON.parse(t):Uie}function X2e(t,e){const r=Wie().find(o=>o.username===t&&o.password===e);if(!r)return{success:!1,error:"Invalid username or password"};const i={userId:r.id,username:r.username,role:r.role,expiresAt:Date.now()+H2e};return localStorage.setItem(np,JSON.stringify(i)),sessionStorage.setItem(np,JSON.stringify(i)),{success:!0}}function MR(){localStorage.removeItem(np),sessionStorage.removeItem(np)}function q2e(){const t=sessionStorage.getItem(np)||localStorage.getItem(np);if(!t)return!1;try{return JSON.parse(t).expiresAt<Date.now()?(MR(),!1):!0}catch{return!1}}function Y2e(){const t=sessionStorage.getItem(np)||localStorage.getItem(np);if(!t)return null;try{const e=JSON.parse(t);return e.expiresAt<Date.now()?(MR(),null):e}catch{return null}}function K2e(){const t=Y2e();if(!t)return null;const n=Wie().find(o=>o.id===t.userId);if(!n)return MR(),null;const{password:r,...i}=n;return i}function em({children:t}){return q2e()?S.jsx(S.Fragment,{children:t}):S.jsx(M2e,{to:"/login",replace:!0})}const j$=A.createContext({});function B$(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const ER=A.createContext(null),z$=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Z2e extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function J2e({children:t,isPresent:e}){const n=A.useId(),r=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=A.useContext(z$);return A.useInsertionEffect(()=>{const{width:a,height:s,top:l,left:c}=i.current;if(e||!r.current||!a||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.jsx(Z2e,{isPresent:e,childRef:r,sizeRef:i,children:A.cloneElement(t,{ref:r})})}const Q2e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a})=>{const s=B$(eTe),l=A.useId(),c=A.useCallback(f=>{s.set(f,!0);for(const d of s.values())if(!d)return;r&&r()},[s,r]),u=A.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(s.set(f,!1),()=>s.delete(f))}),o?[Math.random(),c]:[n,c]);return A.useMemo(()=>{s.forEach((f,d)=>s.set(d,!1))},[n]),A.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),a==="popLayout"&&(t=S.jsx(J2e,{isPresent:n,children:t})),S.jsx(ER.Provider,{value:u,children:t})};function eTe(){return new Map}function Vie(t=!0){const e=A.useContext(ER);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=A.useId();A.useEffect(()=>{t&&i(o)},[t]);const a=A.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const qE=t=>t.key||"";function pV(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const $$=typeof window<"u",Hie=$$?A.useLayoutEffect:A.useEffect,F$=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1})=>{const[s,l]=Vie(a),c=A.useMemo(()=>pV(t),[t]),u=a&&!s?[]:c.map(qE),f=A.useRef(!0),d=A.useRef(c),h=B$(()=>new Map),[m,v]=A.useState(c),[y,g]=A.useState(c);Hie(()=>{f.current=!1,d.current=c;for(let _=0;_<y.length;_++){const T=qE(y[_]);u.includes(T)?h.delete(T):h.get(T)!==!0&&h.set(T,!1)}},[y,u.length,u.join("-")]);const b=[];if(c!==m){let _=[...c];for(let T=0;T<y.length;T++){const C=y[T],P=qE(C);u.includes(P)||(_.splice(T,0,C),b.push(C))}o==="wait"&&b.length&&(_=b),g(pV(_)),v(c);return}const{forceRender:x}=A.useContext(j$);return S.jsx(S.Fragment,{children:y.map(_=>{const T=qE(_),C=a&&!s?!1:c===y||u.includes(T),P=()=>{if(h.has(T))h.set(T,!0);else return;let I=!0;h.forEach(O=>{O||(I=!1)}),I&&(x==null||x(),g(d.current),a&&(l==null||l()),r&&r())};return S.jsx(Q2e,{isPresent:C,initial:!f.current||n?void 0:!1,custom:C?void 0:e,presenceAffectsLayout:i,mode:o,onExitComplete:C?void 0:P,children:_},T)})})},qs=t=>t;let Gie=qs;function U$(t){let e;return()=>(e===void 0&&(e=t()),e)}const O0=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Vf=t=>t*1e3,Hf=t=>t/1e3,tTe={useManualTiming:!1};function nTe(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(c){o.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,u=!1,f=!1)=>{const h=f&&r?e:n;return u&&o.add(c),h.has(c)||h.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(a=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(s),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const YE=["read","resolveKeyframes","update","preRender","render","postRender"],rTe=40;function Xie(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=YE.reduce((g,b)=>(g[b]=nTe(o),g),{}),{read:s,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:d}=a,h=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,rTe),1),i.timestamp=g,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},m=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:YE.reduce((g,b)=>{const x=a[b];return g[b]=(_,T=!1,C=!1)=>(n||m(),x.schedule(_,T,C)),g},{}),cancel:g=>{for(let b=0;b<YE.length;b++)a[YE[b]].cancel(g)},state:i,steps:a}}const{schedule:ei,cancel:rp,state:Fo,steps:Ok}=Xie(typeof requestAnimationFrame<"u"?requestAnimationFrame:qs,!0),qie=A.createContext({strict:!1}),mV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},L0={};for(const t in mV)L0[t]={isEnabled:e=>mV[t].some(n=>!!e[n])};function iTe(t){for(const e in t)L0[e]={...L0[e],...t[e]}}const oTe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ZA(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oTe.has(t)}let Yie=t=>!ZA(t);function aTe(t){t&&(Yie=e=>e.startsWith("on")?!ZA(e):t(e))}try{aTe(require("@emotion/is-prop-valid").default)}catch{}function sTe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Yie(i)||n===!0&&ZA(i)||!e&&!ZA(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function lTe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const TR=A.createContext({});function tw(t){return typeof t=="string"||Array.isArray(t)}function AR(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const W$=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V$=["initial",...W$];function CR(t){return AR(t.animate)||V$.some(e=>tw(t[e]))}function Kie(t){return!!(CR(t)||t.variants)}function cTe(t,e){if(CR(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tw(n)?n:void 0,animate:tw(r)?r:void 0}}return t.inherit!==!1?e:{}}function uTe(t){const{initial:e,animate:n}=cTe(t,A.useContext(TR));return A.useMemo(()=>({initial:e,animate:n}),[gV(e),gV(n)])}function gV(t){return Array.isArray(t)?t.join(" "):t}const fTe=Symbol.for("motionComponentSymbol");function Oy(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dTe(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Oy(n)&&(n.current=r))},[e])}const H$=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hTe="framerAppearId",Zie="data-"+H$(hTe),{schedule:G$}=Xie(queueMicrotask,!1),Jie=A.createContext({});function pTe(t,e,n,r,i){var o,a;const{visualElement:s}=A.useContext(TR),l=A.useContext(qie),c=A.useContext(ER),u=A.useContext(z$).reducedMotion,f=A.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const d=f.current,h=A.useContext(Jie);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&mTe(f.current,n,i,h);const m=A.useRef(!1);A.useInsertionEffect(()=>{d&&m.current&&d.update(n,c)});const v=n[Zie],y=A.useRef(!!v&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return Hie(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),G$.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),A.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),y.current=!1))}),d}function mTe(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Qie(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||s&&Oy(s),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Qie(t){if(t)return t.options.allowProjection!==!1?t.projection:Qie(t.parent)}function gTe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,a;t&&iTe(t);function s(c,u){let f;const d={...A.useContext(z$),...c,layoutId:vTe(c)},{isStatic:h}=d,m=uTe(c),v=r(c,h);if(!h&&$$){yTe();const y=xTe(d);f=y.MeasureLayout,m.visualElement=pTe(i,v,d,e,y.ProjectionNode)}return S.jsxs(TR.Provider,{value:m,children:[f&&m.visualElement?S.jsx(f,{visualElement:m.visualElement,...d}):null,n(i,c,dTe(v,m.visualElement,u),v,h,m.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${(a=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&a!==void 0?a:""})`}`;const l=A.forwardRef(s);return l[fTe]=i,l}function vTe({layoutId:t}){const e=A.useContext(j$).id;return e&&t!==void 0?e+"-"+t:t}function yTe(t,e){A.useContext(qie).strict}function xTe(t){const{drag:e,layout:n}=L0;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const bTe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X$(t){return typeof t!="string"||t.includes("-")?!1:!!(bTe.indexOf(t)>-1||/[A-Z]/u.test(t))}function vV(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function q$(t,e,n,r){if(typeof e=="function"){const[i,o]=vV(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=vV(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const w4=t=>Array.isArray(t),_Te=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),wTe=t=>w4(t)?t[t.length-1]||0:t,ma=t=>!!(t&&t.getVelocity);function qT(t){const e=ma(t)?t.get():t;return _Te(e)?e.toValue():e}function STe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const a={latestValues:MTe(r,i,o,t),renderState:e()};return n&&(a.onMount=s=>n({props:r,current:s,...a}),a.onUpdate=s=>n(s)),a}const eoe=t=>(e,n)=>{const r=A.useContext(TR),i=A.useContext(ER),o=()=>STe(t,e,r,i);return n?o():B$(o)};function MTe(t,e,n,r){const i={},o=r(t,{});for(const d in o)i[d]=qT(o[d]);let{initial:a,animate:s}=t;const l=CR(t),c=Kie(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),s===void 0&&(s=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const f=u?s:a;if(f&&typeof f!="boolean"&&!AR(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const m=q$(t,d[h]);if(m){const{transitionEnd:v,transition:y,...g}=m;for(const b in g){let x=g[b];if(Array.isArray(x)){const _=u?x.length-1:0;x=x[_]}x!==null&&(i[b]=x)}for(const b in v)i[b]=v[b]}}}return i}const Ox=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gg=new Set(Ox),toe=t=>e=>typeof e=="string"&&e.startsWith(t),noe=toe("--"),ETe=toe("var(--"),Y$=t=>ETe(t)?TTe.test(t.split("/*")[0].trim()):!1,TTe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,roe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,id=(t,e,n)=>n>e?e:n<t?t:n,Lx={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nw={...Lx,transform:t=>id(0,1,t)},KE={...Lx,default:1},qS=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oh=qS("deg"),Su=qS("%"),fn=qS("px"),ATe=qS("vh"),CTe=qS("vw"),yV={...Su,parse:t=>Su.parse(t)/100,transform:t=>Su.transform(t*100)},PTe={borderWidth:fn,borderTopWidth:fn,borderRightWidth:fn,borderBottomWidth:fn,borderLeftWidth:fn,borderRadius:fn,radius:fn,borderTopLeftRadius:fn,borderTopRightRadius:fn,borderBottomRightRadius:fn,borderBottomLeftRadius:fn,width:fn,maxWidth:fn,height:fn,maxHeight:fn,top:fn,right:fn,bottom:fn,left:fn,padding:fn,paddingTop:fn,paddingRight:fn,paddingBottom:fn,paddingLeft:fn,margin:fn,marginTop:fn,marginRight:fn,marginBottom:fn,marginLeft:fn,backgroundPositionX:fn,backgroundPositionY:fn},RTe={rotate:oh,rotateX:oh,rotateY:oh,rotateZ:oh,scale:KE,scaleX:KE,scaleY:KE,scaleZ:KE,skew:oh,skewX:oh,skewY:oh,distance:fn,translateX:fn,translateY:fn,translateZ:fn,x:fn,y:fn,z:fn,perspective:fn,transformPerspective:fn,opacity:nw,originX:yV,originY:yV,originZ:fn},xV={...Lx,transform:Math.round},K$={...PTe,...RTe,zIndex:xV,size:fn,fillOpacity:nw,strokeOpacity:nw,numOctaves:xV},OTe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LTe=Ox.length;function kTe(t,e,n){let r="",i=!0;for(let o=0;o<LTe;o++){const a=Ox[o],s=t[a];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(a.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const c=roe(s,K$[a]);if(!l){i=!1;const u=OTe[a]||a;r+=`${u}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Z$(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,s=!1;for(const l in e){const c=e[l];if(Gg.has(l)){a=!0;continue}else if(noe(l)){i[l]=c;continue}else{const u=roe(c,K$[l]);l.startsWith("origin")?(s=!0,o[l]=u):r[l]=u}}if(e.transform||(a||n?r.transform=kTe(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:u=0}=o;r.transformOrigin=`${l} ${c} ${u}`}}const NTe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ITe={offset:"strokeDashoffset",array:"strokeDasharray"};function DTe(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?NTe:ITe;t[o.offset]=fn.transform(-r);const a=fn.transform(e),s=fn.transform(n);t[o.array]=`${a} ${s}`}function bV(t,e,n){return typeof t=="string"?t:fn.transform(e+n*t)}function jTe(t,e,n){const r=bV(e,t.x,t.width),i=bV(n,t.y,t.height);return`${r} ${i}`}function J$(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...c},u,f){if(Z$(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h,dimensions:m}=t;d.transform&&(m&&(h.transform=d.transform),delete d.transform),m&&(i!==void 0||o!==void 0||h.transform)&&(h.transformOrigin=jTe(m,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),a!==void 0&&DTe(d,a,s,l,!1)}const Q$=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ioe=()=>({...Q$(),attrs:{}}),eF=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ooe(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const aoe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function soe(t,e,n,r){ooe(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(aoe.has(i)?i:H$(i),e.attrs[i])}const JA={};function BTe(t){Object.assign(JA,t)}function loe(t,{layout:e,layoutId:n}){return Gg.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!JA[t]||t==="opacity")}function tF(t,e,n){var r;const{style:i}=t,o={};for(const a in i)(ma(i[a])||e.style&&ma(e.style[a])||loe(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[a]=i[a]);return o}function coe(t,e,n){const r=tF(t,e,n);for(const i in t)if(ma(t[i])||ma(e[i])){const o=Ox.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function zTe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const _V=["x","y","width","height","cx","cy","r"],$Te={useVisualState:eoe({scrapeMotionValuesFromProps:coe,createRenderState:ioe,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const s in i)if(Gg.has(s)){o=!0;break}}if(!o)return;let a=!e;if(e)for(let s=0;s<_V.length;s++){const l=_V[s];t[l]!==e[l]&&(a=!0)}a&&ei.read(()=>{zTe(n,r),ei.render(()=>{J$(r,i,eF(n.tagName),t.transformTemplate),soe(n,r)})})}})},FTe={useVisualState:eoe({scrapeMotionValuesFromProps:tF,createRenderState:Q$})};function uoe(t,e,n){for(const r in e)!ma(e[r])&&!loe(r,n)&&(t[r]=e[r])}function UTe({transformTemplate:t},e){return A.useMemo(()=>{const n=Q$();return Z$(n,e,t),Object.assign({},n.vars,n.style)},[e])}function WTe(t,e){const n=t.style||{},r={};return uoe(r,n,t),Object.assign(r,UTe(t,e)),r}function VTe(t,e){const n={},r=WTe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function HTe(t,e,n,r){const i=A.useMemo(()=>{const o=ioe();return J$(o,e,eF(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};uoe(o,t.style,t),i.style={...o,...i.style}}return i}function GTe(t=!1){return(n,r,i,{latestValues:o},a)=>{const l=(X$(n)?HTe:VTe)(r,o,a,n),c=sTe(r,typeof n=="string",t),u=n!==A.Fragment?{...c,...l,ref:i}:{},{children:f}=r,d=A.useMemo(()=>ma(f)?f.get():f,[f]);return A.createElement(n,{...u,children:d})}}function XTe(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...X$(r)?$Te:FTe,preloadedFeatures:t,useRender:GTe(i),createVisualElement:e,Component:r};return gTe(a)}}function foe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function PR(t,e,n){const r=t.getProps();return q$(r,e,n!==void 0?n:r.custom,t)}const qTe=U$(()=>window.ScrollTimeline!==void 0);class YTe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(qTe()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class KTe extends YTe{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function nF(t,e){return t?t[e]||t.default||t:void 0}const S4=2e4;function doe(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<S4;)e+=n,r=t.next(e);return e>=S4?1/0:e}function rF(t){return typeof t=="function"}function wV(t,e){t.timeline=e,t.onfinish=null}const iF=t=>Array.isArray(t)&&typeof t[0]=="number",ZTe={linearEasing:void 0};function JTe(t,e){const n=U$(t);return()=>{var r;return(r=ZTe[e])!==null&&r!==void 0?r:n()}}const QA=JTe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hoe=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(O0(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function poe(t){return!!(typeof t=="function"&&QA()||!t||typeof t=="string"&&(t in M4||QA())||iF(t)||Array.isArray(t)&&t.every(poe))}const L_=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,M4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:L_([0,.65,.55,1]),circOut:L_([.55,0,1,.45]),backIn:L_([.31,.01,.66,-.59]),backOut:L_([.33,1.53,.69,.99])};function moe(t,e){if(t)return typeof t=="function"&&QA()?hoe(t,e):iF(t)?L_(t):Array.isArray(t)?t.map(n=>moe(n,e)||M4.easeOut):M4[t]}const fc={x:!1,y:!1};function goe(){return fc.x||fc.y}function QTe(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function voe(t,e){const n=QTe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function SV(t){return e=>{e.pointerType==="touch"||goe()||t(e)}}function eAe(t,e,n={}){const[r,i,o]=voe(t,n),a=SV(s=>{const{target:l}=s,c=e(s);if(typeof c!="function"||!l)return;const u=SV(f=>{c(f),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(s=>{s.addEventListener("pointerenter",a,i)}),o}const yoe=(t,e)=>e?t===e?!0:yoe(t,e.parentElement):!1,oF=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tAe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nAe(t){return tAe.has(t.tagName)||t.tabIndex!==-1}const k_=new WeakSet;function MV(t){return e=>{e.key==="Enter"&&t(e)}}function Lk(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rAe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=MV(()=>{if(k_.has(n))return;Lk(n,"down");const i=MV(()=>{Lk(n,"up")}),o=()=>Lk(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function EV(t){return oF(t)&&!goe()}function iAe(t,e,n={}){const[r,i,o]=voe(t,n),a=s=>{const l=s.currentTarget;if(!EV(s)||k_.has(l))return;k_.add(l);const c=e(s),u=(h,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),!(!EV(h)||!k_.has(l))&&(k_.delete(l),typeof c=="function"&&c(h,{success:m}))},f=h=>{u(h,n.useGlobalTarget||yoe(l,h.target))},d=h=>{u(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(s=>{!nAe(s)&&s.getAttribute("tabindex")===null&&(s.tabIndex=0),(n.useGlobalTarget?window:s).addEventListener("pointerdown",a,i),s.addEventListener("focus",c=>rAe(c,i),i)}),o}function oAe(t){return t==="x"||t==="y"?fc[t]?null:(fc[t]=!0,()=>{fc[t]=!1}):fc.x||fc.y?null:(fc.x=fc.y=!0,()=>{fc.x=fc.y=!1})}const xoe=new Set(["width","height","top","left","right","bottom",...Ox]);let YT;function aAe(){YT=void 0}const Mu={now:()=>(YT===void 0&&Mu.set(Fo.isProcessing||tTe.useManualTiming?Fo.timestamp:performance.now()),YT),set:t=>{YT=t,queueMicrotask(aAe)}};function aF(t,e){t.indexOf(e)===-1&&t.push(e)}function sF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lF{constructor(){this.subscriptions=[]}add(e){return aF(this.subscriptions,e),()=>sF(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function boe(t,e){return e?t*(1e3/e):0}const TV=30,sAe=t=>!isNaN(parseFloat(t));class lAe{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Mu.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sAe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lF);const r=this.events[e].add(n);return e==="change"?()=>{r(),ei.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>TV)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,TV);return boe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rw(t,e){return new lAe(t,e)}function cAe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rw(n))}function uAe(t,e){const n=PR(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const s=wTe(o[a]);cAe(t,a,s)}}function fAe(t){return!!(ma(t)&&t.add)}function E4(t,e){const n=t.getValue("willChange");if(fAe(n))return n.add(e)}function _oe(t){return t.props[Zie]}const woe=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dAe=1e-7,hAe=12;function pAe(t,e,n,r,i){let o,a,s=0;do a=e+(n-e)/2,o=woe(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>dAe&&++s<hAe);return a}function YS(t,e,n,r){if(t===e&&n===r)return qs;const i=o=>pAe(o,0,1,t,n);return o=>o===0||o===1?o:woe(i(o),e,r)}const Soe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Moe=t=>e=>1-t(1-e),Eoe=YS(.33,1.53,.69,.99),cF=Moe(Eoe),Toe=Soe(cF),Aoe=t=>(t*=2)<1?.5*cF(t):.5*(2-Math.pow(2,-10*(t-1))),uF=t=>1-Math.sin(Math.acos(t)),Coe=Moe(uF),Poe=Soe(uF),Roe=t=>/^0[^.\s]+$/u.test(t);function mAe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Roe(t):!0}const n1=t=>Math.round(t*1e5)/1e5,fF=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gAe(t){return t==null}const vAe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dF=(t,e)=>n=>!!(typeof n=="string"&&vAe.test(n)&&n.startsWith(t)||e&&!gAe(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ooe=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,s]=r.match(fF);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},yAe=t=>id(0,255,t),kk={...Lx,transform:t=>Math.round(yAe(t))},km={test:dF("rgb","red"),parse:Ooe("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kk.transform(t)+", "+kk.transform(e)+", "+kk.transform(n)+", "+n1(nw.transform(r))+")"};function xAe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const T4={test:dF("#"),parse:xAe,transform:km.transform},Ly={test:dF("hsl","hue"),parse:Ooe("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Su.transform(n1(e))+", "+Su.transform(n1(n))+", "+n1(nw.transform(r))+")"},ca={test:t=>km.test(t)||T4.test(t)||Ly.test(t),parse:t=>km.test(t)?km.parse(t):Ly.test(t)?Ly.parse(t):T4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?km.transform(t):Ly.transform(t)},bAe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _Ae(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fF))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(bAe))===null||n===void 0?void 0:n.length)||0)>0}const Loe="number",koe="color",wAe="var",SAe="var(",AV="${}",MAe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iw(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=e.replace(MAe,l=>(ca.test(l)?(r.color.push(o),i.push(koe),n.push(ca.parse(l))):l.startsWith(SAe)?(r.var.push(o),i.push(wAe),n.push(l)):(r.number.push(o),i.push(Loe),n.push(parseFloat(l))),++o,AV)).split(AV);return{values:n,split:s,indexes:r,types:i}}function Noe(t){return iw(t).values}function Ioe(t){const{split:e,types:n}=iw(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const s=n[a];s===Loe?o+=n1(i[a]):s===koe?o+=ca.transform(i[a]):o+=i[a]}return o}}const EAe=t=>typeof t=="number"?0:t;function TAe(t){const e=Noe(t);return Ioe(t)(e.map(EAe))}const ip={test:_Ae,parse:Noe,createTransformer:Ioe,getAnimatableNone:TAe},AAe=new Set(["brightness","contrast","saturate","opacity"]);function CAe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fF)||[];if(!r)return t;const i=n.replace(r,"");let o=AAe.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const PAe=/\b([a-z-]*)\(.*?\)/gu,A4={...ip,getAnimatableNone:t=>{const e=t.match(PAe);return e?e.map(CAe).join(" "):t}},RAe={...K$,color:ca,backgroundColor:ca,outlineColor:ca,fill:ca,stroke:ca,borderColor:ca,borderTopColor:ca,borderRightColor:ca,borderBottomColor:ca,borderLeftColor:ca,filter:A4,WebkitFilter:A4},hF=t=>RAe[t];function Doe(t,e){let n=hF(t);return n!==A4&&(n=ip),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const OAe=new Set(["auto","none","0"]);function LAe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!OAe.has(o)&&iw(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=Doe(n,i)}const CV=t=>t===Lx||t===fn,PV=(t,e)=>parseFloat(t.split(", ")[e]),RV=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return PV(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?PV(o[1],t):0}},kAe=new Set(["x","y","z"]),NAe=Ox.filter(t=>!kAe.has(t));function IAe(t){const e=[];return NAe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const k0={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:RV(4,13),y:RV(5,14)};k0.translateX=k0.x;k0.translateY=k0.y;const tg=new Set;let C4=!1,P4=!1;function joe(){if(P4){const t=Array.from(tg).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=IAe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var s;(s=r.getValue(o))===null||s===void 0||s.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}P4=!1,C4=!1,tg.forEach(t=>t.complete()),tg.clear()}function Boe(){tg.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(P4=!0)})}function DAe(){Boe(),joe()}class pF{constructor(e,n,r,i,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tg.add(this),C4||(C4=!0,ei.read(Boe),ei.resolveKeyframes(joe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const a=i==null?void 0:i.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tg.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tg.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zoe=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),jAe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BAe(t){const e=jAe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function $oe(t,e,n=1){const[r,i]=BAe(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return zoe(a)?parseFloat(a):a}return Y$(i)?$oe(i,e,n+1):i}const Foe=t=>e=>e.test(t),zAe={test:t=>t==="auto",parse:t=>t},Uoe=[Lx,fn,Su,oh,CTe,ATe,zAe],OV=t=>Uoe.find(Foe(t));class Woe extends pF{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Y$(c))){const u=$oe(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!xoe.has(r)||e.length!==2)return;const[i,o]=e,a=OV(i),s=OV(o);if(a!==s)if(CV(a)&&CV(s))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)mAe(e[i])&&r.push(i);r.length&&LAe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=k0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=k0[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const LV=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ip.test(t)||t==="0")&&!t.startsWith("url("));function $Ae(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FAe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=LV(i,e),s=LV(o,e);return!a||!s?!1:$Ae(t)||(n==="spring"||rF(n))&&r}const UAe=t=>t!==null;function RR(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(UAe),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const WAe=40;class Voe{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mu.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>WAe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&DAe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Mu.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:a,onComplete:s,onUpdate:l,isGenerator:c}=this.options;if(!c&&!FAe(e,r,i,o))if(a)this.options.duration=0;else{l&&l(RR(e,this.options,n)),s&&s(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const fi=(t,e,n)=>t+(e-t)*n;function Nk(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function VAe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=Nk(l,s,t+1/3),o=Nk(l,s,t),a=Nk(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function eC(t,e){return n=>n>0?e:t}const Ik=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},HAe=[T4,km,Ly],GAe=t=>HAe.find(e=>e.test(t));function kV(t){const e=GAe(t);if(!e)return!1;let n=e.parse(t);return e===Ly&&(n=VAe(n)),n}const NV=(t,e)=>{const n=kV(t),r=kV(e);if(!n||!r)return eC(t,e);const i={...n};return o=>(i.red=Ik(n.red,r.red,o),i.green=Ik(n.green,r.green,o),i.blue=Ik(n.blue,r.blue,o),i.alpha=fi(n.alpha,r.alpha,o),km.transform(i))},XAe=(t,e)=>n=>e(t(n)),KS=(...t)=>t.reduce(XAe),R4=new Set(["none","hidden"]);function qAe(t,e){return R4.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YAe(t,e){return n=>fi(t,e,n)}function mF(t){return typeof t=="number"?YAe:typeof t=="string"?Y$(t)?eC:ca.test(t)?NV:JAe:Array.isArray(t)?Hoe:typeof t=="object"?ca.test(t)?NV:KAe:eC}function Hoe(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>mF(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function KAe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=mF(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function ZAe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],s=t.indexes[a][i[a]],l=(n=t.values[s])!==null&&n!==void 0?n:0;r[o]=l,i[a]++}return r}const JAe=(t,e)=>{const n=ip.createTransformer(e),r=iw(t),i=iw(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?R4.has(t)&&!i.values.length||R4.has(e)&&!r.values.length?qAe(t,e):KS(Hoe(ZAe(r,i),i.values),n):eC(t,e)};function Goe(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fi(t,e,n):mF(t)(t,e)}const QAe=5;function Xoe(t,e,n){const r=Math.max(e-QAe,0);return boe(n-t(r),e-r)}const Si={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dk=.001;function eCe({duration:t=Si.duration,bounce:e=Si.bounce,velocity:n=Si.velocity,mass:r=Si.mass}){let i,o,a=1-e;a=id(Si.minDamping,Si.maxDamping,a),t=id(Si.minDuration,Si.maxDuration,Hf(t)),a<1?(i=c=>{const u=c*a,f=u*t,d=u-n,h=O4(c,a),m=Math.exp(-f);return Dk-d/h*m},o=c=>{const f=c*a*t,d=f*n+n,h=Math.pow(a,2)*Math.pow(c,2)*t,m=Math.exp(-f),v=O4(Math.pow(c,2),a);return(-i(c)+Dk>0?-1:1)*((d-h)*m)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-Dk+u*f},o=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const s=5/t,l=nCe(i,o,s);if(t=Vf(t),isNaN(l))return{stiffness:Si.stiffness,damping:Si.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const tCe=12;function nCe(t,e,n){let r=n;for(let i=1;i<tCe;i++)r=r-t(r)/e(r);return r}function O4(t,e){return t*Math.sqrt(1-e*e)}const rCe=["duration","bounce"],iCe=["stiffness","damping","mass"];function IV(t,e){return e.some(n=>t[n]!==void 0)}function oCe(t){let e={velocity:Si.velocity,stiffness:Si.stiffness,damping:Si.damping,mass:Si.mass,isResolvedFromDuration:!1,...t};if(!IV(t,iCe)&&IV(t,rCe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*id(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Si.mass,stiffness:i,damping:o}}else{const n=eCe(t);e={...e,...n,mass:Si.mass},e.isResolvedFromDuration=!0}return e}function qoe(t=Si.visualDuration,e=Si.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:h}=oCe({...n,velocity:-Hf(n.velocity||0)}),m=d||0,v=c/(2*Math.sqrt(l*u)),y=a-o,g=Hf(Math.sqrt(l/u)),b=Math.abs(y)<5;r||(r=b?Si.restSpeed.granular:Si.restSpeed.default),i||(i=b?Si.restDelta.granular:Si.restDelta.default);let x;if(v<1){const T=O4(g,v);x=C=>{const P=Math.exp(-v*g*C);return a-P*((m+v*g*y)/T*Math.sin(T*C)+y*Math.cos(T*C))}}else if(v===1)x=T=>a-Math.exp(-g*T)*(y+(m+g*y)*T);else{const T=g*Math.sqrt(v*v-1);x=C=>{const P=Math.exp(-v*g*C),I=Math.min(T*C,300);return a-P*((m+v*g*y)*Math.sinh(I)+T*y*Math.cosh(I))/T}}const _={calculatedDuration:h&&f||null,next:T=>{const C=x(T);if(h)s.done=T>=f;else{let P=0;v<1&&(P=T===0?Vf(m):Xoe(x,T,C));const I=Math.abs(P)<=r,O=Math.abs(a-C)<=i;s.done=I&&O}return s.value=s.done?a:C,s},toString:()=>{const T=Math.min(doe(_),S4),C=hoe(P=>_.next(T*P).value,T,30);return T+"ms "+C}};return _}function DV({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],d={done:!1,value:f},h=I=>s!==void 0&&I<s||l!==void 0&&I>l,m=I=>s===void 0?l:l===void 0||Math.abs(s-I)<Math.abs(l-I)?s:l;let v=n*e;const y=f+v,g=a===void 0?y:a(y);g!==y&&(v=g-f);const b=I=>-v*Math.exp(-I/r),x=I=>g+b(I),_=I=>{const O=b(I),N=x(I);d.done=Math.abs(O)<=c,d.value=d.done?g:N};let T,C;const P=I=>{h(d.value)&&(T=I,C=qoe({keyframes:[d.value,m(d.value)],velocity:Xoe(x,I,d.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:I=>{let O=!1;return!C&&T===void 0&&(O=!0,_(I),P(I)),T!==void 0&&I>=T?C.next(I-T):(!O&&_(I),d)}}}const aCe=YS(.42,0,1,1),sCe=YS(0,0,.58,1),Yoe=YS(.42,0,.58,1),lCe=t=>Array.isArray(t)&&typeof t[0]!="number",cCe={linear:qs,easeIn:aCe,easeInOut:Yoe,easeOut:sCe,circIn:uF,circInOut:Poe,circOut:Coe,backIn:cF,backInOut:Toe,backOut:Eoe,anticipate:Aoe},jV=t=>{if(iF(t)){Gie(t.length===4);const[e,n,r,i]=t;return YS(e,n,r,i)}else if(typeof t=="string")return cCe[t];return t};function uCe(t,e,n){const r=[],i=n||Goe,o=t.length-1;for(let a=0;a<o;a++){let s=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||qs:e;s=KS(l,s)}r.push(s)}return r}function fCe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Gie(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=uCe(e,r,i),l=s.length,c=u=>{if(a&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const d=O0(t[f],t[f+1],u);return s[f](d)};return n?u=>c(id(t[0],t[o-1],u)):c}function dCe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=O0(0,e,r);t.push(fi(n,1,i))}}function hCe(t){const e=[0];return dCe(e,t.length-1),e}function pCe(t,e){return t.map(n=>n*e)}function mCe(t,e){return t.map(()=>e||Yoe).splice(0,t.length-1)}function tC({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=lCe(r)?r.map(jV):jV(r),o={done:!1,value:e[0]},a=pCe(n&&n.length===e.length?n:hCe(e),t),s=fCe(a,e,{ease:Array.isArray(i)?i:mCe(e,i)});return{calculatedDuration:t,next:l=>(o.value=s(l),o.done=l>=t,o)}}const gCe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ei.update(e,!0),stop:()=>rp(e),now:()=>Fo.isProcessing?Fo.timestamp:Mu.now()}},vCe={decay:DV,inertia:DV,tween:tC,keyframes:tC,spring:qoe},yCe=t=>t/100;class gF extends Voe{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,a=(i==null?void 0:i.KeyframeResolver)||pF,s=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(o,s,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=this.options,s=rF(n)?n:vCe[n]||tC;let l,c;s!==tC&&typeof e[0]!="number"&&(l=KS(yCe,Goe(e[0],e[1])),e=[0,100]);const u=s({...this.options,keyframes:e});o==="mirror"&&(c=s({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=doe(u));const{calculatedDuration:f}=u,d=f+i,h=d*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:a,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:d,repeat:h,repeatType:m,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),b=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,_=o;if(h){const I=Math.min(this.currentTime,u)/f;let O=Math.floor(I),N=I%1;!N&&I>=1&&(N=1),N===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(m==="reverse"?(N=1-N,v&&(N-=v/f)):m==="mirror"&&(_=a)),x=id(0,1,N)*f}const T=b?{done:!1,value:l[0]}:_.next(x);s&&(T.value=s(T.value));let{done:C}=T;!b&&c!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return P&&i!==void 0&&(T.value=RR(l,this.options,i)),y&&y(T.value),P&&this.finish(),T}get duration(){const{resolved:e}=this;return e?Hf(e.calculatedDuration):0}get time(){return Hf(this.currentTime)}set time(e){e=Vf(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hf(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=gCe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const xCe=new Set(["opacity","clipPath","filter","transform"]);function bCe(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=moe(s,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}const _Ce=U$(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nC=10,wCe=2e4;function SCe(t){return rF(t.type)||t.type==="spring"||!poe(t.ease)}function MCe(t,e){const n=new gF({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<wCe;)r=n.sample(o),i.push(r.value),o+=nC;return{times:void 0,keyframes:i,duration:o-nC,ease:"linear"}}const Koe={anticipate:Aoe,backInOut:Toe,circInOut:Poe};function ECe(t){return t in Koe}class BV extends Voe{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new Woe(o,(a,s)=>this.onKeyframesResolved(a,s),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:a,motionValue:s,name:l,startTime:c}=this.options;if(!s.owner||!s.owner.current)return!1;if(typeof o=="string"&&QA()&&ECe(o)&&(o=Koe[o]),SCe(this.options)){const{onComplete:f,onUpdate:d,motionValue:h,element:m,...v}=this.options,y=MCe(e,v);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,o=y.ease,a="keyframes"}const u=bCe(s.owner.current,l,e,{...this.options,duration:r,times:i,ease:o});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(wV(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;s.set(RR(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Hf(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Hf(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Vf(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return qs;const{animation:r}=n;wV(r,e)}return qs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:a,times:s}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:d,...h}=this.options,m=new gF({...h,keyframes:r,duration:i,type:o,ease:a,times:s,isGenerator:!0}),v=Vf(this.time);c.setWithVelocity(m.sample(v-nC).value,m.sample(v).value,nC)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:a,type:s}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return _Ce()&&r&&xCe.has(r)&&!l&&!c&&!i&&o!=="mirror"&&a!==0&&s!=="inertia"}}const TCe={type:"spring",stiffness:500,damping:25,restSpeed:10},ACe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CCe={type:"keyframes",duration:.8},PCe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RCe=(t,{keyframes:e})=>e.length>2?CCe:Gg.has(t)?t.startsWith("scale")?ACe(e[1]):TCe:PCe;function OCe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const vF=(t,e,n,r={},i,o)=>a=>{const s=nF(r,t)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Vf(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-c,onUpdate:d=>{e.set(d),s.onUpdate&&s.onUpdate(d)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:i};OCe(s)||(u={...u,...RCe(t,u)}),u.duration&&(u.duration=Vf(u.duration)),u.repeatDelay&&(u.repeatDelay=Vf(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!o&&e.get()!==void 0){const d=RR(u.keyframes,s);if(d!==void 0)return ei.update(()=>{u.onUpdate(d),u.onComplete()}),new KTe([])}return!o&&BV.supports(u)?new BV(u):new gF(u)};function LCe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Zoe(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:a=t.getDefaultTransition(),transitionEnd:s,...l}=e;r&&(a=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const d=t.getValue(f,(o=t.latestValues[f])!==null&&o!==void 0?o:null),h=l[f];if(h===void 0||u&&LCe(u,f))continue;const m={delay:n,...nF(a||{},f)};let v=!1;if(window.MotionHandoffAnimation){const g=_oe(t);if(g){const b=window.MotionHandoffAnimation(g,f,ei);b!==null&&(m.startTime=b,v=!0)}}E4(t,f),d.start(vF(f,d,h,t.shouldReduceMotion&&xoe.has(f)?{type:!1}:m,t,v));const y=d.animation;y&&c.push(y)}return s&&Promise.all(c).then(()=>{ei.update(()=>{s&&uAe(t,s)})}),c}function L4(t,e,n={}){var r;const i=PR(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(Zoe(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=o;return kCe(t,e,u+c,f,d,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[c,u]=l==="beforeChildren"?[a,s]:[s,a];return c().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function kCe(t,e,n=0,r=0,i=1,o){const a=[],s=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(t.variantChildren).sort(NCe).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(L4(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function NCe(t,e){return t.sortNodePosition(e)}function ICe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>L4(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=L4(t,e,n);else{const i=typeof e=="function"?PR(t,e,n.custom):e;r=Promise.all(Zoe(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const DCe=V$.length;function Joe(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Joe(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<DCe;n++){const r=V$[n],i=t.props[r];(tw(i)||i===!1)&&(e[r]=i)}return e}const jCe=[...W$].reverse(),BCe=W$.length;function zCe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ICe(t,n,r)))}function $Ce(t){let e=zCe(t),n=zV(),r=!0;const i=l=>(c,u)=>{var f;const d=PR(t,u,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:m,...v}=d;c={...c,...v,...m}}return c};function o(l){e=l(t)}function a(l){const{props:c}=t,u=Joe(t.parent)||{},f=[],d=new Set;let h={},m=1/0;for(let y=0;y<BCe;y++){const g=jCe[y],b=n[g],x=c[g]!==void 0?c[g]:u[g],_=tw(x),T=g===l?b.isActive:null;T===!1&&(m=y);let C=x===u[g]&&x!==c[g]&&_;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...h},!b.isActive&&T===null||!x&&!b.prevProp||AR(x)||typeof x=="boolean")continue;const P=FCe(b.prevProp,x);let I=P||g===l&&b.isActive&&!C&&_||y>m&&_,O=!1;const N=Array.isArray(x)?x:[x];let D=N.reduce(i(g),{});T===!1&&(D={});const{prevResolvedValues:U={}}=b,V={...U,...D},z=X=>{I=!0,d.has(X)&&(O=!0,d.delete(X)),b.needsAnimating[X]=!0;const B=t.getValue(X);B&&(B.liveStyle=!1)};for(const X in V){const B=D[X],G=U[X];if(h.hasOwnProperty(X))continue;let q=!1;w4(B)&&w4(G)?q=!foe(B,G):q=B!==G,q?B!=null?z(X):d.add(X):B!==void 0&&d.has(X)?z(X):b.protectedKeys[X]=!0}b.prevProp=x,b.prevResolvedValues=D,b.isActive&&(h={...h,...D}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(C&&P)||O)&&f.push(...N.map(X=>({animation:X,options:{type:g}})))}if(d.size){const y={};d.forEach(g=>{const b=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),y[g]=b??null}),f.push({animation:y})}let v=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function s(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(d=>{var h;return(h=d.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const f=a(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>n,reset:()=>{n=zV(),r=!0}}}function FCe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!foe(e,t):!1}function tm(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zV(){return{animate:tm(!0),whileInView:tm(),whileHover:tm(),whileTap:tm(),whileDrag:tm(),whileFocus:tm(),exit:tm()}}class wp{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UCe extends wp{constructor(e){super(e),e.animationState||(e.animationState=$Ce(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();AR(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let WCe=0;class VCe extends wp{constructor(){super(...arguments),this.id=WCe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const HCe={animation:{Feature:UCe},exit:{Feature:VCe}};function ow(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ZS(t){return{point:{x:t.pageX,y:t.pageY}}}const GCe=t=>e=>oF(e)&&t(e,ZS(e));function r1(t,e,n,r){return ow(t,e,GCe(n),r)}const $V=(t,e)=>Math.abs(t-e);function XCe(t,e){const n=$V(t.x,e.x),r=$V(t.y,e.y);return Math.sqrt(n**2+r**2)}class Qoe{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Bk(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=XCe(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:m}=f,{timestamp:v}=Fo;this.history.push({...m,timestamp:v});const{onStart:y,onMove:g}=this.handlers;d||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=jk(d,this.transformPagePoint),ei.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:h,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Bk(f.type==="pointercancel"?this.lastMoveEventInfo:jk(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,y),m&&m(f,y)},!oF(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=ZS(e),s=jk(a,this.transformPagePoint),{point:l}=s,{timestamp:c}=Fo;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Bk(s,this.history)),this.removeListeners=KS(r1(this.contextWindow,"pointermove",this.handlePointerMove),r1(this.contextWindow,"pointerup",this.handlePointerUp),r1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rp(this.updatePoint)}}function jk(t,e){return e?{point:e(t.point)}:t}function FV(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bk({point:t},e){return{point:t,delta:FV(t,eae(e)),offset:FV(t,qCe(e)),velocity:YCe(e,.1)}}function qCe(t){return t[0]}function eae(t){return t[t.length-1]}function YCe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=eae(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Vf(e)));)n--;if(!r)return{x:0,y:0};const o=Hf(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const tae=1e-4,KCe=1-tae,ZCe=1+tae,nae=.01,JCe=0-nae,QCe=0+nae;function Zs(t){return t.max-t.min}function ePe(t,e,n){return Math.abs(t-e)<=n}function UV(t,e,n,r=.5){t.origin=r,t.originPoint=fi(e.min,e.max,t.origin),t.scale=Zs(n)/Zs(e),t.translate=fi(n.min,n.max,t.origin)-t.originPoint,(t.scale>=KCe&&t.scale<=ZCe||isNaN(t.scale))&&(t.scale=1),(t.translate>=JCe&&t.translate<=QCe||isNaN(t.translate))&&(t.translate=0)}function i1(t,e,n,r){UV(t.x,e.x,n.x,r?r.originX:void 0),UV(t.y,e.y,n.y,r?r.originY:void 0)}function WV(t,e,n){t.min=n.min+e.min,t.max=t.min+Zs(e)}function tPe(t,e,n){WV(t.x,e.x,n.x),WV(t.y,e.y,n.y)}function VV(t,e,n){t.min=e.min-n.min,t.max=t.min+Zs(e)}function o1(t,e,n){VV(t.x,e.x,n.x),VV(t.y,e.y,n.y)}function nPe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fi(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fi(n,t,r.max):Math.min(t,n)),t}function HV(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rPe(t,{top:e,left:n,bottom:r,right:i}){return{x:HV(t.x,n,i),y:HV(t.y,e,r)}}function GV(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function iPe(t,e){return{x:GV(t.x,e.x),y:GV(t.y,e.y)}}function oPe(t,e){let n=.5;const r=Zs(t),i=Zs(e);return i>r?n=O0(e.min,e.max-r,t.min):r>i&&(n=O0(t.min,t.max-i,e.min)),id(0,1,n)}function aPe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const k4=.35;function sPe(t=k4){return t===!1?t=0:t===!0&&(t=k4),{x:XV(t,"left","right"),y:XV(t,"top","bottom")}}function XV(t,e,n){return{min:qV(t,e),max:qV(t,n)}}function qV(t,e){return typeof t=="number"?t:t[e]||0}const YV=()=>({translate:0,scale:1,origin:0,originPoint:0}),ky=()=>({x:YV(),y:YV()}),KV=()=>({min:0,max:0}),Ni=()=>({x:KV(),y:KV()});function _l(t){return[t("x"),t("y")]}function rae({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function lPe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cPe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function zk(t){return t===void 0||t===1}function N4({scale:t,scaleX:e,scaleY:n}){return!zk(t)||!zk(e)||!zk(n)}function gm(t){return N4(t)||iae(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function iae(t){return ZV(t.x)||ZV(t.y)}function ZV(t){return t&&t!=="0%"}function rC(t,e,n){const r=t-n,i=e*r;return n+i}function JV(t,e,n,r,i){return i!==void 0&&(t=rC(t,i,r)),rC(t,n,r)+e}function I4(t,e=0,n=1,r,i){t.min=JV(t.min,e,n,r,i),t.max=JV(t.max,e,n,r,i)}function oae(t,{x:e,y:n}){I4(t.x,e.translate,e.scale,e.originPoint),I4(t.y,n.translate,n.scale,n.originPoint)}const QV=.999999999999,eH=1.0000000000001;function uPe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Iy(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,oae(t,a)),r&&gm(o.latestValues)&&Iy(t,o.latestValues))}e.x<eH&&e.x>QV&&(e.x=1),e.y<eH&&e.y>QV&&(e.y=1)}function Ny(t,e){t.min=t.min+e,t.max=t.max+e}function tH(t,e,n,r,i=.5){const o=fi(t.min,t.max,i);I4(t,e,n,o,r)}function Iy(t,e){tH(t.x,e.x,e.scaleX,e.scale,e.originX),tH(t.y,e.y,e.scaleY,e.scale,e.originY)}function aae(t,e){return rae(cPe(t.getBoundingClientRect(),e))}function fPe(t,e,n){const r=aae(t,n),{scroll:i}=e;return i&&(Ny(r.x,i.offset.x),Ny(r.y,i.offset.y)),r}const sae=({current:t})=>t?t.ownerDocument.defaultView:null,dPe=new WeakMap;class hPe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ni(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ZS(u).point)},o=(u,f)=>{const{drag:d,dragPropagation:h,onDragStart:m}=this.getProps();if(d&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oAe(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_l(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Su.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[y];x&&(g=Zs(x)*(parseFloat(g)/100))}}this.originPoint[y]=g}),m&&ei.postRender(()=>m(u,f)),E4(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(u,f)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:m,onDrag:v}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:y}=f;if(h&&this.currentDirection===null){this.currentDirection=pPe(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&v(u,f)},s=(u,f)=>this.stop(u,f),l=()=>_l(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Qoe(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:sae(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ei.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ZE(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=nPe(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Oy(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=rPe(i.layoutBox,n):this.constraints=!1,this.elastic=sPe(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_l(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=aPe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Oy(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=fPe(r,i.root,this.visualElement.getTransformPagePoint());let a=iPe(i.layout.layoutBox,o);if(n){const s=n(lPe(a));this.hasMutatedConstraints=!!s,s&&(a=rae(s))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=_l(u=>{if(!ZE(u,n,this.currentDirection))return;let f=l&&l[u]||{};a&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return E4(this.visualElement,e),r.start(vF(e,r,0,n,this.visualElement,!1))}stopAnimation(){_l(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_l(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_l(n=>{const{drag:r}=this.getProps();if(!ZE(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[n];o.set(e[n]-fi(a,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Oy(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_l(a=>{const s=this.getAxisMotionValue(a);if(s&&this.constraints!==!1){const l=s.get();i[a]=oPe({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_l(a=>{if(!ZE(a,e,null))return;const s=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];s.set(fi(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;dPe.set(this.visualElement,this);const e=this.visualElement.current,n=r1(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Oy(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ei.read(r);const a=ow(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(_l(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=k4,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function ZE(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pPe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mPe extends wp{constructor(e){super(e),this.removeGroupControls=qs,this.removeListeners=qs,this.controls=new hPe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qs}unmount(){this.removeGroupControls(),this.removeListeners()}}const nH=t=>(e,n)=>{t&&ei.postRender(()=>t(e,n))};class gPe extends wp{constructor(){super(...arguments),this.removePointerDownListener=qs}onPointerDown(e){this.session=new Qoe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sae(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:nH(e),onStart:nH(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&ei.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=r1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const KT={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rH(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gb={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(fn.test(t))t=parseFloat(t);else return t;const n=rH(t,e.target.x),r=rH(t,e.target.y);return`${n}% ${r}%`}},vPe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ip.parse(t);if(i.length>5)return r;const o=ip.createTransformer(t),a=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=s,i[1+a]/=l;const c=fi(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),o(i)}};class yPe extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;BTe(xPe),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),KT.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||ei.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G$.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lae(t){const[e,n]=Vie(),r=A.useContext(j$);return S.jsx(yPe,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(Jie),isPresent:e,safeToRemove:n})}const xPe={borderRadius:{...Gb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gb,borderTopRightRadius:Gb,borderBottomLeftRadius:Gb,borderBottomRightRadius:Gb,boxShadow:vPe};function bPe(t,e,n){const r=ma(t)?t:rw(t);return r.start(vF("",r,e,n)),r.animation}function _Pe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const wPe=(t,e)=>t.depth-e.depth;class SPe{constructor(){this.children=[],this.isDirty=!1}add(e){aF(this.children,e),this.isDirty=!0}remove(e){sF(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wPe),this.isDirty=!1,this.children.forEach(e)}}function MPe(t,e){const n=Mu.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(rp(r),t(o-e))};return ei.read(r,!0),()=>rp(r)}const cae=["TopLeft","TopRight","BottomLeft","BottomRight"],EPe=cae.length,iH=t=>typeof t=="string"?parseFloat(t):t,oH=t=>typeof t=="number"||fn.test(t);function TPe(t,e,n,r,i,o){i?(t.opacity=fi(0,n.opacity!==void 0?n.opacity:1,APe(r)),t.opacityExit=fi(e.opacity!==void 0?e.opacity:1,0,CPe(r))):o&&(t.opacity=fi(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<EPe;a++){const s=`border${cae[a]}Radius`;let l=aH(e,s),c=aH(n,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||oH(l)===oH(c)?(t[s]=Math.max(fi(iH(l),iH(c),r),0),(Su.test(c)||Su.test(l))&&(t[s]+="%")):t[s]=c}(e.rotate||n.rotate)&&(t.rotate=fi(e.rotate||0,n.rotate||0,r))}function aH(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const APe=uae(0,.5,Coe),CPe=uae(.5,.95,qs);function uae(t,e,n){return r=>r<t?0:r>e?1:n(O0(t,e,r))}function sH(t,e){t.min=e.min,t.max=e.max}function ml(t,e){sH(t.x,e.x),sH(t.y,e.y)}function lH(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cH(t,e,n,r,i){return t-=e,t=rC(t,1/n,r),i!==void 0&&(t=rC(t,1/i,r)),t}function PPe(t,e=0,n=1,r=.5,i,o=t,a=t){if(Su.test(e)&&(e=parseFloat(e),e=fi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let s=fi(o.min,o.max,r);t===o&&(s-=e),t.min=cH(t.min,e,n,s,i),t.max=cH(t.max,e,n,s,i)}function uH(t,e,[n,r,i],o,a){PPe(t,e[n],e[r],e[i],e.scale,o,a)}const RPe=["x","scaleX","originX"],OPe=["y","scaleY","originY"];function fH(t,e,n,r){uH(t.x,e,RPe,n?n.x:void 0,r?r.x:void 0),uH(t.y,e,OPe,n?n.y:void 0,r?r.y:void 0)}function dH(t){return t.translate===0&&t.scale===1}function fae(t){return dH(t.x)&&dH(t.y)}function hH(t,e){return t.min===e.min&&t.max===e.max}function LPe(t,e){return hH(t.x,e.x)&&hH(t.y,e.y)}function pH(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function dae(t,e){return pH(t.x,e.x)&&pH(t.y,e.y)}function mH(t){return Zs(t.x)/Zs(t.y)}function gH(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kPe{constructor(){this.members=[]}add(e){aF(this.members,e),e.scheduleRender()}remove(e){if(sF(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NPe(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:d,skewX:h,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const vm={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},N_=typeof window<"u"&&window.MotionDebug!==void 0,$k=["","X","Y","Z"],IPe={visibility:"hidden"},vH=1e3;let DPe=0;function Fk(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function hae(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_oe(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ei,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&hae(r)}function pae({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=e==null?void 0:e()){this.id=DPe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,N_&&(vm.totalNodes=vm.resolvedTargetDeltas=vm.recalculatedProjection=0),this.nodes.forEach(zPe),this.nodes.forEach(VPe),this.nodes.forEach(HPe),this.nodes.forEach($Pe),N_&&window.MotionDebug.record(vm)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new SPe)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new lF),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_Pe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=MPe(d,250),KT.hasAnimatedSinceResize&&(KT.hasAnimatedSinceResize=!1,this.nodes.forEach(xH))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||KPe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=u.getProps(),b=!this.targetLayout||!dae(this.targetLayout,m)||h,x=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const _={...nF(v,"layout"),onPlay:y,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else d||xH(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GPe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hae(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yH);return}this.isUpdating||this.nodes.forEach(UPe),this.isUpdating=!1,this.nodes.forEach(WPe),this.nodes.forEach(jPe),this.nodes.forEach(BPe),this.clearAllSnapshots();const s=Mu.now();Fo.delta=id(0,1e3/60,s-Fo.timestamp),Fo.timestamp=s,Fo.isProcessing=!0,Ok.update.process(Fo),Ok.preRender.process(Fo),Ok.render.process(Fo),Fo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G$.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FPe),this.sharedNodes.forEach(XPe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ei.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ei.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ni(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!fae(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(s||gm(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),ZPe(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:s}=this.options;if(!s)return Ni();const l=s.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(JPe))){const{scroll:u}=this.root;u&&(Ny(l.x,u.offset.x),Ny(l.y,u.offset.y))}return l}removeElementScroll(a){var s;const l=Ni();if(ml(l,a),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;u!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&ml(l,a),Ny(l.x,f.offset.x),Ny(l.y,f.offset.y))}return l}applyTransform(a,s=!1){const l=Ni();ml(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Iy(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),gm(u.latestValues)&&Iy(l,u.latestValues)}return gm(this.latestValues)&&Iy(l,this.latestValues),l}removeTransform(a){const s=Ni();ml(s,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!gm(c.latestValues))continue;N4(c.latestValues)&&c.updateSnapshot();const u=Ni(),f=c.measurePageBox();ml(u,f),fH(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return gm(this.latestValues)&&fH(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Fo.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ni(),this.relativeTargetOrigin=Ni(),o1(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),ml(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ni(),this.targetWithTransforms=Ni()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tPe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ml(this.target,this.layout.layoutBox),oae(this.target,this.targetDelta)):ml(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ni(),this.relativeTargetOrigin=Ni(),o1(this.relativeTargetOrigin,this.target,h.target),ml(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}N_&&vm.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||N4(this.parent.latestValues)||iae(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Fo.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ml(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;uPe(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ni());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lH(this.prevProjectionDelta.x,this.projectionDelta.x),lH(this.prevProjectionDelta.y,this.projectionDelta.y)),i1(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!gH(this.projectionDelta.x,this.prevProjectionDelta.x)||!gH(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),N_&&vm.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ky(),this.projectionDelta=ky(),this.projectionDeltaWithTransform=ky()}setAnimationOrigin(a,s=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ky();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const d=Ni(),h=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=h!==m,y=this.getStack(),g=!y||y.members.length<=1,b=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(YPe));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const T=_/1e3;bH(f.x,a.x,T),bH(f.y,a.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(o1(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qPe(this.relativeTarget,this.relativeTargetOrigin,d,T),x&&LPe(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ni()),ml(x,this.relativeTarget)),v&&(this.animationValues=u,TPe(u,c,this.latestValues,T,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ei.update(()=>{KT.hasAnimatedSinceResize=!0,this.currentAnimation=bPe(0,vH,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:u}=a;if(!(!s||!l||!c)){if(this!==a&&this.layout&&c&&mae(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ni();const f=Zs(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const d=Zs(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}ml(s,l),Iy(s,u),i1(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new kPe),this.sharedNodes.get(a).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&Fk("z",a,c,this.animationValues);for(let u=0;u<$k.length;u++)Fk(`rotate${$k[u]}`,a,c,this.animationValues),Fk(`skew${$k[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return IPe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=qT(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=qT(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!gm(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=NPe(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:h,y:m}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(s=d.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in JA){if(d[v]===void 0)continue;const{correct:y,applyTo:g}=JA[v],b=c.transform==="none"?d[v]:y(d[v],f);if(g){const x=g.length;for(let _=0;_<x;_++)c[g[_]]=b}else c[v]=b}return this.options.layoutId&&(c.pointerEvents=f===this?qT(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(yH),this.root.sharedNodes.clear()}}}function jPe(t){t.updateLayout()}function BPe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=n.source!==t.layout.source;o==="size"?_l(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],h=Zs(d);d.min=r[f].min,d.max=d.min+h}):mae(o,n.layoutBox,r)&&_l(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],h=Zs(r[f]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const s=ky();i1(s,r,n.layoutBox);const l=ky();a?i1(l,t.applyTransform(i,!0),n.measuredBox):i1(l,r,n.layoutBox);const c=!fae(s);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const m=Ni();o1(m,n.layoutBox,d.layoutBox);const v=Ni();o1(v,r,h.layoutBox),dae(m,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zPe(t){N_&&vm.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $Pe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FPe(t){t.clearSnapshot()}function yH(t){t.clearMeasurements()}function UPe(t){t.isLayoutDirty=!1}function WPe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xH(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function VPe(t){t.resolveTargetDelta()}function HPe(t){t.calcProjection()}function GPe(t){t.resetSkewAndRotation()}function XPe(t){t.removeLeadSnapshot()}function bH(t,e,n){t.translate=fi(e.translate,0,n),t.scale=fi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _H(t,e,n,r){t.min=fi(e.min,n.min,r),t.max=fi(e.max,n.max,r)}function qPe(t,e,n,r){_H(t.x,e.x,n.x,r),_H(t.y,e.y,n.y,r)}function YPe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const KPe={duration:.45,ease:[.4,0,.1,1]},wH=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),SH=wH("applewebkit/")&&!wH("chrome/")?Math.round:qs;function MH(t){t.min=SH(t.min),t.max=SH(t.max)}function ZPe(t){MH(t.x),MH(t.y)}function mae(t,e,n){return t==="position"||t==="preserve-aspect"&&!ePe(mH(e),mH(n),.2)}function JPe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const QPe=pae({attachResizeListener:(t,e)=>ow(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uk={current:void 0},gae=pae({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uk.current){const t=new QPe({});t.mount(window),t.setOptions({layoutScroll:!0}),Uk.current=t}return Uk.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eRe={pan:{Feature:gPe},drag:{Feature:mPe,ProjectionNode:gae,MeasureLayout:lae}};function EH(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&ei.postRender(()=>o(e,ZS(e)))}class tRe extends wp{mount(){const{current:e}=this.node;e&&(this.unmount=eAe(e,n=>(EH(this.node,n,"Start"),r=>EH(this.node,r,"End"))))}unmount(){}}class nRe extends wp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=KS(ow(this.node.current,"focus",()=>this.onFocus()),ow(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TH(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&ei.postRender(()=>o(e,ZS(e)))}class rRe extends wp{mount(){const{current:e}=this.node;e&&(this.unmount=iAe(e,n=>(TH(this.node,n,"Start"),(r,{success:i})=>TH(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const D4=new WeakMap,Wk=new WeakMap,iRe=t=>{const e=D4.get(t.target);e&&e(t)},oRe=t=>{t.forEach(iRe)};function aRe({root:t,...e}){const n=t||document;Wk.has(n)||Wk.set(n,{});const r=Wk.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(oRe,{root:t,...e})),r[i]}function sRe(t,e,n){const r=aRe(e);return D4.set(t,n),r.observe(t),()=>{D4.delete(t),r.unobserve(t)}}const lRe={some:0,all:1};class cRe extends wp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:lRe[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return sRe(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uRe(e,n))&&this.startObserver()}unmount(){}}function uRe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fRe={inView:{Feature:cRe},tap:{Feature:rRe},focus:{Feature:nRe},hover:{Feature:tRe}},dRe={layout:{ProjectionNode:gae,MeasureLayout:lae}},j4={current:null},vae={current:!1};function hRe(){if(vae.current=!0,!!$$)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>j4.current=t.matches;t.addListener(e),e()}else j4.current=!1}const pRe=[...Uoe,ca,ip],mRe=t=>pRe.find(Foe(t)),AH=new WeakMap;function gRe(t,e,n){for(const r in e){const i=e[r],o=n[r];if(ma(i))t.addValue(r,i);else if(ma(o))t.addValue(r,rw(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,rw(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CH=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vRe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pF,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Mu.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ei.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=CR(n),this.isVariantNode=Kie(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const m=d[h];l[h]!==void 0&&ma(m)&&m.set(l[h],!1)}}mount(e){this.current=e,AH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),vae.current||hRe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:j4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){AH.delete(this.current),this.projection&&this.projection.unmount(),rp(this.notifyUpdate),rp(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Gg.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&ei.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in L0){const n=L0[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ni()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CH.length;r++){const i=CH[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=gRe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=rw(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(zoe(i)||Roe(i))?i=parseFloat(i):!mRe(i)&&ip.test(n)&&(i=Doe(e,n)),this.setBaseTarget(e,ma(i)?i.get():i)),ma(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=q$(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ma(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lF),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class yae extends vRe{constructor(){super(...arguments),this.KeyframeResolver=Woe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ma(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yRe(t){return window.getComputedStyle(t)}class xRe extends yae{constructor(){super(...arguments),this.type="html",this.renderInstance=ooe}readValueFromInstance(e,n){if(Gg.has(n)){const r=hF(n);return r&&r.default||0}else{const r=yRe(e),i=(noe(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return aae(e,n)}build(e,n,r){Z$(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return tF(e,n,r)}}class bRe extends yae{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ni}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gg.has(n)){const r=hF(n);return r&&r.default||0}return n=aoe.has(n)?n:H$(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return coe(e,n,r)}build(e,n,r){J$(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){soe(e,n,r,i)}mount(e){this.isSVGTag=eF(e.tagName),super.mount(e)}}const _Re=(t,e)=>X$(t)?new bRe(e):new xRe(e,{allowProjection:t!==A.Fragment}),wRe=XTe({...HCe,...fRe,...eRe,...dRe},_Re),ht=lTe(wRe);var SRe=Symbol.for("react.lazy"),iC=XP[" use ".trim().toString()];function MRe(t){return typeof t=="object"&&t!==null&&"then"in t}function xae(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===SRe&&"_payload"in t&&MRe(t._payload)}function bae(t){const e=TRe(t),n=A.forwardRef((r,i)=>{let{children:o,...a}=r;xae(o)&&typeof iC=="function"&&(o=iC(o._payload));const s=A.Children.toArray(o),l=s.find(CRe);if(l){const c=l.props.children,u=s.map(f=>f===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:f);return S.jsx(e,{...a,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,u):null})}return S.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var ERe=bae("Slot");function TRe(t){const e=A.forwardRef((n,r)=>{let{children:i,...o}=n;if(xae(i)&&typeof iC=="function"&&(i=iC(i._payload)),A.isValidElement(i)){const a=RRe(i),s=PRe(o,i.props);return i.type!==A.Fragment&&(s.ref=r?Nu(r,a):a),A.cloneElement(i,s)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ARe=Symbol("radix.slottable");function CRe(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ARe}function PRe(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function RRe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ORe=VS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg hover:shadow-primary/20",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md",outline:"border border-border bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground font-semibold shadow-lg shadow-primary/30 hover:shadow-xl hover:shadow-primary/40 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300","hero-outline":"border-2 border-primary/50 bg-transparent text-foreground hover:border-primary hover:bg-primary/10 font-semibold transition-all duration-300",glass:"bg-card/60 backdrop-blur-xl border border-border/50 text-foreground hover:bg-card/80 hover:border-primary/30 shadow-lg",glow:"bg-primary text-primary-foreground shadow-glow-primary hover:shadow-[0_0_60px_hsl(var(--primary)/0.5)] transition-all duration-300",anomaly:"bg-anomaly text-anomaly-foreground hover:bg-anomaly/90 shadow-md shadow-anomaly/20",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md shadow-success/20",critical:"bg-critical text-critical-foreground hover:bg-critical/90 shadow-md shadow-critical/20"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),br=A.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const a=r?ERe:"button";return S.jsx(a,{className:Zn(ORe({variant:e,size:n,className:t})),ref:o,...i})});br.displayName="Button";const LRe=VS("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",anomaly:"border-anomaly/30 bg-anomaly/20 text-anomaly",critical:"border-critical/30 bg-critical/20 text-critical",success:"border-success/30 bg-success/20 text-success",info:"border-info/30 bg-info/20 text-info",h0:"border-topo-h0/30 bg-topo-h0/20 text-topo-h0",h1:"border-topo-h1/30 bg-topo-h1/20 text-topo-h1",h2:"border-topo-h2/30 bg-topo-h2/20 text-topo-h2",pulse:"border-primary/30 bg-primary/20 text-primary animate-pulse",glow:"border-primary bg-primary/20 text-primary shadow-glow-primary"}},defaultVariants:{variant:"default"}});function vr({className:t,variant:e,...n}){return S.jsx("div",{className:Zn(LRe({variant:e}),t),...n})}function kRe({className:t,variant:e="hero"}){const{bettiNumbers:n,isConnected:r,recentEvents:i}=Rr(),o=e==="hero"?24:e==="dashboard"?12:8,a=r?Math.max(o,Math.min(n.h0+n.h1,40)):o,s=A.useMemo(()=>{const u=i.length>0?i[0].id.charCodeAt(0):42;return Array.from({length:a},(f,d)=>{const h=Math.sin(u+d*.7)*.5+.5,m=Math.cos(u+d*.9)*.5+.5;return{id:d,x:10+h*80,y:10+m*80,size:4+h*m*8,delay:h*2,duration:3+m*4}})},[a,i]),l=[];s.forEach((u,f)=>{s.slice(f+1).forEach((d,h)=>{const m=Math.sqrt(Math.pow(u.x-d.x,2)+Math.pow(u.y-d.y,2));m<35&&l.push({from:f,to:f+h+1,opacity:Math.max(.1,1-m/35)})})});const c=e==="hero"?"w-full h-full min-h-[500px]":e==="dashboard"?"w-full h-64":"w-48 h-48";return S.jsxs("div",{className:Zn("relative overflow-hidden",c,t),children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-primary/5 via-transparent to-transparent"}),S.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid slice",children:[S.jsx("g",{children:l.map((u,f)=>S.jsx(ht.line,{x1:s[u.from].x||0,y1:s[u.from].y||0,x2:s[u.to].x||0,y2:s[u.to].y||0,stroke:"hsl(var(--primary))",strokeWidth:.3,strokeOpacity:u.opacity*.5,initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:[0,u.opacity*.5,u.opacity*.3]},transition:{duration:2,delay:f*.05,repeat:1/0,repeatType:"reverse",repeatDelay:3}},`conn-${f}`))}),S.jsx("g",{children:s.map(u=>S.jsxs(ht.g,{children:[S.jsx(ht.circle,{cx:u.x||0,cy:u.y||0,r:(u.size||0)*1.5,fill:"hsl(var(--primary))",opacity:.1,initial:{r:(u.size||0)*1.5},animate:{r:[(u.size||0)*1.5,(u.size||0)*2.5,(u.size||0)*1.5],opacity:[.1,.2,.1]},transition:{duration:u.duration,delay:u.delay,repeat:1/0,ease:"easeInOut"}}),S.jsx(ht.circle,{cx:u.x||0,cy:u.y||0,r:(u.size||0)/2,fill:"hsl(var(--primary))",initial:{scale:0,opacity:0},animate:{scale:1,opacity:[.6,1,.6],y:[0,-2,0]},transition:{scale:{duration:.5,delay:u.delay},opacity:{duration:u.duration,delay:u.delay,repeat:1/0},y:{duration:u.duration,delay:u.delay,repeat:1/0}}})]},u.id))}),S.jsx(ht.ellipse,{cx:"50",cy:"50",rx:25,ry:20,fill:"none",stroke:"hsl(var(--primary))",strokeWidth:"0.5",strokeOpacity:"0.3",initial:{rx:25,ry:20},animate:{rx:[25,30,20,25],ry:[20,15,25,20],rotate:[0,90,180,270,360]},transition:{duration:20,repeat:1/0,ease:"linear"}})]})]})}function _ae({className:t,data:e,animated:n=!0}){const{persistenceDiagram:r,isConnected:i}=Rr(),o=A.useMemo(()=>e&&e.length>0?e:r.length>0?r:[{id:"p0",birth:.1,death:.8,dimension:0},{id:"p1",birth:.15,death:.6,dimension:0},{id:"p2",birth:.2,death:.75,dimension:1},{id:"p3",birth:.3,death:.9,dimension:1},{id:"p4",birth:.25,death:.5,dimension:0},{id:"p5",birth:.4,death:.85,dimension:2},{id:"p6",birth:.35,death:.7,dimension:1}],[e,r]),a=s=>{switch(s){case 0:return"var(--topo-h0)";case 1:return"var(--topo-h1)";case 2:return"var(--topo-h2)";default:return"var(--primary)"}};return S.jsxs("div",{className:Zn("relative bg-card/50 rounded-xl p-4 border border-border/50",t),children:[S.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"Persistence Diagram"}),i&&S.jsxs(ht.div,{className:"flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-success/10 text-success text-[9px]",animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},children:[S.jsx("span",{className:"w-1 h-1 rounded-full bg-success"}),"Live"]})]}),S.jsxs("svg",{className:"w-full h-full min-h-[200px]",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet",children:[S.jsx("g",{opacity:"0.2",children:[20,40,60,80].map(s=>S.jsxs("g",{children:[S.jsx("line",{x1:"10",y1:s,x2:"90",y2:s,stroke:"hsl(var(--border))",strokeWidth:"0.5",strokeDasharray:"2 2"}),S.jsx("line",{x1:s,y1:"10",x2:s,y2:"90",stroke:"hsl(var(--border))",strokeWidth:"0.5",strokeDasharray:"2 2"})]},s))}),S.jsx("line",{x1:"10",y1:"90",x2:"90",y2:"10",stroke:"hsl(var(--muted-foreground))",strokeWidth:"0.5",strokeOpacity:"0.5"}),o.map((s,l)=>{const c=10+s.birth*80,u=90-s.death*80,d=2+(s.death-s.birth)*4;return S.jsxs(ht.g,{children:[S.jsx(ht.circle,{cx:c||0,cy:u||0,r:(d||0)*2,fill:`hsl(${a(s.dimension)})`,opacity:.2,initial:n?{scale:0}:{},animate:n?{scale:[1,1.3,1],opacity:[.2,.3,.2]}:{},transition:{delay:l*.1,duration:3,repeat:1/0}}),S.jsx(ht.circle,{cx:c||0,cy:u||0,r:d||0,fill:`hsl(${a(s.dimension)})`,initial:n?{scale:0,opacity:0}:{},animate:n?{scale:1,opacity:1}:{},transition:{delay:l*.1,type:"spring",stiffness:200}})]},l)}),S.jsx("text",{x:"50",y:"98",textAnchor:"middle",className:"fill-muted-foreground text-[4px]",children:"Birth"}),S.jsx("text",{x:"5",y:"50",textAnchor:"middle",className:"fill-muted-foreground text-[4px]",transform:"rotate(-90, 5, 50)",children:"Death"})]}),S.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-3 text-[10px]",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-topo-h0"}),S.jsx("span",{className:"text-muted-foreground",children:"H"})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-topo-h1"}),S.jsx("span",{className:"text-muted-foreground",children:"H"})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-topo-h2"}),S.jsx("span",{className:"text-muted-foreground",children:"H"})]})]})]})}const NRe=()=>{const t=[{icon:VA,title:"Topological Feature Extraction",description:"Extract persistent homology, Betti numbers, and simplicial complexes from your data streams."},{icon:T1e,title:"Hybrid AI Detection",description:"Combine TDA with Isolation Forests, Autoencoders, and deep learning for robust anomaly detection."},{icon:N1e,title:"Shape Evolution Tracking",description:"Monitor how the topological shape of your data changes over time to detect structural anomalies."},{icon:pR,title:"Real-time Processing",description:"Process millions of events per second with sub-second detection latency."},{icon:G1e,title:"Multi-source Ingestion",description:"Connect network logs, financial data, IoT sensors, and system metrics seamlessly."},{icon:HS,title:"Explainable Insights",description:"Understand why anomalies were detected with visual persistence diagrams and summaries."}],e=[{icon:wc,label:"Cybersecurity",description:"Detect network intrusions and APT attacks"},{icon:eg,label:"Financial Systems",description:"Identify fraudulent transaction patterns"},{icon:Qh,label:"IoT & Infrastructure",description:"Monitor sensor networks and critical systems"}],n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return S.jsxs("div",{className:"min-h-screen bg-background overflow-hidden",children:[S.jsxs("section",{className:"relative min-h-screen flex items-center",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-mesh opacity-50"}),S.jsx("div",{className:"absolute inset-0 dot-pattern opacity-30"}),S.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(30)].map((i,o)=>S.jsx(ht.div,{className:"absolute w-2 h-2 bg-primary/30 rounded-full blur-sm",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight,Math.random()*window.innerHeight],scale:[1,1.5,1],opacity:[.3,.6,.3]},transition:{duration:15+Math.random()*10,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},o))}),S.jsx("div",{className:"absolute inset-0 opacity-40",children:S.jsx(kRe,{variant:"hero"})}),S.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:S.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[S.jsxs(ht.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[S.jsxs(vr,{variant:"glow",className:"mb-6",children:[S.jsx("span",{className:"mr-2",children:""})," Topological Data Analysis Platform"]}),S.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold leading-tight mb-6",children:[S.jsx("span",{className:"text-foreground",children:"Detect Anomalies by"}),S.jsx("br",{}),S.jsx("span",{className:"text-gradient-primary",children:"Shape, Not Rules"})]}),S.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-xl leading-relaxed",children:"TopoForge uses persistent homology and topological data analysis to detect structural anomalies in complex, high-dimensional data. When the shape of your data changes, we catch it."}),S.jsxs("div",{className:"flex flex-wrap gap-4",children:[S.jsx(uh,{to:"/dashboard",children:S.jsxs(br,{variant:"hero",size:"xl",children:["Launch Dashboard",S.jsx(O7,{className:"w-5 h-5 ml-2"})]})}),S.jsx(br,{variant:"hero-outline",size:"xl",children:"Watch Demo"})]}),S.jsx("div",{className:"flex gap-8 mt-12 pt-8 border-t border-border/30",children:[{value:"< 100ms",label:"Detection Latency"},{value:"2M+",label:"Events/Second"},{value:"99.7%",label:"Accuracy"}].map((i,o)=>S.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+o*.1},children:[S.jsx("div",{className:"text-2xl font-bold font-mono text-primary",children:i.value}),S.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:i.label})]},o))})]}),S.jsx(ht.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.3},className:"hidden lg:block",children:S.jsxs("div",{className:"relative",children:[S.jsx(_ae,{className:"w-full h-[400px]"}),S.jsxs(ht.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1.5},className:"absolute -right-4 top-1/4 glass-card p-3 max-w-[180px]",children:[S.jsx("div",{className:"text-xs font-medium text-primary mb-1",children:"Anomaly Detected"}),S.jsx("div",{className:"text-[10px] text-muted-foreground",children:"High-persistence H feature indicates unusual cyclic pattern"})]})]})})]})}),S.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:S.jsx(ht.div,{animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0},className:"w-6 h-10 rounded-full border-2 border-muted-foreground/30 flex justify-center pt-2",children:S.jsx("div",{className:"w-1 h-2 rounded-full bg-primary"})})})]}),S.jsxs("section",{className:"py-24 relative",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-card/30 to-background"}),S.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[S.jsx(vr,{variant:"secondary",className:"mb-4",children:"USE CASES"}),S.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Built for Complex, Critical Systems"}),S.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Traditional anomaly detection fails on complex, noisy data. TopoForge thrives on it."})]}),S.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:e.map((i,o)=>S.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:o*.1},className:"group relative overflow-hidden rounded-2xl border border-border/50 bg-card/30 p-8 hover:border-primary/30 transition-all duration-500",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:S.jsx(i.icon,{className:"w-6 h-6 text-primary"})}),S.jsx("h3",{className:"text-xl font-semibold mb-2",children:i.label}),S.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:i.description}),S.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx("span",{children:"Learn more"}),S.jsx(s4,{className:"w-4 h-4"})]})]})]},o))})]})]}),S.jsx("section",{className:"py-24 relative",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[S.jsx(vr,{variant:"secondary",className:"mb-4",children:"CAPABILITIES"}),S.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"The Complete TDA Pipeline"}),S.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"From raw data ingestion to explainable insights, every step is designed for production-grade anomaly detection."})]}),S.jsx(ht.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((i,o)=>S.jsx(ht.div,{variants:r,className:"group relative overflow-hidden rounded-xl border border-border/50 bg-card/50 p-6 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/5 transition-all duration-300",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"shrink-0 w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:S.jsx(i.icon,{className:"w-5 h-5 text-primary"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold mb-2",children:i.title}),S.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.description})]})]})},o))})]})}),S.jsxs("section",{className:"py-24 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent"}),S.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[S.jsx(vr,{variant:"secondary",className:"mb-4",children:"HOW IT WORKS"}),S.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"From Data to Insight in Milliseconds"})]}),S.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:[{step:"01",title:"Ingest",description:"Stream data from any source"},{step:"02",title:"Extract",description:"Compute topological features"},{step:"03",title:"Analyze",description:"Detect structural changes"},{step:"04",title:"Alert",description:"Explain and notify"}].map((i,o)=>S.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:o*.15},className:"relative text-center",children:[o<3&&S.jsx("div",{className:"hidden md:block absolute top-8 left-1/2 w-full h-px bg-gradient-to-r from-primary/50 to-transparent"}),S.jsx("div",{className:"relative inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-card border border-border mb-4",children:S.jsx("span",{className:"text-2xl font-bold font-mono text-primary",children:i.step})}),S.jsx("h3",{className:"font-semibold mb-2",children:i.title}),S.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]},o))})]})]}),S.jsx("section",{className:"py-24 relative",children:S.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:S.jsxs(ht.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"relative overflow-hidden rounded-3xl border border-border/50 bg-gradient-to-br from-card via-card to-card/50 p-12",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-mesh opacity-30"}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Ready to See Anomalies Differently?"}),S.jsx("p",{className:"text-muted-foreground mb-8 max-w-xl mx-auto",children:"Join the companies using topological intelligence to protect their most critical systems."}),S.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[S.jsx(uh,{to:"/dashboard",children:S.jsxs(br,{variant:"hero",size:"xl",children:["Start Free Trial",S.jsx(O7,{className:"w-5 h-5 ml-2"})]})}),S.jsx(br,{variant:"hero-outline",size:"xl",children:"Contact Sales"})]}),S.jsx("div",{className:"flex flex-wrap justify-center gap-6 mt-8 text-sm text-muted-foreground",children:["No credit card required","14-day free trial","Enterprise ready"].map((i,o)=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Nre,{className:"w-4 h-4 text-success"}),S.jsx("span",{children:i})]},o))})]})]})})}),S.jsx("footer",{className:"py-12 border-t border-border/50",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-primary/50 flex items-center justify-center",children:S.jsx(VA,{className:"w-4 h-4 text-primary-foreground"})}),S.jsx("span",{className:"font-bold",children:"TopoForge"})]}),S.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[S.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Documentation"}),S.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"API"}),S.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Support"}),S.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Privacy"})]}),S.jsx("div",{className:"text-sm text-muted-foreground",children:" 2024 TopoForge. All rights reserved."})]})})})]})},B4=A.forwardRef(({className:t,type:e,...n},r)=>S.jsx("input",{type:e,className:Zn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));B4.displayName="Input";var IRe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DRe=IRe.reduce((t,e)=>{const n=bae(`Primitive.${e}`),r=A.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),jRe="Label",wae=A.forwardRef((t,e)=>S.jsx(DRe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wae.displayName=jRe;var Sae=wae;const BRe=VS("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rf=A.forwardRef(({className:t,...e},n)=>S.jsx(Sae,{ref:n,className:Zn(BRe(),t),...e}));Rf.displayName=Sae.displayName;const zRe=VS("rounded-xl border bg-card text-card-foreground",{variants:{variant:{default:"border-border shadow-sm",glass:"bg-card/60 backdrop-blur-xl border-border/50 shadow-lg",elevated:"border-border shadow-md hover:shadow-lg transition-shadow duration-300",interactive:"border-border shadow-sm hover:border-primary/30 hover:shadow-md transition-all duration-300 cursor-pointer",glow:"border-primary/30 shadow-glow-primary",anomaly:"border-anomaly/50 shadow-glow-anomaly",critical:"border-critical/50 shadow-glow-critical",success:"border-success/30 shadow-md shadow-success/10",metric:"border-border/50 bg-gradient-to-br from-card to-card/50"}},defaultVariants:{variant:"default"}}),bn=A.forwardRef(({className:t,variant:e,...n},r)=>S.jsx("div",{ref:r,className:Zn(zRe({variant:e,className:t})),...n}));bn.displayName="Card";const Fa=A.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Zn("flex flex-col space-y-1.5 p-6",t),...e}));Fa.displayName="CardHeader";const Ua=A.forwardRef(({className:t,...e},n)=>S.jsx("h3",{ref:n,className:Zn("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ua.displayName="CardTitle";const Xg=A.forwardRef(({className:t,...e},n)=>S.jsx("p",{ref:n,className:Zn("text-sm text-muted-foreground",t),...e}));Xg.displayName="CardDescription";const Ti=A.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Zn("p-6 pt-0",t),...e}));Ti.displayName="CardContent";const $Re=A.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Zn("flex items-center p-6 pt-0",t),...e}));$Re.displayName="CardFooter";function FRe(){const t=XS(),{toast:e}=cR(),[n,r]=A.useState(""),[i,o]=A.useState(""),[a,s]=A.useState(!1),l=async c=>{c.preventDefault(),s(!0),await new Promise(f=>setTimeout(f,500));const u=X2e(n,i);u.success?(e({title:"Login Successful",description:`Welcome back, ${n}!`}),t("/dashboard")):e({title:"Login Failed",description:u.error,variant:"destructive"}),s(!1)};return S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 flex items-center justify-center p-4",children:[S.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((c,u)=>S.jsx(ht.div,{className:"absolute w-2 h-2 bg-primary/20 rounded-full",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight]},transition:{duration:20+Math.random()*20,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},u))}),S.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:[S.jsxs(bn,{className:"backdrop-blur-sm bg-card/80 border-primary/20",children:[S.jsxs(Fa,{className:"space-y-1 text-center",children:[S.jsx("div",{className:"flex justify-center mb-4",children:S.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:S.jsx(Qh,{className:"w-8 h-8 text-primary"})})}),S.jsx(Ua,{className:"text-2xl font-bold",children:"TopoShape Insights"}),S.jsx(Xg,{children:"TDA-Based Anomaly Detection Platform"})]}),S.jsxs(Ti,{children:[S.jsxs("form",{onSubmit:l,className:"space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(Rf,{htmlFor:"username",children:"Username"}),S.jsxs("div",{className:"relative",children:[S.jsx(zre,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),S.jsx(B4,{id:"username",type:"text",placeholder:"Enter username",value:n,onChange:c=>r(c.target.value),className:"pl-10",required:!0})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(Rf,{htmlFor:"password",children:"Password"}),S.jsxs("div",{className:"relative",children:[S.jsx(F1e,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),S.jsx(B4,{id:"password",type:"password",placeholder:"Enter password",value:i,onChange:c=>o(c.target.value),className:"pl-10",required:!0})]})]}),S.jsx(br,{type:"submit",className:"w-full",disabled:a,children:a?"Logging in...":"Login"})]}),S.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[S.jsx("p",{className:"text-xs text-muted-foreground text-center mb-2",children:"Demo Credentials:"}),S.jsxs("div",{className:"text-xs space-y-1",children:[S.jsxs("p",{className:"font-mono",children:[S.jsx("span",{className:"text-primary",children:"admin"})," / tda2024"]}),S.jsxs("p",{className:"font-mono",children:[S.jsx("span",{className:"text-primary",children:"demo"})," / demo123"]})]})]})]})]}),S.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"Powered by Topological Data Analysis"})]})]})}function URe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const OR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kx(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function yF(t){return"nodeType"in t}function ws(t){var e,n;return t?kx(t)?t:yF(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function xF(t){const{Document:e}=ws(t);return t instanceof e}function JS(t){return kx(t)?!1:t instanceof ws(t).HTMLElement}function Mae(t){return t instanceof ws(t).SVGElement}function Nx(t){return t?kx(t)?t.document:yF(t)?xF(t)?t:JS(t)||Mae(t)?t.ownerDocument:document:document:document}const ju=OR?A.useLayoutEffect:A.useEffect;function bF(t){const e=A.useRef(t);return ju(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function WRe(){const t=A.useRef(null),e=A.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function aw(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return ju(()=>{n.current!==t&&(n.current=t)},e),n}function QS(t,e){const n=A.useRef();return A.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function oC(t){const e=bF(t),n=A.useRef(null),r=A.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function z4(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let Vk={};function eM(t,e){return A.useMemo(()=>{if(e)return e;const n=Vk[t]==null?0:Vk[t]+1;return Vk[t]=n,t+"-"+n},[t,e])}function Eae(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,a)=>{const s=Object.entries(a);for(const[l,c]of s){const u=o[l];u!=null&&(o[l]=u+t*c)}return o},{...e})}}const t0=Eae(1),sw=Eae(-1);function VRe(t){return"clientX"in t&&"clientY"in t}function _F(t){if(!t)return!1;const{KeyboardEvent:e}=ws(t.target);return e&&t instanceof e}function HRe(t){if(!t)return!1;const{TouchEvent:e}=ws(t.target);return e&&t instanceof e}function $4(t){if(HRe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return VRe(t)?{x:t.clientX,y:t.clientY}:null}const lw=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[lw.Translate.toString(t),lw.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),PH="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function GRe(t){return t.matches(PH)?t:t.querySelector(PH)}const XRe={display:"none"};function qRe(t){let{id:e,value:n}=t;return de.createElement("div",{id:e,style:XRe},n)}function YRe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return de.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function KRe(){const[t,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const Tae=A.createContext(null);function ZRe(t){const e=A.useContext(Tae);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function JRe(){const[t]=A.useState(()=>new Set),e=A.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[A.useCallback(r=>{let{type:i,event:o}=r;t.forEach(a=>{var s;return(s=a[i])==null?void 0:s.call(a,o)})},[t]),e]}const QRe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},eOe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function tOe(t){let{announcements:e=eOe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=QRe}=t;const{announce:o,announcement:a}=KRe(),s=eM("DndLiveRegion"),[l,c]=A.useState(!1);if(A.useEffect(()=>{c(!0)},[]),ZRe(A.useMemo(()=>({onDragStart(f){let{active:d}=f;o(e.onDragStart({active:d}))},onDragMove(f){let{active:d,over:h}=f;e.onDragMove&&o(e.onDragMove({active:d,over:h}))},onDragOver(f){let{active:d,over:h}=f;o(e.onDragOver({active:d,over:h}))},onDragEnd(f){let{active:d,over:h}=f;o(e.onDragEnd({active:d,over:h}))},onDragCancel(f){let{active:d,over:h}=f;o(e.onDragCancel({active:d,over:h}))}}),[o,e])),!l)return null;const u=de.createElement(de.Fragment,null,de.createElement(qRe,{id:r,value:i.draggable}),de.createElement(YRe,{id:s,announcement:a}));return n?Ll.createPortal(u,n):u}var uo;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(uo||(uo={}));function aC(){}function RH(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function nOe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Ic=Object.freeze({x:0,y:0});function Aae(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Cae(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function rOe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function OH(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Pae(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function LH(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const iOe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=LH(e,e.left,e.top),o=[];for(const a of r){const{id:s}=a,l=n.get(s);if(l){const c=Aae(LH(l),i);o.push({id:s,data:{droppableContainer:a,value:c}})}}return o.sort(Cae)},oOe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=OH(e),o=[];for(const a of r){const{id:s}=a,l=n.get(s);if(l){const c=OH(l),u=i.reduce((d,h,m)=>d+Aae(c[m],h),0),f=Number((u/4).toFixed(4));o.push({id:s,data:{droppableContainer:a,value:f}})}}return o.sort(Cae)};function aOe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),a=i-r,s=o-n;if(r<i&&n<o){const l=e.width*e.height,c=t.width*t.height,u=a*s,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const sOe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const o of r){const{id:a}=o,s=n.get(a);if(s){const l=aOe(s,e);l>0&&i.push({id:a,data:{droppableContainer:o,value:l}})}}return i.sort(rOe)};function lOe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Rae(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ic}function cOe(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((a,s)=>({...a,top:a.top+t*s.y,bottom:a.bottom+t*s.y,left:a.left+t*s.x,right:a.right+t*s.x}),{...n})}}const uOe=cOe(1);function fOe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function dOe(t,e,n){const r=fOe(e);if(!r)return t;const{scaleX:i,scaleY:o,x:a,y:s}=r,l=t.left-a-(1-i)*parseFloat(n),c=t.top-s-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?t.width/i:t.width,f=o?t.height/o:t.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const hOe={ignoreTransform:!1};function Ix(t,e){e===void 0&&(e=hOe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=ws(t).getComputedStyle(t);c&&(n=dOe(n,c,u))}const{top:r,left:i,width:o,height:a,bottom:s,right:l}=n;return{top:r,left:i,width:o,height:a,bottom:s,right:l}}function kH(t){return Ix(t,{ignoreTransform:!0})}function pOe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function mOe(t,e){return e===void 0&&(e=ws(t).getComputedStyle(t)),e.position==="fixed"}function gOe(t,e){e===void 0&&(e=ws(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?n.test(o):!1})}function LR(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(xF(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!JS(i)||Mae(i)||n.includes(i))return n;const o=ws(t).getComputedStyle(i);return i!==t&&gOe(i,o)&&n.push(i),mOe(i,o)?n:r(i.parentNode)}return t?r(t):n}function Oae(t){const[e]=LR(t,1);return e??null}function Hk(t){return!OR||!t?null:kx(t)?t:yF(t)?xF(t)||t===Nx(t).scrollingElement?window:JS(t)?t:null:null}function Lae(t){return kx(t)?t.scrollX:t.scrollLeft}function kae(t){return kx(t)?t.scrollY:t.scrollTop}function F4(t){return{x:Lae(t),y:kae(t)}}var To;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(To||(To={}));function Nae(t){return!OR||!t?!1:t===document.scrollingElement}function Iae(t){const e={x:0,y:0},n=Nae(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,s=t.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:a,isRight:s,maxScroll:r,minScroll:e}}const vOe={x:.2,y:.2};function yOe(t,e,n,r,i){let{top:o,left:a,right:s,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=vOe);const{isTop:c,isBottom:u,isLeft:f,isRight:d}=Iae(t),h={x:0,y:0},m={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!c&&o<=e.top+v.height?(h.y=To.Backward,m.y=r*Math.abs((e.top+v.height-o)/v.height)):!u&&l>=e.bottom-v.height&&(h.y=To.Forward,m.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!d&&s>=e.right-v.width?(h.x=To.Forward,m.x=r*Math.abs((e.right-v.width-s)/v.width)):!f&&a<=e.left+v.width&&(h.x=To.Backward,m.x=r*Math.abs((e.left+v.width-a)/v.width)),{direction:h,speed:m}}function xOe(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function Dae(t){return t.reduce((e,n)=>t0(e,F4(n)),Ic)}function bOe(t){return t.reduce((e,n)=>e+Lae(n),0)}function _Oe(t){return t.reduce((e,n)=>e+kae(n),0)}function wOe(t,e){if(e===void 0&&(e=Ix),!t)return;const{top:n,left:r,bottom:i,right:o}=e(t);Oae(t)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const SOe=[["x",["left","right"],bOe],["y",["top","bottom"],_Oe]];class wF{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=LR(n),i=Dae(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,a,s]of SOe)for(const l of a)Object.defineProperty(this,l,{get:()=>{const c=s(r),u=i[o]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class a1{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function MOe(t){const{EventTarget:e}=ws(t);return t instanceof e?t:Nx(t)}function Gk(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Sl;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Sl||(Sl={}));function NH(t){t.preventDefault()}function EOe(t){t.stopPropagation()}var Kn;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Kn||(Kn={}));const jae={start:[Kn.Space,Kn.Enter],cancel:[Kn.Esc],end:[Kn.Space,Kn.Enter,Kn.Tab]},TOe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Kn.Right:return{...n,x:n.x+25};case Kn.Left:return{...n,x:n.x-25};case Kn.Down:return{...n,y:n.y+25};case Kn.Up:return{...n,y:n.y-25}}};class SF{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new a1(Nx(n)),this.windowListeners=new a1(ws(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sl.Resize,this.handleCancel),this.windowListeners.add(Sl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&wOe(r),n(Ic)}handleKeyDown(e){if(_F(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=jae,coordinateGetter:a=TOe,scrollBehavior:s="smooth"}=i,{code:l}=e;if(o.end.includes(l)){this.handleEnd(e);return}if(o.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Ic;this.referenceCoordinates||(this.referenceCoordinates=u);const f=a(e,{active:n,context:r.current,currentCoordinates:u});if(f){const d=sw(f,u),h={x:0,y:0},{scrollableAncestors:m}=r.current;for(const v of m){const y=e.code,{isTop:g,isRight:b,isLeft:x,isBottom:_,maxScroll:T,minScroll:C}=Iae(v),P=xOe(v),I={x:Math.min(y===Kn.Right?P.right-P.width/2:P.right,Math.max(y===Kn.Right?P.left:P.left+P.width/2,f.x)),y:Math.min(y===Kn.Down?P.bottom-P.height/2:P.bottom,Math.max(y===Kn.Down?P.top:P.top+P.height/2,f.y))},O=y===Kn.Right&&!b||y===Kn.Left&&!x,N=y===Kn.Down&&!_||y===Kn.Up&&!g;if(O&&I.x!==f.x){const D=v.scrollLeft+d.x,U=y===Kn.Right&&D<=T.x||y===Kn.Left&&D>=C.x;if(U&&!d.y){v.scrollTo({left:D,behavior:s});return}U?h.x=v.scrollLeft-D:h.x=y===Kn.Right?v.scrollLeft-T.x:v.scrollLeft-C.x,h.x&&v.scrollBy({left:-h.x,behavior:s});break}else if(N&&I.y!==f.y){const D=v.scrollTop+d.y,U=y===Kn.Down&&D<=T.y||y===Kn.Up&&D>=C.y;if(U&&!d.x){v.scrollTo({top:D,behavior:s});return}U?h.y=v.scrollTop-D:h.y=y===Kn.Down?v.scrollTop-T.y:v.scrollTop-C.y,h.y&&v.scrollBy({top:-h.y,behavior:s});break}}this.handleMove(e,t0(sw(f,this.referenceCoordinates),h))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}SF.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=jae,onActivation:i}=e,{active:o}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const s=o.activatorNode.current;return s&&t.target!==s?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function IH(t){return!!(t&&"distance"in t)}function DH(t){return!!(t&&"delay"in t)}class MF{constructor(e,n,r){var i;r===void 0&&(r=MOe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:a}=o;this.props=e,this.events=n,this.document=Nx(a),this.documentListeners=new a1(this.document),this.listeners=new a1(r),this.windowListeners=new a1(ws(a)),this.initialCoordinates=(i=$4(o))!=null?i:Ic,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Sl.Resize,this.handleCancel),this.windowListeners.add(Sl.DragStart,NH),this.windowListeners.add(Sl.VisibilityChange,this.handleCancel),this.windowListeners.add(Sl.ContextMenu,NH),this.documentListeners.add(Sl.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(DH(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(IH(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Sl.Click,EOe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sl.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:a,options:{activationConstraint:s}}=o;if(!i)return;const l=(n=$4(e))!=null?n:Ic,c=sw(i,l);if(!r&&s){if(IH(s)){if(s.tolerance!=null&&Gk(c,s.tolerance))return this.handleCancel();if(Gk(c,s.distance))return this.handleStart()}if(DH(s)&&Gk(c,s.tolerance))return this.handleCancel();this.handlePending(s,c);return}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Kn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const AOe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class EF extends MF{constructor(e){const{event:n}=e,r=Nx(n.target);super(e,AOe,r)}}EF.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const COe={move:{name:"mousemove"},end:{name:"mouseup"}};var U4;(function(t){t[t.RightClick=2]="RightClick"})(U4||(U4={}));class POe extends MF{constructor(e){super(e,COe,Nx(e.event.target))}}POe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===U4.RightClick?!1:(r==null||r({event:n}),!0)}}];const Xk={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ROe extends MF{constructor(e){super(e,Xk)}static setup(){return window.addEventListener(Xk.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Xk.move.name,e)};function e(){}}}ROe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var s1;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(s1||(s1={}));var sC;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(sC||(sC={}));function OOe(t){let{acceleration:e,activator:n=s1.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:a=5,order:s=sC.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:d}=t;const h=kOe({delta:f,disabled:!o}),[m,v]=WRe(),y=A.useRef({x:0,y:0}),g=A.useRef({x:0,y:0}),b=A.useMemo(()=>{switch(n){case s1.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case s1.DraggableRect:return i}},[n,i,l]),x=A.useRef(null),_=A.useCallback(()=>{const C=x.current;if(!C)return;const P=y.current.x*g.current.x,I=y.current.y*g.current.y;C.scrollBy(P,I)},[]),T=A.useMemo(()=>s===sC.TreeOrder?[...c].reverse():c,[s,c]);A.useEffect(()=>{if(!o||!c.length||!b){v();return}for(const C of T){if((r==null?void 0:r(C))===!1)continue;const P=c.indexOf(C),I=u[P];if(!I)continue;const{direction:O,speed:N}=yOe(C,I,b,e,d);for(const D of["x","y"])h[D][O[D]]||(N[D]=0,O[D]=0);if(N.x>0||N.y>0){v(),x.current=C,m(_,a),y.current=N,g.current=O;return}}y.current={x:0,y:0},g.current={x:0,y:0},v()},[e,_,r,v,o,a,JSON.stringify(b),JSON.stringify(h),m,c,T,u,JSON.stringify(d)])}const LOe={x:{[To.Backward]:!1,[To.Forward]:!1},y:{[To.Backward]:!1,[To.Forward]:!1}};function kOe(t){let{delta:e,disabled:n}=t;const r=z4(e);return QS(i=>{if(n||!r||!i)return LOe;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[To.Backward]:i.x[To.Backward]||o.x===-1,[To.Forward]:i.x[To.Forward]||o.x===1},y:{[To.Backward]:i.y[To.Backward]||o.y===-1,[To.Forward]:i.y[To.Forward]||o.y===1}}},[n,e,r])}function NOe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return QS(i=>{var o;return e==null?null:(o=r??i)!=null?o:null},[r,e])}function IOe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...o]},[]),[t,e])}var cw;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(cw||(cw={}));var W4;(function(t){t.Optimized="optimized"})(W4||(W4={}));const jH=new Map;function DOe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[o,a]=A.useState(null),{frequency:s,measure:l,strategy:c}=i,u=A.useRef(t),f=y(),d=aw(f),h=A.useCallback(function(g){g===void 0&&(g=[]),!d.current&&a(b=>b===null?g:b.concat(g.filter(x=>!b.includes(x))))},[d]),m=A.useRef(null),v=QS(g=>{if(f&&!n)return jH;if(!g||g===jH||u.current!==t||o!=null){const b=new Map;for(let x of t){if(!x)continue;if(o&&o.length>0&&!o.includes(x.id)&&x.rect.current){b.set(x.id,x.rect.current);continue}const _=x.node.current,T=_?new wF(l(_),_):null;x.rect.current=T,T&&b.set(x.id,T)}return b}return g},[t,o,n,f,l]);return A.useEffect(()=>{u.current=t},[t]),A.useEffect(()=>{f||h()},[n,f]),A.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),A.useEffect(()=>{f||typeof s!="number"||m.current!==null||(m.current=setTimeout(()=>{h(),m.current=null},s))},[s,f,h,...r]),{droppableRects:v,measureDroppableContainers:h,measuringScheduled:o!=null};function y(){switch(c){case cw.Always:return!1;case cw.BeforeDragging:return n;default:return!n}}}function Bae(t,e){return QS(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function jOe(t,e){return Bae(t,e)}function BOe(t){let{callback:e,disabled:n}=t;const r=bF(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return A.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function kR(t){let{callback:e,disabled:n}=t;const r=bF(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return A.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function zOe(t){return new wF(Ix(t),t)}function BH(t,e,n){e===void 0&&(e=zOe);const[r,i]=A.useState(null);function o(){i(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const a=BOe({callback(l){if(t)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(t)){o();break}}}}),s=kR({callback:o});return ju(()=>{o(),t?(s==null||s.observe(t),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),a==null||a.disconnect())},[t]),r}function $Oe(t){const e=Bae(t);return Rae(t,e)}const zH=[];function FOe(t){const e=A.useRef(t),n=QS(r=>t?r&&r!==zH&&t&&e.current&&t.parentNode===e.current.parentNode?r:LR(t):zH,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function UOe(t){const[e,n]=A.useState(null),r=A.useRef(t),i=A.useCallback(o=>{const a=Hk(o.target);a&&n(s=>s?(s.set(a,F4(a)),new Map(s)):null)},[]);return A.useEffect(()=>{const o=r.current;if(t!==o){a(o);const s=t.map(l=>{const c=Hk(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,F4(c)]):null}).filter(l=>l!=null);n(s.length?new Map(s):null),r.current=t}return()=>{a(t),a(o)};function a(s){s.forEach(l=>{const c=Hk(l);c==null||c.removeEventListener("scroll",i)})}},[i,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,a)=>t0(o,a),Ic):Dae(t):Ic,[t,e])}function $H(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const r=t!==Ic;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?sw(t,n.current):Ic}function WOe(t){A.useEffect(()=>{if(!OR)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function VOe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=a=>{o(a,e)},n},{}),[t,e])}function zae(t){return A.useMemo(()=>t?pOe(t):null,[t])}const FH=[];function HOe(t,e){e===void 0&&(e=Ix);const[n]=t,r=zae(n?ws(n):null),[i,o]=A.useState(FH);function a(){o(()=>t.length?t.map(l=>Nae(l)?r:new wF(e(l),l)):FH)}const s=kR({callback:a});return ju(()=>{s==null||s.disconnect(),a(),t.forEach(l=>s==null?void 0:s.observe(l))},[t]),i}function GOe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return JS(e)?e:t}function XOe(t){let{measure:e}=t;const[n,r]=A.useState(null),i=A.useCallback(c=>{for(const{target:u}of c)if(JS(u)){r(f=>{const d=e(u);return f?{...f,width:d.width,height:d.height}:d});break}},[e]),o=kR({callback:i}),a=A.useCallback(c=>{const u=GOe(c);o==null||o.disconnect(),u&&(o==null||o.observe(u)),r(u?e(u):null)},[e,o]),[s,l]=oC(a);return A.useMemo(()=>({nodeRef:s,rect:n,setRef:l}),[n,s,l])}const qOe=[{sensor:EF,options:{}},{sensor:SF,options:{}}],YOe={current:{}},ZT={draggable:{measure:kH},droppable:{measure:kH,strategy:cw.WhileDragging,frequency:W4.Optimized},dragOverlay:{measure:Ix}};class l1 extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const KOe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new l1,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:aC},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ZT,measureDroppableContainers:aC,windowRect:null,measuringScheduled:!1},ZOe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:aC,draggableNodes:new Map,over:null,measureDroppableContainers:aC},NR=A.createContext(ZOe),$ae=A.createContext(KOe);function JOe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new l1}}}function QOe(t,e){switch(e.type){case uo.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case uo.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case uo.DragEnd:case uo.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case uo.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new l1(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case uo.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const a=new l1(t.droppable.containers);return a.set(n,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case uo.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new l1(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function eLe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=A.useContext(NR),o=z4(r),a=z4(n==null?void 0:n.id);return A.useEffect(()=>{if(!e&&!r&&o&&a!=null){if(!_F(o)||document.activeElement===o.target)return;const s=i.get(a);if(!s)return;const{activatorNode:l,node:c}=s;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=GRe(u);if(f){f.focus();break}}})}},[r,e,i,a,o]),null}function tLe(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,o)=>o({transform:i,...r}),n):n}function nLe(t){return A.useMemo(()=>({draggable:{...ZT.draggable,...t==null?void 0:t.draggable},droppable:{...ZT.droppable,...t==null?void 0:t.droppable},dragOverlay:{...ZT.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function rLe(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const o=A.useRef(!1),{x:a,y:s}=typeof i=="boolean"?{x:i,y:i}:i;ju(()=>{if(!a&&!s||!e){o.current=!1;return}if(o.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),f=Rae(u,r);if(a||(f.x=0),s||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const d=Oae(c);d&&d.scrollBy({top:f.y,left:f.x})}},[e,a,s,r,n])}const Fae=A.createContext({...Ic,scaleX:1,scaleY:1});var fh;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(fh||(fh={}));const iLe=A.memo(function(e){var n,r,i,o;let{id:a,accessibility:s,autoScroll:l=!0,children:c,sensors:u=qOe,collisionDetection:f=sOe,measuring:d,modifiers:h,...m}=e;const v=A.useReducer(QOe,void 0,JOe),[y,g]=v,[b,x]=JRe(),[_,T]=A.useState(fh.Uninitialized),C=_===fh.Initialized,{draggable:{active:P,nodes:I,translate:O},droppable:{containers:N}}=y,D=P!=null?I.get(P):null,U=A.useRef({initial:null,translated:null}),V=A.useMemo(()=>{var Re;return P!=null?{id:P,data:(Re=D==null?void 0:D.data)!=null?Re:YOe,rect:U}:null},[P,D]),z=A.useRef(null),[F,W]=A.useState(null),[X,B]=A.useState(null),G=aw(m,Object.values(m)),q=eM("DndDescribedBy",a),te=A.useMemo(()=>N.getEnabled(),[N]),Y=nLe(d),{droppableRects:J,measureDroppableContainers:re,measuringScheduled:oe}=DOe(te,{dragging:C,dependencies:[O.x,O.y],config:Y.droppable}),pe=NOe(I,P),fe=A.useMemo(()=>X?$4(X):null,[X]),we=ce(),ge=jOe(pe,Y.draggable.measure);rLe({activeNode:P!=null?I.get(P):null,config:we.layoutShiftCompensation,initialRect:ge,measure:Y.draggable.measure});const xe=BH(pe,Y.draggable.measure,ge),Te=BH(pe?pe.parentElement:null),ee=A.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=N.getNodeFor((n=ee.current.over)==null?void 0:n.id),ae=XOe({measure:Y.dragOverlay.measure}),be=(r=ae.nodeRef.current)!=null?r:pe,_e=C?(i=ae.rect)!=null?i:xe:null,He=!!(ae.nodeRef.current&&ae.rect),Ve=$Oe(He?null:xe),ne=zae(be?ws(be):null),Q=FOe(C?Ce??pe:null),ve=HOe(Q),Se=tLe(h,{transform:{x:O.x-Ve.x,y:O.y-Ve.y,scaleX:1,scaleY:1},activatorEvent:X,active:V,activeNodeRect:xe,containerNodeRect:Te,draggingNodeRect:_e,over:ee.current.over,overlayNodeRect:ae.rect,scrollableAncestors:Q,scrollableAncestorRects:ve,windowRect:ne}),Le=fe?t0(fe,O):null,Ie=UOe(Q),Ke=$H(Ie),Ne=$H(Ie,[xe]),Ye=t0(Se,Ke),et=_e?uOe(_e,Se):null,vt=V&&et?f({active:V,collisionRect:et,droppableRects:J,droppableContainers:te,pointerCoordinates:Le}):null,ke=Pae(vt,"id"),[Ze,at]=A.useState(null),pt=He?Se:t0(Se,Ne),me=lOe(pt,(o=Ze==null?void 0:Ze.rect)!=null?o:null,xe),Ae=A.useRef(null),le=A.useCallback((Re,Xe)=>{let{sensor:ct,options:De}=Xe;if(z.current==null)return;const st=I.get(z.current);if(!st)return;const mt=Re.nativeEvent,rt=new ct({active:z.current,activeNode:st,event:mt,options:De,context:ee,onAbort(nt){if(!I.get(nt))return;const{onDragAbort:Rt}=G.current,Xt={id:nt};Rt==null||Rt(Xt),b({type:"onDragAbort",event:Xt})},onPending(nt,Pt,Rt,Xt){if(!I.get(nt))return;const{onDragPending:bt}=G.current,yt={id:nt,constraint:Pt,initialCoordinates:Rt,offset:Xt};bt==null||bt(yt),b({type:"onDragPending",event:yt})},onStart(nt){const Pt=z.current;if(Pt==null)return;const Rt=I.get(Pt);if(!Rt)return;const{onDragStart:Xt}=G.current,sn={activatorEvent:mt,active:{id:Pt,data:Rt.data,rect:U}};Ll.unstable_batchedUpdates(()=>{Xt==null||Xt(sn),T(fh.Initializing),g({type:uo.DragStart,initialCoordinates:nt,active:Pt}),b({type:"onDragStart",event:sn}),W(Ae.current),B(mt)})},onMove(nt){g({type:uo.DragMove,coordinates:nt})},onEnd:it(uo.DragEnd),onCancel:it(uo.DragCancel)});Ae.current=rt;function it(nt){return async function(){const{active:Rt,collisions:Xt,over:sn,scrollAdjustedTranslate:bt}=ee.current;let yt=null;if(Rt&&bt){const{cancelDrop:Yt}=G.current;yt={activatorEvent:mt,active:Rt,collisions:Xt,delta:bt,over:sn},nt===uo.DragEnd&&typeof Yt=="function"&&await Promise.resolve(Yt(yt))&&(nt=uo.DragCancel)}z.current=null,Ll.unstable_batchedUpdates(()=>{g({type:nt}),T(fh.Uninitialized),at(null),W(null),B(null),Ae.current=null;const Yt=nt===uo.DragEnd?"onDragEnd":"onDragCancel";if(yt){const nr=G.current[Yt];nr==null||nr(yt),b({type:Yt,event:yt})}})}}},[I]),Ee=A.useCallback((Re,Xe)=>(ct,De)=>{const st=ct.nativeEvent,mt=I.get(De);if(z.current!==null||!mt||st.dndKit||st.defaultPrevented)return;const rt={active:mt};Re(ct,Xe.options,rt)===!0&&(st.dndKit={capturedBy:Xe.sensor},z.current=De,le(ct,Xe))},[I,le]),Ue=IOe(u,Ee);WOe(u),ju(()=>{xe&&_===fh.Initializing&&T(fh.Initialized)},[xe,_]),A.useEffect(()=>{const{onDragMove:Re}=G.current,{active:Xe,activatorEvent:ct,collisions:De,over:st}=ee.current;if(!Xe||!ct)return;const mt={active:Xe,activatorEvent:ct,collisions:De,delta:{x:Ye.x,y:Ye.y},over:st};Ll.unstable_batchedUpdates(()=>{Re==null||Re(mt),b({type:"onDragMove",event:mt})})},[Ye.x,Ye.y]),A.useEffect(()=>{const{active:Re,activatorEvent:Xe,collisions:ct,droppableContainers:De,scrollAdjustedTranslate:st}=ee.current;if(!Re||z.current==null||!Xe||!st)return;const{onDragOver:mt}=G.current,rt=De.get(ke),it=rt&&rt.rect.current?{id:rt.id,rect:rt.rect.current,data:rt.data,disabled:rt.disabled}:null,nt={active:Re,activatorEvent:Xe,collisions:ct,delta:{x:st.x,y:st.y},over:it};Ll.unstable_batchedUpdates(()=>{at(it),mt==null||mt(nt),b({type:"onDragOver",event:nt})})},[ke]),ju(()=>{ee.current={activatorEvent:X,active:V,activeNode:pe,collisionRect:et,collisions:vt,droppableRects:J,draggableNodes:I,draggingNode:be,draggingNodeRect:_e,droppableContainers:N,over:Ze,scrollableAncestors:Q,scrollAdjustedTranslate:Ye},U.current={initial:_e,translated:et}},[V,pe,vt,et,I,be,_e,J,N,Ze,Q,Ye]),OOe({...we,delta:O,draggingRect:et,pointerCoordinates:Le,scrollableAncestors:Q,scrollableAncestorRects:ve});const We=A.useMemo(()=>({active:V,activeNode:pe,activeNodeRect:xe,activatorEvent:X,collisions:vt,containerNodeRect:Te,dragOverlay:ae,draggableNodes:I,droppableContainers:N,droppableRects:J,over:Ze,measureDroppableContainers:re,scrollableAncestors:Q,scrollableAncestorRects:ve,measuringConfiguration:Y,measuringScheduled:oe,windowRect:ne}),[V,pe,xe,X,vt,Te,ae,I,N,J,Ze,re,Q,ve,Y,oe,ne]),ze=A.useMemo(()=>({activatorEvent:X,activators:Ue,active:V,activeNodeRect:xe,ariaDescribedById:{draggable:q},dispatch:g,draggableNodes:I,over:Ze,measureDroppableContainers:re}),[X,Ue,V,xe,g,q,I,Ze,re]);return de.createElement(Tae.Provider,{value:x},de.createElement(NR.Provider,{value:ze},de.createElement($ae.Provider,{value:We},de.createElement(Fae.Provider,{value:me},c)),de.createElement(eLe,{disabled:(s==null?void 0:s.restoreFocus)===!1})),de.createElement(tOe,{...s,hiddenTextDescribedById:q}));function ce(){const Re=(F==null?void 0:F.autoScrollEnabled)===!1,Xe=typeof l=="object"?l.enabled===!1:l===!1,ct=C&&!Re&&!Xe;return typeof l=="object"?{...l,enabled:ct}:{enabled:ct}}}),oLe=A.createContext(null),UH="button",aLe="Draggable";function sLe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const o=eM(aLe),{activators:a,activatorEvent:s,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:d}=A.useContext(NR),{role:h=UH,roleDescription:m="draggable",tabIndex:v=0}=i??{},y=(l==null?void 0:l.id)===e,g=A.useContext(y?Fae:oLe),[b,x]=oC(),[_,T]=oC(),C=VOe(a,e),P=aw(n);ju(()=>(f.set(e,{id:e,key:o,node:b,activatorNode:_,data:P}),()=>{const O=f.get(e);O&&O.key===o&&f.delete(e)}),[f,e]);const I=A.useMemo(()=>({role:h,tabIndex:v,"aria-disabled":r,"aria-pressed":y&&h===UH?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,h,v,y,m,u.draggable]);return{active:l,activatorEvent:s,activeNodeRect:c,attributes:I,isDragging:y,listeners:r?void 0:C,node:b,over:d,setNodeRef:x,setActivatorNodeRef:T,transform:g}}function lLe(){return A.useContext($ae)}const cLe="Droppable",uLe={timeout:25};function fLe(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const o=eM(cLe),{active:a,dispatch:s,over:l,measureDroppableContainers:c}=A.useContext(NR),u=A.useRef({disabled:n}),f=A.useRef(!1),d=A.useRef(null),h=A.useRef(null),{disabled:m,updateMeasurementsFor:v,timeout:y}={...uLe,...i},g=aw(v??r),b=A.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{c(Array.isArray(g.current)?g.current:[g.current]),h.current=null},y)},[y]),x=kR({callback:b,disabled:m||!a}),_=A.useCallback((I,O)=>{x&&(O&&(x.unobserve(O),f.current=!1),I&&x.observe(I))},[x]),[T,C]=oC(_),P=aw(e);return A.useEffect(()=>{!x||!T.current||(x.disconnect(),f.current=!1,x.observe(T.current))},[T,x]),A.useEffect(()=>(s({type:uo.RegisterDroppable,element:{id:r,key:o,disabled:n,node:T,rect:d,data:P}}),()=>s({type:uo.UnregisterDroppable,key:o,id:r})),[r]),A.useEffect(()=>{n!==u.current.disabled&&(s({type:uo.SetDroppableDisabled,id:r,key:o,disabled:n}),u.current.disabled=n)},[r,o,n,s]),{active:a,rect:d,isOver:(l==null?void 0:l.id)===r,node:T,over:l,setNodeRef:C}}function TF(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function dLe(t,e){return t.reduce((n,r,i)=>{const o=e.get(r);return o&&(n[i]=o),n},Array(t.length))}function JE(t){return t!==null&&t>=0}function hLe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function pLe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const AF=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const o=TF(e,r,n),a=e[i],s=o[i];return!s||!a?null:{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}},Uae="Sortable",Wae=de.createContext({activeIndex:-1,containerId:Uae,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:AF,disabled:{draggable:!1,droppable:!1}});function mLe(t){let{children:e,id:n,items:r,strategy:i=AF,disabled:o=!1}=t;const{active:a,dragOverlay:s,droppableRects:l,over:c,measureDroppableContainers:u}=lLe(),f=eM(Uae,n),d=s.rect!==null,h=A.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),m=a!=null,v=a?h.indexOf(a.id):-1,y=c?h.indexOf(c.id):-1,g=A.useRef(h),b=!hLe(h,g.current),x=y!==-1&&v===-1||b,_=pLe(o);ju(()=>{b&&m&&u(h)},[b,h,m,u]),A.useEffect(()=>{g.current=h},[h]);const T=A.useMemo(()=>({activeIndex:v,containerId:f,disabled:_,disableTransforms:x,items:h,overIndex:y,useDragOverlay:d,sortedRects:dLe(h,l),strategy:i}),[v,f,_.draggable,_.droppable,x,h,y,l,d,i]);return de.createElement(Wae.Provider,{value:T},e)}const gLe=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return TF(n,r,i).indexOf(e)},vLe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:o,newIndex:a,previousItems:s,previousContainerId:l,transition:c}=t;return!c||!r||s!==o&&i===a?!1:n?!0:a!==i&&e===l},yLe={duration:200,easing:"ease"},Vae="transform",xLe=lw.Transition.toString({property:Vae,duration:0,easing:"linear"}),bLe={roleDescription:"sortable"};function _Le(t){let{disabled:e,index:n,node:r,rect:i}=t;const[o,a]=A.useState(null),s=A.useRef(n);return ju(()=>{if(!e&&n!==s.current&&r.current){const l=i.current;if(l){const c=Ix(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&a(u)}}n!==s.current&&(s.current=n)},[e,n,r,i]),A.useEffect(()=>{o&&a(null)},[o]),o}function wLe(t){let{animateLayoutChanges:e=vLe,attributes:n,disabled:r,data:i,getNewIndex:o=gLe,id:a,strategy:s,resizeObserverConfig:l,transition:c=yLe}=t;const{items:u,containerId:f,activeIndex:d,disabled:h,disableTransforms:m,sortedRects:v,overIndex:y,useDragOverlay:g,strategy:b}=A.useContext(Wae),x=SLe(r,h),_=u.indexOf(a),T=A.useMemo(()=>({sortable:{containerId:f,index:_,items:u},...i}),[f,i,_,u]),C=A.useMemo(()=>u.slice(u.indexOf(a)),[u,a]),{rect:P,node:I,isOver:O,setNodeRef:N}=fLe({id:a,data:T,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...l}}),{active:D,activatorEvent:U,activeNodeRect:V,attributes:z,setNodeRef:F,listeners:W,isDragging:X,over:B,setActivatorNodeRef:G,transform:q}=sLe({id:a,data:T,attributes:{...bLe,...n},disabled:x.draggable}),te=URe(N,F),Y=!!D,J=Y&&!m&&JE(d)&&JE(y),re=!g&&X,oe=re&&J?q:null,fe=J?oe??(s??b)({rects:v,activeNodeRect:V,activeIndex:d,overIndex:y,index:_}):null,we=JE(d)&&JE(y)?o({id:a,items:u,activeIndex:d,overIndex:y}):_,ge=D==null?void 0:D.id,xe=A.useRef({activeId:ge,items:u,newIndex:we,containerId:f}),Te=u!==xe.current.items,ee=e({active:D,containerId:f,isDragging:X,isSorting:Y,id:a,index:_,items:u,newIndex:xe.current.newIndex,previousItems:xe.current.items,previousContainerId:xe.current.containerId,transition:c,wasDragging:xe.current.activeId!=null}),Ce=_Le({disabled:!ee,index:_,node:I,rect:P});return A.useEffect(()=>{Y&&xe.current.newIndex!==we&&(xe.current.newIndex=we),f!==xe.current.containerId&&(xe.current.containerId=f),u!==xe.current.items&&(xe.current.items=u)},[Y,we,f,u]),A.useEffect(()=>{if(ge===xe.current.activeId)return;if(ge!=null&&xe.current.activeId==null){xe.current.activeId=ge;return}const be=setTimeout(()=>{xe.current.activeId=ge},50);return()=>clearTimeout(be)},[ge]),{active:D,activeIndex:d,attributes:z,data:T,rect:P,index:_,newIndex:we,items:u,isOver:O,isSorting:Y,isDragging:X,listeners:W,node:I,overIndex:y,over:B,setNodeRef:te,setActivatorNodeRef:G,setDroppableNodeRef:N,setDraggableNodeRef:F,transform:Ce??fe,transition:ae()};function ae(){if(Ce||Te&&xe.current.newIndex===_)return xLe;if(!(re&&!_F(U)||!c)&&(Y||ee))return lw.Transition.toString({...c,property:Vae})}}function SLe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function lC(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const MLe=[Kn.Down,Kn.Right,Kn.Up,Kn.Left],ELe=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:o,over:a,scrollableAncestors:s}}=e;if(MLe.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];o.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const d=i.get(f.id);if(d)switch(t.code){case Kn.Down:r.top<d.top&&l.push(f);break;case Kn.Up:r.top>d.top&&l.push(f);break;case Kn.Left:r.left>d.left&&l.push(f);break;case Kn.Right:r.left<d.left&&l.push(f);break}});const c=oOe({collisionRect:r,droppableRects:i,droppableContainers:l});let u=Pae(c,"id");if(u===(a==null?void 0:a.id)&&c.length>1&&(u=c[1].id),u!=null){const f=o.get(n.id),d=o.get(u),h=d?i.get(d.id):null,m=d==null?void 0:d.node.current;if(m&&h&&f&&d){const y=LR(m).some((C,P)=>s[P]!==C),g=Hae(f,d),b=TLe(f,d),x=y||!g?{x:0,y:0}:{x:b?r.width-h.width:0,y:b?r.height-h.height:0},_={x:h.left,y:h.top};return x.x&&x.y?_:sw(_,x)}}}};function Hae(t,e){return!lC(t)||!lC(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function TLe(t,e){return!lC(t)||!lC(e)||!Hae(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const WH=[{path:"/dashboard",label:"Dashboard",icon:Ire},{path:"/monitor",label:"Monitor",icon:Qh},{path:"/sources",label:"Data Sources",icon:eg},{path:"/analytics",label:"Analytics",icon:X1},{path:"/visualizations",label:"Visualizations",icon:X1},{path:"/geography",label:"Geography",icon:Th},{path:"/settings",label:"Settings",icon:Bre}];function qg({className:t}){const e=Hg(),n=XS(),{toast:r}=cR(),[i,o]=A.useState(!1),[a,s]=A.useState(!1),[l,c]=A.useState(!1),[u]=A.useState(3),f=K2e(),d=f?f.username.slice(0,2).toUpperCase():"JD",h=()=>{MR(),r({title:"Logged Out",description:"You have been successfully logged out."}),n("/login")},m=()=>o(!i),v=e.pathname.split("/").filter(Boolean),y=v.map((g,b)=>{const x=`/${v.slice(0,b+1).join("/")}`,_=g.charAt(0).toUpperCase()+g.slice(1);return{path:x,label:_}});return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 border-b border-border/50 bg-background/80 backdrop-blur-xl px-4 h-16 flex items-center justify-between",children:[S.jsxs(uh,{to:"/",className:"flex items-center gap-2",children:[S.jsx(VA,{className:"w-6 h-6 text-primary"}),S.jsx("span",{className:"font-bold",children:"TopoForge"})]}),S.jsx(br,{variant:"ghost",size:"icon",onClick:()=>s(!a),children:a?S.jsx(x$,{className:"h-5 w-5"}):S.jsx(U1e,{className:"h-5 w-5"})})]}),S.jsxs(ht.nav,{initial:!1,animate:{width:i?"80px":"280px"},className:Zn("hidden md:flex fixed left-0 top-0 bottom-0 bg-background/95 backdrop-blur-md border-r border-border z-40 flex-col transition-all duration-300",t),children:[S.jsxs("div",{className:Zn("p-6 flex items-center",i?"justify-center":"justify-between"),children:[!i&&S.jsxs(uh,{to:"/",className:"flex items-center gap-2 group",children:[S.jsx("div",{className:"relative w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-primary/50 flex items-center justify-center overflow-hidden",children:S.jsx(VA,{className:"w-4 h-4 text-primary-foreground relative z-10"})}),S.jsx("span",{className:"font-bold text-lg",children:"TopoForge"})]}),S.jsx(br,{variant:"ghost",size:"icon",onClick:m,className:"h-6 w-6",children:i?S.jsx(s4,{className:"h-4 w-4"}):S.jsx(C1e,{className:"h-4 w-4"})})]}),S.jsx("div",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:WH.map(g=>{const b=e.pathname===g.path;return S.jsxs(uh,{to:g.path,className:Zn("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group relative",b?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",i&&"justify-center px-2"),title:i?g.label:void 0,children:[S.jsx(g.icon,{className:Zn("h-5 w-5",b&&"animate-pulse")}),!i&&S.jsx("span",{className:"font-medium",children:g.label}),b&&S.jsx(ht.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-6 bg-primary rounded-r-full"})]},g.path)})}),S.jsx("div",{className:"p-4 border-t border-border",children:i?S.jsx("div",{className:"flex justify-center",children:S.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-xs font-bold cursor-pointer",title:f==null?void 0:f.username,children:d})}):S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-xs font-bold",children:d}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-sm font-medium",children:(f==null?void 0:f.username)||"Guest"}),S.jsx("span",{className:"text-xs text-muted-foreground",children:"Online"})]})]}),S.jsx(br,{variant:"ghost",size:"icon",onClick:h,children:S.jsx(L7,{className:"w-4 h-4"})})]})})]}),S.jsxs("div",{className:Zn("hidden md:flex fixed top-0 right-0 h-16 items-center justify-between px-8 border-b border-border/50 bg-background/80 backdrop-blur-xl z-30 transition-all duration-300",i?"left-[80px]":"left-[280px]"),children:[S.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[S.jsx(uh,{to:"/",className:"hover:text-foreground",children:"Home"}),y.map(g=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(s4,{className:"w-4 h-4"}),S.jsx(uh,{to:g.path,className:Zn("hover:text-foreground",e.pathname===g.path&&"text-foreground font-medium"),children:g.label})]},g.path))]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(br,{variant:"ghost",size:"icon",children:S.jsx(jre,{className:"w-4 h-4"})}),S.jsxs(br,{variant:"ghost",size:"icon",className:"relative",children:[S.jsx(G1,{className:"w-4 h-4"}),u>0&&S.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"})]})]})]}),S.jsx(F$,{children:a&&S.jsx(ht.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden fixed top-16 left-0 right-0 bg-background border-b border-border z-40",children:S.jsxs("div",{className:"p-4 space-y-2",children:[WH.map(g=>S.jsxs(uh,{to:g.path,onClick:()=>s(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-secondary",children:[S.jsx(g.icon,{className:"w-5 h-5"}),S.jsx("span",{className:"font-medium",children:g.label})]},g.path)),S.jsxs(br,{variant:"ghost",className:"w-full justify-start gap-3 px-4",onClick:h,children:[S.jsx(L7,{className:"w-5 h-5"}),"Logout"]})]})})})]})}var ALe=A.createContext(void 0);function Gae(t){const e=A.useContext(ALe);return t||e||"ltr"}function CF(t,[e,n]){return Math.min(n,Math.max(e,t))}function CLe(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var PF="ScrollArea",[Xae]=xp(PF),[PLe,Hl]=Xae(PF),qae=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=t,[s,l]=A.useState(null),[c,u]=A.useState(null),[f,d]=A.useState(null),[h,m]=A.useState(null),[v,y]=A.useState(null),[g,b]=A.useState(0),[x,_]=A.useState(0),[T,C]=A.useState(!1),[P,I]=A.useState(!1),O=Sr(e,D=>l(D)),N=Gae(i);return S.jsx(PLe,{scope:n,type:r,dir:N,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:u,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:T,onScrollbarXEnabledChange:C,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:P,onScrollbarYEnabledChange:I,onCornerWidthChange:b,onCornerHeightChange:_,children:S.jsx(jn.div,{dir:N,...a,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})});qae.displayName=PF;var Yae="ScrollAreaViewport",Kae=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,a=Hl(Yae,n),s=A.useRef(null),l=Sr(e,s,a.onViewportChange);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),S.jsx(jn.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:S.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Kae.displayName=Yae;var Xu="ScrollAreaScrollbar",RF=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hl(Xu,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,s=t.orientation==="horizontal";return A.useEffect(()=>(s?o(!0):a(!0),()=>{s?o(!1):a(!1)}),[s,o,a]),i.type==="hover"?S.jsx(RLe,{...r,ref:e,forceMount:n}):i.type==="scroll"?S.jsx(OLe,{...r,ref:e,forceMount:n}):i.type==="auto"?S.jsx(Zae,{...r,ref:e,forceMount:n}):i.type==="always"?S.jsx(OF,{...r,ref:e}):null});RF.displayName=Xu;var RLe=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hl(Xu,t.__scopeScrollArea),[o,a]=A.useState(!1);return A.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),S.jsx(Hu,{present:n||o,children:S.jsx(Zae,{"data-state":o?"visible":"hidden",...r,ref:e})})}),OLe=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hl(Xu,t.__scopeScrollArea),o=t.orientation==="horizontal",a=DR(()=>l("SCROLL_END"),100),[s,l]=CLe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),A.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const d=()=>{const h=c[u];f!==h&&(l("SCROLL"),a()),f=h};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,o,l,a]),S.jsx(Hu,{present:n||s!=="hidden",children:S.jsx(OF,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:$n(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:$n(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Zae=A.forwardRef((t,e)=>{const n=Hl(Xu,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,a]=A.useState(!1),s=t.orientation==="horizontal",l=DR(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?c:u)}},10);return N0(n.viewport,l),N0(n.content,l),S.jsx(Hu,{present:r||o,children:S.jsx(OF,{"data-state":o?"visible":"hidden",...i,ref:e})})}),OF=A.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Hl(Xu,t.__scopeScrollArea),o=A.useRef(null),a=A.useRef(0),[s,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=nse(s.viewport,s.content),u={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:d=>o.current=d,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:d=>a.current=d};function f(d,h){return jLe(d,a.current,s,h)}return n==="horizontal"?S.jsx(LLe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollLeft,h=VH(d,s,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}}):n==="vertical"?S.jsx(kLe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollTop,h=VH(d,s);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}}):null}),LLe=A.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Hl(Xu,t.__scopeScrollArea),[a,s]=A.useState(),l=A.useRef(null),c=Sr(e,l,o.onScrollbarXChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),S.jsx(Qae,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":IR(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const d=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(d),ise(d,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:uC(a.paddingLeft),paddingEnd:uC(a.paddingRight)}})}})}),kLe=A.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Hl(Xu,t.__scopeScrollArea),[a,s]=A.useState(),l=A.useRef(null),c=Sr(e,l,o.onScrollbarYChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),S.jsx(Qae,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":IR(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const d=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(d),ise(d,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:uC(a.paddingTop),paddingEnd:uC(a.paddingBottom)}})}})}),[NLe,Jae]=Xae(Xu),Qae=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...d}=t,h=Hl(Xu,n),[m,v]=A.useState(null),y=Sr(e,O=>v(O)),g=A.useRef(null),b=A.useRef(""),x=h.viewport,_=r.content-r.viewport,T=Uo(u),C=Uo(l),P=DR(f,10);function I(O){if(g.current){const N=O.clientX-g.current.left,D=O.clientY-g.current.top;c({x:N,y:D})}}return A.useEffect(()=>{const O=N=>{const D=N.target;(m==null?void 0:m.contains(D))&&T(N,_)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[x,m,_,T]),A.useEffect(C,[r,C]),N0(m,P),N0(h.content,P),S.jsx(NLe,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Uo(o),onThumbPointerUp:Uo(a),onThumbPositionChange:C,onThumbPointerDown:Uo(s),children:S.jsx(jn.div,{...d,ref:y,style:{position:"absolute",...d.style},onPointerDown:$n(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),g.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),I(O))}),onPointerMove:$n(t.onPointerMove,I),onPointerUp:$n(t.onPointerUp,O=>{const N=O.target;N.hasPointerCapture(O.pointerId)&&N.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),g.current=null})})})}),cC="ScrollAreaThumb",ese=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jae(cC,t.__scopeScrollArea);return S.jsx(Hu,{present:n||i.hasThumb,children:S.jsx(ILe,{ref:e,...r})})}),ILe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Hl(cC,n),a=Jae(cC,n),{onThumbPositionChange:s}=a,l=Sr(e,f=>a.onThumbChange(f)),c=A.useRef(void 0),u=DR(()=>{c.current&&(c.current(),c.current=void 0)},100);return A.useEffect(()=>{const f=o.viewport;if(f){const d=()=>{if(u(),!c.current){const h=BLe(f,s);c.current=h,s()}};return s(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[o.viewport,u,s]),S.jsx(jn.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:$n(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),m=f.clientX-h.left,v=f.clientY-h.top;a.onThumbPointerDown({x:m,y:v})}),onPointerUp:$n(t.onPointerUp,a.onThumbPointerUp)})});ese.displayName=cC;var LF="ScrollAreaCorner",tse=A.forwardRef((t,e)=>{const n=Hl(LF,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.jsx(DLe,{...t,ref:e}):null});tse.displayName=LF;var DLe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Hl(LF,n),[o,a]=A.useState(0),[s,l]=A.useState(0),c=!!(o&&s);return N0(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),N0(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),a(u)}),c?S.jsx(jn.div,{...r,ref:e,style:{width:o,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function uC(t){return t?parseInt(t,10):0}function nse(t,e){const n=t/e;return isNaN(n)?0:n}function IR(t){const e=nse(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function jLe(t,e,n,r="ltr"){const i=IR(n),o=i/2,a=e||o,s=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return rse([l,c],f)(t)}function VH(t,e,n="ltr"){const r=IR(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,a=e.content-e.viewport,s=o-r,l=n==="ltr"?[0,a]:[a*-1,0],c=CF(t,l);return rse([0,a],[0,s])(c)}function rse(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function ise(t,e){return t>0&&t<e}var BLe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},a=n.left!==o.left,s=n.top!==o.top;(a||s)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function DR(t,e){const n=Uo(t),r=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),A.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function N0(t,e){const n=Uo(e);Iu(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var ose=qae,zLe=Kae,$Le=tse;const jR=A.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(ose,{ref:r,className:Zn("relative overflow-hidden",t),...n,children:[S.jsx(zLe,{className:"h-full w-full rounded-[inherit]",children:e}),S.jsx(ase,{}),S.jsx($Le,{})]}));jR.displayName=ose.displayName;const ase=A.forwardRef(({className:t,orientation:e="vertical",...n},r)=>S.jsx(RF,{ref:r,orientation:e,className:Zn("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:S.jsx(ese,{className:"relative flex-1 rounded-full bg-border"})}));ase.displayName=RF.displayName;const FLe=de.forwardRef(({event:t,index:e},n)=>{const r=t.delta&&t.delta>0?"text-success":t.delta&&t.delta<0?"text-critical":"text-muted-foreground",i=a=>{if(!a)return null;const s=a>0?"+":"";return Math.abs(a)>=1e3?`${s}${(a/1e3).toFixed(1)}K`:`${s}${a}`},o=()=>t.type==="new"?S.jsx(D1e,{className:"w-3 h-3"}):t.type==="categorize"?S.jsx(ewe,{className:"w-3 h-3"}):S.jsx(I1e,{className:"w-3 h-3"});return S.jsx(ht.div,{ref:n,initial:{opacity:0,x:-20,height:0},animate:{opacity:1,x:0,height:"auto"},exit:{opacity:0,x:20,height:0},transition:{duration:.2,delay:e*.02},className:"border-b border-border/30 py-2 px-1 last:border-0",children:S.jsxs("div",{className:"flex items-start gap-2",children:[S.jsx("div",{className:Zn("p-1 rounded mt-0.5",t.type==="new"?"bg-success/10 text-success":"bg-primary/10 text-primary"),children:o()}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[S.jsx("span",{className:"text-xs font-medium truncate max-w-[180px]",title:t.title,children:t.title}),t.minor&&S.jsx(vr,{variant:"outline",className:"text-[8px] px-1 py-0",children:"m"})]}),S.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[t.bot?S.jsx(E1e,{className:"w-3 h-3"}):S.jsx(zre,{className:"w-3 h-3"}),S.jsx("span",{className:"truncate max-w-[80px]",title:t.user,children:t.user})]}),S.jsx("span",{className:"opacity-50",children:""}),S.jsx("span",{className:"font-mono opacity-70",children:t.wiki.replace("wiki","")}),t.delta!==void 0&&t.delta!==0&&S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"opacity-50",children:""}),S.jsx("span",{className:Zn("font-mono font-medium",r),children:i(t.delta)})]})]})]}),S.jsx("span",{className:"text-[9px] text-muted-foreground shrink-0",children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})})});function ULe({className:t,maxItems:e=15}){const{recentEvents:n,isConnected:r,eventsPerSecond:i}=Rr(),o=n.slice(0,e);return S.jsxs("div",{className:Zn("relative",t),children:[S.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm font-medium",children:"Live Feed"}),r&&S.jsxs(ht.div,{className:"flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-success/10 text-success text-[9px]",animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-success"}),i,"/s"]})]}),S.jsx(M1e,{className:"w-3 h-3 text-muted-foreground"})]}),S.jsx(jR,{className:"h-[300px] pr-2",children:S.jsx(F$,{mode:"popLayout",initial:!1,children:o.length>0?o.map((a,s)=>S.jsx(FLe,{event:a,index:s},a.id)):S.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},className:"py-8 text-center text-muted-foreground",children:S.jsx("p",{className:"text-xs",children:r?"Waiting for events...":"Connect to see live edits"})})})}),r&&o.length>0&&S.jsxs("div",{className:"mt-2 pt-2 border-t border-border/30 flex items-center justify-between text-[10px] text-muted-foreground",children:[S.jsxs("span",{children:[o.filter(a=>a.bot).length," bot edits"]}),S.jsxs("span",{children:[o.filter(a=>a.type==="new").length," new articles"]})]})]})}function WLe({className:t}){var l;const{timeline:e,isConnected:n}=Rr(),r=A.useMemo(()=>e.length>0?e:Array.from({length:24},(c,u)=>({time:`${String(u).padStart(2,"0")}:00`,timestamp:new Date,value:.1+Math.random()*.1,anomaly:!1,eventCount:0})),[e]),i=Math.max(...r.map(c=>c.value),.1),o=100/(r.length-1),a=r.map((c,u)=>{const f=u*o,d=100-c.value/i*80;return`${u===0?"M":"L"} ${f} ${d}`}).join(" "),s=`${a} L 100 100 L 0 100 Z`;return S.jsxs("div",{className:Zn("relative bg-card/50 rounded-xl p-4 border border-border/50",t),children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm font-medium text-foreground",children:"Anomaly Timeline"}),n&&S.jsxs(ht.div,{className:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-success/10 text-success text-[10px]",animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-success"}),"Live"]})]}),S.jsxs("div",{className:"flex gap-3 text-xs",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-anomaly"}),S.jsx("span",{className:"text-muted-foreground",children:"Warning"})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-critical"}),S.jsx("span",{className:"text-muted-foreground",children:"Critical"})]})]})]}),S.jsxs("svg",{className:"w-full h-32",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:"0.3"}),S.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:"0"})]}),S.jsxs("linearGradient",{id:"lineGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[S.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))"}),S.jsx("stop",{offset:"50%",stopColor:"hsl(var(--primary-glow))"}),S.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})]}),S.jsx("g",{opacity:"0.1",children:[25,50,75].map(c=>S.jsx("line",{x1:"0",y1:c,x2:"100",y2:c,stroke:"hsl(var(--foreground))",strokeWidth:"0.5"},c))}),S.jsx(ht.path,{d:s,fill:"url(#areaGradient)",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}}),S.jsx(ht.path,{d:a,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,ease:"easeOut"}}),r.map((c,u)=>{if(!c.anomaly)return null;const f=u*o,d=100-c.value/i*80,h="severity"in c&&c.severity==="critical";return S.jsxs(ht.g,{children:[S.jsx(ht.circle,{cx:f||0,cy:d||0,r:"8",fill:h?"hsl(var(--critical))":"hsl(var(--anomaly))",opacity:"0.3",animate:{r:[8,15,8],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0}}),S.jsx(ht.circle,{cx:f||0,cy:d||0,r:"4",fill:h?"hsl(var(--critical))":"hsl(var(--anomaly))",initial:{scale:0},animate:{scale:1},transition:{delay:u*.05+.5,type:"spring"}})]},u)}),r.length>0&&S.jsx(ht.circle,{cx:100,cy:100-r[r.length-1].value/i*80,r:"4",fill:"hsl(var(--primary))",animate:{r:[4,6,4],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0}})]}),S.jsx("div",{className:"flex justify-between mt-2 text-[10px] text-muted-foreground",children:r.filter((c,u)=>u%Math.max(1,Math.floor(r.length/6))===0).map((c,u)=>S.jsx("span",{children:c.time},u))}),n&&e.length>0&&S.jsxs("div",{className:"absolute bottom-4 right-4 text-[10px] text-muted-foreground bg-card/80 px-2 py-1 rounded",children:[((l=e[e.length-1])==null?void 0:l.eventCount)||0," events/interval"]})]})}function sse({threat:t,index:e}){const n={critical:"bg-red-500/10 text-red-500 border-red-500/30",high:"bg-orange-500/10 text-orange-500 border-orange-500/30",medium:"bg-yellow-500/10 text-yellow-500 border-yellow-500/30",low:"bg-blue-500/10 text-blue-500 border-blue-500/30"},i={ip:Th,domain:Th,hash:z1e,url:Th,email:Th}[t.indicatorType];return S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.05},children:S.jsxs(bn,{className:"hover:border-primary/30 transition-all",children:[S.jsxs(Fa,{className:"pb-3",children:[S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(wc,{className:"w-4 h-4 text-primary"}),S.jsx(Ua,{className:"text-sm",children:t.source})]}),S.jsx(vr,{variant:"outline",className:n[t.severity],children:t.severity})]}),S.jsx(Xg,{className:"text-xs",children:new Date(t.timestamp).toLocaleTimeString()})]}),S.jsxs(Ti,{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-lg",children:[S.jsx(i,{className:"w-4 h-4 text-muted-foreground"}),S.jsx("code",{className:"text-xs font-mono",children:t.indicator})]}),S.jsx("p",{className:"text-xs text-muted-foreground",children:t.description}),S.jsxs("div",{className:"flex items-center justify-between text-xs",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(HS,{className:"w-3 h-3"}),S.jsxs("span",{children:["Confidence: ",Math.round(t.confidence),"%"]})]}),t.country&&S.jsx(vr,{variant:"secondary",className:"text-[10px]",children:t.country})]}),S.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.slice(0,3).map((o,a)=>S.jsx(vr,{variant:"outline",className:"text-[9px]",children:o},a))})]})]})})}function VLe(){const t=[{id:"1",source:"CrowdStrike",threatType:"intrusion",severity:"critical",indicator:"192.168.1.1",indicatorType:"ip",description:"Known C2 Server",confidence:95,timestamp:new Date,tags:["botnet","apt28"],country:"RU"},{id:"2",source:"AbuseIPDB",threatType:"phishing",severity:"high",indicator:"malicious-site.com",indicatorType:"domain",description:"Phishing Campaign",confidence:88,timestamp:new Date,tags:["phishing"],country:"CN"}];return S.jsx("div",{className:"space-y-4",children:t.map((e,n)=>S.jsx(sse,{threat:e,index:n},e.id))})}function HLe({id:t,children:e}){const{attributes:n,listeners:r,setNodeRef:i,transform:o,transition:a}=wLe({id:t}),s={transform:lw.Transform.toString(o),transition:a};return S.jsxs("div",{ref:i,style:s,className:"relative group h-full",children:[S.jsx("div",{...n,...r,className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 cursor-grab active:cursor-grabbing p-1 bg-slate-800 rounded",children:S.jsx(B1e,{className:"w-4 h-4 text-slate-400"})}),e]})}function GLe(){const[t,e]=A.useState(["feed","timeline","threats","topology"]),n=nOe(RH(EF),RH(SF,{coordinateGetter:ELe})),r=o=>{const{active:a,over:s}=o;a.id!==s.id&&e(l=>{const c=l.indexOf(a.id),u=l.indexOf(s.id);return TF(l,c,u)})},i=o=>{switch(o){case"feed":return S.jsx(ULe,{});case"timeline":return S.jsx(WLe,{});case"threats":return S.jsx(VLe,{});case"topology":return S.jsx(_ae,{});default:return null}};return S.jsxs("div",{className:"min-h-screen bg-background",children:[S.jsx(qg,{}),S.jsxs("main",{className:"pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-[1800px] mx-auto transition-all duration-300 md:pl-[280px]",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),S.jsxs(br,{size:"sm",children:[S.jsx(y$,{className:"w-4 h-4 mr-2"})," Add Widget"]})]}),S.jsx(iLe,{sensors:n,collisionDetection:iOe,onDragEnd:r,children:S.jsx(mLe,{items:t,strategy:AF,children:S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(o=>S.jsx(HLe,{id:o,children:i(o)},o))})})})]})]})}function XLe({className:t}){const[e,n]=A.useState(""),[r,i]=A.useState(!1),o=async()=>{i(!0);try{const s=await(await fetch("http://localhost:8000/metrics")).text();n(s)}catch{n(`# Error fetching metrics
# Ensure backend is running at http://localhost:8000`)}finally{i(!1)}};return A.useEffect(()=>{o();const a=setInterval(o,1e4);return()=>clearInterval(a)},[]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"font-semibold text-sm",children:"Prometheus Exporter Output"}),S.jsx(br,{variant:"ghost",size:"sm",onClick:o,disabled:r,children:S.jsx(Dre,{className:`w-4 h-4 ${r?"animate-spin":""}`})})]}),S.jsx(jR,{className:"h-[200px] bg-slate-950 rounded p-4 font-mono text-xs text-green-400",children:S.jsx("pre",{children:e})})]})}function lse(t){const e=A.useRef({value:t,previous:t});return A.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var BR="Switch",[qLe]=xp(BR),[YLe,KLe]=qLe(BR),cse=A.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:u,...f}=t,[d,h]=A.useState(null),m=Sr(e,x=>h(x)),v=A.useRef(!1),y=d?u||!!d.closest("form"):!0,[g,b]=fR({prop:i,defaultProp:o??!1,onChange:c,caller:BR});return S.jsxs(YLe,{scope:n,checked:g,disabled:s,children:[S.jsx(jn.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":hse(g),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onClick:$n(t.onClick,x=>{b(_=>!_),y&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),y&&S.jsx(dse,{control:d,bubbles:!v.current,name:r,value:l,checked:g,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});cse.displayName=BR;var use="SwitchThumb",fse=A.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=KLe(use,n);return S.jsx(jn.span,{"data-state":hse(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});fse.displayName=use;var ZLe="SwitchBubbleInput",dse=A.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},o)=>{const a=A.useRef(null),s=Sr(a,o),l=lse(n),c=A$(e);return A.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&h){const m=new Event("click",{bubbles:r});h.call(u,n),u.dispatchEvent(m)}},[l,n,r]),S.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dse.displayName=ZLe;function hse(t){return t?"checked":"unchecked"}var pse=cse,JLe=fse;const c1=A.forwardRef(({className:t,...e},n)=>S.jsx(pse,{className:Zn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:S.jsx(JLe,{className:Zn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));c1.displayName=pse.displayName;function QLe({className:t}){const[e,n]=A.useState([{id:1,name:"High Latency > 200ms",active:!0},{id:2,name:"Error Rate > 1%",active:!0},{id:3,name:"Low Throughput < 10 eps",active:!1},{id:4,name:"Bot Activity Spike > 50%",active:!0}]),r=i=>{n(e.map(o=>o.id===i?{...o,active:!o.active}:o))};return S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[S.jsx(G1,{className:"w-4 h-4"}),"Alert Rules"]}),S.jsxs(br,{variant:"outline",size:"sm",className:"h-7 text-xs",children:[S.jsx(y$,{className:"w-3 h-3 mr-1"})," Add Rule"]})]}),S.jsx("div",{className:"space-y-3",children:e.map(i=>S.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-900/30 rounded border border-slate-800",children:[S.jsx("span",{className:"text-sm text-slate-300",children:i.name}),S.jsx(c1,{checked:i.active,onCheckedChange:()=>r(i.id)})]},i.id))})]})}function e3e({className:t}){const e=[{name:"WebSocket Receive",width:"15%",color:"bg-blue-500"},{name:"JSON Parse",width:"10%",color:"bg-green-500"},{name:"TDA Analysis",width:"40%",color:"bg-purple-500"},{name:"ML Inference",width:"25%",color:"bg-orange-500"},{name:"Render",width:"10%",color:"bg-pink-500"}];return S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Pipeline Flamegraph"}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"h-12 w-full flex rounded-md overflow-hidden",children:e.map((n,r)=>S.jsx("div",{className:`${n.color} h-full flex items-center justify-center text-xs font-bold text-white/90 hover:opacity-90 transition-opacity cursor-help`,style:{width:n.width},title:n.name,children:n.name},r))}),S.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-400",children:e.map((n,r)=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:`w-3 h-3 rounded-full ${n.color}`}),S.jsx("span",{children:n.name})]},r))})]})]})}var kF=nM(),Mn=t=>tM(t,kF),NF=nM();Mn.write=t=>tM(t,NF);var zR=nM();Mn.onStart=t=>tM(t,zR);var IF=nM();Mn.onFrame=t=>tM(t,IF);var DF=nM();Mn.onFinish=t=>tM(t,DF);var n0=[];Mn.setTimeout=(t,e)=>{const n=Mn.now()+e,r=()=>{const o=n0.findIndex(a=>a.cancel==r);~o&&n0.splice(o,1),Ph-=~o?1:0},i={time:n,handler:t,cancel:r};return n0.splice(mse(n),0,i),Ph+=1,gse(),i};var mse=t=>~(~n0.findIndex(e=>e.time>t)||~n0.length);Mn.cancel=t=>{zR.delete(t),IF.delete(t),DF.delete(t),kF.delete(t),NF.delete(t)};Mn.sync=t=>{V4=!0,Mn.batchedUpdates(t),V4=!1};Mn.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Mn.onStart(n)}return r.handler=t,r.cancel=()=>{zR.delete(n),e=null},r};var jF=typeof window<"u"?window.requestAnimationFrame:()=>{};Mn.use=t=>jF=t;Mn.now=typeof performance<"u"?()=>performance.now():Date.now;Mn.batchedUpdates=t=>t();Mn.catch=console.error;Mn.frameLoop="always";Mn.advance=()=>{Mn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):yse()};var Ch=-1,Ph=0,V4=!1;function tM(t,e){V4?(e.delete(t),t(0)):(e.add(t),gse())}function gse(){Ch<0&&(Ch=0,Mn.frameLoop!=="demand"&&jF(vse))}function t3e(){Ch=-1}function vse(){~Ch&&(jF(vse),Mn.batchedUpdates(yse))}function yse(){const t=Ch;Ch=Mn.now();const e=mse(Ch);if(e&&(xse(n0.splice(0,e),n=>n.handler()),Ph-=e),!Ph){t3e();return}zR.flush(),kF.flush(t?Math.min(64,Ch-t):16.667),IF.flush(),NF.flush(),DF.flush()}function nM(){let t=new Set,e=t;return{add(n){Ph+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Ph-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Ph-=e.size,xse(e,r=>r(n)&&t.add(r)),Ph+=t.size,e=t)}}}function xse(t,e){t.forEach(n=>{try{e(n)}catch(r){Mn.catch(r)}})}var n3e=Object.defineProperty,r3e=(t,e)=>{for(var n in e)n3e(t,n,{get:e[n],enumerable:!0})},Dc={};r3e(Dc,{assign:()=>o3e,colors:()=>Vh,createStringInterpolator:()=>zF,skipAnimation:()=>_se,to:()=>bse,willAdvance:()=>$F});function H4(){}var i3e=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),wt={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Tf(t,e){if(wt.arr(t)){if(!wt.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var vn=(t,e)=>t.forEach(e);function Bu(t,e,n){if(wt.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Wa=t=>wt.und(t)?[]:wt.arr(t)?t:[t];function u1(t,e){if(t.size){const n=Array.from(t);t.clear(),vn(n,e)}}var I_=(t,...e)=>u1(t,n=>n(...e)),BF=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),zF,bse,Vh=null,_se=!1,$F=H4,o3e=t=>{t.to&&(bse=t.to),t.now&&(Mn.now=t.now),t.colors!==void 0&&(Vh=t.colors),t.skipAnimation!=null&&(_se=t.skipAnimation),t.createStringInterpolator&&(zF=t.createStringInterpolator),t.requestAnimationFrame&&Mn.use(t.requestAnimationFrame),t.batchedUpdates&&(Mn.batchedUpdates=t.batchedUpdates),t.willAdvance&&($F=t.willAdvance),t.frameLoop&&(Mn.frameLoop=t.frameLoop)},f1=new Set,Pl=[],qk=[],fC=0,$R={get idle(){return!f1.size&&!Pl.length},start(t){fC>t.priority?(f1.add(t),Mn.onStart(a3e)):(wse(t),Mn(G4))},advance:G4,sort(t){if(fC)Mn.onFrame(()=>$R.sort(t));else{const e=Pl.indexOf(t);~e&&(Pl.splice(e,1),Sse(t))}},clear(){Pl=[],f1.clear()}};function a3e(){f1.forEach(wse),f1.clear(),Mn(G4)}function wse(t){Pl.includes(t)||Sse(t)}function Sse(t){Pl.splice(s3e(Pl,e=>e.priority>t.priority),0,t)}function G4(t){const e=qk;for(let n=0;n<Pl.length;n++){const r=Pl[n];fC=r.priority,r.idle||($F(r),r.advance(t),r.idle||e.push(r))}return fC=0,qk=Pl,qk.length=0,Pl=e,Pl.length>0}function s3e(t,e){const n=t.findIndex(e);return n<0?t.length:n}var l3e={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Mc="[-+]?\\d*\\.?\\d+",dC=Mc+"%";function FR(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var c3e=new RegExp("rgb"+FR(Mc,Mc,Mc)),u3e=new RegExp("rgba"+FR(Mc,Mc,Mc,Mc)),f3e=new RegExp("hsl"+FR(Mc,dC,dC)),d3e=new RegExp("hsla"+FR(Mc,dC,dC,Mc)),h3e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,p3e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,m3e=/^#([0-9a-fA-F]{6})$/,g3e=/^#([0-9a-fA-F]{8})$/;function v3e(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=m3e.exec(t))?parseInt(e[1]+"ff",16)>>>0:Vh&&Vh[t]!==void 0?Vh[t]:(e=c3e.exec(t))?(Pv(e[1])<<24|Pv(e[2])<<16|Pv(e[3])<<8|255)>>>0:(e=u3e.exec(t))?(Pv(e[1])<<24|Pv(e[2])<<16|Pv(e[3])<<8|XH(e[4]))>>>0:(e=h3e.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=g3e.exec(t))?parseInt(e[1],16)>>>0:(e=p3e.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=f3e.exec(t))?(HH(GH(e[1]),QE(e[2]),QE(e[3]))|255)>>>0:(e=d3e.exec(t))?(HH(GH(e[1]),QE(e[2]),QE(e[3]))|XH(e[4]))>>>0:null}function Yk(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HH(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=Yk(i,r,t+1/3),a=Yk(i,r,t),s=Yk(i,r,t-1/3);return Math.round(o*255)<<24|Math.round(a*255)<<16|Math.round(s*255)<<8}function Pv(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function GH(t){return(parseFloat(t)%360+360)%360/360}function XH(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function QE(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function qH(t){let e=v3e(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,o=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}var uw=(t,e,n)=>{if(wt.fun(t))return t;if(wt.arr(t))return uw({range:t,output:e,extrapolate:n});if(wt.str(t.output[0]))return zF(t);const r=t,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=x3e(c,o);return y3e(c,o[u],o[u+1],i[u],i[u+1],l,a,s,r.map)}};function y3e(t,e,n,r,i,o,a,s,l){let c=l?l(t):t;if(c<e){if(a==="identity")return c;a==="clamp"&&(c=e)}if(c>n){if(s==="identity")return c;s==="clamp"&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=o(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function x3e(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var b3e={linear:t=>t},fw=Symbol.for("FluidValue.get"),I0=Symbol.for("FluidValue.observers"),Tl=t=>!!(t&&t[fw]),us=t=>t&&t[fw]?t[fw]():t,YH=t=>t[I0]||null;function _3e(t,e){t.eventObserved?t.eventObserved(e):t(e)}function dw(t,e){const n=t[I0];n&&n.forEach(r=>{_3e(r,e)})}var Mse=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");w3e(this,t)}},w3e=(t,e)=>Ese(t,fw,e);function Dx(t,e){if(t[fw]){let n=t[I0];n||Ese(t,I0,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function hw(t,e){const n=t[I0];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[I0]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var Ese=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),JT=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,S3e=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,KH=new RegExp(`(${JT.source})(%|[a-z]+)`,"i"),M3e=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,UR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Tse=t=>{const[e,n]=E3e(t);if(!e||BF())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&UR.test(n))return Tse(n);if(n)return n}return t},E3e=t=>{const e=UR.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},Kk,T3e=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,Ase=t=>{Kk||(Kk=Vh?new RegExp(`(${Object.keys(Vh).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(o=>us(o).replace(UR,Tse).replace(S3e,qH).replace(Kk,qH)),n=e.map(o=>o.match(JT).map(Number)),i=n[0].map((o,a)=>n.map(s=>{if(!(a in s))throw Error('The arity of each "output" value must be equal');return s[a]})).map(o=>uw({...t,output:o}));return o=>{var l;const a=!KH.test(e[0])&&((l=e.find(c=>KH.test(c)))==null?void 0:l.replace(JT,""));let s=0;return e[0].replace(JT,()=>`${i[s++](o)}${a||""}`).replace(M3e,T3e)}},FF="react-spring: ",Cse=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${FF}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},A3e=Cse(console.warn);function C3e(){A3e(`${FF}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var P3e=Cse(console.warn);function R3e(){P3e(`${FF}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function WR(t){return wt.str(t)&&(t[0]=="#"||/\d/.test(t)||!BF()&&UR.test(t)||t in(Vh||{}))}var Nm=BF()?A.useEffect:A.useLayoutEffect,O3e=()=>{const t=A.useRef(!1);return Nm(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function UF(){const t=A.useState()[1],e=O3e();return()=>{e.current&&t(Math.random())}}var WF=t=>A.useEffect(t,L3e),L3e=[];function X4(t){const e=A.useRef(void 0);return A.useEffect(()=>{e.current=t}),e.current}var pw=Symbol.for("Animated:node"),k3e=t=>!!t&&t[pw]===t,iu=t=>t&&t[pw],VF=(t,e)=>i3e(t,pw,e),VR=t=>t&&t[pw]&&t[pw].getPayload(),Pse=class{constructor(){VF(this,this)}getPayload(){return this.payload||[]}},HR=class Rse extends Pse{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,wt.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Rse(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return wt.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,wt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},hC=class Ose extends HR{constructor(e){super(0),this._string=null,this._toString=uw({output:[e,e]})}static create(e){return new Ose(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(wt.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=uw({output:[this.getValue(),e]})),this._value=0,super.reset()}},pC={dependencies:null},GR=class extends Pse{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Bu(this.source,(n,r)=>{k3e(n)?e[r]=n.getValue(t):Tl(n)?e[r]=us(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&vn(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Bu(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){pC.dependencies&&Tl(t)&&pC.dependencies.add(t);const e=VR(t);e&&vn(e,n=>this.add(n))}},N3e=class Lse extends GR{constructor(e){super(e)}static create(e){return new Lse(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(I3e)),!0)}};function I3e(t){return(WR(t)?hC:HR).create(t)}function q4(t){const e=iu(t);return e?e.constructor:wt.arr(t)?N3e:WR(t)?hC:HR}var ZH=(t,e)=>{const n=!wt.fun(t)||t.prototype&&t.prototype.isReactComponent;return A.forwardRef((r,i)=>{const o=A.useRef(null),a=n&&A.useCallback(m=>{o.current=B3e(i,m)},[i]),[s,l]=j3e(r,e),c=UF(),u=()=>{const m=o.current;if(n&&!m)return;(m?e.applyAnimatedValues(m,s.getValue(!0)):!1)===!1&&c()},f=new D3e(u,l),d=A.useRef(void 0);Nm(()=>(d.current=f,vn(l,m=>Dx(m,f)),()=>{d.current&&(vn(d.current.deps,m=>hw(m,d.current)),Mn.cancel(d.current.update))})),A.useEffect(u,[]),WF(()=>()=>{const m=d.current;vn(m.deps,v=>hw(v,m))});const h=e.getComponentProps(s.getValue());return A.createElement(t,{...h,ref:a})})},D3e=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Mn.write(this.update)}};function j3e(t,e){const n=new Set;return pC.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new GR(t),pC.dependencies=null,[t,n]}function B3e(t,e){return t&&(wt.fun(t)?t(e):t.current=e),e}var JH=Symbol.for("AnimatedComponent"),z3e=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new GR(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},o=a=>{const s=QH(a)||"Anonymous";return wt.str(a)?a=o[a]||(o[a]=ZH(a,i)):a=a[JH]||(a[JH]=ZH(a,i)),a.displayName=`Animated(${s})`,a};return Bu(t,(a,s)=>{wt.arr(t)&&(s=QH(a)),o[s]=o(a)}),{animated:o}},QH=t=>wt.str(t)?t:t&&wt.str(t.displayName)?t.displayName:wt.fun(t)&&t.name||null;function fs(t,...e){return wt.fun(t)?t(...e):t}var d1=(t,e)=>t===!0||!!(e&&t&&(wt.fun(t)?t(e):Wa(t).includes(e))),kse=(t,e)=>wt.obj(t)?e&&t[e]:t,Nse=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,$3e=t=>t,XR=(t,e=$3e)=>{let n=F3e;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const o=e(t[i],i);wt.und(o)||(r[i]=o)}return r},F3e=["config","onProps","onStart","onChange","onPause","onResume","onRest"],U3e={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function W3e(t){const e={};let n=0;if(Bu(t,(r,i)=>{U3e[i]||(e[i]=r,n++)}),n)return e}function HF(t){const e=W3e(t);if(e){const n={to:e};return Bu(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function mw(t){return t=us(t),wt.arr(t)?t.map(mw):WR(t)?Dc.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Ise(t){for(const e in t)return!0;return!1}function Y4(t){return wt.fun(t)||wt.arr(t)&&wt.obj(t[0])}function K4(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function Dse(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var jse={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Z4={...jse.default,mass:1,damping:1,easing:b3e.linear,clamp:!1},V3e=class{constructor(){this.velocity=0,Object.assign(this,Z4)}};function H3e(t,e,n){n&&(n={...n},eG(n,e),e={...n,...e}),eG(t,e),Object.assign(t,e);for(const a in Z4)t[a]==null&&(t[a]=Z4[a]);let{frequency:r,damping:i}=t;const{mass:o}=t;return wt.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*o,t.friction=4*Math.PI*i*o/r),t}function eG(t,e){if(!wt.und(e.decay))t.duration=void 0;else{const n=!wt.und(e.tension)||!wt.und(e.friction);(n||!wt.und(e.frequency)||!wt.und(e.damping)||!wt.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var tG=[],G3e=class{constructor(){this.changed=!1,this.values=tG,this.toValues=null,this.fromValues=tG,this.config=new V3e,this.immediate=!1}};function Bse(t,{key:e,props:n,defaultProps:r,state:i,actions:o}){return new Promise((a,s)=>{let l,c,u=d1(n.cancel??(r==null?void 0:r.cancel),e);if(u)h();else{wt.und(n.pause)||(i.paused=d1(n.pause,e));let m=r==null?void 0:r.pause;m!==!0&&(m=i.paused||d1(m,e)),l=fs(n.delay||0,e),m?(i.resumeQueue.add(d),o.pause()):(o.resume(),d())}function f(){i.resumeQueue.add(d),i.timeouts.delete(c),c.cancel(),l=c.time-Mn.now()}function d(){l>0&&!Dc.skipAnimation?(i.delayed=!0,c=Mn.setTimeout(h,l),i.pauseQueue.add(f),i.timeouts.add(c)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(c),t<=(i.cancelId||0)&&(u=!0);try{o.start({...n,callId:t,cancel:u},a)}catch(m){s(m)}}})}var GF=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?r0(t.get()):e.every(n=>n.noop)?zse(t.get()):bc(t.get(),e.every(n=>n.finished)),zse=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),bc=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),r0=t=>({value:t,cancelled:!0,finished:!1});function $se(t,e,n,r){const{callId:i,parentId:o,onRest:a}=e,{asyncTo:s,promise:l}=n;return!o&&t===s&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const c=XR(e,(y,g)=>g==="onRest"?void 0:y);let u,f;const d=new Promise((y,g)=>(u=y,f=g)),h=y=>{const g=i<=(n.cancelId||0)&&r0(r)||i!==n.asyncId&&bc(r,!1);if(g)throw y.result=g,f(y),y},m=(y,g)=>{const b=new nG,x=new rG;return(async()=>{if(Dc.skipAnimation)throw gw(n),x.result=bc(r,!1),f(x),x;h(b);const _=wt.obj(y)?{...y}:{...g,to:y};_.parentId=i,Bu(c,(C,P)=>{wt.und(_[P])&&(_[P]=C)});const T=await r.start(_);return h(b),n.paused&&await new Promise(C=>{n.resumeQueue.add(C)}),T})()};let v;if(Dc.skipAnimation)return gw(n),bc(r,!1);try{let y;wt.arr(t)?y=(async g=>{for(const b of g)await m(b)})(t):y=Promise.resolve(t(m,r.stop.bind(r))),await Promise.all([y.then(u),d]),v=bc(r.get(),!0,!1)}catch(y){if(y instanceof nG)v=y.result;else if(y instanceof rG)v=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?l:void 0)}return wt.fun(a)&&Mn.batchedUpdates(()=>{a(v,r,r.item)}),v})()}function gw(t,e){u1(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var nG=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},rG=class extends Error{constructor(){super("SkipAnimationSignal")}},J4=t=>t instanceof XF,X3e=1,XF=class extends Mse{constructor(){super(...arguments),this.id=X3e++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=iu(this);return t&&t.getValue()}to(...t){return Dc.to(this,t)}interpolate(...t){return C3e(),Dc.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){dw(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||$R.sort(this),dw(this,{type:"priority",parent:this,priority:t})}},bg=Symbol.for("SpringPhase"),Fse=1,Q4=2,e5=4,Zk=t=>(t[bg]&Fse)>0,qd=t=>(t[bg]&Q4)>0,Xb=t=>(t[bg]&e5)>0,iG=(t,e)=>e?t[bg]|=Q4|Fse:t[bg]&=~Q4,oG=(t,e)=>e?t[bg]|=e5:t[bg]&=~e5,q3e=class extends XF{constructor(t,e){if(super(),this.animation=new G3e,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!wt.und(t)||!wt.und(e)){const n=wt.obj(t)?{...t}:{...e,from:t};wt.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(qd(this)||this._state.asyncTo)||Xb(this)}get goal(){return us(this.animation.to)}get velocity(){const t=iu(this);return t instanceof HR?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return Zk(this)}get isAnimating(){return qd(this)}get isPaused(){return Xb(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,a=VR(r.to);!a&&Tl(r.to)&&(i=Wa(us(r.to))),r.values.forEach((c,u)=>{if(c.done)return;const f=c.constructor==hC?1:a?a[u].lastPosition:i[u];let d=r.immediate,h=f;if(!d){if(h=c.lastPosition,o.tension<=0){c.done=!0;return}let m=c.elapsedTime+=t;const v=r.fromValues[u],y=c.v0!=null?c.v0:c.v0=wt.arr(o.velocity)?o.velocity[u]:o.velocity;let g;const b=o.precision||(v==f?.005:Math.min(1,Math.abs(f-v)*.001));if(wt.und(o.duration))if(o.decay){const x=o.decay===!0?.998:o.decay,_=Math.exp(-(1-x)*m);h=v+y/(1-x)*(1-_),d=Math.abs(c.lastPosition-h)<=b,g=y*_}else{g=c.lastVelocity==null?y:c.lastVelocity;const x=o.restVelocity||b/10,_=o.clamp?0:o.bounce,T=!wt.und(_),C=v==f?c.v0>0:v<f;let P,I=!1;const O=1,N=Math.ceil(t/O);for(let D=0;D<N&&(P=Math.abs(g)>x,!(!P&&(d=Math.abs(f-h)<=b,d)));++D){T&&(I=h==f||h>f==C,I&&(g=-g*_,h=f));const U=-o.tension*1e-6*(h-f),V=-o.friction*.001*g,z=(U+V)/o.mass;g=g+z*O,h=h+g*O}}else{let x=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,c.durationProgress>0&&(c.elapsedTime=o.duration*c.durationProgress,m=c.elapsedTime+=t)),x=(o.progress||0)+m/this._memoizedDuration,x=x>1?1:x<0?0:x,c.durationProgress=x),h=v+o.easing(x)*(f-v),g=(h-c.lastPosition)/t,d=x==1}c.lastVelocity=g,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),d=!0)}a&&!a[u].done&&(d=!1),d?c.done=!0:e=!1,c.setValue(h,o.round)&&(n=!0)});const s=iu(this),l=s.getValue();if(e){const c=us(r.to);(l!==c||n)&&!o.decay?(s.setValue(c),this._onChange(c)):n&&o.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return Mn.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(qd(this)){const{to:t,config:e}=this.animation;Mn.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return wt.und(t)?(n=this.queue||[],this.queue=[]):n=[wt.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>GF(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),gw(this._state,t&&this._lastCallId),Mn.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=wt.obj(n)?n[e]:n,(n==null||Y4(n))&&(n=void 0),r=wt.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return Zk(this)||(t.reverse&&([n,r]=[r,n]),r=us(r),wt.und(r)?iu(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,XR(t,(a,s)=>/^on/.test(s)?kse(a,n):a)),sG(this,t,"onProps"),Yb(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return Bse(++this._lastCallId,{key:n,props:t,defaultProps:r,state:o,actions:{pause:()=>{Xb(this)||(oG(this,!0),I_(o.pauseQueue),Yb(this,"onPause",bc(this,qb(this,this.animation.to)),this))},resume:()=>{Xb(this)&&(oG(this,!1),qd(this)&&this._resume(),I_(o.resumeQueue),Yb(this,"onResume",bc(this,qb(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(t.loop&&a.finished&&!(e&&a.noop)){const s=Use(t);if(s)return this._update(s,!0)}return a})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(r0(this));const r=!wt.und(t.to),i=!wt.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(r0(this));const{key:o,defaultProps:a,animation:s}=this,{to:l,from:c}=s;let{to:u=l,from:f=c}=t;i&&!r&&(!e.default||wt.und(u))&&(u=f),e.reverse&&([u,f]=[f,u]);const d=!Tf(f,c);d&&(s.from=f),f=us(f);const h=!Tf(u,l);h&&this._focus(u);const m=Y4(e.to),{config:v}=s,{decay:y,velocity:g}=v;(r||i)&&(v.velocity=0),e.config&&!m&&H3e(v,fs(e.config,o),e.config!==a.config?fs(a.config,o):void 0);let b=iu(this);if(!b||wt.und(u))return n(bc(this,!0));const x=wt.und(e.reset)?i&&!e.default:!wt.und(f)&&d1(e.reset,o),_=x?f:this.get(),T=mw(u),C=wt.num(T)||wt.arr(T)||WR(T),P=!m&&(!C||d1(a.immediate||e.immediate,o));if(h){const D=q4(u);if(D!==b.constructor)if(P)b=this._set(T);else throw Error(`Cannot animate between ${b.constructor.name} and ${D.name}, as the "to" prop suggests`)}const I=b.constructor;let O=Tl(u),N=!1;if(!O){const D=x||!Zk(this)&&d;(h||D)&&(N=Tf(mw(_),T),O=!N),(!Tf(s.immediate,P)&&!P||!Tf(v.decay,y)||!Tf(v.velocity,g))&&(O=!0)}if(N&&qd(this)&&(s.changed&&!x?O=!0:O||this._stop(l)),!m&&((O||Tl(l))&&(s.values=b.getPayload(),s.toValues=Tl(u)?null:I==hC?[1]:Wa(T)),s.immediate!=P&&(s.immediate=P,!P&&!x&&this._set(l)),O)){const{onRest:D}=s;vn(K3e,V=>sG(this,e,V));const U=bc(this,qb(this,l));I_(this._pendingCalls,U),this._pendingCalls.add(n),s.changed&&Mn.batchedUpdates(()=>{var V;s.changed=!x,D==null||D(U,this),x?fs(a.onRest,U):(V=s.onStart)==null||V.call(s,U,this)})}x&&this._set(_),m?n($se(e.to,e,this._state,this)):O?this._start():qd(this)&&!h?this._pendingCalls.add(n):n(zse(_))}_focus(t){const e=this.animation;t!==e.to&&(YH(this)&&this._detach(),e.to=t,YH(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Tl(e)&&(Dx(e,this),J4(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Tl(t)&&hw(t,this)}_set(t,e=!0){const n=us(t);if(!wt.und(n)){const r=iu(this);if(!r||!Tf(n,r.getValue())){const i=q4(n);!r||r.constructor!=i?VF(this,i.create(n)):r.setValue(n),r&&Mn.batchedUpdates(()=>{this._onChange(n,e)})}}return iu(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Yb(this,"onStart",bc(this,qb(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),fs(this.animation.onChange,t,this)),fs(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;iu(this).reset(us(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),qd(this)||(iG(this,!0),Xb(this)||this._resume())}_resume(){Dc.skipAnimation?this.finish():$R.start(this)}_stop(t,e){if(qd(this)){iG(this,!1);const n=this.animation;vn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),dw(this,{type:"idle",parent:this});const r=e?r0(this.get()):bc(this.get(),qb(this,t??n.to));I_(this._pendingCalls,r),n.changed&&(n.changed=!1,Yb(this,"onRest",r,this))}}};function qb(t,e){const n=mw(e),r=mw(t.get());return Tf(r,n)}function Use(t,e=t.loop,n=t.to){const r=fs(e);if(r){const i=r!==!0&&HF(r),o=(i||t).reverse,a=!i||i.reset;return vw({...t,loop:e,default:!1,pause:void 0,to:!o||Y4(n)?n:void 0,from:a?t.from:void 0,reset:a,...i})}}function vw(t){const{to:e,from:n}=t=HF(t),r=new Set;return wt.obj(e)&&aG(e,r),wt.obj(n)&&aG(n,r),t.keys=r.size?Array.from(r):null,t}function Y3e(t){const e=vw(t);return wt.und(e.default)&&(e.default=XR(e)),e}function aG(t,e){Bu(t,(n,r)=>n!=null&&e.add(r))}var K3e=["onStart","onRest","onChange","onPause","onResume"];function sG(t,e,n){t.animation[n]=e[n]!==Nse(e,n)?kse(e[n],t.key):void 0}function Yb(t,e,...n){var r,i,o,a;(i=(r=t.animation)[e])==null||i.call(r,...n),(a=(o=t.defaultProps)[e])==null||a.call(o,...n)}var Z3e=["onStart","onChange","onRest"],J3e=1,Wse=class{constructor(t,e){this.id=J3e++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];wt.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(vw(t)),this}start(t){let{queue:e}=this;return t?e=Wa(t).map(vw):this.queue=[],this._flush?this._flush(this,e):(qse(this,e),t5(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;vn(Wa(e),r=>n[r].stop(!!t))}else gw(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(wt.und(t))this.start({pause:!0});else{const e=this.springs;vn(Wa(t),n=>e[n].pause())}return this}resume(t){if(wt.und(t))this.start({pause:!1});else{const e=this.springs;vn(Wa(t),n=>e[n].resume())}return this}each(t){Bu(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,u1(t,([s,l])=>{l.value=this.get(),s(l,this,this._item)}));const o=!r&&this._started,a=i||o&&n.size?this.get():null;i&&e.size&&u1(e,([s,l])=>{l.value=a,s(l,this,this._item)}),o&&(this._started=!1,u1(n,([s,l])=>{l.value=a,s(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Mn.onFrame(this._onFrame)}};function t5(t,e){return Promise.all(e.map(n=>Vse(t,n))).then(n=>GF(t,n))}async function Vse(t,e,n){const{keys:r,to:i,from:o,loop:a,onRest:s,onResolve:l}=e,c=wt.obj(e.default)&&e.default;a&&(e.loop=!1),i===!1&&(e.to=null),o===!1&&(e.from=null);const u=wt.arr(i)||wt.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):vn(Z3e,v=>{const y=e[v];if(wt.fun(y)){const g=t._events[v];e[v]=({finished:b,cancelled:x})=>{const _=g.get(y);_?(b||(_.finished=!1),x&&(_.cancelled=!0)):g.set(y,{value:null,finished:b||!1,cancelled:x||!1})},c&&(c[v]=e[v])}});const f=t._state;e.pause===!f.paused?(f.paused=e.pause,I_(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const d=(r||Object.keys(t.springs)).map(v=>t.springs[v].start(e)),h=e.cancel===!0||Nse(e,"cancel")===!0;(u||h&&f.asyncId)&&d.push(Bse(++t._lastAsyncId,{props:e,state:f,actions:{pause:H4,resume:H4,start(v,y){h?(gw(f,t._lastAsyncId),y(r0(t))):(v.onRest=s,y($se(u,v,f,t)))}}})),f.paused&&await new Promise(v=>{f.resumeQueue.add(v)});const m=GF(t,await Promise.all(d));if(a&&m.finished&&!(n&&m.noop)){const v=Use(e,a,i);if(v)return qse(t,[v]),Vse(t,v,!0)}return l&&Mn.batchedUpdates(()=>l(m,t,t.item)),m}function n5(t,e){const n={...t.springs};return e&&vn(Wa(e),r=>{wt.und(r.keys)&&(r=vw(r)),wt.obj(r.to)||(r={...r,to:void 0}),Xse(n,r,i=>Gse(i))}),Hse(t,n),n}function Hse(t,e){Bu(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Dx(n,t))})}function Gse(t,e){const n=new q3e;return n.key=t,e&&Dx(n,e),n}function Xse(t,e,n){e.keys&&vn(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function qse(t,e){vn(e,n=>{Xse(t.springs,n,r=>Gse(r,t))})}var Yse=A.createContext({pause:!1,immediate:!1}),Kse=()=>{const t=[],e=function(r){R3e();const i=[];return vn(t,(o,a)=>{if(wt.und(r))i.push(o.start());else{const s=n(r,o,a);s&&i.push(o.start(s))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return vn(t,r=>r.pause(...arguments)),this},e.resume=function(){return vn(t,r=>r.resume(...arguments)),this},e.set=function(r){vn(t,(i,o)=>{const a=wt.fun(r)?r(o,i):r;a&&i.set(a)})},e.start=function(r){const i=[];return vn(t,(o,a)=>{if(wt.und(r))i.push(o.start());else{const s=this._getProps(r,o,a);s&&i.push(o.start(s))}}),i},e.stop=function(){return vn(t,r=>r.stop(...arguments)),this},e.update=function(r){return vn(t,(i,o)=>i.update(this._getProps(r,i,o))),this};const n=function(r,i,o){return wt.fun(r)?r(o,i):r};return e._getProps=n,e};function Zse(t,e,n){const r=wt.fun(e)&&e;r&&!n&&(n=[]);const i=A.useMemo(()=>r||arguments.length==3?Kse():void 0,[]),o=A.useRef(0),a=UF(),s=A.useMemo(()=>({ctrls:[],queue:[],flush(g,b){const x=n5(g,b);return o.current>0&&!s.queue.length&&!Object.keys(x).some(T=>!g.springs[T])?t5(g,b):new Promise(T=>{Hse(g,x),s.queue.push(()=>{T(t5(g,b))}),a()})}}),[]),l=A.useRef([...s.ctrls]),c=A.useRef([]),u=X4(t)||0;A.useMemo(()=>{vn(l.current.slice(t,u),g=>{K4(g,i),g.stop(!0)}),l.current.length=t,f(u,t)},[t]),A.useMemo(()=>{f(0,Math.min(u,t))},n);function f(g,b){for(let x=g;x<b;x++){const _=l.current[x]||(l.current[x]=new Wse(null,s.flush)),T=r?r(x,_):e[x];T&&(c.current[x]=Y3e(T))}}const d=l.current.map((g,b)=>n5(g,c.current[b])),h=A.useContext(Yse),m=X4(h),v=h!==m&&Ise(h);Nm(()=>{o.current++,s.ctrls=l.current;const{queue:g}=s;g.length&&(s.queue=[],vn(g,b=>b())),vn(l.current,(b,x)=>{i==null||i.add(b),v&&b.start({default:h});const _=c.current[x];_&&(Dse(b,_.ref),b.ref?b.queue.push(_):b.start(_))})}),WF(()=>()=>{vn(s.ctrls,g=>g.stop(!0))});const y=d.map(g=>({...g}));return i?[y,i]:y}function Ss(t,e){const n=wt.fun(t),[[r],i]=Zse(1,n?t:[t],n?[]:e);return n||arguments.length==2?[r,i]:r}function qu(t,e,n){const r=wt.fun(e)&&e,{reset:i,sort:o,trail:a=0,expires:s=!0,exitBeforeEnter:l=!1,onDestroyed:c,ref:u,config:f}=r?r():e,d=A.useMemo(()=>r||arguments.length==3?Kse():void 0,[]),h=Wa(t),m=[],v=A.useRef(null),y=i?null:v.current;Nm(()=>{v.current=m}),WF(()=>(vn(m,z=>{d==null||d.add(z.ctrl),z.ctrl.ref=d}),()=>{vn(v.current,z=>{z.expired&&clearTimeout(z.expirationId),K4(z.ctrl,d),z.ctrl.stop(!0)})}));const g=eke(h,r?r():e,y),b=i&&v.current||[];Nm(()=>vn(b,({ctrl:z,item:F,key:W})=>{K4(z,d),fs(c,F,W)}));const x=[];if(y&&vn(y,(z,F)=>{z.expired?(clearTimeout(z.expirationId),b.push(z)):(F=x[F]=g.indexOf(z.key),~F&&(m[F]=z))}),vn(h,(z,F)=>{m[F]||(m[F]={key:g[F],item:z,phase:"mount",ctrl:new Wse},m[F].ctrl.item=z)}),x.length){let z=-1;const{leave:F}=r?r():e;vn(x,(W,X)=>{const B=y[X];~W?(z=m.indexOf(B),m[z]={...B,item:h[W]}):F&&m.splice(++z,0,B)})}wt.fun(o)&&m.sort((z,F)=>o(z.item,F.item));let _=-a;const T=UF(),C=XR(e),P=new Map,I=A.useRef(new Map),O=A.useRef(!1);vn(m,(z,F)=>{const W=z.key,X=z.phase,B=r?r():e;let G,q;const te=fs(B.delay||0,W);if(X=="mount")G=B.enter,q="enter";else{const oe=g.indexOf(W)<0;if(X!="leave")if(oe)G=B.leave,q="leave";else if(G=B.update)q="update";else return;else if(!oe)G=B.enter,q="enter";else return}if(G=fs(G,z.item,F),G=wt.obj(G)?HF(G):{to:G},!G.config){const oe=f||C.config;G.config=fs(oe,z.item,F,q)}_+=a;const Y={...C,delay:te+_,ref:u,immediate:B.immediate,reset:!1,...G};if(q=="enter"&&wt.und(Y.from)){const oe=r?r():e,pe=wt.und(oe.initial)||y?oe.from:oe.initial;Y.from=fs(pe,z.item,F)}const{onResolve:J}=Y;Y.onResolve=oe=>{fs(J,oe);const pe=v.current,fe=pe.find(we=>we.key===W);if(fe&&!(oe.cancelled&&fe.phase!="update")&&fe.ctrl.idle){const we=pe.every(ge=>ge.ctrl.idle);if(fe.phase=="leave"){const ge=fs(s,fe.item);if(ge!==!1){const xe=ge===!0?0:ge;if(fe.expired=!0,!we&&xe>0){xe<=2147483647&&(fe.expirationId=setTimeout(T,xe));return}}}we&&pe.some(ge=>ge.expired)&&(I.current.delete(fe),l&&(O.current=!0),T())}};const re=n5(z.ctrl,Y);q==="leave"&&l?I.current.set(z,{phase:q,springs:re,payload:Y}):P.set(z,{phase:q,springs:re,payload:Y})});const N=A.useContext(Yse),D=X4(N),U=N!==D&&Ise(N);Nm(()=>{U&&vn(m,z=>{z.ctrl.start({default:N})})},[N]),vn(P,(z,F)=>{if(I.current.size){const W=m.findIndex(X=>X.key===F.key);m.splice(W,1)}}),Nm(()=>{vn(I.current.size?I.current:P,({phase:z,payload:F},W)=>{const{ctrl:X}=W;W.phase=z,d==null||d.add(X),U&&z=="enter"&&X.start({default:N}),F&&(Dse(X,F.ref),(X.ref||d)&&!O.current?X.update(F):(X.start(F),O.current&&(O.current=!1)))})},i?void 0:n);const V=z=>A.createElement(A.Fragment,null,m.map((F,W)=>{const{springs:X}=P.get(F)||F.ctrl,B=z({...X},F.item,F,W),G=wt.str(F.key)||wt.num(F.key)?F.key:F.ctrl.id,q=A.version<"19.0.0",te=(B==null?void 0:B.props)??{},Y=q?B==null?void 0:B.ref:te==null?void 0:te.ref;return B&&B.type?A.createElement(B.type,{...te,key:G,ref:Y}):B}));return d?[V,d]:V}var Q3e=1;function eke(t,{key:e,keys:n=e},r){if(n===null){const i=new Set;return t.map(o=>{const a=r&&r.find(s=>s.item===o&&s.phase!=="leave"&&!i.has(s));return a?(i.add(a),a.key):Q3e++})}return wt.und(n)?t:wt.fun(n)?t.map(n):Wa(n)}var Jse=class extends XF{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=uw(...e);const n=this._get(),r=q4(n);VF(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Tf(e,n)||(iu(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&lG(this._active)&&Jk(this)}_get(){const t=wt.arr(this.source)?this.source.map(us):Wa(us(this.source));return this.calc(...t)}_start(){this.idle&&!lG(this._active)&&(this.idle=!1,vn(VR(this),t=>{t.done=!1}),Dc.skipAnimation?(Mn.batchedUpdates(()=>this.advance()),Jk(this)):$R.start(this))}_attach(){let t=1;vn(Wa(this.source),e=>{Tl(e)&&Dx(e,this),J4(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){vn(Wa(this.source),t=>{Tl(t)&&hw(t,this)}),this._active.clear(),Jk(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Wa(this.source).reduce((e,n)=>Math.max(e,(J4(n)?n.priority:0)+1),0))}};function tke(t){return t.idle!==!1}function lG(t){return!t.size||Array.from(t).every(tke)}function Jk(t){t.idle||(t.idle=!0,vn(VR(t),e=>{e.done=!0}),dw(t,{type:"idle",parent:t}))}var Xa=(t,...e)=>new Jse(t,e);Dc.assign({createStringInterpolator:Ase,to:(t,e)=>new Jse(t,e)});var Qse=/^--/;function nke(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!Qse.test(t)&&!(h1.hasOwnProperty(t)&&h1[t])?e+"px":(""+e).trim()}var cG={};function rke(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:r,style:i,children:o,scrollTop:a,scrollLeft:s,viewBox:l,...c}=e,u=Object.values(c),f=Object.keys(c).map(d=>n||t.hasAttribute(d)?d:cG[d]||(cG[d]=d.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));o!==void 0&&(t.textContent=o);for(const d in i)if(i.hasOwnProperty(d)){const h=nke(d,i[d]);Qse.test(d)?t.style.setProperty(d,h):t.style[d]=h}f.forEach((d,h)=>{t.setAttribute(d,u[h])}),r!==void 0&&(t.className=r),a!==void 0&&(t.scrollTop=a),s!==void 0&&(t.scrollLeft=s),l!==void 0&&t.setAttribute("viewBox",l)}var h1={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ike=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),oke=["Webkit","Ms","Moz","O"];h1=Object.keys(h1).reduce((t,e)=>(oke.forEach(n=>t[ike(n,e)]=t[e]),t),h1);var ake=/^(matrix|translate|scale|rotate|skew)/,ske=/^(translate)/,lke=/^(rotate|skew)/,Qk=(t,e)=>wt.num(t)&&t!==0?t+e:t,QT=(t,e)=>wt.arr(t)?t.every(n=>QT(n,e)):wt.num(t)?t===e:parseFloat(t)===e,cke=class extends GR{constructor({x:t,y:e,z:n,...r}){const i=[],o=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),o.push(a=>[`translate3d(${a.map(s=>Qk(s,"px")).join(",")})`,QT(a,0)])),Bu(r,(a,s)=>{if(s==="transform")i.push([a||""]),o.push(l=>[l,l===""]);else if(ake.test(s)){if(delete r[s],wt.und(a))return;const l=ske.test(s)?"px":lke.test(s)?"deg":"";i.push(Wa(a)),o.push(s==="rotate3d"?([c,u,f,d])=>[`rotate3d(${c},${u},${f},${Qk(d,l)})`,QT(d,0)]:c=>[`${s}(${c.map(u=>Qk(u,l)).join(",")})`,QT(c,s.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new uke(i,o)),super(r)}},uke=class extends Mse{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return vn(this.inputs,(n,r)=>{const i=us(n[0]),[o,a]=this.transforms[r](wt.arr(i)?i:n.map(us));t+=" "+o,e=e&&a}),e?"none":t}observerAdded(t){t==1&&vn(this.inputs,e=>vn(e,n=>Tl(n)&&Dx(n,this)))}observerRemoved(t){t==0&&vn(this.inputs,e=>vn(e,n=>Tl(n)&&hw(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),dw(this,t)}},fke=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Dc.assign({batchedUpdates:Ll.unstable_batchedUpdates,createStringInterpolator:Ase,colors:l3e});var dke=z3e(fke,{applyAnimatedValues:rke,createAnimatedStyle:t=>new cke(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),Un=dke.animated;function hke(){this.__data__=[],this.size=0}var pke=hke;function mke(t,e){return t===e||t!==t&&e!==e}var rM=mke,gke=rM;function vke(t,e){for(var n=t.length;n--;)if(gke(t[n][0],e))return n;return-1}var qR=vke,yke=qR,xke=Array.prototype,bke=xke.splice;function _ke(t){var e=this.__data__,n=yke(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bke.call(e,n,1),--this.size,!0}var wke=_ke,Ske=qR;function Mke(t){var e=this.__data__,n=Ske(e,t);return n<0?void 0:e[n][1]}var Eke=Mke,Tke=qR;function Ake(t){return Tke(this.__data__,t)>-1}var Cke=Ake,Pke=qR;function Rke(t,e){var n=this.__data__,r=Pke(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Oke=Rke,Lke=pke,kke=wke,Nke=Eke,Ike=Cke,Dke=Oke;function jx(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jx.prototype.clear=Lke;jx.prototype.delete=kke;jx.prototype.get=Nke;jx.prototype.has=Ike;jx.prototype.set=Dke;var YR=jx,jke=YR;function Bke(){this.__data__=new jke,this.size=0}var zke=Bke;function $ke(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Fke=$ke;function Uke(t){return this.__data__.get(t)}var Wke=Uke;function Vke(t){return this.__data__.has(t)}var Hke=Vke,Gke=typeof Qi=="object"&&Qi&&Qi.Object===Object&&Qi,ele=Gke,Xke=ele,qke=typeof self=="object"&&self&&self.Object===Object&&self,Yke=Xke||qke||Function("return this")(),$c=Yke,Kke=$c,Zke=Kke.Symbol,Bx=Zke,uG=Bx,tle=Object.prototype,Jke=tle.hasOwnProperty,Qke=tle.toString,Kb=uG?uG.toStringTag:void 0;function eNe(t){var e=Jke.call(t,Kb),n=t[Kb];try{t[Kb]=void 0;var r=!0}catch{}var i=Qke.call(t);return r&&(e?t[Kb]=n:delete t[Kb]),i}var tNe=eNe,nNe=Object.prototype,rNe=nNe.toString;function iNe(t){return rNe.call(t)}var oNe=iNe,fG=Bx,aNe=tNe,sNe=oNe,lNe="[object Null]",cNe="[object Undefined]",dG=fG?fG.toStringTag:void 0;function uNe(t){return t==null?t===void 0?cNe:lNe:dG&&dG in Object(t)?aNe(t):sNe(t)}var Yu=uNe;function fNe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ms=fNe;const zx=yn(Ms);var dNe=Yu,hNe=Ms,pNe="[object AsyncFunction]",mNe="[object Function]",gNe="[object GeneratorFunction]",vNe="[object Proxy]";function yNe(t){if(!hNe(t))return!1;var e=dNe(t);return e==mNe||e==gNe||e==pNe||e==vNe}var KR=yNe;const xn=yn(KR);var xNe=$c,bNe=xNe["__core-js_shared__"],_Ne=bNe,eN=_Ne,hG=function(){var t=/[^.]+$/.exec(eN&&eN.keys&&eN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wNe(t){return!!hG&&hG in t}var SNe=wNe,MNe=Function.prototype,ENe=MNe.toString;function TNe(t){if(t!=null){try{return ENe.call(t)}catch{}try{return t+""}catch{}}return""}var nle=TNe,ANe=KR,CNe=SNe,PNe=Ms,RNe=nle,ONe=/[\\^$.*+?()[\]{}|]/g,LNe=/^\[object .+?Constructor\]$/,kNe=Function.prototype,NNe=Object.prototype,INe=kNe.toString,DNe=NNe.hasOwnProperty,jNe=RegExp("^"+INe.call(DNe).replace(ONe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BNe(t){if(!PNe(t)||CNe(t))return!1;var e=ANe(t)?jNe:LNe;return e.test(RNe(t))}var zNe=BNe;function $Ne(t,e){return t==null?void 0:t[e]}var FNe=$Ne,UNe=zNe,WNe=FNe;function VNe(t,e){var n=WNe(t,e);return UNe(n)?n:void 0}var Yg=VNe,HNe=Yg,GNe=$c,XNe=HNe(GNe,"Map"),qF=XNe,qNe=Yg,YNe=qNe(Object,"create"),ZR=YNe,pG=ZR;function KNe(){this.__data__=pG?pG(null):{},this.size=0}var ZNe=KNe;function JNe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var QNe=JNe,eIe=ZR,tIe="__lodash_hash_undefined__",nIe=Object.prototype,rIe=nIe.hasOwnProperty;function iIe(t){var e=this.__data__;if(eIe){var n=e[t];return n===tIe?void 0:n}return rIe.call(e,t)?e[t]:void 0}var oIe=iIe,aIe=ZR,sIe=Object.prototype,lIe=sIe.hasOwnProperty;function cIe(t){var e=this.__data__;return aIe?e[t]!==void 0:lIe.call(e,t)}var uIe=cIe,fIe=ZR,dIe="__lodash_hash_undefined__";function hIe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fIe&&e===void 0?dIe:e,this}var pIe=hIe,mIe=ZNe,gIe=QNe,vIe=oIe,yIe=uIe,xIe=pIe;function $x(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$x.prototype.clear=mIe;$x.prototype.delete=gIe;$x.prototype.get=vIe;$x.prototype.has=yIe;$x.prototype.set=xIe;var bIe=$x,mG=bIe,_Ie=YR,wIe=qF;function SIe(){this.size=0,this.__data__={hash:new mG,map:new(wIe||_Ie),string:new mG}}var MIe=SIe;function EIe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var TIe=EIe,AIe=TIe;function CIe(t,e){var n=t.__data__;return AIe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var JR=CIe,PIe=JR;function RIe(t){var e=PIe(this,t).delete(t);return this.size-=e?1:0,e}var OIe=RIe,LIe=JR;function kIe(t){return LIe(this,t).get(t)}var NIe=kIe,IIe=JR;function DIe(t){return IIe(this,t).has(t)}var jIe=DIe,BIe=JR;function zIe(t,e){var n=BIe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var $Ie=zIe,FIe=MIe,UIe=OIe,WIe=NIe,VIe=jIe,HIe=$Ie;function Fx(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fx.prototype.clear=FIe;Fx.prototype.delete=UIe;Fx.prototype.get=WIe;Fx.prototype.has=VIe;Fx.prototype.set=HIe;var YF=Fx,GIe=YR,XIe=qF,qIe=YF,YIe=200;function KIe(t,e){var n=this.__data__;if(n instanceof GIe){var r=n.__data__;if(!XIe||r.length<YIe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qIe(r)}return n.set(t,e),this.size=n.size,this}var ZIe=KIe,JIe=YR,QIe=zke,eDe=Fke,tDe=Wke,nDe=Hke,rDe=ZIe;function Ux(t){var e=this.__data__=new JIe(t);this.size=e.size}Ux.prototype.clear=QIe;Ux.prototype.delete=eDe;Ux.prototype.get=tDe;Ux.prototype.has=nDe;Ux.prototype.set=rDe;var QR=Ux,iDe=Yg,oDe=function(){try{var t=iDe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rle=oDe,gG=rle;function aDe(t,e,n){e=="__proto__"&&gG?gG(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var eO=aDe,sDe=eO,lDe=rM;function cDe(t,e,n){(n!==void 0&&!lDe(t[e],n)||n===void 0&&!(e in t))&&sDe(t,e,n)}var ile=cDe;function uDe(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var fDe=uDe,dDe=fDe,hDe=dDe(),ole=hDe,mC={exports:{}};mC.exports;(function(t,e){var n=$c,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,d=s?s(f):new c.constructor(f);return c.copy(d),d}t.exports=l})(mC,mC.exports);var ale=mC.exports,pDe=$c,mDe=pDe.Uint8Array,sle=mDe,vG=sle;function gDe(t){var e=new t.constructor(t.byteLength);return new vG(e).set(new vG(t)),e}var KF=gDe,vDe=KF;function yDe(t,e){var n=e?vDe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var lle=yDe;function xDe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var cle=xDe,bDe=Ms,yG=Object.create,_De=function(){function t(){}return function(e){if(!bDe(e))return{};if(yG)return yG(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),wDe=_De;function SDe(t,e){return function(n){return t(e(n))}}var ule=SDe,MDe=ule,EDe=MDe(Object.getPrototypeOf,Object),ZF=EDe,TDe=Object.prototype;function ADe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TDe;return t===n}var JF=ADe,CDe=wDe,PDe=ZF,RDe=JF;function ODe(t){return typeof t.constructor=="function"&&!RDe(t)?CDe(PDe(t)):{}}var fle=ODe;function LDe(t){return t!=null&&typeof t=="object"}var il=LDe,kDe=Yu,NDe=il,IDe="[object Arguments]";function DDe(t){return NDe(t)&&kDe(t)==IDe}var jDe=DDe,xG=jDe,BDe=il,dle=Object.prototype,zDe=dle.hasOwnProperty,$De=dle.propertyIsEnumerable,FDe=xG(function(){return arguments}())?xG:function(t){return BDe(t)&&zDe.call(t,"callee")&&!$De.call(t,"callee")},tO=FDe,UDe=Array.isArray,Xo=UDe,WDe=9007199254740991;function VDe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=WDe}var QF=VDe,HDe=KR,GDe=QF;function XDe(t){return t!=null&&GDe(t.length)&&!HDe(t)}var Kg=XDe,qDe=Kg,YDe=il;function KDe(t){return YDe(t)&&qDe(t)}var hle=KDe,gC={exports:{}};function ZDe(){return!1}var JDe=ZDe;gC.exports;(function(t,e){var n=$c,r=JDe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(gC,gC.exports);var nO=gC.exports,QDe=Yu,e4e=ZF,t4e=il,n4e="[object Object]",r4e=Function.prototype,i4e=Object.prototype,ple=r4e.toString,o4e=i4e.hasOwnProperty,a4e=ple.call(Object);function s4e(t){if(!t4e(t)||QDe(t)!=n4e)return!1;var e=e4e(t);if(e===null)return!0;var n=o4e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ple.call(n)==a4e}var eU=s4e;const rO=yn(eU);var l4e=Yu,c4e=QF,u4e=il,f4e="[object Arguments]",d4e="[object Array]",h4e="[object Boolean]",p4e="[object Date]",m4e="[object Error]",g4e="[object Function]",v4e="[object Map]",y4e="[object Number]",x4e="[object Object]",b4e="[object RegExp]",_4e="[object Set]",w4e="[object String]",S4e="[object WeakMap]",M4e="[object ArrayBuffer]",E4e="[object DataView]",T4e="[object Float32Array]",A4e="[object Float64Array]",C4e="[object Int8Array]",P4e="[object Int16Array]",R4e="[object Int32Array]",O4e="[object Uint8Array]",L4e="[object Uint8ClampedArray]",k4e="[object Uint16Array]",N4e="[object Uint32Array]",Kr={};Kr[T4e]=Kr[A4e]=Kr[C4e]=Kr[P4e]=Kr[R4e]=Kr[O4e]=Kr[L4e]=Kr[k4e]=Kr[N4e]=!0;Kr[f4e]=Kr[d4e]=Kr[M4e]=Kr[h4e]=Kr[E4e]=Kr[p4e]=Kr[m4e]=Kr[g4e]=Kr[v4e]=Kr[y4e]=Kr[x4e]=Kr[b4e]=Kr[_4e]=Kr[w4e]=Kr[S4e]=!1;function I4e(t){return u4e(t)&&c4e(t.length)&&!!Kr[l4e(t)]}var D4e=I4e;function j4e(t){return function(e){return t(e)}}var Wx=j4e,vC={exports:{}};vC.exports;(function(t,e){var n=ele,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(vC,vC.exports);var iO=vC.exports,B4e=D4e,z4e=Wx,bG=iO,_G=bG&&bG.isTypedArray,$4e=_G?z4e(_G):B4e,tU=$4e;function F4e(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var mle=F4e,U4e=eO,W4e=rM,V4e=Object.prototype,H4e=V4e.hasOwnProperty;function G4e(t,e,n){var r=t[e];(!(H4e.call(t,e)&&W4e(r,n))||n===void 0&&!(e in t))&&U4e(t,e,n)}var nU=G4e,X4e=nU,q4e=eO;function Y4e(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;l===void 0&&(l=t[s]),i?q4e(n,s,l):X4e(n,s,l)}return n}var Vx=Y4e;function K4e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Z4e=K4e,J4e=9007199254740991,Q4e=/^(?:0|[1-9]\d*)$/;function e5e(t,e){var n=typeof t;return e=e??J4e,!!e&&(n=="number"||n!="symbol"&&Q4e.test(t))&&t>-1&&t%1==0&&t<e}var oO=e5e,t5e=Z4e,n5e=tO,r5e=Xo,i5e=nO,o5e=oO,a5e=tU,s5e=Object.prototype,l5e=s5e.hasOwnProperty;function c5e(t,e){var n=r5e(t),r=!n&&n5e(t),i=!n&&!r&&i5e(t),o=!n&&!r&&!i&&a5e(t),a=n||r||i||o,s=a?t5e(t.length,String):[],l=s.length;for(var c in t)(e||l5e.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||o5e(c,l)))&&s.push(c);return s}var gle=c5e;function u5e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var f5e=u5e,d5e=Ms,h5e=JF,p5e=f5e,m5e=Object.prototype,g5e=m5e.hasOwnProperty;function v5e(t){if(!d5e(t))return p5e(t);var e=h5e(t),n=[];for(var r in t)r=="constructor"&&(e||!g5e.call(t,r))||n.push(r);return n}var y5e=v5e,x5e=gle,b5e=y5e,_5e=Kg;function w5e(t){return _5e(t)?x5e(t,!0):b5e(t)}var iM=w5e,S5e=Vx,M5e=iM;function E5e(t){return S5e(t,M5e(t))}var T5e=E5e,wG=ile,A5e=ale,C5e=lle,P5e=cle,R5e=fle,SG=tO,MG=Xo,O5e=hle,L5e=nO,k5e=KR,N5e=Ms,I5e=eU,D5e=tU,EG=mle,j5e=T5e;function B5e(t,e,n,r,i,o,a){var s=EG(t,n),l=EG(e,n),c=a.get(l);if(c){wG(t,n,c);return}var u=o?o(s,l,n+"",t,e,a):void 0,f=u===void 0;if(f){var d=MG(l),h=!d&&L5e(l),m=!d&&!h&&D5e(l);u=l,d||h||m?MG(s)?u=s:O5e(s)?u=P5e(s):h?(f=!1,u=A5e(l,!0)):m?(f=!1,u=C5e(l,!0)):u=[]:I5e(l)||SG(l)?(u=s,SG(s)?u=j5e(s):(!N5e(s)||k5e(s))&&(u=R5e(l))):f=!1}f&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),wG(t,n,u)}var z5e=B5e,$5e=QR,F5e=ile,U5e=ole,W5e=z5e,V5e=Ms,H5e=iM,G5e=mle;function vle(t,e,n,r,i){t!==e&&U5e(e,function(o,a){if(i||(i=new $5e),V5e(o))W5e(t,e,a,n,vle,r,i);else{var s=r?r(G5e(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),F5e(t,a,s)}},H5e)}var X5e=vle;function q5e(t){return t}var Hx=q5e;function Y5e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var K5e=Y5e,Z5e=K5e,TG=Math.max;function J5e(t,e,n){return e=TG(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=TG(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Z5e(t,this,s)}}var yle=J5e;function Q5e(t){return function(){return t}}var eje=Q5e,tje=eje,AG=rle,nje=Hx,rje=AG?function(t,e){return AG(t,"toString",{configurable:!0,enumerable:!1,value:tje(e),writable:!0})}:nje,ije=rje,oje=800,aje=16,sje=Date.now;function lje(t){var e=0,n=0;return function(){var r=sje(),i=aje-(r-n);if(n=r,i>0){if(++e>=oje)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var cje=lje,uje=ije,fje=cje,dje=fje(uje),xle=dje,hje=Hx,pje=yle,mje=xle;function gje(t,e){return mje(pje(t,e,hje),t+"")}var rU=gje,vje=rM,yje=Kg,xje=oO,bje=Ms;function _je(t,e,n){if(!bje(n))return!1;var r=typeof e;return(r=="number"?yje(n)&&xje(e,n.length):r=="string"&&e in n)?vje(n[e],t):!1}var oM=_je,wje=rU,Sje=oM;function Mje(t){return wje(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&Sje(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}var Eje=Mje,Tje=X5e,Aje=Eje,Cje=Aje(function(t,e,n){Tje(t,e,n)}),Pje=Cje;const ble=yn(Pje);var Rje=Yu,Oje=il,Lje="[object Symbol]";function kje(t){return typeof t=="symbol"||Oje(t)&&Rje(t)==Lje}var Gx=kje,Nje=Xo,Ije=Gx,Dje=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jje=/^\w*$/;function Bje(t,e){if(Nje(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ije(t)?!0:jje.test(t)||!Dje.test(t)||e!=null&&t in Object(e)}var iU=Bje,_le=YF,zje="Expected a function";function oU(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zje);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(oU.Cache||_le),n}oU.Cache=_le;var wle=oU;const Sle=yn(wle);var $je=wle,Fje=500;function Uje(t){var e=$je(t,function(r){return n.size===Fje&&n.clear(),r}),n=e.cache;return e}var Wje=Uje,Vje=Wje,Hje=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gje=/\\(\\)?/g,Xje=Vje(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hje,function(n,r,i,o){e.push(i?o.replace(Gje,"$1"):r||n)}),e}),qje=Xje;function Yje(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var aM=Yje,CG=Bx,Kje=aM,Zje=Xo,Jje=Gx,PG=CG?CG.prototype:void 0,RG=PG?PG.toString:void 0;function Mle(t){if(typeof t=="string")return t;if(Zje(t))return Kje(t,Mle)+"";if(Jje(t))return RG?RG.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Qje=Mle,eBe=Qje;function tBe(t){return t==null?"":eBe(t)}var sM=tBe,nBe=Xo,rBe=iU,iBe=qje,oBe=sM;function aBe(t,e){return nBe(t)?t:rBe(t,e)?[t]:iBe(oBe(t))}var Xx=aBe,sBe=Gx;function lBe(t){if(typeof t=="string"||sBe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var qx=lBe,cBe=Xx,uBe=qx;function fBe(t,e){e=cBe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[uBe(e[n++])];return n&&n==r?t:void 0}var lM=fBe,dBe=lM;function hBe(t,e,n){var r=t==null?void 0:dBe(t,e);return r===void 0?n:r}var Ele=hBe;const Ci=yn(Ele);var pBe=nU,mBe=Xx,gBe=oO,OG=Ms,vBe=qx;function yBe(t,e,n,r){if(!OG(t))return t;e=mBe(e,t);for(var i=-1,o=e.length,a=o-1,s=t;s!=null&&++i<o;){var l=vBe(e[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var u=s[l];c=r?r(u,l,s):void 0,c===void 0&&(c=OG(u)?u:gBe(e[i+1])?[]:{})}pBe(s,l,c),s=s[l]}return t}var Tle=yBe,xBe=Tle;function bBe(t,e,n){return t==null?t:xBe(t,e,n)}var _Be=bBe;const D_=yn(_Be);function r5(){return r5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r5.apply(null,arguments)}function wBe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SBe=["outlineWidth","outlineColor","outlineOpacity"],MBe=function(t){return t.outlineWidth,t.outlineColor,t.outlineOpacity,wBe(t,SBe)},EBe=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],TBe=function(t,e){return r5({},e,t)},ABe=function(t,e){var n=ble({},t,e);return EBe.forEach(function(r){D_(n,r,TBe(Ci(n,r),n.text))}),n},Ale=function(t,e){return e?ble({},t,e):t},CBe={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"#ffffff",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}},PBe=function(t){return A.useMemo(function(){return ABe(CBe,t)},[t])},RBe=function(t,e){return A.useMemo(function(){return Ale(t,e)},[t,e])},Cle=A.createContext(null),OBe={},LBe=function(t){var e=t.theme,n=e===void 0?OBe:e,r=t.children,i=PBe(n);return S.jsx(Cle.Provider,{value:i,children:r})},Bn=function(){var t=A.useContext(Cle);if(t===null)throw new Error("Unable to find the theme, did you forget to wrap your component with ThemeProvider?");return t};function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(null,arguments)}var kBe=["basic","chip","container","table","tableCell","tableCellValue"],NBe={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},LG=function(t,e){return"translate("+t+"px, "+e+"px)"},Ple=A.memo(function(t){var e,n=t.position,r=t.anchor,i=t.children,o=Bn(),a=gi(),s=a.animate,l=a.config,c=ZWe(),u=c[0],f=c[1],d=A.useRef(!1),h=void 0,m=!1,v=f.width>0&&f.height>0,y=Math.round(n[0]),g=Math.round(n[1]);v&&(r==="top"?(y-=f.width/2,g-=f.height+14):r==="right"?(y+=14,g-=f.height/2):r==="bottom"?(y-=f.width/2,g+=14):r==="left"?(y-=f.width+14,g-=f.height/2):r==="center"&&(y-=f.width/2,g-=f.height/2),h={transform:LG(y,g)},d.current||(m=!0),d.current=[y,g]);var b=Ss({to:h,config:l,immediate:!s||m}),x=o.tooltip;x.basic,x.chip,x.container,x.table,x.tableCell,x.tableCellValue;var _=function(C,P){if(C==null)return{};var I={};for(var O in C)if({}.hasOwnProperty.call(C,O)){if(P.indexOf(O)!==-1)continue;I[O]=C[O]}return I}(x,kBe),T=_g({},NBe,_,{transform:(e=b.transform)!=null?e:LG(y,g),opacity:b.transform?1:0});return S.jsx(Un.div,{ref:u,style:T,children:i})});Ple.displayName="TooltipWrapper";var wg=A.memo(function(t){var e=t.size,n=e===void 0?12:e,r=t.color,i=t.style;return S.jsx("span",{style:_g({display:"block",width:n,height:n,background:r},i===void 0?{}:i)})}),od=A.memo(function(t){var e,n=t.id,r=t.value,i=t.format,o=t.enableChip,a=o!==void 0&&o,s=t.color,l=t.renderContent,c=Bn(),u=ba(i);if(typeof l=="function")e=l();else{var f=r;u!==void 0&&f!==void 0&&(f=u(f)),e=S.jsxs("div",{style:c.tooltip.basic,children:[a&&S.jsx(wg,{color:s,style:c.tooltip.chip}),f!==void 0?S.jsxs("span",{children:[n,": ",S.jsx("strong",{children:""+f})]}):n]})}return S.jsx("div",{style:c.tooltip.container,role:"tooltip",children:e})}),IBe={width:"100%",borderCollapse:"collapse"},aO=A.memo(function(t){var e,n=t.title,r=t.rows,i=r===void 0?[]:r,o=t.renderContent,a=Bn();return i.length?(e=typeof o=="function"?o():S.jsxs("div",{children:[n&&n,S.jsx("table",{style:_g({},IBe,a.tooltip.table),children:S.jsx("tbody",{children:i.map(function(s,l){return S.jsx("tr",{children:s.map(function(c,u){return S.jsx("td",{style:a.tooltip.tableCell,children:c},u)})},l)})})})]}),S.jsx("div",{style:a.tooltip.container,children:e})):null});aO.displayName="TableTooltip";var i5=A.memo(function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1,o=Bn(),a=gi(),s=a.animate,l=a.config,c=A.useMemo(function(){return _g({},o.crosshair.line,{pointerEvents:"none"})},[o.crosshair.line]),u=Ss({x1:e,x2:n,y1:r,y2:i,config:l,immediate:!s});return S.jsx(Un.line,_g({},u,{fill:"none",style:c}))});i5.displayName="CrosshairLine";var o5=A.memo(function(t){var e,n,r=t.width,i=t.height,o=t.type,a=t.x,s=t.y;return o==="cross"?(e={x0:a,x1:a,y0:0,y1:i},n={x0:0,x1:r,y0:s,y1:s}):o==="top-left"?(e={x0:a,x1:a,y0:0,y1:s},n={x0:0,x1:a,y0:s,y1:s}):o==="top"?e={x0:a,x1:a,y0:0,y1:s}:o==="top-right"?(e={x0:a,x1:a,y0:0,y1:s},n={x0:a,x1:r,y0:s,y1:s}):o==="right"?n={x0:a,x1:r,y0:s,y1:s}:o==="bottom-right"?(e={x0:a,x1:a,y0:s,y1:i},n={x0:a,x1:r,y0:s,y1:s}):o==="bottom"?e={x0:a,x1:a,y0:s,y1:i}:o==="bottom-left"?(e={x0:a,x1:a,y0:s,y1:i},n={x0:0,x1:a,y0:s,y1:s}):o==="left"?n={x0:0,x1:a,y0:s,y1:s}:o==="x"?e={x0:a,x1:a,y0:0,y1:i}:o==="y"&&(n={x0:0,x1:r,y0:s,y1:s}),S.jsxs(S.Fragment,{children:[e&&S.jsx(i5,{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1}),n&&S.jsx(i5,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})});o5.displayName="Crosshair";var Rle=A.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),a5={isVisible:!1,position:[null,null],content:null,anchor:null},Ole=A.createContext(a5),DBe=function(t){var e=A.useState(a5),n=e[0],r=e[1],i=A.useCallback(function(s,l,c){var u=l[0],f=l[1];c===void 0&&(c="top"),r({isVisible:!0,position:[u,f],anchor:c,content:s})},[r]),o=A.useCallback(function(s,l,c){c===void 0&&(c="top");var u=t.current.getBoundingClientRect(),f=t.current.offsetWidth,d=f===u.width?1:f/u.width,h="touches"in l?l.touches[0]:l,m=h.clientX,v=h.clientY,y=(m-u.left)*d,g=(v-u.top)*d;c!=="left"&&c!=="right"||(c=y<u.width/2?"right":"left"),r({isVisible:!0,position:[y,g],anchor:c,content:s})},[t,r]),a=A.useCallback(function(){r(a5)},[r]);return{actions:A.useMemo(function(){return{showTooltipAt:i,showTooltipFromEvent:o,hideTooltip:a}},[i,o,a]),state:n}},ro=function(){var t=A.useContext(Rle);if(t===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return t},jBe=function(){var t=A.useContext(Ole);if(t===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return t},BBe=function(t){return t.isVisible},zBe=function(){var t=jBe();return BBe(t)?S.jsx(Ple,{position:t.position,anchor:t.anchor,children:t.content}):null},$Be=function(t){var e=t.container,n=t.children,r=DBe(e),i=r.actions,o=r.state;return S.jsx(Rle.Provider,{value:i,children:S.jsx(Ole.Provider,{value:o,children:n})})},FBe=Yu,UBe=Xo,WBe=il,VBe="[object String]";function HBe(t){return typeof t=="string"||!UBe(t)&&WBe(t)&&FBe(t)==VBe}var GBe=HBe;const op=yn(GBe);let Dl;typeof window<"u"?Dl=window:typeof self<"u"?Dl=self:Dl=global;let s5=null,l5=null;const kG=20,tN=Dl.clearTimeout,NG=Dl.setTimeout,nN=Dl.cancelAnimationFrame||Dl.mozCancelAnimationFrame||Dl.webkitCancelAnimationFrame,IG=Dl.requestAnimationFrame||Dl.mozRequestAnimationFrame||Dl.webkitRequestAnimationFrame;nN==null||IG==null?(s5=tN,l5=function(e){return NG(e,kG)}):(s5=function([e,n]){nN(e),tN(n)},l5=function(e){const n=IG(function(){tN(r),e()}),r=NG(function(){nN(n),e()},kG);return[n,r]});function XBe(t){let e,n,r,i,o,a,s;const l=typeof document<"u"&&document.attachEvent;if(!l){a=function(g){const b=g.__resizeTriggers__,x=b.firstElementChild,_=b.lastElementChild,T=x.firstElementChild;_.scrollLeft=_.scrollWidth,_.scrollTop=_.scrollHeight,T.style.width=x.offsetWidth+1+"px",T.style.height=x.offsetHeight+1+"px",x.scrollLeft=x.scrollWidth,x.scrollTop=x.scrollHeight},o=function(g){return g.offsetWidth!==g.__resizeLast__.width||g.offsetHeight!==g.__resizeLast__.height},s=function(g){if(g.target.className&&typeof g.target.className.indexOf=="function"&&g.target.className.indexOf("contract-trigger")<0&&g.target.className.indexOf("expand-trigger")<0)return;const b=this;a(this),this.__resizeRAF__&&s5(this.__resizeRAF__),this.__resizeRAF__=l5(function(){o(b)&&(b.__resizeLast__.width=b.offsetWidth,b.__resizeLast__.height=b.offsetHeight,b.__resizeListeners__.forEach(function(T){T.call(b,g)}))})};let d=!1,h="";r="animationstart";const m="Webkit Moz O ms".split(" ");let v="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),y="";{const g=document.createElement("fakeelement");if(g.style.animationName!==void 0&&(d=!0),d===!1){for(let b=0;b<m.length;b++)if(g.style[m[b]+"AnimationName"]!==void 0){y=m[b],h="-"+y.toLowerCase()+"-",r=v[b],d=!0;break}}}n="resizeanim",e="@"+h+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=h+"animation: 1ms "+n+"; "}const c=function(d){if(!d.getElementById("detectElementResize")){const h=(e||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',m=d.head||d.getElementsByTagName("head")[0],v=d.createElement("style");v.id="detectElementResize",v.type="text/css",t!=null&&v.setAttribute("nonce",t),v.styleSheet?v.styleSheet.cssText=h:v.appendChild(d.createTextNode(h)),m.appendChild(v)}};return{addResizeListener:function(d,h){if(l)d.attachEvent("onresize",h);else{if(!d.__resizeTriggers__){const m=d.ownerDocument,v=Dl.getComputedStyle(d);v&&v.position==="static"&&(d.style.position="relative"),c(m),d.__resizeLast__={},d.__resizeListeners__=[],(d.__resizeTriggers__=m.createElement("div")).className="resize-triggers";const y=m.createElement("div");y.className="expand-trigger",y.appendChild(m.createElement("div"));const g=m.createElement("div");g.className="contract-trigger",d.__resizeTriggers__.appendChild(y),d.__resizeTriggers__.appendChild(g),d.appendChild(d.__resizeTriggers__),a(d),d.addEventListener("scroll",s,!0),r&&(d.__resizeTriggers__.__animationListener__=function(x){x.animationName===n&&a(d)},d.__resizeTriggers__.addEventListener(r,d.__resizeTriggers__.__animationListener__))}d.__resizeListeners__.push(h)}},removeResizeListener:function(d,h){if(l)d.detachEvent("onresize",h);else if(d.__resizeListeners__.splice(d.__resizeListeners__.indexOf(h),1),!d.__resizeListeners__.length){d.removeEventListener("scroll",s,!0),d.__resizeTriggers__.__animationListener__&&(d.__resizeTriggers__.removeEventListener(r,d.__resizeTriggers__.__animationListener__),d.__resizeTriggers__.__animationListener__=null);try{d.__resizeTriggers__=!d.removeChild(d.__resizeTriggers__)}catch{}}}}}class qBe extends A.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:i}=this.props;if(this._parentNode){const o=window.getComputedStyle(this._parentNode)||{},a=parseFloat(o.paddingLeft||"0"),s=parseFloat(o.paddingRight||"0"),l=parseFloat(o.paddingTop||"0"),c=parseFloat(o.paddingBottom||"0"),u=this._parentNode.getBoundingClientRect(),f=u.height-l-c,d=u.width-a-s;if(!n&&this.state.height!==f||!r&&this.state.width!==d){this.setState({height:f,width:d});const h=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof i=="function"&&i({height:f,width:d,get scaledHeight(){return h(),f},get scaledWidth(){return h(),d}})}}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:e}=this.props,n=this._autoSizer?this._autoSizer.parentNode:null;if(n!=null&&n.ownerDocument&&n.ownerDocument.defaultView&&n instanceof n.ownerDocument.defaultView.HTMLElement){this._parentNode=n;const r=n.ownerDocument.defaultView.ResizeObserver;r!=null?(this._resizeObserver=new r(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(n)):(this._detectElementResize=XBe(e),this._detectElementResize.addResizeListener(n,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:n,defaultWidth:r,disableHeight:i=!1,disableWidth:o=!1,doNotBailOutOnEmptyChildren:a=!1,nonce:s,onResize:l,style:c={},tagName:u="div",...f}=this.props,{height:d,width:h}=this.state,m={overflow:"visible"},v={};let y=!1;return i||(d===0&&(y=!0),m.height=0,v.height=d,v.scaledHeight=d),o||(h===0&&(y=!0),m.width=0,v.width=h,v.scaledWidth=h),a&&(y=!1),A.createElement(u,{ref:this._setRef,style:{...m,...c},...f},!y&&e(v))}}function YBe(t,e,n,r){var i=this,o=A.useRef(null),a=A.useRef(0),s=A.useRef(0),l=A.useRef(null),c=A.useRef([]),u=A.useRef(),f=A.useRef(),d=A.useRef(t),h=A.useRef(!0);d.current=t;var m=typeof window<"u",v=!e&&e!==0&&m;if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0;var y=!!(n=n||{}).leading,g=!("trailing"in n)||!!n.trailing,b="maxWait"in n,x="debounceOnServer"in n&&!!n.debounceOnServer,_=b?Math.max(+n.maxWait||0,e):null;A.useEffect(function(){return h.current=!0,function(){h.current=!1}},[]);var T=A.useMemo(function(){var C=function(V){var z=c.current,F=u.current;return c.current=u.current=null,a.current=V,s.current=s.current||V,f.current=d.current.apply(F,z)},P=function(V,z){v&&cancelAnimationFrame(l.current),l.current=v?requestAnimationFrame(V):setTimeout(V,z)},I=function(V){if(!h.current)return!1;var z=V-o.current;return!o.current||z>=e||z<0||b&&V-a.current>=_},O=function(V){return l.current=null,g&&c.current?C(V):(c.current=u.current=null,f.current)},N=function V(){var z=Date.now();if(y&&s.current===a.current&&D(),I(z))return O(z);if(h.current){var F=e-(z-o.current),W=b?Math.min(F,_-(z-a.current)):F;P(V,W)}},D=function(){r&&r({})},U=function(){if(m||x){var V=Date.now(),z=I(V);if(c.current=[].slice.call(arguments),u.current=i,o.current=V,z){if(!l.current&&h.current)return a.current=o.current,P(N,e),y?C(o.current):f.current;if(b)return P(N,e),C(o.current)}return l.current||P(N,e),f.current}};return U.cancel=function(){var V=l.current;V&&(v?cancelAnimationFrame(l.current):clearTimeout(l.current)),a.current=0,c.current=o.current=u.current=l.current=null,V&&r&&r({})},U.isPending=function(){return!!l.current},U.flush=function(){return l.current?O(Date.now()):f.current},U},[y,b,e,_,g,v,m,x,r]);return T}function KBe(t,e){return t===e}function ZBe(t,e,n){var r=n&&n.equalityFn||KBe,i=A.useRef(t),o=A.useState({})[1],a=YBe(A.useCallback(function(l){i.current=l,o({})},[o]),e,n,o),s=A.useRef(t);return r(s.current,t)||(a(t),s.current=t),[i.current,a]}function sO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function aU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yx(){}var Sg=.7,D0=1/Sg,i0="\\s*([+-]?\\d+)\\s*",yw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JBe=/^#([0-9a-f]{3,8})$/,QBe=new RegExp(`^rgb\\(${i0},${i0},${i0}\\)$`),eze=new RegExp(`^rgb\\(${Eu},${Eu},${Eu}\\)$`),tze=new RegExp(`^rgba\\(${i0},${i0},${i0},${yw}\\)$`),nze=new RegExp(`^rgba\\(${Eu},${Eu},${Eu},${yw}\\)$`),rze=new RegExp(`^hsl\\(${yw},${Eu},${Eu}\\)$`),ize=new RegExp(`^hsla\\(${yw},${Eu},${Eu},${yw}\\)$`),DG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sO(Yx,Mg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jG,formatHex:jG,formatHex8:oze,formatHsl:aze,formatRgb:BG,toString:BG});function jG(){return this.rgb().formatHex()}function oze(){return this.rgb().formatHex8()}function aze(){return kle(this).formatHsl()}function BG(){return this.rgb().formatRgb()}function Mg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=JBe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?zG(e):n===3?new ga(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?e2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?e2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QBe.exec(t))?new ga(e[1],e[2],e[3],1):(e=eze.exec(t))?new ga(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tze.exec(t))?e2(e[1],e[2],e[3],e[4]):(e=nze.exec(t))?e2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rze.exec(t))?UG(e[1],e[2]/100,e[3]/100,1):(e=ize.exec(t))?UG(e[1],e[2]/100,e[3]/100,e[4]):DG.hasOwnProperty(t)?zG(DG[t]):t==="transparent"?new ga(NaN,NaN,NaN,0):null}function zG(t){return new ga(t>>16&255,t>>8&255,t&255,1)}function e2(t,e,n,r){return r<=0&&(t=e=n=NaN),new ga(t,e,n,r)}function Lle(t){return t instanceof Yx||(t=Mg(t)),t?(t=t.rgb(),new ga(t.r,t.g,t.b,t.opacity)):new ga}function j0(t,e,n,r){return arguments.length===1?Lle(t):new ga(t,e,n,r??1)}function ga(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}sO(ga,j0,aU(Yx,{brighter(t){return t=t==null?D0:Math.pow(D0,t),new ga(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sg:Math.pow(Sg,t),new ga(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ga(ng(this.r),ng(this.g),ng(this.b),yC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$G,formatHex:$G,formatHex8:sze,formatRgb:FG,toString:FG}));function $G(){return`#${Im(this.r)}${Im(this.g)}${Im(this.b)}`}function sze(){return`#${Im(this.r)}${Im(this.g)}${Im(this.b)}${Im((isNaN(this.opacity)?1:this.opacity)*255)}`}function FG(){const t=yC(this.opacity);return`${t===1?"rgb(":"rgba("}${ng(this.r)}, ${ng(this.g)}, ${ng(this.b)}${t===1?")":`, ${t})`}`}function yC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ng(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Im(t){return t=ng(t),(t<16?"0":"")+t.toString(16)}function UG(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sc(t,e,n,r)}function kle(t){if(t instanceof Sc)return new Sc(t.h,t.s,t.l,t.opacity);if(t instanceof Yx||(t=Mg(t)),!t)return new Sc;if(t instanceof Sc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Sc(a,s,l,t.opacity)}function lze(t,e,n,r){return arguments.length===1?kle(t):new Sc(t,e,n,r??1)}function Sc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}sO(Sc,lze,aU(Yx,{brighter(t){return t=t==null?D0:Math.pow(D0,t),new Sc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sg:Math.pow(Sg,t),new Sc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ga(rN(t>=240?t-240:t+120,i,r),rN(t,i,r),rN(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sc(WG(this.h),t2(this.s),t2(this.l),yC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yC(this.opacity);return`${t===1?"hsl(":"hsla("}${WG(this.h)}, ${t2(this.s)*100}%, ${t2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function WG(t){return t=(t||0)%360,t<0?t+360:t}function t2(t){return Math.max(0,Math.min(1,t||0))}function rN(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const cze=Math.PI/180,uze=180/Math.PI;var Nle=-.14861,sU=1.78277,lU=-.29227,lO=-.90649,xw=1.97294,VG=xw*lO,HG=xw*sU,GG=sU*lU-lO*Nle;function fze(t){if(t instanceof rg)return new rg(t.h,t.s,t.l,t.opacity);t instanceof ga||(t=Lle(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(GG*r+VG*e-HG*n)/(GG+VG-HG),o=r-i,a=(xw*(n-i)-lU*o)/lO,s=Math.sqrt(a*a+o*o)/(xw*i*(1-i)),l=s?Math.atan2(a,o)*uze-120:NaN;return new rg(l<0?l+360:l,s,i,t.opacity)}function zu(t,e,n,r){return arguments.length===1?fze(t):new rg(t,e,n,r??1)}function rg(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}sO(rg,zu,aU(Yx,{brighter(t){return t=t==null?D0:Math.pow(D0,t),new rg(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sg:Math.pow(Sg,t),new rg(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*cze,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ga(255*(e+n*(Nle*r+sU*i)),255*(e+n*(lU*r+lO*i)),255*(e+n*(xw*r)),this.opacity)}}));function dze(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function hze(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return dze((n-r/e)*e,a,i,o,s)}}const cO=t=>()=>t;function Ile(t,e){return function(n){return t+n*e}}function pze(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mze(t,e){var n=e-t;return n?Ile(t,n>180||n<-180?n-360*Math.round(n/360):n):cO(isNaN(t)?e:t)}function gze(t){return(t=+t)==1?o0:function(e,n){return n-e?pze(e,n,t):cO(isNaN(e)?n:e)}}function o0(t,e){var n=e-t;return n?Ile(t,n):cO(isNaN(t)?e:t)}const xC=function t(e){var n=gze(e);function r(i,o){var a=n((i=j0(i)).r,(o=j0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=o0(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function vze(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=j0(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=o(l),s+""}}}var yze=vze(hze);function xze(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function bze(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _ze(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Kx(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function wze(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Al(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Sze(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kx(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var c5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iN=new RegExp(c5.source,"g");function Mze(t){return function(){return t}}function Eze(t){return function(e){return t(e)+""}}function cU(t,e){var n=c5.lastIndex=iN.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=c5.exec(t))&&(i=iN.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Al(r,i)})),n=iN.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Eze(l[0].x):Mze(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Kx(t,e){var n=typeof e,r;return e==null||n==="boolean"?cO(e):(n==="number"?Al:n==="string"?(r=Mg(e))?(e=r,xC):cU:e instanceof Mg?xC:e instanceof Date?wze:bze(e)?xze:Array.isArray(e)?_ze:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Sze:Al)(t,e)}function uO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var XG=180/Math.PI,u5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dle(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*XG,skewX:Math.atan(l)*XG,scaleX:a,scaleY:s}}var n2;function Tze(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?u5:Dle(e.a,e.b,e.c,e.d,e.e,e.f)}function Aze(t){return t==null||(n2||(n2=document.createElementNS("http://www.w3.org/2000/svg","g")),n2.setAttribute("transform",t),!(t=n2.transform.baseVal.consolidate()))?u5:(t=t.matrix,Dle(t.a,t.b,t.c,t.d,t.e,t.f))}function jle(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,d,h,m){if(c!==f||u!==d){var v=h.push("translate(",null,e,null,n);m.push({i:v-4,x:Al(c,f)},{i:v-2,x:Al(u,d)})}else(f||d)&&h.push("translate("+f+e+d+n)}function a(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Al(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function s(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Al(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,h,m){if(c!==f||u!==d){var v=h.push(i(h)+"scale(",null,",",null,")");m.push({i:v-4,x:Al(c,f)},{i:v-2,x:Al(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=t(c),u=t(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,d),a(c.rotate,u.rotate,f,d),s(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var m=-1,v=d.length,y;++m<v;)f[(y=d[m]).i]=y.x(h);return f.join("")}}}var Cze=jle(Tze,"px, ","px)","deg)"),Pze=jle(Aze,", ",")",")");function Ble(t){return function e(n){n=+n;function r(i,o){var a=t((i=zu(i)).h,(o=zu(o)).h),s=o0(i.s,o.s),l=o0(i.l,o.l),c=o0(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=s(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=e,r}(1)}Ble(mze);var uU=Ble(o0);function Rze(t,e){e===void 0&&(e=t,t=Kx);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}var Oze="__lodash_hash_undefined__";function Lze(t){return this.__data__.set(t,Oze),this}var kze=Lze;function Nze(t){return this.__data__.has(t)}var Ize=Nze,Dze=YF,jze=kze,Bze=Ize;function bC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Dze;++e<n;)this.add(t[e])}bC.prototype.add=bC.prototype.push=jze;bC.prototype.has=Bze;var fU=bC;function zze(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var zle=zze;function $ze(t){return t!==t}var Fze=$ze;function Uze(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Wze=Uze,Vze=zle,Hze=Fze,Gze=Wze;function Xze(t,e,n){return e===e?Gze(t,e,n):Vze(t,Hze,n)}var qze=Xze,Yze=qze;function Kze(t,e){var n=t==null?0:t.length;return!!n&&Yze(t,e,0)>-1}var $le=Kze;function Zze(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Fle=Zze;function Jze(t,e){return t.has(e)}var dU=Jze,Qze=fU,e$e=$le,t$e=Fle,n$e=aM,r$e=Wx,i$e=dU,o$e=200;function a$e(t,e,n,r){var i=-1,o=e$e,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=n$e(e,r$e(n))),r?(o=t$e,a=!1):e.length>=o$e&&(o=i$e,a=!1,e=new Qze(e));e:for(;++i<s;){var u=t[i],f=n==null?u:n(u);if(u=r||u!==0?u:0,a&&f===f){for(var d=c;d--;)if(e[d]===f)continue e;l.push(u)}else o(e,f,r)||l.push(u)}return l}var s$e=a$e,l$e=s$e,c$e=rU,u$e=hle,f$e=c$e(function(t,e){return u$e(t)?l$e(t,e):[]}),d$e=f$e;const Ule=yn(d$e);function Hn(t){return function(){return t}}const qG=Math.abs,ra=Math.atan2,Af=Math.cos,h$e=Math.max,oN=Math.min,ls=Math.sin,Wo=Math.sqrt,la=1e-12,ap=Math.PI,_C=ap/2,cM=2*ap;function p$e(t){return t>1?0:t<-1?ap:Math.acos(t)}function YG(t){return t>=1?_C:t<=-1?-_C:Math.asin(t)}const f5=Math.PI,d5=2*f5,ym=1e-6,m$e=d5-ym;function Wle(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function g$e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Wle;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let v$e=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Wle:g$e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,u=a-e,f=s-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>ym)if(!(Math.abs(f*l-c*u)>ym)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,m=i-s,v=l*l+c*c,y=h*h+m*m,g=Math.sqrt(v),b=Math.sqrt(d),x=o*Math.tan((f5-Math.acos((v+d-y)/(2*g*b)))/2),_=x/b,T=x/g;Math.abs(_-1)>ym&&this._append`L${e+_*u},${n+_*f}`,this._append`A${o},${o},0,0,${+(f*h>u*m)},${this._x1=e+T*l},${this._y1=n+T*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ym||Math.abs(this._y1-u)>ym)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%d5+d5),d>m$e?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>ym&&this._append`A${r},${r},0,${+(d>=f5)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function uM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new v$e(e)}function y$e(t){return t.innerRadius}function x$e(t){return t.outerRadius}function b$e(t){return t.startAngle}function _$e(t){return t.endAngle}function w$e(t){return t&&t.padAngle}function S$e(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,f=s-o,d=f*l-u*c;if(!(d*d<la))return d=(u*(e-o)-f*(t-i))/d,[t+d*l,e+d*c]}function r2(t,e,n,r,i,o,a){var s=t-n,l=e-r,c=(a?o:-o)/Wo(s*s+l*l),u=c*l,f=-c*s,d=t+u,h=e+f,m=n+u,v=r+f,y=(d+m)/2,g=(h+v)/2,b=m-d,x=v-h,_=b*b+x*x,T=i-o,C=d*v-m*h,P=(x<0?-1:1)*Wo(h$e(0,T*T*_-C*C)),I=(C*x-b*P)/_,O=(-C*b-x*P)/_,N=(C*x+b*P)/_,D=(-C*b+x*P)/_,U=I-y,V=O-g,z=N-y,F=D-g;return U*U+V*V>z*z+F*F&&(I=N,O=D),{cx:I,cy:O,x01:-u,y01:-f,x11:I*(i/T-1),y11:O*(i/T-1)}}function Vle(){var t=y$e,e=x$e,n=Hn(0),r=null,i=b$e,o=_$e,a=w$e,s=null,l=uM(c);function c(){var u,f,d=+t.apply(this,arguments),h=+e.apply(this,arguments),m=i.apply(this,arguments)-_C,v=o.apply(this,arguments)-_C,y=qG(v-m),g=v>m;if(s||(s=u=l()),h<d&&(f=h,h=d,d=f),!(h>la))s.moveTo(0,0);else if(y>cM-la)s.moveTo(h*Af(m),h*ls(m)),s.arc(0,0,h,m,v,!g),d>la&&(s.moveTo(d*Af(v),d*ls(v)),s.arc(0,0,d,v,m,g));else{var b=m,x=v,_=m,T=v,C=y,P=y,I=a.apply(this,arguments)/2,O=I>la&&(r?+r.apply(this,arguments):Wo(d*d+h*h)),N=oN(qG(h-d)/2,+n.apply(this,arguments)),D=N,U=N,V,z;if(O>la){var F=YG(O/d*ls(I)),W=YG(O/h*ls(I));(C-=F*2)>la?(F*=g?1:-1,_+=F,T-=F):(C=0,_=T=(m+v)/2),(P-=W*2)>la?(W*=g?1:-1,b+=W,x-=W):(P=0,b=x=(m+v)/2)}var X=h*Af(b),B=h*ls(b),G=d*Af(T),q=d*ls(T);if(N>la){var te=h*Af(x),Y=h*ls(x),J=d*Af(_),re=d*ls(_),oe;if(y<ap)if(oe=S$e(X,B,J,re,te,Y,G,q)){var pe=X-oe[0],fe=B-oe[1],we=te-oe[0],ge=Y-oe[1],xe=1/ls(p$e((pe*we+fe*ge)/(Wo(pe*pe+fe*fe)*Wo(we*we+ge*ge)))/2),Te=Wo(oe[0]*oe[0]+oe[1]*oe[1]);D=oN(N,(d-Te)/(xe-1)),U=oN(N,(h-Te)/(xe+1))}else D=U=0}P>la?U>la?(V=r2(J,re,X,B,h,U,g),z=r2(te,Y,G,q,h,U,g),s.moveTo(V.cx+V.x01,V.cy+V.y01),U<N?s.arc(V.cx,V.cy,U,ra(V.y01,V.x01),ra(z.y01,z.x01),!g):(s.arc(V.cx,V.cy,U,ra(V.y01,V.x01),ra(V.y11,V.x11),!g),s.arc(0,0,h,ra(V.cy+V.y11,V.cx+V.x11),ra(z.cy+z.y11,z.cx+z.x11),!g),s.arc(z.cx,z.cy,U,ra(z.y11,z.x11),ra(z.y01,z.x01),!g))):(s.moveTo(X,B),s.arc(0,0,h,b,x,!g)):s.moveTo(X,B),!(d>la)||!(C>la)?s.lineTo(G,q):D>la?(V=r2(G,q,te,Y,d,-D,g),z=r2(X,B,J,re,d,-D,g),s.lineTo(V.cx+V.x01,V.cy+V.y01),D<N?s.arc(V.cx,V.cy,D,ra(V.y01,V.x01),ra(z.y01,z.x01),!g):(s.arc(V.cx,V.cy,D,ra(V.y01,V.x01),ra(V.y11,V.x11),!g),s.arc(0,0,d,ra(V.cy+V.y11,V.cx+V.x11),ra(z.cy+z.y11,z.cx+z.x11),g),s.arc(z.cx,z.cy,D,ra(z.y11,z.x11),ra(z.y01,z.x01),!g))):s.arc(0,0,d,T,_,g)}if(s.closePath(),u)return s=null,u+""||null}return c.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-ap/2;return[Af(f)*u,ls(f)*u]},c.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Hn(+u),c):t},c.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Hn(+u),c):e},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Hn(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Hn(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Hn(+u),c):i},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Hn(+u),c):o},c.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Hn(+u),c):a},c.context=function(u){return arguments.length?(s=u??null,c):s},c}var M$e=Array.prototype.slice;function hU(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hle(t){this._context=t}Hle.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fM(t){return new Hle(t)}function pU(t){return t[0]}function mU(t){return t[1]}function Eg(t,e){var n=Hn(!0),r=null,i=fM,o=null,a=uM(s);t=typeof t=="function"?t:t===void 0?pU:Hn(t),e=typeof e=="function"?e:e===void 0?mU:Hn(e);function s(l){var c,u=(l=hU(l)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,c,l),+e(f,c,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Hn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Hn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Hn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Dy(t,e,n){var r=null,i=Hn(!0),o=null,a=fM,s=null,l=uM(c);t=typeof t=="function"?t:t===void 0?pU:Hn(+t),e=typeof e=="function"?e:Hn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?mU:Hn(+n);function c(f){var d,h,m,v=(f=hU(f)).length,y,g=!1,b,x=new Array(v),_=new Array(v);for(o==null&&(s=a(b=l())),d=0;d<=v;++d){if(!(d<v&&i(y=f[d],d,f))===g)if(g=!g)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=h;--m)s.point(x[m],_[m]);s.lineEnd(),s.areaEnd()}g&&(x[d]=+t(y,d,f),_[d]=+e(y,d,f),s.point(r?+r(y,d,f):x[d],n?+n(y,d,f):_[d]))}if(b)return s=null,b+""||null}function u(){return Eg().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Hn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Hn(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Hn(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}function i2(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class Gle{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class E$e{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const r=i2(this._x0,this._y0),i=i2(this._x0,this._y0=(this._y0+n)/2),o=i2(e,this._y0),a=i2(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=e,this._y0=n}}function T$e(t){return new Gle(t,!0)}function A$e(t){return new Gle(t,!1)}function C$e(t){return new E$e(t)}function P$e(t){return t.source}function R$e(t){return t.target}function O$e(t){let e=P$e,n=R$e,r=pU,i=mU,o=null,a=null,s=uM(l);function l(){let c;const u=M$e.call(arguments),f=e.apply(this,u),d=n.apply(this,u);if(o==null&&(a=t(c=s())),a.lineStart(),u[0]=f,a.point(+r.apply(this,u),+i.apply(this,u)),u[0]=d,a.point(+r.apply(this,u),+i.apply(this,u)),a.lineEnd(),c)return a=null,c+""||null}return l.source=function(c){return arguments.length?(e=c,l):e},l.target=function(c){return arguments.length?(n=c,l):n},l.x=function(c){return arguments.length?(r=typeof c=="function"?c:Hn(+c),l):r},l.y=function(c){return arguments.length?(i=typeof c=="function"?c:Hn(+c),l):i},l.context=function(c){return arguments.length?(c==null?o=a=null:a=t(o=c),l):o},l}function L$e(){const t=O$e(C$e);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const gU={draw(t,e){const n=Wo(e/ap);t.moveTo(n,0),t.arc(0,0,n,0,cM)}},k$e={draw(t,e){const n=Wo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Xle=Wo(1/3),N$e=Xle*2,I$e={draw(t,e){const n=Wo(e/N$e),r=n*Xle;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},D$e={draw(t,e){const n=Wo(e),r=-n/2;t.rect(r,r,n,n)}},j$e=.8908130915292852,qle=ls(ap/10)/ls(7*ap/10),B$e=ls(cM/10)*qle,z$e=-Af(cM/10)*qle,$$e={draw(t,e){const n=Wo(e*j$e),r=B$e*n,i=z$e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=cM*o/5,s=Af(a),l=ls(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},aN=Wo(3),F$e={draw(t,e){const n=-Wo(e/(aN*3));t.moveTo(0,n*2),t.lineTo(-aN*n,-n),t.lineTo(aN*n,-n),t.closePath()}},gl=-.5,vl=Wo(3)/2,h5=1/Wo(12),U$e=(h5/2+1)*3,W$e={draw(t,e){const n=Wo(e/U$e),r=n/2,i=n*h5,o=r,a=n*h5+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(gl*r-vl*i,vl*r+gl*i),t.lineTo(gl*o-vl*a,vl*o+gl*a),t.lineTo(gl*s-vl*l,vl*s+gl*l),t.lineTo(gl*r+vl*i,gl*i-vl*r),t.lineTo(gl*o+vl*a,gl*a-vl*o),t.lineTo(gl*s+vl*l,gl*l-vl*s),t.closePath()}};function V$e(t,e){let n=null,r=uM(i);t=typeof t=="function"?t:Hn(t||gU),e=typeof e=="function"?e:Hn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Hn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Hn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function sp(){}function wC(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fO(t){this._context=t}fO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yle(t){return new fO(t)}function Kle(t){this._context=t}Kle.prototype={areaStart:sp,areaEnd:sp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:wC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zle(t){return new Kle(t)}function Jle(t){this._context=t}Jle.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qle(t){return new Jle(t)}function ece(t,e){this._basis=new fO(t),this._beta=e}ece.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+l*o),this._beta*e[s]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const H$e=function t(e){function n(r){return e===1?new fO(r):new ece(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function SC(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function vU(t,e){this._context=t,this._k=(1-e)/6}vU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:SC(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:SC(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const G$e=function t(e){function n(r){return new vU(r,e)}return n.tension=function(r){return t(+r)},n}(0);function yU(t,e){this._context=t,this._k=(1-e)/6}yU.prototype={areaStart:sp,areaEnd:sp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:SC(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const X$e=function t(e){function n(r){return new yU(r,e)}return n.tension=function(r){return t(+r)},n}(0);function xU(t,e){this._context=t,this._k=(1-e)/6}xU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:SC(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const q$e=function t(e){function n(r){return new xU(r,e)}return n.tension=function(r){return t(+r)},n}(0);function bU(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>la){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>la){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function tce(t,e){this._context=t,this._alpha=e}tce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bU(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Y$e=function t(e){function n(r){return e?new tce(r,e):new vU(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function nce(t,e){this._context=t,this._alpha=e}nce.prototype={areaStart:sp,areaEnd:sp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bU(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const K$e=function t(e){function n(r){return e?new nce(r,e):new yU(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function rce(t,e){this._context=t,this._alpha=e}rce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bU(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Z$e=function t(e){function n(r){return e?new rce(r,e):new xU(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ice(t){this._context=t}ice.prototype={areaStart:sp,areaEnd:sp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function oce(t){return new ice(t)}function KG(t){return t<0?-1:1}function ZG(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(KG(o)+KG(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function JG(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function sN(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function MC(t){this._context=t}MC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sN(this,this._t0,JG(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sN(this,JG(this,n=ZG(this,t,e)),n);break;default:sN(this,this._t0,n=ZG(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ace(t){this._context=new sce(t)}(ace.prototype=Object.create(MC.prototype)).point=function(t,e){MC.prototype.point.call(this,e,t)};function sce(t){this._context=t}sce.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function _U(t){return new MC(t)}function wU(t){return new ace(t)}function lce(t){this._context=t}lce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=QG(t),i=QG(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function QG(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function cce(t){return new lce(t)}function dO(t,e){this._context=t,this._t=e}dO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function uce(t){return new dO(t,.5)}function fce(t){return new dO(t,0)}function dce(t){return new dO(t,1)}function Tg(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ag(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function J$e(t,e){return t[e]}function Q$e(t){const e=[];return e.key=t,e}function SU(){var t=Hn([]),e=Ag,n=Tg,r=J$e;function i(o){var a=Array.from(t.apply(this,arguments),Q$e),s,l=a.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(f,a[s].key,c,o)]).data=f;for(s=0,u=hU(e(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Hn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Hn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Ag:typeof o=="function"?o:Hn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Tg,i):n},i}function hce(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Tg(t,e)}}function pce(t,e){if((l=t.length)>0)for(var n,r=0,i,o,a,s,l,c=t[e[0]].length;r<c;++r)for(a=s=0,n=0;n<l;++n)(o=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function mce(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Tg(t,e)}}function gce(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],f=u[r][1]||0,d=u[r-1][1]||0,h=(f-d)/2,m=0;m<s;++m){var v=t[e[m]],y=v[r][1]||0,g=v[r-1][1]||0;h+=y-g}l+=f,c+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Tg(t,e)}}function eFe(t){var e=t.map(tFe);return Ag(t).sort(function(n,r){return e[n]-e[r]})}function tFe(t){for(var e=-1,n=0,r=t.length,i,o=-1/0;++e<r;)(i=+t[e][1])>o&&(o=i,n=e);return n}function vce(t){var e=t.map(yce);return Ag(t).sort(function(n,r){return e[n]-e[r]})}function yce(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function nFe(t){return vce(t).reverse()}function rFe(t){var e=t.length,n,r,i=t.map(yce),o=eFe(t),a=0,s=0,l=[],c=[];for(n=0;n<e;++n)r=o[n],a<s?(a+=i[r],l.push(r)):(s+=i[r],c.push(r));return c.reverse().concat(l)}function iFe(t){return Ag(t).reverse()}function Hh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oFe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MU(t){let e,n,r;t.length!==2?(e=Hh,n=(s,l)=>Hh(t(s),l),r=(s,l)=>t(s)-l):(e=t===Hh||t===oFe?t:aFe,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function aFe(){return 0}function xce(t){return t===null?NaN:+t}function*sFe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const lFe=MU(Hh),dM=lFe.right;MU(xce).center;function cFe(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class eX extends Map{constructor(e,n=dFe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(tX(this,e))}has(e){return super.has(tX(this,e))}set(e,n){return super.set(uFe(this,e),n)}delete(e){return super.delete(fFe(this,e))}}function tX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function uFe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function fFe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function dFe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hFe(t=Hh){if(t===Hh)return bce;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function bce(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var p5=Math.sqrt(50),m5=Math.sqrt(10),g5=Math.sqrt(2);function v5(t,e,n){var r,i=-1,o,a,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(s=_ce(t,e,n))===0||!isFinite(s))return[];if(s>0){let l=Math.round(t/s),c=Math.round(e/s);for(l*s<t&&++l,c*s>e&&--c,a=new Array(o=c-l+1);++i<o;)a[i]=(l+i)*s}else{s=-s;let l=Math.round(t*s),c=Math.round(e*s);for(l/s<t&&++l,c/s>e&&--c,a=new Array(o=c-l+1);++i<o;)a[i]=(l+i)/s}return r&&a.reverse(),a}function _ce(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=p5?10:o>=m5?5:o>=g5?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=p5?10:o>=m5?5:o>=g5?2:1)}function y5(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=p5?i*=10:o>=m5?i*=5:o>=g5&&(i*=2),e<t?-i:i}function nX(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function rX(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function wce(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?bce:hFe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*f/l+d)),m=Math.min(r,Math.floor(e+(l-c)*f/l+d));wce(t,e,h,m,i)}const o=t[e];let a=n,s=r;for(Zb(t,n,e),i(t[r],o)>0&&Zb(t,n,r);a<s;){for(Zb(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Zb(t,n,s):(++s,Zb(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Zb(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pFe(t,e,n){if(t=Float64Array.from(sFe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return rX(t);if(e>=1)return nX(t);var r,i=(r-1)*e,o=Math.floor(i),a=nX(wce(t,o).subarray(0,o+1)),s=rX(t.subarray(o+1));return a+(s-a)*(i-o)}}function mFe(t,e,n=xce){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function gFe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Gl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const x5=Symbol("implicit");function Rh(){var t=new eX,e=[],n=[],r=x5;function i(o){let a=t.get(o);if(a===void 0){if(r!==x5)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new eX;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Rh(e,n).unknown(r)},Gl.apply(i,arguments),i}function B0(){var t=Rh().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,h=i<r,m=h?i:r,v=h?r:i;o=(v-m)/Math.max(1,d-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(d-l))*u,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var y=gFe(d).map(function(g){return m+o*g});return n(h?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return B0(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Gl.apply(f(),arguments)}function Sce(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Sce(e())},t}function ig(){return Sce(B0.apply(null,arguments).paddingInner(1))}function vFe(t){return function(){return t}}function EC(t){return+t}var iX=[0,1];function Va(t){return t}function b5(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:vFe(isNaN(e)?NaN:.5)}function yFe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xFe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=b5(i,r),o=n(a,o)):(r=b5(r,i),o=n(o,a)),function(s){return o(r(s))}}function bFe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=b5(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=dM(t,s,1,r)-1;return o[l](i[l](s))}}function hM(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hO(){var t=iX,e=iX,n=Kx,r,i,o,a=Va,s,l,c;function u(){var d=Math.min(t.length,e.length);return a!==Va&&(a=yFe(t[0],t[d-1])),s=d>2?bFe:xFe,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((c||(c=s(e,t.map(r),Al)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,EC),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=uO,u()},f.clamp=function(d){return arguments.length?(a=d?!0:Va,u()):a!==Va},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,u()}}function EU(){return hO()(Va,Va)}function _Fe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function TC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function z0(t){return t=TC(Math.abs(t)),t?t[1]:NaN}function wFe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function SFe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var MFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $0(t){if(!(e=MFe.exec(t)))throw new Error("invalid format: "+t);var e;return new TU({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$0.prototype=TU.prototype;function TU(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EFe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Mce;function TFe(t,e){var n=TC(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Mce=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+TC(t,Math.max(0,e+o-1))[0]}function oX(t,e){var n=TC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aX={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:_Fe,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return oX(t*100,e)},r:oX,s:TFe,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function sX(t){return t}var lX=Array.prototype.map,cX=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AFe(t){var e=t.grouping===void 0||t.thousands===void 0?sX:wFe(lX.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal+"",o=t.numerals===void 0?sX:SFe(lX.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=$0(f);var d=f.fill,h=f.align,m=f.sign,v=f.symbol,y=f.zero,g=f.width,b=f.comma,x=f.precision,_=f.trim,T=f.type;T==="n"?(b=!0,T="g"):aX[T]||(x===void 0&&(x=12),_=!0,T="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",P=v==="$"?r:/[%p]/.test(T)?a:"",I=aX[T],O=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function N(D){var U=C,V=P,z,F,W;if(T==="c")V=I(D)+V,D="";else{D=+D;var X=D<0||1/D<0;if(D=isNaN(D)?l:I(Math.abs(D),x),_&&(D=EFe(D)),X&&+D==0&&m!=="+"&&(X=!1),U=(X?m==="("?m:s:m==="-"||m==="("?"":m)+U,V=(T==="s"?cX[8+Mce/3]:"")+V+(X&&m==="("?")":""),O){for(z=-1,F=D.length;++z<F;)if(W=D.charCodeAt(z),48>W||W>57){V=(W===46?i+D.slice(z+1):D.slice(z))+V,D=D.slice(0,z);break}}}b&&!y&&(D=e(D,1/0));var B=U.length+D.length+V.length,G=B<g?new Array(g-B+1).join(d):"";switch(b&&y&&(D=e(G+D,G.length?g-V.length:1/0),G=""),h){case"<":D=U+D+V+G;break;case"=":D=U+G+D+V;break;case"^":D=G.slice(0,B=G.length>>1)+U+D+V+G.slice(B);break;default:D=G+U+D+V;break}return o(D)}return N.toString=function(){return f+""},N}function u(f,d){var h=c((f=$0(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(z0(d)/3)))*3,v=Math.pow(10,-m),y=cX[8+m/3];return function(g){return h(v*g)+y}}return{format:c,formatPrefix:u}}var o2,Zg,AU;CFe({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function CFe(t){return o2=AFe(t),Zg=o2.format,AU=o2.formatPrefix,o2}function Ece(t){return Math.max(0,-z0(Math.abs(t)))}function Tce(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(z0(e)/3)))*3-z0(Math.abs(t)))}function Ace(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,z0(e)-z0(t))+1}function Cce(t,e,n,r){var i=y5(t,e,n),o;switch(r=$0(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Tce(i,a))&&(r.precision=o),AU(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ace(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ece(i))&&(r.precision=o-(r.type==="%")*2);break}}return Zg(r)}function Sp(t){var e=t.domain;return t.ticks=function(n){var r=e();return v5(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Cce(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=_ce(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function lp(){var t=EU();return t.copy=function(){return hM(t,lp())},Gl.apply(t,arguments),Sp(t)}function Pce(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,EC),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Pce(t).unknown(e)},t=arguments.length?Array.from(t,EC):[0,1],Sp(n)}function Rce(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function uX(t){return Math.log(t)}function fX(t){return Math.exp(t)}function PFe(t){return-Math.log(-t)}function RFe(t){return-Math.exp(-t)}function OFe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function LFe(t){return t===10?OFe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kFe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function dX(t){return(e,n)=>-t(-e,n)}function CU(t){const e=t(uX,fX),n=e.domain;let r=10,i,o;function a(){return i=kFe(r),o=LFe(r),n()[0]<0?(i=dX(i),o=dX(o),t(PFe,RFe)):t(uX,fX),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),m,v;const y=s==null?10:+s;let g=[];if(!(r%1)&&h-d<y){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(m=1;m<r;++m)if(v=d<0?m/o(-d):m*o(d),!(v<c)){if(v>u)break;g.push(v)}}else for(;d<=h;++d)for(m=r-1;m>=1;--m)if(v=d>0?m/o(-d):m*o(d),!(v<c)){if(v>u)break;g.push(v)}g.length*2<y&&(g=v5(c,u,y))}else g=v5(d,h,Math.min(h-d,y)).map(o);return f?g.reverse():g},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$0(l)).precision==null&&(l.trim=!0),l=Zg(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(Rce(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function PU(){const t=CU(hO()).domain([1,10]);return t.copy=()=>hM(t,PU()).base(t.base()),Gl.apply(t,arguments),t}function hX(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pX(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function RU(t){var e=1,n=t(hX(e),pX(e));return n.constant=function(r){return arguments.length?t(hX(e=+r),pX(e)):e},Sp(n)}function OU(){var t=RU(hO());return t.copy=function(){return hM(t,OU()).constant(t.constant())},Gl.apply(t,arguments)}function mX(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function NFe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function IFe(t){return t<0?-t*t:t*t}function LU(t){var e=t(Va,Va),n=1;function r(){return n===1?t(Va,Va):n===.5?t(NFe,IFe):t(mX(n),mX(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sp(e)}function kU(){var t=LU(hO());return t.copy=function(){return hM(t,kU()).exponent(t.exponent())},Gl.apply(t,arguments),t}function DFe(){return kU.apply(null,arguments).exponent(.5)}function gX(t){return Math.sign(t)*t*t}function jFe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Oce(){var t=EU(),e=[0,1],n=!1,r;function i(o){var a=jFe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(gX(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,EC)).map(gX)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Oce(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Gl.apply(i,arguments),Sp(i)}function Lce(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=mFe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[dM(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Hh),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Lce().domain(t).range(e).unknown(r)},Gl.apply(o,arguments)}function NU(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[dM(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return NU().domain([t,e]).range(i).unknown(o)},Gl.apply(Sp(a),arguments)}function kce(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[dM(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return kce().domain(t).range(e).unknown(n)},Gl.apply(i,arguments)}const lN=new Date,cN=new Date;function vo(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>vo(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(lN.setTime(+o),cN.setTime(+a),t(lN),t(cN),Math.floor(n(lN,cN))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const AC=vo(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);AC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vo(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):AC);AC.range;const Df=1e3,kl=Df*60,jf=kl*60,ad=jf*24,IU=ad*7,vX=ad*30,uN=ad*365,Dm=vo(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Df)},(t,e)=>(e-t)/Df,t=>t.getUTCSeconds());Dm.range;const DU=vo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Df)},(t,e)=>{t.setTime(+t+e*kl)},(t,e)=>(e-t)/kl,t=>t.getMinutes());DU.range;const jU=vo(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*kl)},(t,e)=>(e-t)/kl,t=>t.getUTCMinutes());jU.range;const BU=vo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Df-t.getMinutes()*kl)},(t,e)=>{t.setTime(+t+e*jf)},(t,e)=>(e-t)/jf,t=>t.getHours());BU.range;const zU=vo(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*jf)},(t,e)=>(e-t)/jf,t=>t.getUTCHours());zU.range;const $U=vo(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*kl)/ad,t=>t.getDate()-1);$U.range;const Nce=vo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ad,t=>t.getUTCDate()-1);Nce.range;const Ice=vo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ad,t=>Math.floor(t/ad));Ice.range;function Jg(t){return vo(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*kl)/IU)}const FU=Jg(0),BFe=Jg(1),zFe=Jg(2),$Fe=Jg(3),FFe=Jg(4),UFe=Jg(5),WFe=Jg(6);FU.range;BFe.range;zFe.range;$Fe.range;FFe.range;UFe.range;WFe.range;function Qg(t){return vo(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/IU)}const UU=Qg(0),VFe=Qg(1),HFe=Qg(2),GFe=Qg(3),XFe=Qg(4),qFe=Qg(5),YFe=Qg(6);UU.range;VFe.range;HFe.range;GFe.range;XFe.range;qFe.range;YFe.range;const WU=vo(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());WU.range;const VU=vo(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());VU.range;const pO=vo(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());pO.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vo(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});pO.range;const mO=vo(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());mO.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vo(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});mO.range;function Dce(t,e,n,r,i,o){const a=[[Dm,1,Df],[Dm,5,5*Df],[Dm,15,15*Df],[Dm,30,30*Df],[o,1,kl],[o,5,5*kl],[o,15,15*kl],[o,30,30*kl],[i,1,jf],[i,3,3*jf],[i,6,6*jf],[i,12,12*jf],[r,1,ad],[r,2,2*ad],[n,1,IU],[e,1,vX],[e,3,3*vX],[t,1,uN]];function s(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),m=h?h.range(c,+u+1):[];return d?m.reverse():m}function l(c,u,f){const d=Math.abs(u-c)/f,h=MU(([,,y])=>y).right(a,d);if(h===a.length)return t.every(y5(c/uN,u/uN,f));if(h===0)return AC.every(Math.max(y5(c,u,f),1));const[m,v]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return m.every(v)}return[s,l]}const[KFe,ZFe]=Dce(mO,VU,UU,Ice,zU,jU),[JFe,QFe]=Dce(pO,WU,FU,$U,BU,DU);var fN=new Date,dN=new Date;function no(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),e(o,1),t(o),o},i.round=function(o){var a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=function(o,a){return e(o=new Date(+o),a==null?1:Math.floor(a)),o},i.range=function(o,a,s){var l=[],c;if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=function(o){return no(function(a){if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},function(a,s){if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););})},n&&(i.count=function(o,a){return fN.setTime(+o),dN.setTime(+a),t(fN),t(dN),Math.floor(n(fN,dN))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(a){return r(a)%o===0}:function(a){return i.count(0,a)%o===0}):i}),i}var bw=no(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});bw.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?no(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):bw};bw.range;var CC=1e3,Cg=6e4,PC=36e5,jce=864e5,Bce=6048e5,_5=no(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*CC)},function(t,e){return(e-t)/CC},function(t){return t.getUTCSeconds()});_5.range;var zce=no(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*CC)},function(t,e){t.setTime(+t+e*Cg)},function(t,e){return(e-t)/Cg},function(t){return t.getMinutes()});zce.range;var $ce=no(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*CC-t.getMinutes()*Cg)},function(t,e){t.setTime(+t+e*PC)},function(t,e){return(e-t)/PC},function(t){return t.getHours()});$ce.range;var gO=no(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cg)/jce},function(t){return t.getDate()-1}),Fce=gO.range;function ev(t){return no(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Cg)/Bce})}var sd=ev(0),F0=ev(1),HU=ev(2),GU=ev(3),cp=ev(4),XU=ev(5),qU=ev(6),eUe=sd.range;F0.range;HU.range;GU.range;cp.range;XU.range;qU.range;var Uce=no(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),tUe=Uce.range,$l=no(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});$l.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:no(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};$l.range;var Wce=no(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Cg)},function(t,e){return(e-t)/Cg},function(t){return t.getUTCMinutes()});Wce.range;var Vce=no(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*PC)},function(t,e){return(e-t)/PC},function(t){return t.getUTCHours()});Vce.range;var YU=no(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/jce},function(t){return t.getUTCDate()-1});YU.range;function tv(t){return no(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/Bce})}var RC=tv(0),_w=tv(1),Hce=tv(2),Gce=tv(3),Pg=tv(4),Xce=tv(5),qce=tv(6);RC.range;_w.range;Hce.range;Gce.range;Pg.range;Xce.range;qce.range;var Yce=no(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});Yce.range;var up=no(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});up.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:no(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};up.range;function hN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jb(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function nUe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Qb(i),u=e_(i),f=Qb(o),d=e_(o),h=Qb(a),m=e_(a),v=Qb(s),y=e_(s),g=Qb(l),b=e_(l),x={a:X,A:B,b:G,B:q,c:null,d:SX,e:SX,f:EUe,g:IUe,G:jUe,H:wUe,I:SUe,j:MUe,L:Kce,m:TUe,M:AUe,p:te,q:Y,Q:TX,s:AX,S:CUe,u:PUe,U:RUe,V:OUe,w:LUe,W:kUe,x:null,X:null,y:NUe,Y:DUe,Z:BUe,"%":EX},_={a:J,A:re,b:oe,B:pe,c:null,d:MX,e:MX,f:UUe,g:JUe,G:e8e,H:zUe,I:$Ue,j:FUe,L:Jce,m:WUe,M:VUe,p:fe,q:we,Q:TX,s:AX,S:HUe,u:GUe,U:XUe,V:qUe,w:YUe,W:KUe,x:null,X:null,y:ZUe,Y:QUe,Z:t8e,"%":EX},T={a:N,A:D,b:U,B:V,c:z,d:_X,e:_X,f:yUe,g:bX,G:xX,H:wX,I:wX,j:pUe,L:vUe,m:hUe,M:mUe,p:O,q:dUe,Q:bUe,s:_Ue,S:gUe,u:sUe,U:lUe,V:cUe,w:aUe,W:uUe,x:F,X:W,y:bX,Y:xX,Z:fUe,"%":xUe};x.x=C(n,x),x.X=C(r,x),x.c=C(e,x),_.x=C(n,_),_.X=C(r,_),_.c=C(e,_);function C(ge,xe){return function(Te){var ee=[],Ce=-1,ae=0,be=ge.length,_e,He,Ve;for(Te instanceof Date||(Te=new Date(+Te));++Ce<be;)ge.charCodeAt(Ce)===37&&(ee.push(ge.slice(ae,Ce)),(He=yX[_e=ge.charAt(++Ce)])!=null?_e=ge.charAt(++Ce):He=_e==="e"?" ":"0",(Ve=xe[_e])&&(_e=Ve(Te,He)),ee.push(_e),ae=Ce+1);return ee.push(ge.slice(ae,Ce)),ee.join("")}}function P(ge,xe){return function(Te){var ee=Jb(1900,void 0,1),Ce=I(ee,ge,Te+="",0),ae,be;if(Ce!=Te.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(xe&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(ae=pN(Jb(ee.y,0,1)),be=ae.getUTCDay(),ae=be>4||be===0?_w.ceil(ae):_w(ae),ae=YU.offset(ae,(ee.V-1)*7),ee.y=ae.getUTCFullYear(),ee.m=ae.getUTCMonth(),ee.d=ae.getUTCDate()+(ee.w+6)%7):(ae=hN(Jb(ee.y,0,1)),be=ae.getDay(),ae=be>4||be===0?F0.ceil(ae):F0(ae),ae=gO.offset(ae,(ee.V-1)*7),ee.y=ae.getFullYear(),ee.m=ae.getMonth(),ee.d=ae.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),be="Z"in ee?pN(Jb(ee.y,0,1)).getUTCDay():hN(Jb(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(be+5)%7:ee.w+ee.U*7-(be+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,pN(ee)):hN(ee)}}function I(ge,xe,Te,ee){for(var Ce=0,ae=xe.length,be=Te.length,_e,He;Ce<ae;){if(ee>=be)return-1;if(_e=xe.charCodeAt(Ce++),_e===37){if(_e=xe.charAt(Ce++),He=T[_e in yX?xe.charAt(Ce++):_e],!He||(ee=He(ge,Te,ee))<0)return-1}else if(_e!=Te.charCodeAt(ee++))return-1}return ee}function O(ge,xe,Te){var ee=c.exec(xe.slice(Te));return ee?(ge.p=u.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function N(ge,xe,Te){var ee=h.exec(xe.slice(Te));return ee?(ge.w=m.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function D(ge,xe,Te){var ee=f.exec(xe.slice(Te));return ee?(ge.w=d.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function U(ge,xe,Te){var ee=g.exec(xe.slice(Te));return ee?(ge.m=b.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function V(ge,xe,Te){var ee=v.exec(xe.slice(Te));return ee?(ge.m=y.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function z(ge,xe,Te){return I(ge,e,xe,Te)}function F(ge,xe,Te){return I(ge,n,xe,Te)}function W(ge,xe,Te){return I(ge,r,xe,Te)}function X(ge){return a[ge.getDay()]}function B(ge){return o[ge.getDay()]}function G(ge){return l[ge.getMonth()]}function q(ge){return s[ge.getMonth()]}function te(ge){return i[+(ge.getHours()>=12)]}function Y(ge){return 1+~~(ge.getMonth()/3)}function J(ge){return a[ge.getUTCDay()]}function re(ge){return o[ge.getUTCDay()]}function oe(ge){return l[ge.getUTCMonth()]}function pe(ge){return s[ge.getUTCMonth()]}function fe(ge){return i[+(ge.getUTCHours()>=12)]}function we(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var xe=C(ge+="",x);return xe.toString=function(){return ge},xe},parse:function(ge){var xe=P(ge+="",!1);return xe.toString=function(){return ge},xe},utcFormat:function(ge){var xe=C(ge+="",_);return xe.toString=function(){return ge},xe},utcParse:function(ge){var xe=P(ge+="",!0);return xe.toString=function(){return ge},xe}}}var yX={"-":"",_:" ",0:"0"},Oo=/^\s*\d+/,rUe=/^%/,iUe=/[\\^$*+?|[\]().{}]/g;function dr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function oUe(t){return t.replace(iUe,"\\$&")}function Qb(t){return new RegExp("^(?:"+t.map(oUe).join("|")+")","i")}function e_(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aUe(t,e,n){var r=Oo.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sUe(t,e,n){var r=Oo.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lUe(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cUe(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uUe(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function xX(t,e,n){var r=Oo.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function bX(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fUe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dUe(t,e,n){var r=Oo.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hUe(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _X(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pUe(t,e,n){var r=Oo.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function wX(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mUe(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gUe(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vUe(t,e,n){var r=Oo.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yUe(t,e,n){var r=Oo.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xUe(t,e,n){var r=rUe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bUe(t,e,n){var r=Oo.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _Ue(t,e,n){var r=Oo.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function SX(t,e){return dr(t.getDate(),e,2)}function wUe(t,e){return dr(t.getHours(),e,2)}function SUe(t,e){return dr(t.getHours()%12||12,e,2)}function MUe(t,e){return dr(1+gO.count($l(t),t),e,3)}function Kce(t,e){return dr(t.getMilliseconds(),e,3)}function EUe(t,e){return Kce(t,e)+"000"}function TUe(t,e){return dr(t.getMonth()+1,e,2)}function AUe(t,e){return dr(t.getMinutes(),e,2)}function CUe(t,e){return dr(t.getSeconds(),e,2)}function PUe(t){var e=t.getDay();return e===0?7:e}function RUe(t,e){return dr(sd.count($l(t)-1,t),e,2)}function Zce(t){var e=t.getDay();return e>=4||e===0?cp(t):cp.ceil(t)}function OUe(t,e){return t=Zce(t),dr(cp.count($l(t),t)+($l(t).getDay()===4),e,2)}function LUe(t){return t.getDay()}function kUe(t,e){return dr(F0.count($l(t)-1,t),e,2)}function NUe(t,e){return dr(t.getFullYear()%100,e,2)}function IUe(t,e){return t=Zce(t),dr(t.getFullYear()%100,e,2)}function DUe(t,e){return dr(t.getFullYear()%1e4,e,4)}function jUe(t,e){var n=t.getDay();return t=n>=4||n===0?cp(t):cp.ceil(t),dr(t.getFullYear()%1e4,e,4)}function BUe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dr(e/60|0,"0",2)+dr(e%60,"0",2)}function MX(t,e){return dr(t.getUTCDate(),e,2)}function zUe(t,e){return dr(t.getUTCHours(),e,2)}function $Ue(t,e){return dr(t.getUTCHours()%12||12,e,2)}function FUe(t,e){return dr(1+YU.count(up(t),t),e,3)}function Jce(t,e){return dr(t.getUTCMilliseconds(),e,3)}function UUe(t,e){return Jce(t,e)+"000"}function WUe(t,e){return dr(t.getUTCMonth()+1,e,2)}function VUe(t,e){return dr(t.getUTCMinutes(),e,2)}function HUe(t,e){return dr(t.getUTCSeconds(),e,2)}function GUe(t){var e=t.getUTCDay();return e===0?7:e}function XUe(t,e){return dr(RC.count(up(t)-1,t),e,2)}function Qce(t){var e=t.getUTCDay();return e>=4||e===0?Pg(t):Pg.ceil(t)}function qUe(t,e){return t=Qce(t),dr(Pg.count(up(t),t)+(up(t).getUTCDay()===4),e,2)}function YUe(t){return t.getUTCDay()}function KUe(t,e){return dr(_w.count(up(t)-1,t),e,2)}function ZUe(t,e){return dr(t.getUTCFullYear()%100,e,2)}function JUe(t,e){return t=Qce(t),dr(t.getUTCFullYear()%100,e,2)}function QUe(t,e){return dr(t.getUTCFullYear()%1e4,e,4)}function e8e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pg(t):Pg.ceil(t),dr(t.getUTCFullYear()%1e4,e,4)}function t8e(){return"+0000"}function EX(){return"%"}function TX(t){return+t}function AX(t){return Math.floor(+t/1e3)}var Rv,nv,eue,tue,nue;n8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function n8e(t){return Rv=nUe(t),nv=Rv.format,eue=Rv.parse,tue=Rv.utcFormat,nue=Rv.utcParse,Rv}function r8e(t){return new Date(t)}function i8e(t){return t instanceof Date?+t:+new Date(+t)}function KU(t,e,n,r,i,o,a,s,l,c){var u=EU(),f=u.invert,d=u.domain,h=c(".%L"),m=c(":%S"),v=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),b=c("%b %d"),x=c("%B"),_=c("%Y");function T(C){return(l(C)<C?h:s(C)<C?m:a(C)<C?v:o(C)<C?y:r(C)<C?i(C)<C?g:b:n(C)<C?x:_)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?d(Array.from(C,i8e)):d().map(r8e)},u.ticks=function(C){var P=d();return t(P[0],P[P.length-1],C??10)},u.tickFormat=function(C,P){return P==null?T:c(P)},u.nice=function(C){var P=d();return(!C||typeof C.range!="function")&&(C=e(P[0],P[P.length-1],C??10)),C?d(Rce(P,C)):u},u.copy=function(){return hM(u,KU(t,e,n,r,i,o,a,s,l,c))},u}function rue(){return Gl.apply(KU(JFe,QFe,pO,WU,FU,$U,BU,DU,Dm,nv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iue(){return Gl.apply(KU(KFe,ZFe,mO,VU,UU,Nce,zU,jU,Dm,tue).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vO(){var t=0,e=1,n,r,i,o,a=Va,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(d){var h,m;return arguments.length?([h,m]=d,a=f(h,m),c):[a(0),a(1)]}}return c.range=u(Kx),c.rangeRound=u(uO),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Mp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oue(){var t=Sp(vO()(Va));return t.copy=function(){return Mp(t,oue())},bd.apply(t,arguments)}function aue(){var t=CU(vO()).domain([1,10]);return t.copy=function(){return Mp(t,aue()).base(t.base())},bd.apply(t,arguments)}function sue(){var t=RU(vO());return t.copy=function(){return Mp(t,sue()).constant(t.constant())},bd.apply(t,arguments)}function ZU(){var t=LU(vO());return t.copy=function(){return Mp(t,ZU()).exponent(t.exponent())},bd.apply(t,arguments)}function o8e(){return ZU.apply(null,arguments).exponent(.5)}function lue(){var t=[],e=Va;function n(r){if(r!=null&&!isNaN(r=+r))return e((dM(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Hh),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>pFe(t,o/r))},n.copy=function(){return lue(e).domain(t)},bd.apply(n,arguments)}function yO(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=Va,u,f=!1,d;function h(v){return isNaN(v=+v)?d:(v=.5+((v=+u(v))-o)*(r*v<r*o?s:l),c(f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e,n]=v,i=u(t=+t),o=u(e=+e),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(c=v,h):c};function m(v){return function(y){var g,b,x;return arguments.length?([g,b,x]=y,c=Rze(v,[g,b,x]),h):[c(0),c(.5),c(1)]}}return h.range=m(Kx),h.rangeRound=m(uO),h.unknown=function(v){return arguments.length?(d=v,h):d},function(v){return u=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function cue(){var t=Sp(yO()(Va));return t.copy=function(){return Mp(t,cue())},bd.apply(t,arguments)}function uue(){var t=CU(yO()).domain([.1,1,10]);return t.copy=function(){return Mp(t,uue()).base(t.base())},bd.apply(t,arguments)}function fue(){var t=RU(yO());return t.copy=function(){return Mp(t,fue()).constant(t.constant())},bd.apply(t,arguments)}function JU(){var t=LU(yO());return t.copy=function(){return Mp(t,JU()).exponent(t.exponent())},bd.apply(t,arguments)}function a8e(){return JU.apply(null,arguments).exponent(.5)}function Rn(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const s8e=Rn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),l8e=Rn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),c8e=Rn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),u8e=Rn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),f8e=Rn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),d8e=Rn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),h8e=Rn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),p8e=Rn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),due=Rn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),hue=Rn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Br=t=>yze(t[t.length-1]);var xO=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Rn);const m8e=Br(xO);var bO=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Rn);const g8e=Br(bO);var _O=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Rn);const v8e=Br(_O);var wO=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Rn);const y8e=Br(wO);var SO=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Rn);const x8e=Br(SO);var MO=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Rn);const b8e=Br(MO);var EO=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Rn);const _8e=Br(EO);var TO=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Rn);const w8e=Br(TO);var AO=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Rn);const S8e=Br(AO);var CO=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Rn);const M8e=Br(CO);var PO=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Rn);const E8e=Br(PO);var RO=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Rn);const T8e=Br(RO);var OO=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Rn);const A8e=Br(OO);var LO=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Rn);const C8e=Br(LO);var kO=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Rn);const P8e=Br(kO);var NO=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Rn);const R8e=Br(NO);var IO=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Rn);const O8e=Br(IO);var DO=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Rn);const L8e=Br(DO);var jO=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Rn);const k8e=Br(jO);var BO=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Rn);const N8e=Br(BO);var zO=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Rn);const I8e=Br(zO);var $O=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Rn);const D8e=Br($O);var FO=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Rn);const j8e=Br(FO);var UO=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Rn);const B8e=Br(UO);var WO=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Rn);const z8e=Br(WO);var VO=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Rn);const $8e=Br(VO);var HO=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Rn);const F8e=Br(HO);function U8e(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const W8e=uU(zu(300,.5,0),zu(-240,.5,1));var V8e=uU(zu(-100,.75,.35),zu(80,1.5,.8)),H8e=uU(zu(260,.75,.35),zu(80,1.5,.8)),a2=zu();function G8e(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return a2.h=360*t-100,a2.s=1.5-1.5*e,a2.l=.8-.9*e,a2+""}var s2=j0(),X8e=Math.PI/3,q8e=Math.PI*2/3;function Y8e(t){var e;return t=(.5-t)*Math.PI,s2.r=255*(e=Math.sin(t))*e,s2.g=255*(e=Math.sin(t+X8e))*e,s2.b=255*(e=Math.sin(t+q8e))*e,s2+""}function K8e(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function GO(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Z8e=GO(Rn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var J8e=GO(Rn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Q8e=GO(Rn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),e6e=GO(Rn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function t6e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var pue=t6e;const Qt=yn(pue);var n6e=lM,r6e=Tle,i6e=Xx;function o6e(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=n6e(t,a);n(s,a)&&r6e(o,i6e(a,t),s)}return o}var a6e=o6e;function s6e(t,e){return t!=null&&e in Object(t)}var l6e=s6e,c6e=Xx,u6e=tO,f6e=Xo,d6e=oO,h6e=QF,p6e=qx;function m6e(t,e,n){e=c6e(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=p6e(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&h6e(i)&&d6e(a,i)&&(f6e(t)||u6e(t)))}var g6e=m6e,v6e=l6e,y6e=g6e;function x6e(t,e){return t!=null&&y6e(t,e,v6e)}var mue=x6e,b6e=a6e,_6e=mue;function w6e(t,e){return b6e(t,e,function(n,r){return _6e(t,r)})}var S6e=w6e;function M6e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var QU=M6e,CX=Bx,E6e=tO,T6e=Xo,PX=CX?CX.isConcatSpreadable:void 0;function A6e(t){return T6e(t)||E6e(t)||!!(PX&&t&&t[PX])}var C6e=A6e,P6e=QU,R6e=C6e;function gue(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=R6e),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?gue(s,e-1,n,r,i):P6e(i,s):r||(i[i.length]=s)}return i}var e8=gue,O6e=e8;function L6e(t){var e=t==null?0:t.length;return e?O6e(t,1):[]}var k6e=L6e,N6e=k6e,I6e=yle,D6e=xle;function j6e(t){return D6e(I6e(t,void 0,N6e),t+"")}var vue=j6e,B6e=S6e,z6e=vue,$6e=z6e(function(t,e){return t==null?{}:B6e(t,e)}),F6e=$6e;const U6e=yn(F6e);function W6e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var yue=W6e,V6e=fU,H6e=yue,G6e=dU,X6e=1,q6e=2;function Y6e(t,e,n,r,i,o){var a=n&X6e,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&q6e?new V6e:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],v=e[f];if(r)var y=a?r(v,m,f,e,t,o):r(m,v,f,t,e,o);if(y!==void 0){if(y)continue;d=!1;break}if(h){if(!H6e(e,function(g,b){if(!G6e(h,b)&&(m===g||i(m,g,n,r,o)))return h.push(b)})){d=!1;break}}else if(!(m===v||i(m,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var xue=Y6e;function K6e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Z6e=K6e;function J6e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var t8=J6e,RX=Bx,OX=sle,Q6e=rM,e9e=xue,t9e=Z6e,n9e=t8,r9e=1,i9e=2,o9e="[object Boolean]",a9e="[object Date]",s9e="[object Error]",l9e="[object Map]",c9e="[object Number]",u9e="[object RegExp]",f9e="[object Set]",d9e="[object String]",h9e="[object Symbol]",p9e="[object ArrayBuffer]",m9e="[object DataView]",LX=RX?RX.prototype:void 0,mN=LX?LX.valueOf:void 0;function g9e(t,e,n,r,i,o,a){switch(n){case m9e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case p9e:return!(t.byteLength!=e.byteLength||!o(new OX(t),new OX(e)));case o9e:case a9e:case c9e:return Q6e(+t,+e);case s9e:return t.name==e.name&&t.message==e.message;case u9e:case d9e:return t==e+"";case l9e:var s=t9e;case f9e:var l=r&r9e;if(s||(s=n9e),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=i9e,a.set(t,e);var u=e9e(s(t),s(e),r,i,o,a);return a.delete(t),u;case h9e:if(mN)return mN.call(t)==mN.call(e)}return!1}var v9e=g9e,y9e=QU,x9e=Xo;function b9e(t,e,n){var r=e(t);return x9e(t)?r:y9e(r,n(t))}var bue=b9e;function _9e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var _ue=_9e;function w9e(){return[]}var wue=w9e,S9e=_ue,M9e=wue,E9e=Object.prototype,T9e=E9e.propertyIsEnumerable,kX=Object.getOwnPropertySymbols,A9e=kX?function(t){return t==null?[]:(t=Object(t),S9e(kX(t),function(e){return T9e.call(t,e)}))}:M9e,n8=A9e,C9e=ule,P9e=C9e(Object.keys,Object),R9e=P9e,O9e=JF,L9e=R9e,k9e=Object.prototype,N9e=k9e.hasOwnProperty;function I9e(t){if(!O9e(t))return L9e(t);var e=[];for(var n in Object(t))N9e.call(t,n)&&n!="constructor"&&e.push(n);return e}var D9e=I9e,j9e=gle,B9e=D9e,z9e=Kg;function $9e(t){return z9e(t)?j9e(t):B9e(t)}var Zx=$9e,F9e=bue,U9e=n8,W9e=Zx;function V9e(t){return F9e(t,W9e,U9e)}var Sue=V9e,NX=Sue,H9e=1,G9e=Object.prototype,X9e=G9e.hasOwnProperty;function q9e(t,e,n,r,i,o){var a=n&H9e,s=NX(t),l=s.length,c=NX(e),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:X9e.call(e,d)))return!1}var h=o.get(t),m=o.get(e);if(h&&m)return h==e&&m==t;var v=!0;o.set(t,e),o.set(e,t);for(var y=a;++f<l;){d=s[f];var g=t[d],b=e[d];if(r)var x=a?r(b,g,d,e,t,o):r(g,b,d,t,e,o);if(!(x===void 0?g===b||i(g,b,n,r,o):x)){v=!1;break}y||(y=d=="constructor")}if(v&&!y){var _=t.constructor,T=e.constructor;_!=T&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof T=="function"&&T instanceof T)&&(v=!1)}return o.delete(t),o.delete(e),v}var Y9e=q9e,K9e=Yg,Z9e=$c,J9e=K9e(Z9e,"DataView"),Q9e=J9e,eWe=Yg,tWe=$c,nWe=eWe(tWe,"Promise"),rWe=nWe,iWe=Yg,oWe=$c,aWe=iWe(oWe,"Set"),Mue=aWe,sWe=Yg,lWe=$c,cWe=sWe(lWe,"WeakMap"),uWe=cWe,w5=Q9e,S5=qF,M5=rWe,E5=Mue,T5=uWe,Eue=Yu,Jx=nle,IX="[object Map]",fWe="[object Object]",DX="[object Promise]",jX="[object Set]",BX="[object WeakMap]",zX="[object DataView]",dWe=Jx(w5),hWe=Jx(S5),pWe=Jx(M5),mWe=Jx(E5),gWe=Jx(T5),xm=Eue;(w5&&xm(new w5(new ArrayBuffer(1)))!=zX||S5&&xm(new S5)!=IX||M5&&xm(M5.resolve())!=DX||E5&&xm(new E5)!=jX||T5&&xm(new T5)!=BX)&&(xm=function(t){var e=Eue(t),n=e==fWe?t.constructor:void 0,r=n?Jx(n):"";if(r)switch(r){case dWe:return zX;case hWe:return IX;case pWe:return DX;case mWe:return jX;case gWe:return BX}return e});var XO=xm,gN=QR,vWe=xue,yWe=v9e,xWe=Y9e,$X=XO,FX=Xo,UX=nO,bWe=tU,_We=1,WX="[object Arguments]",VX="[object Array]",l2="[object Object]",wWe=Object.prototype,HX=wWe.hasOwnProperty;function SWe(t,e,n,r,i,o){var a=FX(t),s=FX(e),l=a?VX:$X(t),c=s?VX:$X(e);l=l==WX?l2:l,c=c==WX?l2:c;var u=l==l2,f=c==l2,d=l==c;if(d&&UX(t)){if(!UX(e))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new gN),a||bWe(t)?vWe(t,e,n,r,i,o):yWe(t,e,l,n,r,i,o);if(!(n&_We)){var h=u&&HX.call(t,"__wrapped__"),m=f&&HX.call(e,"__wrapped__");if(h||m){var v=h?t.value():t,y=m?e.value():e;return o||(o=new gN),i(v,y,n,r,o)}}return d?(o||(o=new gN),xWe(t,e,n,r,i,o)):!1}var MWe=SWe,EWe=MWe,GX=il;function Tue(t,e,n,r,i){return t===e?!0:t==null||e==null||!GX(t)&&!GX(e)?t!==t&&e!==e:EWe(t,e,n,r,Tue,i)}var r8=Tue,TWe=r8;function AWe(t,e){return TWe(t,e)}var CWe=AWe;const U0=yn(CWe);var Aue=A.createContext(),PWe=function(t){var e=t.children,n=t.animate,r=n===void 0||n,i=t.config,o=i===void 0?"default":i,a=A.useMemo(function(){var s=op(o)?jse[o]:o;return{animate:r,config:s}},[r,o]);return S.jsx(Aue.Provider,{value:a,children:e})},gi=function(){return A.useContext(Aue)},RWe=function(t){var e=t.children,n=t.condition,r=t.wrapper;return n?A.cloneElement(r,{},e):e},OWe={position:"relative"},_a=function(t){var e=t.children,n=t.theme,r=t.renderWrapper,i=r===void 0||r,o=t.isInteractive,a=o===void 0||o,s=t.animate,l=t.motionConfig,c=A.useRef(null);return S.jsx(LBe,{theme:n,children:S.jsx(PWe,{animate:s,config:l,children:S.jsx($Be,{container:c,children:S.jsxs(RWe,{condition:i,wrapper:S.jsx("div",{style:OWe,ref:c}),children:[e,a&&S.jsx(zBe,{})]})})})})},LWe=function(t,e){return t.width===e.width&&t.height===e.height},kWe=function(t){var e=t.children,n=t.width,r=t.height,i=t.onResize,o=t.debounceResize,a=ZBe({width:n,height:r},o,{equalityFn:LWe})[0];return A.useEffect(function(){i==null||i(a)},[a,i]),S.jsx(S.Fragment,{children:e(a)})},wa=function(t){var e=t.children,n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=o===void 0?0:o;return S.jsx(qBe,{defaultWidth:n,defaultHeight:r,children:function(s){var l=s.width,c=s.height;return S.jsx(kWe,{width:l,height:c,onResize:i,debounceResize:a,children:e})}})};function XX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function NWe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(i,o){if(i){if(typeof i=="string")return XX(i,o);var a={}.toString.call(i).slice(8,-1);return a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set"?Array.from(i):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?XX(i,o):void 0}}(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(null,arguments)}function Cue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var IWe=["id","colors"],DWe=function(t){var e=t.id,n=t.colors,r=Cue(t,IWe);return S.jsx("linearGradient",Tu({id:e,x1:0,x2:0,y1:0,y2:1},r,{children:n.map(function(i){var o=i.offset,a=i.color,s=i.opacity;return S.jsx("stop",{offset:o+"%",stopColor:a,stopOpacity:s!==void 0?s:1},o)})}))},Pue={linearGradient:DWe},t_={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},jWe=A.memo(function(t){var e=t.id,n=t.background,r=n===void 0?t_.background:n,i=t.color,o=i===void 0?t_.color:i,a=t.size,s=a===void 0?t_.size:a,l=t.padding,c=l===void 0?t_.padding:l,u=t.stagger,f=u===void 0?t_.stagger:u,d=s+c,h=s/2,m=c/2;return f===!0&&(d=2*s+2*c),S.jsxs("pattern",{id:e,width:d,height:d,patternUnits:"userSpaceOnUse",children:[S.jsx("rect",{width:d,height:d,fill:r}),S.jsx("circle",{cx:m+h,cy:m+h,r:h,fill:o}),f&&S.jsx("circle",{cx:1.5*c+s+h,cy:1.5*c+s+h,r:h,fill:o})]})}),ld=function(t){return t*Math.PI/180},i8=function(t){return 180*t/Math.PI},o8=function(t){return t.startAngle+(t.endAngle-t.startAngle)/2},a8=function(t,e){return{x:Math.cos(t)*e,y:Math.sin(t)*e}},BWe=function(t){var e=t%360;return e<0&&(e+=360),e},Rue={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},Oue=function(t,e,n,r){r===void 0&&(r="svg");var i=Rue[r],o=a8(e-Math.PI/2,t),a=o.x,s=o.y,l=i8(e),c=i.align.center,u=i.baseline.bottom;return n>0?(c=i.align.right,u=i.baseline.center):n<0&&(c=i.align.left,u=i.baseline.center),n!==0&&l>180&&(l-=180,c=c===i.align.right?i.align.left:i.align.right),{x:a,y:s,rotate:l+=n,align:c,baseline:u}},n_={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},zWe=A.memo(function(t){var e=t.id,n=t.spacing,r=n===void 0?n_.spacing:n,i=t.rotation,o=i===void 0?n_.rotation:i,a=t.background,s=a===void 0?n_.background:a,l=t.color,c=l===void 0?n_.color:l,u=t.lineWidth,f=u===void 0?n_.lineWidth:u,d=Math.round(o)%360,h=Math.abs(r);d>180?d-=360:d>90?d-=180:d<-180?d+=360:d<-90&&(d+=180);var m,v=h,y=h;return d===0?m=`
                M 0 0 L `+v+` 0
                M 0 `+y+" L "+v+" "+y+`
            `:d===90?m=`
                M 0 0 L 0 `+y+`
                M `+v+" 0 L "+v+" "+y+`
            `:(v=Math.abs(h/Math.sin(ld(d))),y=h/Math.sin(ld(90-d)),m=d>0?`
                    M 0 `+-y+" L "+2*v+" "+y+`
                    M `+-v+" "+-y+" L "+v+" "+y+`
                    M `+-v+" 0 L "+v+" "+2*y+`
                `:`
                    M `+-v+" "+y+" L "+v+" "+-y+`
                    M `+-v+" "+2*y+" L "+2*v+" "+-y+`
                    M 0 `+2*y+" L "+2*v+` 0
                `),S.jsxs("pattern",{id:e,width:v,height:y,patternUnits:"userSpaceOnUse",children:[S.jsx("rect",{width:v,height:y,fill:s,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),S.jsx("path",{d:m,strokeWidth:f,stroke:c,strokeLinecap:"square"})]})}),r_={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},$We=A.memo(function(t){var e=t.id,n=t.color,r=n===void 0?r_.color:n,i=t.background,o=i===void 0?r_.background:i,a=t.size,s=a===void 0?r_.size:a,l=t.padding,c=l===void 0?r_.padding:l,u=t.stagger,f=u===void 0?r_.stagger:u,d=s+c,h=c/2;return f===!0&&(d=2*s+2*c),S.jsxs("pattern",{id:e,width:d,height:d,patternUnits:"userSpaceOnUse",children:[S.jsx("rect",{width:d,height:d,fill:o}),S.jsx("rect",{x:h,y:h,width:s,height:s,fill:r}),f&&S.jsx("rect",{x:1.5*c+s,y:1.5*c+s,width:s,height:s,fill:r})]})}),Lue={patternDots:jWe,patternLines:zWe,patternSquares:$We},FWe=["type"],qX=Tu({},Pue,Lue),UWe=A.memo(function(t){var e=t.defs;return!e||e.length<1?null:S.jsx("defs",{"aria-hidden":!0,children:e.map(function(n){var r=n.type,i=Cue(n,FWe);return qX[r]?A.createElement(qX[r],Tu({key:i.id},i)):null})})}),Ku=A.forwardRef(function(t,e){var n=t.width,r=t.height,i=t.margin,o=t.defs,a=t.children,s=t.role,l=t.ariaLabel,c=t.ariaLabelledBy,u=t.ariaDescribedBy,f=t.isFocusable,d=Bn();return S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:r,role:s,"aria-label":l,"aria-labelledby":c,"aria-describedby":u,focusable:f,tabIndex:f?0:void 0,ref:e,children:[S.jsx(UWe,{defs:o}),S.jsx("rect",{width:n,height:r,fill:d.background}),S.jsx("g",{transform:"translate("+i.left+","+i.top+")",children:a})]})}),WWe=A.memo(function(t){var e=t.size,n=t.color,r=t.borderWidth,i=t.borderColor;return S.jsx("circle",{r:e/2,fill:n,stroke:i,strokeWidth:r,style:{pointerEvents:"none"}})}),VWe=A.memo(function(t){var e=t.x,n=t.y,r=t.symbol,i=r===void 0?WWe:r,o=t.size,a=t.datum,s=t.color,l=t.borderWidth,c=t.borderColor,u=t.label,f=t.labelTextAnchor,d=f===void 0?"middle":f,h=t.labelYOffset,m=h===void 0?-12:h,v=t.ariaLabel,y=t.ariaLabelledBy,g=t.ariaDescribedBy,b=t.ariaHidden,x=t.ariaDisabled,_=t.isFocusable,T=_!==void 0&&_,C=t.tabIndex,P=C===void 0?0:C,I=t.onFocus,O=t.onBlur,N=t.testId,D=Bn(),U=gi(),V=U.animate,z=U.config,F=Ss({transform:"translate("+e+", "+n+")",config:z,immediate:!V}),W=A.useCallback(function(B){I==null||I(a,B)},[I,a]),X=A.useCallback(function(B){O==null||O(a,B)},[O,a]);return S.jsxs(Un.g,{transform:F.transform,style:{pointerEvents:"none"},focusable:T,tabIndex:T?P:void 0,"aria-label":v,"aria-labelledby":y,"aria-describedby":g,"aria-disabled":x,"aria-hidden":b,onFocus:T&&I?W:void 0,onBlur:T&&O?X:void 0,"data-testid":N,children:[A.createElement(i,{size:o,color:s,datum:a,borderWidth:l,borderColor:c}),u&&S.jsx("text",{textAnchor:d,y:m,style:MBe(D.dots.text),children:u})]})}),HWe=A.memo(function(t){var e=t.width,n=t.height,r=t.axis,i=t.scale,o=t.value,a=t.lineStyle,s=t.textStyle,l=t.legend,c=t.legendNode,u=t.legendPosition,f=u===void 0?"top-right":u,d=t.legendOffsetX,h=d===void 0?14:d,m=t.legendOffsetY,v=m===void 0?14:m,y=t.legendOrientation,g=y===void 0?"horizontal":y,b=Bn(),x=0,_=0,T=0,C=0;if(r==="y"?(T=i(o),_=e):(x=i(o),C=n),l&&!c){var P=function(I){var O=I.axis,N=I.width,D=I.height,U=I.position,V=I.offsetX,z=I.offsetY,F=I.orientation,W=0,X=0,B=F==="vertical"?-90:0,G="start";if(O==="x")switch(U){case"top-left":W=-V,X=z,G="end";break;case"top":X=-z,G=F==="horizontal"?"middle":"start";break;case"top-right":W=V,X=z,G=F==="horizontal"?"start":"end";break;case"right":W=V,X=D/2,G=F==="horizontal"?"start":"middle";break;case"bottom-right":W=V,X=D-z,G="start";break;case"bottom":X=D+z,G=F==="horizontal"?"middle":"end";break;case"bottom-left":X=D-z,W=-V,G=F==="horizontal"?"end":"start";break;case"left":W=-V,X=D/2,G=F==="horizontal"?"end":"middle"}else switch(U){case"top-left":W=V,X=-z,G="start";break;case"top":W=N/2,X=-z,G=F==="horizontal"?"middle":"start";break;case"top-right":W=N-V,X=-z,G=F==="horizontal"?"end":"start";break;case"right":W=N+V,G=F==="horizontal"?"start":"middle";break;case"bottom-right":W=N-V,X=z,G="end";break;case"bottom":W=N/2,X=z,G=F==="horizontal"?"middle":"end";break;case"bottom-left":W=V,X=z,G=F==="horizontal"?"start":"end";break;case"left":W=-V,G=F==="horizontal"?"end":"middle"}return{x:W,y:X,rotation:B,textAnchor:G}}({axis:r,width:e,height:n,position:f,offsetX:h,offsetY:v,orientation:g});c=S.jsx("text",{transform:"translate("+P.x+", "+P.y+") rotate("+P.rotation+")",textAnchor:P.textAnchor,dominantBaseline:"central",style:s,children:l})}return S.jsxs("g",{transform:"translate("+x+", "+T+")",children:[S.jsx("line",{x1:0,x2:_,y1:0,y2:C,stroke:b.markers.lineColor,strokeWidth:b.markers.lineStrokeWidth,style:a}),c]})}),kue=A.memo(function(t){var e=t.markers,n=t.width,r=t.height,i=t.xScale,o=t.yScale;return e&&e.length!==0?e.map(function(a,s){return S.jsx(HWe,Tu({},a,{width:n,height:r,scale:a.axis==="y"?o:i}),s)}):null}),pM=function(t){var e=gi(),n=e.animate,r=e.config,i=function(s){var l=A.useRef();return A.useEffect(function(){l.current=s},[s]),l.current}(t),o=A.useMemo(function(){return cU(i,t)},[i,t]),a=Ss({from:{value:0},to:{value:1},reset:!0,config:r,immediate:!n}).value;return Xa(a,o)};A.createContext(void 0);var A5={basis:Yle,basisClosed:Zle,basisOpen:Qle,bundle:H$e,cardinal:G$e,cardinalClosed:X$e,cardinalOpen:q$e,catmullRom:Y$e,catmullRomClosed:K$e,catmullRomOpen:Z$e,linear:fM,linearClosed:oce,monotoneX:_U,monotoneY:wU,natural:cce,step:uce,stepAfter:dce,stepBefore:fce},s8=Object.keys(A5);s8.filter(function(t){return t.endsWith("Closed")});Ule(s8,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");Ule(s8,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");var l8=function(t){if(!A5[t])throw new TypeError("'"+t+"', is not a valid curve interpolator identifier.");return A5[t]},GWe={ascending:vce,descending:nFe,insideOut:rFe,none:Ag,reverse:iFe},XWe=function(t){return GWe[t]},qWe={expand:hce,diverging:pce,none:Tg,silhouette:mce,wiggle:gce},YWe=function(t){return qWe[t]},KWe=function(t){return A.useMemo(function(){return l8(t)},[t])};Qt(xO),Qt(bO),Qt(_O),Qt(wO),Qt(SO),Qt(MO),Qt(EO),Qt(TO),Qt(AO),Qt($O),Qt(FO),Qt(UO),Qt(HO),Qt(WO),Qt(VO),Qt(CO),Qt(PO),Qt(RO),Qt(OO),Qt(LO),Qt(kO),Qt(NO),Qt(IO),Qt(DO),Qt(jO),Qt(BO),Qt(zO);Qt(xO),Qt(bO),Qt(_O),Qt(wO),Qt(SO),Qt(MO),Qt(EO),Qt(TO),Qt(AO),Qt($O),Qt(FO),Qt(UO),Qt(HO),Qt(WO),Qt(VO),Qt(CO),Qt(PO),Qt(RO),Qt(OO),Qt(LO),Qt(kO),Qt(NO),Qt(IO),Qt(DO),Qt(jO),Qt(BO),Qt(zO);Rh(due);var Nue={top:0,right:0,bottom:0,left:0},Sa=function(t,e,n){return n===void 0&&(n={}),A.useMemo(function(){var r=Tu({},Nue,n);return{margin:r,innerWidth:t-r.left-r.right,innerHeight:e-r.top-r.bottom,outerWidth:t,outerHeight:e}},[t,e,n])},ZWe=function(){var t=A.useRef(null),e=A.useState({left:0,top:0,width:0,height:0}),n=e[0],r=e[1],i=A.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(o){var a=o[0];return r(a.contentRect)})})[0];return A.useEffect(function(){return t.current&&i!==null&&i.observe(t.current),function(){i!==null&&i.disconnect()}},[i]),[t,n]},JWe=function(t){return typeof t=="function"?t:typeof t=="string"?t.indexOf("time:")===0?nv(t.slice("5")):Zg(t):function(e){return""+e}},ba=function(t){return A.useMemo(function(){return JWe(t)},[t])},Iue=function(t,e){var n=xn(t)?t:function(r){return Ci(r,t)};return n},Due=function(t){return xn(t)?t:function(e){return Ci(e,t)}},Nl=function(t){return A.useMemo(function(){return Due(t)},[t])},QWe=function(t,e,n){var r=e.width-t.width,i=e.height-t.height,o=0,a=0;return n==="center"&&(o=r/2,a=i/2),n==="top"&&(o=r/2),n==="top-right"&&(o=r),n==="right"&&(o=r,a=i/2),n==="bottom-right"&&(o=r,a=i),n==="bottom"&&(o=r/2,a=i),n==="bottom-left"&&(a=i),n==="left"&&(a=i/2),[o,a]},jue=function(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))},e7e=function(t,e,n,r){var i=Math.atan2(r-e,n-t)-Math.PI/2;return i>0?i:2*Math.PI+i},qO=function(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r},Gf=function(t,e){var n,r="touches"in e?e.touches[0]:e,i=r.clientX,o=r.clientY,a=t.getBoundingClientRect(),s=(n=t.getBBox!==void 0?t.getBBox():{width:t.offsetWidth||0,height:t.offsetHeight||0}).width===a.width?1:n.width/a.width;return[(i-a.left)*s,(o-a.top)*s]},t7e=Object.keys(Pue),n7e=Object.keys(Lue),r7e=function(t,e,n){if(t==="*")return!0;if(xn(t))return t(e);if(rO(t)){var r=n?Ci(e,n):e;return U0(U6e(r,Object.keys(t)),t)}return!1},mM=function(t,e,n,r){var i=r===void 0?{}:r,o=i.dataKey,a=i.colorKey,s=a===void 0?"color":a,l=i.targetKey,c=l===void 0?"fill":l,u=[],f={};return t.length&&e.length&&(u=[].concat(t),e.forEach(function(d){for(var h,m=function(){var y=h.value,g=y.id,b=y.match;if(r7e(b,d,o)){var x=t.find(function(D){return D.id===g});if(x){if(n7e.includes(x.type))if(x.background==="inherit"||x.color==="inherit"){var _=Ci(d,s),T=x.background,C=x.color,P=g;x.background==="inherit"&&(P=P+".bg."+_,T=_),x.color==="inherit"&&(P=P+".fg."+_,C=_),D_(d,c,"url(#"+P+")"),f[P]||(u.push(Tu({},x,{id:P,background:T,color:C})),f[P]=1)}else D_(d,c,"url(#"+g+")");else if(t7e.includes(x.type))if(x.colors.map(function(D){return D.color}).includes("inherit")){var I=Ci(d,s),O=g,N=Tu({},x,{colors:x.colors.map(function(D,U){return D.color!=="inherit"?D:(O=O+"."+U+"."+I,Tu({},D,{color:D.color==="inherit"?I:D.color}))})});N.id=O,D_(d,c,"url(#"+O+")"),f[O]||(u.push(N),f[O]=1)}else D_(d,c,"url(#"+g+")")}return 1}},v=NWe(n);!(h=v()).done&&!m(););})),u};function gM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=0,o=e;i<o.length;i++){var a=o[i];typeof a=="function"?a(r):a!=null&&(a.current=r)}}}var fp=function(t,e){t.font=(e.fontWeight?e.fontWeight+" ":"")+e.fontSize+"px "+e.fontFamily},cd=function(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=0),e.outlineWidth>0&&(t.strokeStyle=e.outlineColor,t.lineWidth=2*e.outlineWidth,t.lineJoin="round",t.strokeText(n,r,i)),t.fillStyle=e.fill,t.fillText(n,r,i)};function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(null,arguments)}function YX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i7e=["style","children"],o7e=["outlineWidth","outlineColor","outlineOpacity"],Fl=function(t){var e=t.style,n=t.children,r=YX(t,i7e),i=e.outlineWidth,o=e.outlineColor,a=e.outlineOpacity,s=YX(e,o7e);return S.jsxs(S.Fragment,{children:[i>0&&S.jsx(Un.text,p1({},r,{style:p1({},s,{strokeWidth:2*i,stroke:o,strokeOpacity:a,strokeLinejoin:"round"}),children:n})),S.jsx(Un.text,p1({},r,{style:s,children:n}))]})};function a7e(){}var s7e=a7e,vN=Mue,l7e=s7e,c7e=t8,u7e=1/0,f7e=vN&&1/c7e(new vN([,-0]))[1]==u7e?function(t){return new vN(t)}:l7e,d7e=f7e,h7e=fU,p7e=$le,m7e=Fle,g7e=dU,v7e=d7e,y7e=t8,x7e=200;function b7e(t,e,n){var r=-1,i=p7e,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=m7e;else if(o>=x7e){var c=e?null:v7e(t);if(c)return y7e(c);a=!1,i=g7e,l=new h7e}else l=e?[]:s;e:for(;++r<o;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,n)||(l!==s&&l.push(f),s.push(u))}return s}var Bue=b7e,_7e=Bue;function w7e(t){return t&&t.length?_7e(t):[]}var S7e=w7e;const C5=yn(S7e);var M7e=QR,E7e=r8,T7e=1,A7e=2;function C7e(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new M7e;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?E7e(u,c,T7e|A7e,r,f):d))return!1}}return!0}var P7e=C7e,R7e=Ms;function O7e(t){return t===t&&!R7e(t)}var zue=O7e,L7e=zue,k7e=Zx;function N7e(t){for(var e=k7e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,L7e(i)]}return e}var I7e=N7e;function D7e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var $ue=D7e,j7e=P7e,B7e=I7e,z7e=$ue;function $7e(t){var e=B7e(t);return e.length==1&&e[0][2]?z7e(e[0][0],e[0][1]):function(n){return n===t||j7e(n,t,e)}}var F7e=$7e,U7e=r8,W7e=Ele,V7e=mue,H7e=iU,G7e=zue,X7e=$ue,q7e=qx,Y7e=1,K7e=2;function Z7e(t,e){return H7e(t)&&G7e(e)?X7e(q7e(t),e):function(n){var r=W7e(n,t);return r===void 0&&r===e?V7e(n,t):U7e(e,r,Y7e|K7e)}}var J7e=Z7e;function Q7e(t){return function(e){return e==null?void 0:e[t]}}var eVe=Q7e,tVe=lM;function nVe(t){return function(e){return tVe(e,t)}}var rVe=nVe,iVe=eVe,oVe=rVe,aVe=iU,sVe=qx;function lVe(t){return aVe(t)?iVe(sVe(t)):oVe(t)}var cVe=lVe,uVe=F7e,fVe=J7e,dVe=Hx,hVe=Xo,pVe=cVe;function mVe(t){return typeof t=="function"?t:t==null?dVe:typeof t=="object"?hVe(t)?fVe(t[0],t[1]):uVe(t):pVe(t)}var _d=mVe,gVe=_d,vVe=Bue;function yVe(t,e){return t&&t.length?vVe(t,gVe(e)):[]}var xVe=yVe;const ww=yn(xVe);var bVe=ole,_Ve=Zx;function wVe(t,e){return t&&bVe(t,e,_Ve)}var Fue=wVe,SVe=Kg;function MVe(t,e){return function(n,r){if(n==null)return n;if(!SVe(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var EVe=MVe,TVe=Fue,AVe=EVe,CVe=AVe(TVe),YO=CVe,PVe=YO,RVe=Kg;function OVe(t,e){var n=-1,r=RVe(t)?Array(t.length):[];return PVe(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var Uue=OVe;function LVe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var kVe=LVe,KX=Gx;function NVe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=KX(t),a=e!==void 0,s=e===null,l=e===e,c=KX(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var IVe=NVe,DVe=IVe;function jVe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=DVe(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var BVe=jVe,yN=aM,zVe=lM,$Ve=_d,FVe=Uue,UVe=kVe,WVe=Wx,VVe=BVe,HVe=Hx,GVe=Xo;function XVe(t,e,n){e.length?e=yN(e,function(o){return GVe(o)?function(a){return zVe(a,o.length===1?o[0]:o)}:o}):e=[HVe];var r=-1;e=yN(e,WVe($Ve));var i=FVe(t,function(o,a,s){var l=yN(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return UVe(i,function(o,a){return VVe(o,a,n)})}var qVe=XVe,YVe=e8,KVe=qVe,ZVe=rU,ZX=oM,JVe=ZVe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ZX(t,e[0],e[1])?e=[]:n>2&&ZX(e[0],e[1],e[2])&&(e=[e[0]]),KVe(t,YVe(e,1),[])}),QVe=JVe;const vM=yn(QVe);var eHe=Yu,tHe=il,nHe="[object Date]";function rHe(t){return tHe(t)&&eHe(t)==nHe}var iHe=rHe,oHe=iHe,aHe=Wx,JX=iO,QX=JX&&JX.isDate,sHe=QX?aHe(QX):oHe,lHe=sHe;const Rg=yn(lHe);function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Am.apply(null,arguments)}var Ov=[function(t){return t.setMilliseconds(0)},function(t){return t.setSeconds(0)},function(t){return t.setMinutes(0)},function(t){return t.setHours(0)},function(t){return t.setDate(1)},function(t){return t.setMonth(0)}],cHe={millisecond:[],second:Ov.slice(0,1),minute:Ov.slice(0,2),hour:Ov.slice(0,3),day:Ov.slice(0,4),month:Ov.slice(0,5),year:Ov.slice(0,6)},uHe=function(t){return function(e){return cHe[t].forEach(function(n){n(e)}),e}},Wue=function(t){var e=t.format,n=e===void 0?"native":e,r=t.precision,i=r===void 0?"millisecond":r,o=t.useUTC,a=o===void 0||o,s=uHe(i);return function(l){if(l===void 0)return l;if(n==="native"||l instanceof Date)return s(l);var c=a?nue(n):eue(n);return s(c(l))}},nm={min:0,max:"auto",stacked:!1,reverse:!1,clamp:!1,nice:!0,round:!1},Vue=function(t,e,n,r){var i,o,a,s,l=t.min,c=l===void 0?nm.min:l,u=t.max,f=u===void 0?nm.max:u,d=t.stacked,h=d===void 0?nm.stacked:d,m=t.reverse,v=m===void 0?nm.reverse:m,y=t.clamp,g=y===void 0?nm.clamp:y,b=t.nice,x=b===void 0?nm.nice:b,_=t.round,T=_===void 0?nm.round:_;c==="auto"?i=h===!0?(o=e.minStacked)!=null?o:0:e.min:i=c,f==="auto"?a=h===!0?(s=e.maxStacked)!=null?s:0:e.max:a=f;var C=lp().range(r==="x"?[0,n]:[n,0]).interpolate(T?uO:Al).domain(v?[a,i]:[i,a]).clamp(g);return x===!0?C.nice():typeof x=="number"&&C.nice(x),fHe(C,h)},fHe=function(t,e){e===void 0&&(e=!1);var n=t;return n.type="linear",n.stacked=e,n},Hue=function(t,e,n){var r=ig().range([0,n]).domain(e.all);return r.type="point",r},dHe={round:!1},hHe=function(t,e,n,r){var i=t.round,o=i===void 0?dHe.round:i,a=B0().range(r==="x"?[0,n]:[n,0]).domain(e.all).round(o);return pHe(a)},pHe=function(t){var e=t;return e.type="band",e},Lv={format:"native",precision:"millisecond",min:"auto",max:"auto",useUTC:!0,nice:!1},mHe=function(t,e,n){var r,i,o=t.format,a=o===void 0?Lv.format:o,s=t.precision,l=s===void 0?Lv.precision:s,c=t.min,u=c===void 0?Lv.min:c,f=t.max,d=f===void 0?Lv.max:f,h=t.useUTC,m=h===void 0?Lv.useUTC:h,v=t.nice,y=v===void 0?Lv.nice:v,g=Wue({format:a,precision:l,useUTC:m});r=u==="auto"?g(e.min):a!=="native"?g(u):u,i=d==="auto"?g(e.max):a!=="native"?g(d):d;var b=m?iue():rue();b.range([0,n]),r&&i&&b.domain([r,i]),y===!0?b.nice():typeof y!="object"&&typeof y!="number"||b.nice(y);var x=b;return x.type="time",x.useUTC=m,x},kv={base:10,min:"auto",max:"auto",round:!1,reverse:!1,nice:!0},gHe=function(t,e,n,r){var i,o=t.base,a=o===void 0?kv.base:o,s=t.min,l=s===void 0?kv.min:s,c=t.max,u=c===void 0?kv.max:c,f=t.round,d=f===void 0?kv.round:f,h=t.reverse,m=h===void 0?kv.reverse:h,v=t.nice,y=v===void 0?kv.nice:v;if(e.all.some(function(P){return P===0}))throw new Error("a log scale domain must not include or cross zero");var g,b,x=!1;if(e.all.filter(function(P){return P!=null}).forEach(function(P){x||(i===void 0?i=Math.sign(P):Math.sign(P)!==i&&(x=!0))}),x)throw new Error("a log scale domain must be strictly-positive or strictly-negative");g=l==="auto"?e.min:l,b=u==="auto"?e.max:u;var _=PU().base(a),T=r==="x"?[0,n]:[n,0];d===!0?_.rangeRound(T):_.range(T),m===!0?_.domain([b,g]):_.domain([g,b]),y===!0?_.nice():typeof y=="number"&&_.nice(y);var C=_;return C.type="log",C},Nv={constant:1,min:"auto",max:"auto",round:!1,reverse:!1,nice:!0},vHe=function(t,e,n,r){var i,o,a=t.constant,s=a===void 0?Nv.constant:a,l=t.min,c=l===void 0?Nv.min:l,u=t.max,f=u===void 0?Nv.max:u,d=t.round,h=d===void 0?Nv.round:d,m=t.reverse,v=m===void 0?Nv.reverse:m,y=t.nice,g=y===void 0?Nv.nice:y;i=c==="auto"?e.min:c,o=f==="auto"?e.max:f;var b=OU().constant(s),x=r==="x"?[0,n]:[n,0];h===!0?b.rangeRound(x):b.range(x),v===!0?b.domain([o,i]):b.domain([i,o]),g===!0?b.nice():typeof g=="number"&&b.nice(g);var _=b;return _.type="symlog",_},yHe=function(t){return t==="x"?"y":"x"},xHe=function(t,e){return t===e},bHe=function(t,e){return t.getTime()===e.getTime()};function Sw(t,e,n,r){switch(t.type){case"linear":return Vue(t,e,n,r);case"point":return Hue(0,e,n);case"band":return hHe(t,e,n,r);case"time":return mHe(t,e,n);case"log":return gHe(t,e,n,r);case"symlog":return vHe(t,e,n,r);default:throw new Error("invalid scale spec")}}var eq=function(t,e,n){var r;if("stacked"in n&&n.stacked){var i=t.data[e==="x"?"xStacked":"yStacked"];return i==null?null:n(i)}return(r=n(t.data[e]))!=null?r:null},_He=function(t,e,n,r,i){var o=t.map(function(u){return function(f){return Am({},f,{data:f.data.map(function(d){return{data:Am({},d)}})})}(u)}),a=wHe(o,e,n);"stacked"in e&&e.stacked===!0&&SHe(a,o),"stacked"in n&&n.stacked===!0&&MHe(a,o);var s=Sw(e,a.x,r,"x"),l=Sw(n,a.y,i,"y"),c=o.map(function(u){return Am({},u,{data:u.data.map(function(f){return Am({},f,{position:{x:eq(f,"x",s),y:eq(f,"y",l)}})})})});return Am({},a,{series:c,xScale:s,yScale:l})},wHe=function(t,e,n){return{x:tq(t,"x",e),y:tq(t,"y",n)}},tq=function(t,e,n,r){var i={},o=i.getValue,a=o===void 0?function(m){return m.data[e]}:o,s=i.setValue,l=s===void 0?function(m,v){m.data[e]=v}:s;if(n.type==="linear")t.forEach(function(m){m.data.forEach(function(v){var y=a(v);y&&l(v,parseFloat(String(y)))})});else if(n.type==="time"&&n.format!=="native"){var c=Wue(n);t.forEach(function(m){m.data.forEach(function(v){var y=a(v);y&&l(v,c(y))})})}var u=[];switch(t.forEach(function(m){m.data.forEach(function(v){u.push(a(v))})}),n.type){case"linear":var f=vM(C5(u).filter(function(m){return m!==null}),function(m){return m});return{all:f,min:Math.min.apply(Math,f),max:Math.max.apply(Math,f)};case"time":var d=ww(u,function(m){return m.getTime()}).slice(0).sort(function(m,v){return v.getTime()-m.getTime()}).reverse();return{all:d,min:d[0],max:Qt(d)};default:var h=C5(u);return{all:h,min:h[0],max:Qt(h)}}},Gue=function(t,e,n){var r=yHe(t),i=[];e[r].all.forEach(function(o){var a=Rg(o)?bHe:xHe,s=[];n.forEach(function(l){var c=l.data.find(function(h){return a(h.data[r],o)}),u=null,f=null;if(c!==void 0){if((u=c.data[t])!==null){var d=Qt(s);d===void 0?f=u:d!==null&&(f=d+u)}c.data[t==="x"?"xStacked":"yStacked"]=f}s.push(f),f!==null&&i.push(f)})}),e[t].minStacked=Math.min.apply(Math,i),e[t].maxStacked=Math.max.apply(Math,i)},SHe=function(t,e){return Gue("x",t,e)},MHe=function(t,e){return Gue("y",t,e)},Xue=function(t){var e=t.bandwidth();if(e===0)return t;var n=e/2;return t.round()&&(n=Math.round(n)),function(r){var i;return((i=t(r))!=null?i:0)+n}},que={millisecond:[bw,bw],second:[_5,_5],minute:[zce,Wce],hour:[$ce,Vce],day:[no(function(t){return t.setHours(0,0,0,0)},function(t,e){return t.setDate(t.getDate()+e)},function(t,e){return(e.getTime()-t.getTime())/864e5},function(t){return Math.floor(t.getTime()/864e5)}),no(function(t){return t.setUTCHours(0,0,0,0)},function(t,e){return t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e.getTime()-t.getTime())/864e5},function(t){return Math.floor(t.getTime()/864e5)})],week:[sd,RC],sunday:[sd,RC],monday:[F0,_w],tuesday:[HU,Hce],wednesday:[GU,Gce],thursday:[cp,Pg],friday:[XU,Xce],saturday:[qU,qce],month:[Uce,Yce],year:[$l,up]},EHe=Object.keys(que),THe=new RegExp("^every\\s*(\\d+)?\\s*("+EHe.join("|")+")s?$","i"),Yue=function(t,e){if(Array.isArray(e))return e;if(typeof e=="string"&&"useUTC"in t){var n=e.match(THe);if(n){var r=n[1],i=n[2],o=que[i][t.useUTC?1:0];if(i==="day"){var a,s,l=t.domain(),c=l[0],u=l[1],f=new Date(u);return f.setDate(f.getDate()+1),(a=(s=o.every(Number(r??1)))==null?void 0:s.range(c,f))!=null?a:[]}if(r===void 0)return t.ticks(o);var d=o.every(Number(r));if(d)return t.ticks(d)}throw new Error("Invalid tickValues: "+e)}if("ticks"in t){if(e===void 0)return t.ticks();if(typeof(h=e)=="number"&&isFinite(h)&&Math.floor(h)===h)return t.ticks(e)}var h;return t.domain()};function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}var Kue=function(t){var e,n=t.axis,r=t.scale,i=t.ticksPosition,o=t.tickValues,a=t.tickSize,s=t.tickPadding,l=t.tickRotation,c=t.truncateTickAt,u=t.engine,f=u===void 0?"svg":u,d=Yue(r,o),h=Rue[f],m="bandwidth"in r?Xue(r):r,v={lineX:0,lineY:0},y={textX:0,textY:0},g=typeof document=="object"&&document.dir==="rtl",b=h.align.center,x=h.baseline.center;return n==="x"?(e=function(_){var T;return{x:(T=m(_))!=null?T:0,y:0}},v.lineY=a*(i==="after"?1:-1),y.textY=(a+s)*(i==="after"?1:-1),x=i==="after"?h.baseline.top:h.baseline.bottom,l===0?b=h.align.center:i==="after"&&l<0||i==="before"&&l>0?(b=h.align[g?"left":"right"],x=h.baseline.center):(i==="after"&&l>0||i==="before"&&l<0)&&(b=h.align[g?"right":"left"],x=h.baseline.center)):(e=function(_){var T;return{x:0,y:(T=m(_))!=null?T:0}},v.lineX=a*(i==="after"?1:-1),y.textX=(a+s)*(i==="after"?1:-1),b=i==="after"?h.align.left:h.align.right),{ticks:d.map(function(_){var T=typeof _=="string"?function(C){var P=String(C).length;return c&&c>0&&P>c?""+String(C).slice(0,c).concat("..."):""+C}(_):_;return jc({key:_ instanceof Date?""+_.valueOf():""+_,value:T},e(_),v,y)}),textAlign:b,textBaseline:x}},Zue=function(t,e){if(t===void 0||typeof t=="function")return t;if(e.type==="time"){var n=nv(t);return function(r){return n(r instanceof Date?r:new Date(r))}}return Zg(t)},P5=function(t){var e,n=t.width,r=t.height,i=t.scale,o=t.axis,a=t.values,s=(e=a,(Array.isArray(e)?a:void 0)||Yue(i,a)),l="bandwidth"in i?Xue(i):i,c=o==="x"?s.map(function(u){var f,d;return{key:u instanceof Date?""+u.valueOf():""+u,x1:(f=l(u))!=null?f:0,x2:(d=l(u))!=null?d:0,y1:0,y2:r}}):s.map(function(u){var f,d;return{key:u instanceof Date?""+u.valueOf():""+u,x1:0,x2:n,y1:(f=l(u))!=null?f:0,y2:(d=l(u))!=null?d:0}});return c},AHe=A.memo(function(t){var e,n=t.value,r=t.format,i=t.lineX,o=t.lineY,a=t.onClick,s=t.textBaseline,l=t.textAnchor,c=t.theme,u=t.animatedProps,f=(e=r==null?void 0:r(n))!=null?e:n,d=A.useMemo(function(){var h={opacity:u.opacity};return a?{style:jc({},h,{cursor:"pointer"}),onClick:function(m){return a(m,f)}}:{style:h}},[u.opacity,a,f]);return S.jsxs(Un.g,jc({transform:u.transform},d,{children:[S.jsx("line",{x1:0,x2:i,y1:0,y2:o,style:c.line}),S.jsx(Fl,{dominantBaseline:s,textAnchor:l,transform:u.textTransform,style:c.text,children:""+f})]}))}),ps={tickSize:5,tickPadding:5,tickRotation:0,legendPosition:"middle",legendOffset:0},CHe=function(t){var e=t.axis,n=t.scale,r=t.x,i=r===void 0?0:r,o=t.y,a=o===void 0?0:o,s=t.length,l=t.ticksPosition,c=t.tickValues,u=t.tickSize,f=u===void 0?ps.tickSize:u,d=t.tickPadding,h=d===void 0?ps.tickPadding:d,m=t.tickRotation,v=m===void 0?ps.tickRotation:m,y=t.format,g=t.renderTick,b=g===void 0?AHe:g,x=t.truncateTickAt,_=t.legend,T=t.legendPosition,C=T===void 0?ps.legendPosition:T,P=t.legendOffset,I=P===void 0?ps.legendOffset:P,O=t.style,N=t.onClick,D=t.ariaHidden,U=Bn(),V=RBe(U.axis,O),z=A.useMemo(function(){return Zue(y,n)},[y,n]),F=Kue({axis:e,scale:n,ticksPosition:l,tickValues:c,tickSize:f,tickPadding:h,tickRotation:v,truncateTickAt:x}),W=F.ticks,X=F.textAlign,B=F.textBaseline,G=null;if(_!==void 0){var q,te=0,Y=0,J=0;e==="y"?(J=-90,te=I,C==="start"?(q="start",Y=s):C==="middle"?(q="middle",Y=s/2):C==="end"&&(q="end")):(Y=I,C==="start"?q="start":C==="middle"?(q="middle",te=s/2):C==="end"&&(q="end",te=s)),G=S.jsx(S.Fragment,{children:S.jsx(Fl,{transform:"translate("+te+", "+Y+") rotate("+J+")",textAnchor:q,style:jc({},V.legend.text,{dominantBaseline:"central"}),children:_})})}var re=gi(),oe=re.animate,pe=re.config,fe=Ss({transform:"translate("+i+","+a+")",lineX2:e==="x"?s:0,lineY2:e==="x"?0:s,config:pe,immediate:!oe}),we=A.useCallback(function(Te){return{opacity:1,transform:"translate("+Te.x+","+Te.y+")",textTransform:"translate("+Te.textX+","+Te.textY+") rotate("+v+")"}},[v]),ge=A.useCallback(function(Te){return{opacity:0,transform:"translate("+Te.x+","+Te.y+")",textTransform:"translate("+Te.textX+","+Te.textY+") rotate("+v+")"}},[v]),xe=qu(W,{keys:function(Te){return Te.key},initial:we,from:ge,enter:we,update:we,leave:{opacity:0},config:pe,immediate:!oe});return S.jsxs(Un.g,{transform:fe.transform,"aria-hidden":D,children:[xe(function(Te,ee,Ce,ae){return A.createElement(b,jc({tickIndex:ae,format:z,rotate:v,textBaseline:B,textAnchor:X,truncateTickAt:x,animatedProps:Te,theme:V.ticks},ee,N?{onClick:N}:{}))}),S.jsx(Un.line,{style:V.domain.line,x1:0,x2:fe.lineX2,y1:0,y2:fe.lineY2}),G]})},PHe=A.memo(CHe),Jue=["top","right","bottom","left"],c8=A.memo(function(t){var e=t.xScale,n=t.yScale,r=t.width,i=t.height,o={top:t.top,right:t.right,bottom:t.bottom,left:t.left};return S.jsx(S.Fragment,{children:Jue.map(function(a){var s=o[a];if(!s)return null;var l=a==="top"||a==="bottom";return S.jsx(PHe,jc({},s,{axis:l?"x":"y",x:a==="right"?r:0,y:a==="bottom"?i:0,scale:l?e:n,length:l?r:i,ticksPosition:a==="top"||a==="left"?"before":"after",truncateTickAt:s.truncateTickAt}),a)})})}),RHe=A.memo(function(t){var e=t.animatedProps,n=Bn();return S.jsx(Un.line,jc({},e,n.grid.line))}),nq=A.memo(function(t){var e=t.lines,n=gi(),r=n.animate,i=n.config,o=qu(e,{keys:function(a){return a.key},initial:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},from:function(a){return{opacity:0,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},enter:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},update:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},leave:{opacity:0},config:i,immediate:!r});return S.jsx("g",{children:o(function(a,s){return A.createElement(RHe,jc({},s,{key:s.key,animatedProps:a}))})})}),u8=A.memo(function(t){var e=t.width,n=t.height,r=t.xScale,i=t.yScale,o=t.xValues,a=t.yValues,s=A.useMemo(function(){return!!r&&P5({width:e,height:n,scale:r,axis:"x",values:o})},[r,o,e,n]),l=A.useMemo(function(){return!!i&&P5({width:e,height:n,scale:i,axis:"y",values:a})},[n,e,i,a]);return S.jsxs(S.Fragment,{children:[s&&S.jsx(nq,{lines:s}),l&&S.jsx(nq,{lines:l})]})}),OHe=function(t,e){var n,r,i=e.axis,o=e.scale,a=e.x,s=a===void 0?0:a,l=e.y,c=l===void 0?0:l,u=e.length,f=e.ticksPosition,d=e.tickValues,h=e.tickSize,m=h===void 0?ps.tickSize:h,v=e.tickPadding,y=v===void 0?ps.tickPadding:v,g=e.tickRotation,b=g===void 0?ps.tickRotation:g,x=e.format,_=e.legend,T=e.legendPosition,C=T===void 0?ps.legendPosition:T,P=e.legendOffset,I=P===void 0?ps.legendOffset:P,O=e.theme,N=e.style,D=Kue({axis:i,scale:o,ticksPosition:f,tickValues:d,tickSize:m,tickPadding:y,tickRotation:b,engine:"canvas"}),U=D.ticks,V=D.textAlign,z=D.textBaseline;t.save(),t.translate(s,c);var F=Ale(O.axis,N);t.textAlign=V,t.textBaseline=z,fp(t,F.ticks.text);var W=(n=F.domain.line.strokeWidth)!=null?n:0;typeof W!="string"&&W>0&&(t.lineWidth=W,t.lineCap="square",F.domain.line.stroke&&(t.strokeStyle=F.domain.line.stroke),t.beginPath(),t.moveTo(0,0),t.lineTo(i==="x"?u:0,i==="x"?0:u),t.stroke());var X=typeof x=="function"?x:function(re){return""+re},B=(r=F.ticks.line.strokeWidth)!=null?r:0,G=typeof B!="string"&&B>0;if(U.forEach(function(re){G&&(t.lineWidth=B,t.lineCap="square",F.ticks.line.stroke&&(t.strokeStyle=F.ticks.line.stroke),t.beginPath(),t.moveTo(re.x,re.y),t.lineTo(re.x+re.lineX,re.y+re.lineY),t.stroke());var oe=X(re.value);t.save(),t.translate(re.x+re.textX,re.y+re.textY),t.rotate(ld(b)),cd(t,F.ticks.text,""+oe),t.fillText(""+oe,0,0),t.restore()}),_!==void 0){var q=0,te=0,Y=0,J="center";i==="y"?(Y=-90,q=I,C==="start"?(J="start",te=u):C==="middle"?(J="center",te=u/2):C==="end"&&(J="end")):(te=I,C==="start"?J="start":C==="middle"?(J="center",q=u/2):C==="end"&&(J="end",q=u)),t.translate(q,te),t.rotate(ld(Y)),fp(t,F.legend.text),F.legend.text.fill&&(t.fillStyle=F.legend.text.fill),t.textAlign=J,t.textBaseline="middle",cd(t,F.legend.text,_)}t.restore()},Que=function(t,e){var n=e.xScale,r=e.yScale,i=e.width,o=e.height,a=e.top,s=e.right,l=e.bottom,c=e.left,u=e.theme,f={top:a,right:s,bottom:l,left:c};Jue.forEach(function(d){var h=f[d];if(!h)return null;var m=d==="top"||d==="bottom",v=d==="top"||d==="left"?"before":"after",y=m?n:r,g=Zue(h.format,y);OHe(t,jc({},h,{axis:m?"x":"y",x:d==="right"?i:0,y:d==="bottom"?o:0,scale:y,format:g,length:m?i:o,ticksPosition:v,theme:u}))})},OC=function(t,e){var n=e.width,r=e.height,i=e.scale,o=e.axis,a=e.values;P5({width:n,height:r,scale:i,axis:o,values:a}).forEach(function(s){t.beginPath(),t.moveTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.stroke()})},LHe=YO;function kHe(t,e){var n=[];return LHe(t,function(r,i,o){e(r,i,o)&&n.push(r)}),n}var NHe=kHe,IHe=_ue,DHe=NHe,jHe=_d,BHe=Xo;function zHe(t,e){var n=BHe(t)?IHe:DHe;return n(t,jHe(e))}var $He=zHe;const FHe=yn($He);var UHe=Yu,WHe=il,VHe="[object Number]";function HHe(t){return typeof t=="number"||WHe(t)&&UHe(t)==VHe}var efe=HHe;const R5=yn(efe);function GHe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var XHe=GHe,qHe=Vx,YHe=Zx;function KHe(t,e){return t&&qHe(e,YHe(e),t)}var ZHe=KHe,JHe=Vx,QHe=iM;function eGe(t,e){return t&&JHe(e,QHe(e),t)}var tGe=eGe,nGe=Vx,rGe=n8;function iGe(t,e){return nGe(t,rGe(t),e)}var oGe=iGe,aGe=QU,sGe=ZF,lGe=n8,cGe=wue,uGe=Object.getOwnPropertySymbols,fGe=uGe?function(t){for(var e=[];t;)aGe(e,lGe(t)),t=sGe(t);return e}:cGe,tfe=fGe,dGe=Vx,hGe=tfe;function pGe(t,e){return dGe(t,hGe(t),e)}var mGe=pGe,gGe=bue,vGe=tfe,yGe=iM;function xGe(t){return gGe(t,yGe,vGe)}var nfe=xGe,bGe=Object.prototype,_Ge=bGe.hasOwnProperty;function wGe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&_Ge.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var SGe=wGe,MGe=KF;function EGe(t,e){var n=e?MGe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var TGe=EGe,AGe=/\w*$/;function CGe(t){var e=new t.constructor(t.source,AGe.exec(t));return e.lastIndex=t.lastIndex,e}var PGe=CGe,rq=Bx,iq=rq?rq.prototype:void 0,oq=iq?iq.valueOf:void 0;function RGe(t){return oq?Object(oq.call(t)):{}}var OGe=RGe,LGe=KF,kGe=TGe,NGe=PGe,IGe=OGe,DGe=lle,jGe="[object Boolean]",BGe="[object Date]",zGe="[object Map]",$Ge="[object Number]",FGe="[object RegExp]",UGe="[object Set]",WGe="[object String]",VGe="[object Symbol]",HGe="[object ArrayBuffer]",GGe="[object DataView]",XGe="[object Float32Array]",qGe="[object Float64Array]",YGe="[object Int8Array]",KGe="[object Int16Array]",ZGe="[object Int32Array]",JGe="[object Uint8Array]",QGe="[object Uint8ClampedArray]",eXe="[object Uint16Array]",tXe="[object Uint32Array]";function nXe(t,e,n){var r=t.constructor;switch(e){case HGe:return LGe(t);case jGe:case BGe:return new r(+t);case GGe:return kGe(t,n);case XGe:case qGe:case YGe:case KGe:case ZGe:case JGe:case QGe:case eXe:case tXe:return DGe(t,n);case zGe:return new r;case $Ge:case WGe:return new r(t);case FGe:return NGe(t);case UGe:return new r;case VGe:return IGe(t)}}var rXe=nXe,iXe=XO,oXe=il,aXe="[object Map]";function sXe(t){return oXe(t)&&iXe(t)==aXe}var lXe=sXe,cXe=lXe,uXe=Wx,aq=iO,sq=aq&&aq.isMap,fXe=sq?uXe(sq):cXe,dXe=fXe,hXe=XO,pXe=il,mXe="[object Set]";function gXe(t){return pXe(t)&&hXe(t)==mXe}var vXe=gXe,yXe=vXe,xXe=Wx,lq=iO,cq=lq&&lq.isSet,bXe=cq?xXe(cq):yXe,_Xe=bXe,wXe=QR,SXe=XHe,MXe=nU,EXe=ZHe,TXe=tGe,AXe=ale,CXe=cle,PXe=oGe,RXe=mGe,OXe=Sue,LXe=nfe,kXe=XO,NXe=SGe,IXe=rXe,DXe=fle,jXe=Xo,BXe=nO,zXe=dXe,$Xe=Ms,FXe=_Xe,UXe=Zx,WXe=iM,VXe=1,HXe=2,GXe=4,rfe="[object Arguments]",XXe="[object Array]",qXe="[object Boolean]",YXe="[object Date]",KXe="[object Error]",ife="[object Function]",ZXe="[object GeneratorFunction]",JXe="[object Map]",QXe="[object Number]",ofe="[object Object]",eqe="[object RegExp]",tqe="[object Set]",nqe="[object String]",rqe="[object Symbol]",iqe="[object WeakMap]",oqe="[object ArrayBuffer]",aqe="[object DataView]",sqe="[object Float32Array]",lqe="[object Float64Array]",cqe="[object Int8Array]",uqe="[object Int16Array]",fqe="[object Int32Array]",dqe="[object Uint8Array]",hqe="[object Uint8ClampedArray]",pqe="[object Uint16Array]",mqe="[object Uint32Array]",Fr={};Fr[rfe]=Fr[XXe]=Fr[oqe]=Fr[aqe]=Fr[qXe]=Fr[YXe]=Fr[sqe]=Fr[lqe]=Fr[cqe]=Fr[uqe]=Fr[fqe]=Fr[JXe]=Fr[QXe]=Fr[ofe]=Fr[eqe]=Fr[tqe]=Fr[nqe]=Fr[rqe]=Fr[dqe]=Fr[hqe]=Fr[pqe]=Fr[mqe]=!0;Fr[KXe]=Fr[ife]=Fr[iqe]=!1;function eA(t,e,n,r,i,o){var a,s=e&VXe,l=e&HXe,c=e&GXe;if(n&&(a=i?n(t,r,i,o):n(t)),a!==void 0)return a;if(!$Xe(t))return t;var u=jXe(t);if(u){if(a=NXe(t),!s)return CXe(t,a)}else{var f=kXe(t),d=f==ife||f==ZXe;if(BXe(t))return AXe(t,s);if(f==ofe||f==rfe||d&&!i){if(a=l||d?{}:DXe(t),!s)return l?RXe(t,TXe(a,t)):PXe(t,EXe(a,t))}else{if(!Fr[f])return i?t:{};a=IXe(t,f,s)}}o||(o=new wXe);var h=o.get(t);if(h)return h;o.set(t,a),FXe(t)?t.forEach(function(y){a.add(eA(y,e,n,y,t,o))}):zXe(t)&&t.forEach(function(y,g){a.set(g,eA(y,e,n,g,t,o))});var m=c?l?LXe:OXe:l?WXe:UXe,v=u?void 0:m(t);return SXe(v||t,function(y,g){v&&(g=y,y=t[g]),MXe(a,g,eA(y,e,n,g,t,o))}),a}var afe=eA;function gqe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var sfe=gqe,vqe=lM,yqe=sfe;function xqe(t,e){return e.length<2?t:vqe(t,yqe(e,0,-1))}var bqe=xqe,_qe=Xx,wqe=pue,Sqe=bqe,Mqe=qx;function Eqe(t,e){return e=_qe(e,t),t=Sqe(t,e),t==null||delete t[Mqe(wqe(e))]}var Tqe=Eqe,Aqe=eU;function Cqe(t){return Aqe(t)?void 0:t}var Pqe=Cqe,Rqe=aM,Oqe=afe,Lqe=Tqe,kqe=Xx,Nqe=Vx,Iqe=Pqe,Dqe=vue,jqe=nfe,Bqe=1,zqe=2,$qe=4,Fqe=Dqe(function(t,e){var n={};if(t==null)return n;var r=!1;e=Rqe(e,function(o){return o=kqe(o,t),r||(r=o.length>1),o}),Nqe(t,jqe(t),n),r&&(n=Oqe(n,Bqe|zqe|$qe,Iqe));for(var i=e.length;i--;)Lqe(n,e[i]);return n}),Uqe=Fqe;const f8=yn(Uqe);function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(null,arguments)}var O5={dotSize:4,noteWidth:120,noteTextOffset:8},Wqe=function(t){var e=typeof t;return A.isValidElement(t)||e==="string"||e==="function"||e==="object"},Vqe=function(t){var e=typeof t;return e==="string"||e==="function"},Mw=function(t){return t.type==="circle"},L5=function(t){return t.type==="dot"},Ew=function(t){return t.type==="rect"},Hqe=function(t){var e=t.data,n=t.annotations,r=t.getPosition,i=t.getDimensions;return n.reduce(function(o,a){var s=a.offset||0;return[].concat(o,FHe(e,a.match).map(function(l){var c=r(l),u=i(l);return(Mw(a)||Ew(a))&&(u.size=u.size+2*s,u.width=u.width+2*s,u.height=u.height+2*s),$u({},f8(a,["match","offset"]),c,u,{size:a.size||u.size,datum:l})}))},[])},Gqe=function(t,e,n,r){var i=Math.atan2(r-e,n-t);return BWe(i8(i))},lfe=function(t){var e,n,r=t.x,i=t.y,o=t.noteX,a=t.noteY,s=t.noteWidth,l=s===void 0?O5.noteWidth:s,c=t.noteTextOffset,u=c===void 0?O5.noteTextOffset:c;if(R5(o))e=r+o;else{if(o.abs===void 0)throw new Error("noteX should be either a number or an object containing an 'abs' property");e=o.abs}if(R5(a))n=i+a;else{if(a.abs===void 0)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=a.abs}var f=r,d=i,h=Gqe(r,i,e,n);if(Mw(t)){var m=a8(ld(h),t.size/2);f+=m.x,d+=m.y}if(Ew(t)){var v=Math.round((h+90)/45)%8;v===0&&(d-=t.height/2),v===1&&(f+=t.width/2,d-=t.height/2),v===2&&(f+=t.width/2),v===3&&(f+=t.width/2,d+=t.height/2),v===4&&(d+=t.height/2),v===5&&(f-=t.width/2,d+=t.height/2),v===6&&(f-=t.width/2),v===7&&(f-=t.width/2,d-=t.height/2)}var y=e,g=e;return(h+90)%360>180?(y-=l,g-=l):g+=l,{points:[[f,d],[e,n],[g,n]],text:[y,n-u],angle:h+90}},cfe=function(t){var e=t.data,n=t.annotations,r=t.getPosition,i=t.getDimensions;return A.useMemo(function(){return Hqe({data:e,annotations:n,getPosition:r,getDimensions:i})},[e,n,r,i])},Xqe=function(t){var e=t.annotations;return A.useMemo(function(){return e.map(function(n){return $u({},n,{computed:lfe($u({},n))})})},[e])},qqe=function(t){return A.useMemo(function(){return lfe(t)},[t])},Yqe=function(t){var e=t.datum,n=t.x,r=t.y,i=t.note,o=Bn(),a=gi(),s=a.animate,l=a.config,c=Ss({x:n,y:r,config:l,immediate:!s});return typeof i=="function"?A.createElement(i,{x:n,y:r,datum:e}):S.jsxs(S.Fragment,{children:[o.annotations.text.outlineWidth>0&&S.jsx(Un.text,{x:c.x,y:c.y,style:$u({},o.annotations.text,{strokeLinejoin:"round",strokeWidth:2*o.annotations.text.outlineWidth,stroke:o.annotations.text.outlineColor}),children:i}),S.jsx(Un.text,{x:c.x,y:c.y,style:f8(o.annotations.text,["outlineWidth","outlineColor"]),children:i})]})},uq=function(t){var e=t.points,n=t.isOutline,r=n!==void 0&&n,i=Bn(),o=A.useMemo(function(){var l=e[0];return e.slice(1).reduce(function(c,u){return c+" L"+u[0]+","+u[1]},"M"+l[0]+","+l[1])},[e]),a=pM(o);if(r&&i.annotations.link.outlineWidth<=0)return null;var s=$u({},i.annotations.link);return r&&(s.strokeLinecap="square",s.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,s.stroke=i.annotations.link.outlineColor,s.opacity=i.annotations.link.outlineOpacity),S.jsx(Un.path,{fill:"none",d:a,style:s})},Kqe=function(t){var e=t.x,n=t.y,r=t.size,i=Bn(),o=gi(),a=o.animate,s=o.config,l=Ss({x:e,y:n,radius:r/2,config:s,immediate:!a});return S.jsxs(S.Fragment,{children:[i.annotations.outline.outlineWidth>0&&S.jsx(Un.circle,{cx:l.x,cy:l.y,r:l.radius,style:$u({},i.annotations.outline,{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor,opacity:i.annotations.outline.outlineOpacity})}),S.jsx(Un.circle,{cx:l.x,cy:l.y,r:l.radius,style:i.annotations.outline})]})},Zqe=function(t){var e=t.x,n=t.y,r=t.size,i=r===void 0?O5.dotSize:r,o=Bn(),a=gi(),s=a.animate,l=a.config,c=Ss({x:e,y:n,radius:i/2,config:l,immediate:!s});return S.jsxs(S.Fragment,{children:[o.annotations.outline.outlineWidth>0&&S.jsx(Un.circle,{cx:c.x,cy:c.y,r:c.radius,style:$u({},o.annotations.outline,{fill:"none",strokeWidth:2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),S.jsx(Un.circle,{cx:c.x,cy:c.y,r:c.radius,style:o.annotations.symbol})]})},Jqe=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.borderRadius,a=o===void 0?6:o,s=Bn(),l=gi(),c=l.animate,u=l.config,f=Ss({x:e-r/2,y:n-i/2,width:r,height:i,config:u,immediate:!c});return S.jsxs(S.Fragment,{children:[s.annotations.outline.outlineWidth>0&&S.jsx(Un.rect,{x:f.x,y:f.y,rx:a,ry:a,width:f.width,height:f.height,style:$u({},s.annotations.outline,{fill:"none",strokeWidth:s.annotations.outline.strokeWidth+2*s.annotations.outline.outlineWidth,stroke:s.annotations.outline.outlineColor,opacity:s.annotations.outline.outlineOpacity})}),S.jsx(Un.rect,{x:f.x,y:f.y,rx:a,ry:a,width:f.width,height:f.height,style:s.annotations.outline})]})},Qqe=function(t){var e=t.datum,n=t.x,r=t.y,i=t.note,o=qqe(t);if(!Wqe(i))throw new Error("note should be a valid react element");return S.jsxs(S.Fragment,{children:[S.jsx(uq,{points:o.points,isOutline:!0}),Mw(t)&&S.jsx(Kqe,{x:n,y:r,size:t.size}),L5(t)&&S.jsx(Zqe,{x:n,y:r,size:t.size}),Ew(t)&&S.jsx(Jqe,{x:n,y:r,width:t.width,height:t.height,borderRadius:t.borderRadius}),S.jsx(uq,{points:o.points}),S.jsx(Yqe,{datum:e,x:o.text[0],y:o.text[1],note:i})]})},fq=function(t,e){e.forEach(function(n,r){var i=n[0],o=n[1];r===0?t.moveTo(i,o):t.lineTo(i,o)})},eYe=function(t,e){var n=e.annotations,r=e.theme;n.length!==0&&(t.save(),n.forEach(function(i){if(!Vqe(i.note))throw new Error("note is invalid for canvas implementation");r.annotations.link.outlineWidth>0&&(t.lineCap="square",t.strokeStyle=r.annotations.link.outlineColor,t.lineWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,t.beginPath(),fq(t,i.computed.points),t.stroke(),t.lineCap="butt"),Mw(i)&&r.annotations.outline.outlineWidth>0&&(t.strokeStyle=r.annotations.outline.outlineColor,t.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,t.beginPath(),t.arc(i.x,i.y,i.size/2,0,2*Math.PI),t.stroke()),L5(i)&&r.annotations.symbol.outlineWidth>0&&(t.strokeStyle=r.annotations.symbol.outlineColor,t.lineWidth=2*r.annotations.symbol.outlineWidth,t.beginPath(),t.arc(i.x,i.y,i.size/2,0,2*Math.PI),t.stroke()),Ew(i)&&r.annotations.outline.outlineWidth>0&&(t.strokeStyle=r.annotations.outline.outlineColor,t.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,t.beginPath(),t.rect(i.x-i.width/2,i.y-i.height/2,i.width,i.height),t.stroke()),t.strokeStyle=r.annotations.link.stroke,t.lineWidth=r.annotations.link.strokeWidth,t.beginPath(),fq(t,i.computed.points),t.stroke(),Mw(i)&&(t.strokeStyle=r.annotations.outline.stroke,t.lineWidth=r.annotations.outline.strokeWidth,t.beginPath(),t.arc(i.x,i.y,i.size/2,0,2*Math.PI),t.stroke()),L5(i)&&(t.fillStyle=r.annotations.symbol.fill,t.beginPath(),t.arc(i.x,i.y,i.size/2,0,2*Math.PI),t.fill()),Ew(i)&&(t.strokeStyle=r.annotations.outline.stroke,t.lineWidth=r.annotations.outline.strokeWidth,t.beginPath(),t.rect(i.x-i.width/2,i.y-i.height/2,i.width,i.height),t.stroke()),typeof i.note=="function"?i.note(t,{datum:i.datum,x:i.computed.text[0],y:i.computed.text[1],theme:r}):(t.font=r.annotations.text.fontSize+"px "+r.annotations.text.fontFamily,t.textAlign="left",t.textBaseline="alphabetic",t.fillStyle=r.annotations.text.fill,t.strokeStyle=r.annotations.text.outlineColor,t.lineWidth=2*r.annotations.text.outlineWidth,r.annotations.text.outlineWidth>0&&(t.lineJoin="round",t.strokeText(i.note,i.computed.text[0],i.computed.text[1]),t.lineJoin="miter"),t.fillText(i.note,i.computed.text[0],i.computed.text[1]))}),t.restore())};function dq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tYe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(i,o){if(i){if(typeof i=="string")return dq(i,o);var a={}.toString.call(i).slice(8,-1);return a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set"?Array.from(i):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?dq(i,o):void 0}}(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(null,arguments)}var ufe={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:s8e,accent:l8e,dark2:c8e,paired:u8e,pastel1:f8e,pastel2:d8e,set1:h8e,set2:p8e,set3:due,tableau10:hue},nYe=Object.keys(ufe),ffe={brown_blueGreen:xO,purpleRed_green:bO,pink_yellowGreen:_O,purple_orange:wO,red_blue:SO,red_grey:MO,red_yellow_blue:EO,red_yellow_green:TO,spectral:AO},rYe=Object.keys(ffe),iYe={brown_blueGreen:m8e,purpleRed_green:g8e,pink_yellowGreen:v8e,purple_orange:y8e,red_blue:x8e,red_grey:b8e,red_yellow_blue:_8e,red_yellow_green:w8e,spectral:S8e},dfe={blues:$O,greens:FO,greys:UO,oranges:HO,purples:WO,reds:VO,blue_green:CO,blue_purple:PO,green_blue:RO,orange_red:OO,purple_blue_green:LO,purple_blue:kO,purple_red:NO,red_purple:IO,yellow_green_blue:DO,yellow_green:jO,yellow_orange_brown:BO,yellow_orange_red:zO},oYe=Object.keys(dfe),aYe={blues:D8e,greens:j8e,greys:B8e,oranges:F8e,purples:z8e,reds:$8e,turbo:K8e,viridis:Z8e,inferno:Q8e,magma:J8e,plasma:e6e,cividis:U8e,warm:V8e,cool:H8e,cubehelixDefault:W8e,blue_green:M8e,blue_purple:E8e,green_blue:T8e,orange_red:A8e,purple_blue_green:C8e,purple_blue:P8e,purple_red:R8e,red_purple:O8e,yellow_green_blue:L8e,yellow_green:k8e,yellow_orange_brown:N8e,yellow_orange_red:I8e},xN=LC({},ufe,ffe,dfe),sYe=function(t){return nYe.includes(t)},lYe=function(t){return rYe.includes(t)},cYe=function(t){return oYe.includes(t)},uYe={rainbow:G8e,sinebow:Y8e};LC({},iYe,aYe,uYe);var fYe=function(t){return t.theme!==void 0},dYe=function(t){return t.from!==void 0},hYe=function(t,e){if(typeof t=="function")return t;if(rO(t)){if(fYe(t)){if(e===void 0)throw new Error("Unable to use color from theme as no theme was provided");var n=Ci(e,t.theme);if(n===void 0)throw new Error("Color from theme is undefined at path: '"+t.theme+"'");return function(){return n}}if(dYe(t)){var r=function(l){return Ci(l,t.from)};if(Array.isArray(t.modifiers)){for(var i,o=[],a=function(){var l=i.value,c=l[0],u=l[1];if(c==="brighter")o.push(function(f){return f.brighter(u)});else if(c==="darker")o.push(function(f){return f.darker(u)});else{if(c!=="opacity")throw new Error("Invalid color modifier: '"+c+"', must be one of: 'brighter', 'darker', 'opacity'");o.push(function(f){return f.opacity=u,f})}},s=tYe(t.modifiers);!(i=s()).done;)a();return o.length===0?r:function(l){return o.reduce(function(c,u){return u(c)},j0(r(l))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return t}},$i=function(t,e){return A.useMemo(function(){return hYe(t,e)},[t,e])},pYe=function(t,e){if(typeof t=="function")return t;var n=typeof e=="function"?e:function(f){return Ci(f,e)};if(Array.isArray(t)){var r=Rh(t),i=function(f){return r(n(f))};return i.scale=r,i}if(rO(t)){if(function(f){return f.datum!==void 0}(t))return function(f){return Ci(f,t.datum)};if(function(f){return f.scheme!==void 0}(t)){if(sYe(t.scheme)){var o=Rh(xN[t.scheme]),a=function(f){return o(n(f))};return a.scale=o,a}if(lYe(t.scheme)){if(t.size!==void 0&&(t.size<3||t.size>11))throw new Error("Invalid size '"+t.size+"' for diverging color scheme '"+t.scheme+"', must be between 3~11");var s=Rh(xN[t.scheme][t.size||11]),l=function(f){return s(n(f))};return l.scale=s,l}if(cYe(t.scheme)){if(t.size!==void 0&&(t.size<3||t.size>9))throw new Error("Invalid size '"+t.size+"' for sequential color scheme '"+t.scheme+"', must be between 3~9");var c=Rh(xN[t.scheme][t.size||9]),u=function(f){return c(n(f))};return u.scale=c,u}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return t}},rv=function(t,e){return A.useMemo(function(){return pYe(t,e)},[t,e])},mYe=function(t){var e=t.x,n=t.y,r=t.size,i=t.fill,o=t.opacity,a=o===void 0?1:o,s=t.borderWidth,l=s===void 0?0:s,c=t.borderColor;return S.jsx("circle",{r:r/2,cx:e+r/2,cy:n+r/2,fill:i,opacity:a,strokeWidth:l,stroke:c===void 0?"transparent":c,style:{pointerEvents:"none"}})},gYe=function(t){var e=t.x,n=t.y,r=t.size,i=t.fill,o=t.opacity,a=o===void 0?1:o,s=t.borderWidth,l=s===void 0?0:s,c=t.borderColor;return S.jsx("g",{transform:"translate("+e+","+n+")",children:S.jsx("path",{d:`
                    M`+r/2+` 0
                    L`+.8*r+" "+r/2+`
                    L`+r/2+" "+r+`
                    L`+.2*r+" "+r/2+`
                    L`+r/2+` 0
                `,fill:i,opacity:a,strokeWidth:l,stroke:c===void 0?"transparent":c,style:{pointerEvents:"none"}})})},vYe=function(t){var e=t.x,n=t.y,r=t.size,i=t.fill,o=t.opacity,a=o===void 0?1:o,s=t.borderWidth,l=s===void 0?0:s,c=t.borderColor;return S.jsx("rect",{x:e,y:n,fill:i,opacity:a,strokeWidth:l,stroke:c===void 0?"transparent":c,width:r,height:r,style:{pointerEvents:"none"}})},yYe=function(t){var e=t.x,n=t.y,r=t.size,i=t.fill,o=t.opacity,a=o===void 0?1:o,s=t.borderWidth,l=s===void 0?0:s,c=t.borderColor;return S.jsx("g",{transform:"translate("+e+","+n+")",children:S.jsx("path",{d:`
                M`+r/2+` 0
                L`+r+" "+r+`
                L0 `+r+`
                L`+r/2+` 0
            `,fill:i,opacity:a,strokeWidth:l,stroke:c===void 0?"transparent":c,style:{pointerEvents:"none"}})})};function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(null,arguments)}var Rl={translateX:0,translateY:0,padding:0,itemsSpacing:0,itemDirection:"left-to-right",justify:!1,symbolShape:"square",symbolSize:16,symbolSpacing:8},xYe={top:0,right:0,bottom:0,left:0},d8=function(t){var e,n=t.direction,r=t.itemsSpacing,i=t.padding,o=t.itemCount,a=t.itemWidth,s=t.itemHeight;if(typeof i!="number"&&(typeof(e=i)!="object"||Array.isArray(e)||e===null))throw new Error("Invalid property padding, must be one of: number, object");var l=typeof i=="number"?{top:i,right:i,bottom:i,left:i}:Oh({},xYe,i),c=l.left+l.right,u=l.top+l.bottom,f=a+c,d=s+u,h=(o-1)*r;return n==="row"?f=a*o+h+c:n==="column"&&(d=s*o+h+u),{width:f,height:d,padding:l}},hfe=function(t){var e=t.anchor,n=t.translateX,r=t.translateY,i=t.containerWidth,o=t.containerHeight,a=t.width,s=t.height,l=n,c=r;switch(e){case"top":l+=(i-a)/2;break;case"top-right":l+=i-a;break;case"right":l+=i-a,c+=(o-s)/2;break;case"bottom-right":l+=i-a,c+=o-s;break;case"bottom":l+=(i-a)/2,c+=o-s;break;case"bottom-left":c+=o-s;break;case"left":c+=(o-s)/2;break;case"center":l+=(i-a)/2,c+=(o-s)/2}return{x:l,y:c}},pfe=function(t){var e,n,r,i,o,a,s=t.direction,l=t.justify,c=t.symbolSize,u=t.symbolSpacing,f=t.width,d=t.height;switch(s){case"left-to-right":e=0,n=(d-c)/2,i=d/2,a="central",l?(r=f,o="end"):(r=c+u,o="start");break;case"right-to-left":e=f-c,n=(d-c)/2,i=d/2,a="central",l?(r=0,o="start"):(r=f-c-u,o="end");break;case"top-to-bottom":e=(f-c)/2,n=0,r=f/2,o="middle",l?(i=d,a="alphabetic"):(i=c+u,a="text-before-edge");break;case"bottom-to-top":e=(f-c)/2,n=d-c,r=f/2,o="middle",l?(i=0,a="text-before-edge"):(i=d-c-u,a="alphabetic")}return{symbolX:e,symbolY:n,labelX:r,labelY:i,labelAnchor:o,labelAlignment:a}},bYe={circle:mYe,diamond:gYe,square:vYe,triangle:yYe},_Ye=function(t){var e,n,r,i,o,a,s,l,c,u,f,d=t.x,h=t.y,m=t.width,v=t.height,y=t.data,g=t.direction,b=g===void 0?Rl.itemDirection:g,x=t.justify,_=x===void 0?Rl.justify:x,T=t.textColor,C=t.background,P=C===void 0?"transparent":C,I=t.opacity,O=I===void 0?1:I,N=t.symbolShape,D=N===void 0?Rl.symbolShape:N,U=t.symbolSize,V=U===void 0?Rl.symbolSize:U,z=t.symbolSpacing,F=z===void 0?Rl.symbolSpacing:z,W=t.symbolBorderWidth,X=W===void 0?0:W,B=t.symbolBorderColor,G=B===void 0?"transparent":B,q=t.onClick,te=t.onMouseEnter,Y=t.onMouseLeave,J=t.toggleSerie,re=t.effects,oe=A.useState({}),pe=oe[0],fe=oe[1],we=Bn(),ge=A.useCallback(function(Q){if(re){var ve=re.filter(function(Se){return Se.on==="hover"}).reduce(function(Se,Le){return Oh({},Se,Le.style)},{});fe(ve)}te==null||te(y,Q)},[te,y,re]),xe=A.useCallback(function(Q){if(re){var ve=re.filter(function(Se){return Se.on!=="hover"}).reduce(function(Se,Le){return Oh({},Se,Le.style)},{});fe(ve)}Y==null||Y(y,Q)},[Y,y,re]),Te=pfe({direction:b,justify:_,symbolSize:(e=pe.symbolSize)!=null?e:V,symbolSpacing:F,width:m,height:v}),ee=Te.symbolX,Ce=Te.symbolY,ae=Te.labelX,be=Te.labelY,_e=Te.labelAnchor,He=Te.labelAlignment,Ve=[q,te,Y,J].some(function(Q){return Q!==void 0}),ne=typeof D=="function"?D:bYe[D];return S.jsxs("g",{transform:"translate("+d+","+h+")",style:{opacity:(n=pe.itemOpacity)!=null?n:O},children:[S.jsx("rect",{width:m,height:v,fill:(r=pe.itemBackground)!=null?r:P,style:{cursor:Ve?"pointer":"auto"},onClick:function(Q){q==null||q(y,Q),J==null||J(y.id)},onMouseEnter:ge,onMouseLeave:xe}),A.createElement(ne,Oh({id:y.id,x:ee,y:Ce,size:(i=pe.symbolSize)!=null?i:V,fill:(o=(a=y.fill)!=null?a:y.color)!=null?o:"black",borderWidth:(s=pe.symbolBorderWidth)!=null?s:X,borderColor:(l=pe.symbolBorderColor)!=null?l:G},y.hidden?we.legends.hidden.symbol:void 0)),S.jsx(Fl,{textAnchor:_e,style:Oh({},we.legends.text,{fill:(c=(u=(f=pe.itemTextColor)!=null?f:T)!=null?u:we.legends.text.fill)!=null?c:"black",dominantBaseline:He,pointerEvents:"none",userSelect:"none"},y.hidden?we.legends.hidden.text:void 0),x:ae,y:be,children:y.label})]})},wYe=function(t){var e=t.data,n=t.x,r=t.y,i=t.direction,o=t.padding,a=o===void 0?Rl.padding:o,s=t.justify,l=t.effects,c=t.itemWidth,u=t.itemHeight,f=t.itemDirection,d=f===void 0?Rl.itemDirection:f,h=t.itemsSpacing,m=h===void 0?Rl.itemsSpacing:h,v=t.itemTextColor,y=t.itemBackground,g=y===void 0?"transparent":y,b=t.itemOpacity,x=b===void 0?1:b,_=t.symbolShape,T=t.symbolSize,C=t.symbolSpacing,P=t.symbolBorderWidth,I=t.symbolBorderColor,O=t.onClick,N=t.onMouseEnter,D=t.onMouseLeave,U=t.toggleSerie,V=d8({itemCount:e.length,itemWidth:c,itemHeight:u,itemsSpacing:m,direction:i,padding:a}).padding,z=i==="row"?c+m:0,F=i==="column"?u+m:0;return S.jsx("g",{transform:"translate("+n+","+r+")",children:e.map(function(W,X){return S.jsx(_Ye,{data:W,x:X*z+V.left,y:X*F+V.top,width:c,height:u,direction:d,justify:s,effects:l,textColor:v,background:g,opacity:x,symbolShape:_,symbolSize:T,symbolSpacing:C,symbolBorderWidth:P,symbolBorderColor:I,onClick:O,onMouseEnter:N,onMouseLeave:D,toggleSerie:U},X)})})},iv=function(t){var e=t.data,n=t.containerWidth,r=t.containerHeight,i=t.translateX,o=i===void 0?Rl.translateX:i,a=t.translateY,s=a===void 0?Rl.translateY:a,l=t.anchor,c=t.direction,u=t.padding,f=u===void 0?Rl.padding:u,d=t.justify,h=t.itemsSpacing,m=h===void 0?Rl.itemsSpacing:h,v=t.itemWidth,y=t.itemHeight,g=t.itemDirection,b=t.itemTextColor,x=t.itemBackground,_=t.itemOpacity,T=t.symbolShape,C=t.symbolSize,P=t.symbolSpacing,I=t.symbolBorderWidth,O=t.symbolBorderColor,N=t.onClick,D=t.onMouseEnter,U=t.onMouseLeave,V=t.toggleSerie,z=t.effects,F=d8({itemCount:e.length,itemsSpacing:m,itemWidth:v,itemHeight:y,direction:c,padding:f}),W=F.width,X=F.height,B=hfe({anchor:l,translateX:o,translateY:s,containerWidth:n,containerHeight:r,width:W,height:X}),G=B.x,q=B.y;return S.jsx(wYe,{data:e,x:G,y:q,direction:c,padding:f,justify:d,effects:z,itemsSpacing:m,itemWidth:v,itemHeight:y,itemDirection:g,itemTextColor:b,itemBackground:x,itemOpacity:_,symbolShape:T,symbolSize:C,symbolSpacing:P,symbolBorderWidth:I,symbolBorderColor:O,onClick:N,onMouseEnter:D,onMouseLeave:U,toggleSerie:typeof V=="boolean"?void 0:V})},SYe={start:"left",middle:"center",end:"right"},KO=function(t,e){var n=e.data,r=e.containerWidth,i=e.containerHeight,o=e.translateX,a=o===void 0?0:o,s=e.translateY,l=s===void 0?0:s,c=e.anchor,u=e.direction,f=e.padding,d=f===void 0?0:f,h=e.justify,m=h!==void 0&&h,v=e.itemsSpacing,y=v===void 0?0:v,g=e.itemWidth,b=e.itemHeight,x=e.itemDirection,_=x===void 0?"left-to-right":x,T=e.itemTextColor,C=e.symbolSize,P=C===void 0?16:C,I=e.symbolSpacing,O=I===void 0?8:I,N=e.theme,D=d8({itemCount:n.length,itemWidth:g,itemHeight:b,itemsSpacing:y,direction:u,padding:d}),U=D.width,V=D.height,z=D.padding,F=hfe({anchor:c,translateX:a,translateY:l,containerWidth:r,containerHeight:i,width:U,height:V}),W=F.x,X=F.y,B=u==="row"?g+y:0,G=u==="column"?b+y:0;t.save(),t.translate(W,X),fp(t,N.legends.text),n.forEach(function(q,te){var Y,J=te*B+z.left,re=te*G+z.top,oe=pfe({direction:_,justify:m,symbolSize:P,symbolSpacing:O,width:g,height:b}),pe=oe.symbolX,fe=oe.symbolY,we=oe.labelX,ge=oe.labelY,xe=oe.labelAnchor,Te=oe.labelAlignment;t.fillStyle=(Y=q.color)!=null?Y:"black",t.fillRect(J+pe,re+fe,P,P),t.textAlign=SYe[xe],Te==="central"&&(t.textBaseline="middle"),cd(t,Oh({},N.legends.text,{fill:T??N.legends.text.fill}),String(q.label),J+we,re+ge)}),t.restore()},MYe=function(t,e,n,r,i,o){o>0?(t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()):t.rect(e,n,r,i)};function ur(){return ur=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ur.apply(null,arguments)}function Ep(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hq,EYe=function(t){var e=t.bars,n=t.annotations,r=cfe({data:e,annotations:n,getPosition:function(i){return{x:i.x+i.width/2,y:i.y+i.height/2}},getDimensions:function(i){var o=i.height,a=i.width;return{width:a,height:o,size:Math.max(a,o)}}});return S.jsx(S.Fragment,{children:r.map(function(i,o){return S.jsx(Qqe,ur({},i),o)})})},TYe=function(t){var e=t.width,n=t.height,r=t.legends,i=t.toggleSerie;return S.jsx(S.Fragment,{children:r.map(function(o,a){var s,l=o[0],c=o[1];return S.jsx(iv,ur({},l,{containerWidth:e,containerHeight:n,data:(s=l.data)!=null?s:c,toggleSerie:l.toggleSerie&&l.dataFrom==="keys"?i:void 0}),a)})})},AYe=["data"],CYe=function(t){var e,n=t.bar,r=n.data,i=Ep(n,AYe),o=t.style,a=o.borderColor,s=o.color,l=o.height,c=o.labelColor,u=o.labelOpacity,f=o.labelX,d=o.labelY,h=o.transform,m=o.width,v=o.textAnchor,y=t.borderRadius,g=t.borderWidth,b=t.label,x=t.shouldRenderLabel,_=t.isInteractive,T=t.onClick,C=t.onMouseEnter,P=t.onMouseLeave,I=t.tooltip,O=t.isFocusable,N=t.ariaLabel,D=t.ariaLabelledBy,U=t.ariaDescribedBy,V=t.ariaDisabled,z=t.ariaHidden,F=Bn(),W=ro(),X=W.showTooltipFromEvent,B=W.showTooltipAt,G=W.hideTooltip,q=A.useMemo(function(){return function(){return A.createElement(I,ur({},i,r))}},[I,i,r]),te=A.useCallback(function(fe){T==null||T(ur({color:i.color},r),fe)},[i,r,T]),Y=A.useCallback(function(fe){return X(q(),fe)},[X,q]),J=A.useCallback(function(fe){C==null||C(r,fe),X(q(),fe)},[r,C,X,q]),re=A.useCallback(function(fe){P==null||P(r,fe),G()},[r,G,P]),oe=A.useCallback(function(){B(q(),[i.absX+i.width/2,i.absY])},[B,q,i]),pe=A.useCallback(function(){G()},[G]);return S.jsxs(Un.g,{transform:h,children:[S.jsx(Un.rect,{width:Xa(m,function(fe){return Math.max(fe,0)}),height:Xa(l,function(fe){return Math.max(fe,0)}),rx:y,ry:y,fill:(e=r.fill)!=null?e:s,strokeWidth:g,stroke:a,focusable:O,tabIndex:O?0:void 0,"aria-label":N?N(r):void 0,"aria-labelledby":D?D(r):void 0,"aria-describedby":U?U(r):void 0,"aria-disabled":V?V(r):void 0,"aria-hidden":z?z(r):void 0,onMouseEnter:_?J:void 0,onMouseMove:_?Y:void 0,onMouseLeave:_?re:void 0,onClick:_?te:void 0,onFocus:_&&O?oe:void 0,onBlur:_&&O?pe:void 0,"data-testid":"bar.item."+r.id+"."+r.index}),x&&S.jsx(Fl,{x:f,y:d,textAnchor:v,dominantBaseline:"central",fillOpacity:u,style:ur({},F.labels.text,{pointerEvents:"none",fill:c}),children:b})]})},PYe=["color","label"],RYe=function(t){var e=t.color,n=t.label,r=Ep(t,PYe);return S.jsx(od,{id:n,value:r.formattedValue,enableChip:!0,color:e})},Dr={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",valueScale:{type:"linear",nice:!0,round:!1},indexScale:{type:"band",round:!1},padding:.1,innerPadding:0,enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelPosition:"middle",labelOffset:0,labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:RYe,tooltipLabel:function(t){return t.id+" - "+t.indexValue},legends:[],initialHiddenIds:[],annotations:[],enableTotals:!1,totalsOffset:10},Ir=ur({},Dr,{layers:["grid","axes","bars","totals","markers","legends","annotations"],axisTop:null,axisRight:null,axisBottom:{},axisLeft:{},barComponent:CYe,defs:[],fill:[],markers:[],animate:!0,animateOnMount:!1,motionConfig:"default",role:"img",isFocusable:!1}),qi=ur({},Dr,{layers:["grid","axes","bars","totals","legends","annotations"],axisTop:null,axisRight:null,axisBottom:{},axisLeft:{},renderBar:function(t,e){var n=e.bar,r=n.color,i=n.height,o=n.width,a=n.x,s=n.y,l=e.borderColor,c=e.borderRadius,u=e.borderWidth,f=e.label,d=e.shouldRenderLabel,h=e.labelStyle,m=e.labelX,v=e.labelY,y=e.textAnchor;t.fillStyle=r,u>0&&(t.strokeStyle=l,t.lineWidth=u),t.beginPath(),MYe(t,a,s,o,i,Math.min(c,i)),t.fill(),u>0&&t.stroke(),d&&(t.textBaseline="middle",t.textAlign=y==="middle"?"center":y,cd(t,h,f,a+m,s+v))},pixelRatio:typeof window<"u"&&(hq=window.devicePixelRatio)!=null?hq:1}),mfe=function(t,e,n,r,i,o){return Sw(r,{all:t.map(e),min:0,max:0},i,o).padding(n)},gfe=function(t,e){return t.map(function(n){return ur({},e.reduce(function(r,i){return r[i]=null,r},{}),n)})},ZO=function(t){return Object.keys(t).reduce(function(e,n){return t[n]&&(e[n]=t[n]),e},{})},JO=function(t){return[t,Number(t)]};function vfe(t,e,n,r){return t===void 0&&(t=Dr.layout),n===void 0&&(n=Dr.labelPosition),r===void 0&&(r=Dr.labelOffset),function(i,o){var a=r*(e?-1:1);if(t==="horizontal"){var s=i/2;return n==="start"?s=e?i:0:n==="end"&&(s=e?0:i),{labelX:s+a,labelY:o/2,textAnchor:n==="middle"?"middle":e?"end":"start"}}var l=o/2;return n==="start"?l=e?0:o:n==="end"&&(l=e?o:0),{labelX:i/2,labelY:l-a,textAnchor:"middle"}}}var OYe=["layout","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],h8=function(t,e){return t>e},yfe=function(t,e){return t<e},xfe=function(t,e){return Array.from(" ".repeat(e-t),function(n,r){return t+r})},LYe=function(t){return h8(t,0)?0:t},kYe=function(t,e,n,r){var i=t.data,o=t.formatValue,a=t.getColor,s=t.getIndex,l=t.getTooltipLabel,c=t.innerPadding,u=c===void 0?0:c,f=t.keys,d=t.xScale,h=t.yScale,m=t.margin,v=n?yfe:h8,y=i.map(ZO),g=[];return f.forEach(function(b,x){return xfe(0,d.domain().length).forEach(function(_){var T,C,P,I=JO(i[_][b]),O=I[0],N=I[1],D=s(i[_]),U=((T=d(D))!=null?T:0)+e*x+u*x,V=v(C=N,0)?(P=h(C))!=null?P:0:r,z=function(W,X){var B;return v(W,0)?r-X:((B=h(W))!=null?B:0)-r}(N,V),F={id:b,value:O===null?O:N,formattedValue:o(N),hidden:!1,index:_,indexValue:D,data:y[_]};g.push({key:b+"."+F.indexValue,index:g.length,data:F,x:U,y:V,absX:m.left+U,absY:m.top+V,width:e,height:z,color:a(F),label:l(F)})})}),g},NYe=function(t,e,n,r){var i=t.data,o=t.formatValue,a=t.getIndex,s=t.getColor,l=t.getTooltipLabel,c=t.keys,u=t.innerPadding,f=u===void 0?0:u,d=t.xScale,h=t.yScale,m=t.margin,v=n?yfe:h8,y=i.map(ZO),g=[];return c.forEach(function(b,x){return xfe(0,h.domain().length).forEach(function(_){var T,C,P,I=JO(i[_][b]),O=I[0],N=I[1],D=a(i[_]),U=v(C=N,0)?r:(P=d(C))!=null?P:0,V=((T=h(D))!=null?T:0)+e*x+f*x,z=function(W,X){var B;return v(W,0)?((B=d(W))!=null?B:0)-r:r-X}(N,U),F={id:b,value:O===null?O:N,formattedValue:o(N),hidden:!1,index:_,indexValue:D,data:y[_]};g.push({key:b+"."+F.indexValue,index:g.length,data:F,x:U,y:V,absX:m.left+U,absY:m.top+V,width:z,height:e,color:s(F),label:l(F)})})}),g},IYe=function(t){var e,n,r,i=t.layout,o=t.width,a=t.height,s=t.padding,l=s===void 0?0:s,c=t.innerPadding,u=c===void 0?0:c,f=t.valueScale,d=t.indexScale,h=t.hiddenIds,m=h===void 0?[]:h,v=Ep(t,OYe),y=v.keys.filter(function(X){return!m.includes(X)}),g=gfe(v.data,y),b=i==="vertical"?["y","x",o]:["x","y",a],x=b[0],_=b[1],T=b[2],C=mfe(g,v.getIndex,l,d,T,_),P=f.min==="auto"?LYe:function(X){return X},I=g.reduce(function(X,B){return[].concat(X,y.map(function(G){return B[G]}))},[]).filter(Boolean),O=P(Math.min.apply(Math,I)),N=(r=Math.max.apply(Math,I),isFinite(r)?r:0),D=Sw(f,{all:I,min:O,max:N},x==="x"?o:a,x),U=i==="vertical"?[C,D]:[D,C],V=U[0],z=U[1],F=(C.bandwidth()-u*(y.length-1))/y.length,W=[ur({},v,{data:g,keys:y,innerPadding:u,xScale:V,yScale:z}),F,(e=f.reverse)!=null&&e,(n=D(0))!=null?n:0];return{xScale:V,yScale:z,bars:F>0?i==="vertical"?kYe.apply(void 0,W):NYe.apply(void 0,W):[]}},DYe=["data","layout","width","height","padding","valueScale","indexScale","hiddenIds"],bfe=function(t){var e;return t.some(Array.isArray)?bfe((e=[]).concat.apply(e,t)):t},jYe=function(t,e,n){var r=t.formatValue,i=t.getColor,o=t.getIndex,a=t.getTooltipLabel,s=t.innerPadding,l=t.stackedData,c=t.xScale,u=t.yScale,f=t.margin,d=[];return l.forEach(function(h){return c.domain().forEach(function(m,v){var y,g,b=h[v],x=(y=c(o(b.data)))!=null?y:0,_=((g=function(N){return u(N[n?0:1])}(b))!=null?g:0)+.5*s,T=function(N,D){var U;return((U=u(N[n?1:0]))!=null?U:0)-D}(b,_)-s,C=JO(b.data[h.key]),P=C[0],I=C[1],O={id:h.key,value:P===null?P:I,formattedValue:r(I),hidden:!1,index:v,indexValue:m,data:ZO(b.data)};d.push({key:h.key+"."+m,index:d.length,data:O,x,y:_,absX:f.left+x,absY:f.top+_,width:e,height:T,color:i(O),label:a(O)})})}),d},BYe=function(t,e,n){var r=t.formatValue,i=t.getColor,o=t.getIndex,a=t.getTooltipLabel,s=t.innerPadding,l=t.stackedData,c=t.xScale,u=t.yScale,f=t.margin,d=[];return l.forEach(function(h){return u.domain().forEach(function(m,v){var y,g,b=h[v],x=(y=u(o(b.data)))!=null?y:0,_=((g=function(N){return c(N[n?1:0])}(b))!=null?g:0)+.5*s,T=function(N,D){var U;return((U=c(N[n?0:1]))!=null?U:0)-D}(b,_)-s,C=JO(b.data[h.key]),P=C[0],I=C[1],O={id:h.key,value:P===null?P:I,formattedValue:r(I),hidden:!1,index:v,indexValue:m,data:ZO(b.data)};d.push({key:h.key+"."+m,index:d.length,data:O,x:_,y:x,absX:f.left+_,absY:f.top+x,width:T,height:e,color:i(O),label:a(O)})})}),d},zYe=function(t){var e,n,r=t.data,i=t.layout,o=t.width,a=t.height,s=t.padding,l=s===void 0?0:s,c=t.valueScale,u=t.indexScale,f=t.hiddenIds,d=f===void 0?[]:f,h=Ep(t,DYe),m=h.keys.filter(function(F){return!d.includes(F)}),v=SU().keys(m).offset(pce)(gfe(r,m)),y=i==="vertical"?["y","x",o]:["x","y",a],g=y[0],b=y[1],x=y[2],_=mfe(r,h.getIndex,l,u,x,b),T=(n=bfe(v),c.type==="log"?n.filter(function(F){return F!==0}):n),C=Math.min.apply(Math,T),P=Math.max.apply(Math,T),I=Sw(c,{all:T,min:C,max:P},g==="x"?o:a,g),O=i==="vertical"?[_,I]:[I,_],N=O[0],D=O[1],U=h.innerPadding>0?h.innerPadding:0,V=_.bandwidth(),z=[ur({},h,{innerPadding:U,stackedData:v,xScale:N,yScale:D}),V,(e=c.reverse)!=null&&e];return{xScale:N,yScale:D,bars:V>0?i==="vertical"?jYe.apply(void 0,z):BYe.apply(void 0,z):[]}},$Ye=function(t){var e=t.bars,n=t.direction,r=t.from,i=t.groupMode,o=t.layout,a=t.legendLabel,s=t.reverse,l=Due(a??(r==="indexes"?"indexValue":"id"));return r==="indexes"?function(c,u,f){var d=ww(c.map(function(h){var m,v;return{id:(m=h.data.indexValue)!=null?m:"",label:f(h.data),hidden:h.data.hidden,color:(v=h.color)!=null?v:"#000"}}),function(h){return h.id});return u==="horizontal"&&d.reverse(),d}(e,o,l):function(c,u,f,d,h,m){var v=ww(c.map(function(y){var g;return{id:y.data.id,label:m(y.data),hidden:y.data.hidden,color:(g=y.color)!=null?g:"#000"}}),function(y){return y.id});return(u==="vertical"&&d==="stacked"&&f==="column"&&h!==!0||u==="horizontal"&&d==="stacked"&&h===!0)&&v.reverse(),v}(e,o,n,i,s,l)},pq=function(t,e,n){var r=t.get(e)||0;t.set(e,r+n)},FYe=function(t,e,n){var r=t.get(e)||0;t.set(e,r+(n>0?n:0))},UYe=function(t,e,n){var r=t.get(e)||0;t.set(e,Math.max(r,Number(n)))},WYe=function(t,e){var n=t.get(e)||0;t.set(e,n+1)},_fe=function(t){var e,n=t.indexBy,r=n===void 0?Dr.indexBy:n,i=t.keys,o=i===void 0?Dr.keys:i,a=t.label,s=a===void 0?Dr.label:a,l=t.tooltipLabel,c=l===void 0?Dr.tooltipLabel:l,u=t.valueFormat,f=t.colors,d=f===void 0?Dr.colors:f,h=t.colorBy,m=h===void 0?Dr.colorBy:h,v=t.borderColor,y=v===void 0?Dr.borderColor:v,g=t.labelTextColor,b=g===void 0?Dr.labelTextColor:g,x=t.groupMode,_=x===void 0?Dr.groupMode:x,T=t.layout,C=T===void 0?Dr.layout:T,P=t.data,I=t.margin,O=t.width,N=t.height,D=t.padding,U=D===void 0?Dr.padding:D,V=t.innerPadding,z=V===void 0?Dr.innerPadding:V,F=t.valueScale,W=F===void 0?Dr.valueScale:F,X=t.indexScale,B=X===void 0?Dr.indexScale:X,G=t.initialHiddenIds,q=G===void 0?Dr.initialHiddenIds:G,te=t.enableLabel,Y=te===void 0?Dr.enableLabel:te,J=t.labelSkipWidth,re=J===void 0?Dr.labelSkipWidth:J,oe=t.labelSkipHeight,pe=oe===void 0?Dr.labelSkipHeight:oe,fe=t.legends,we=fe===void 0?Dr.legends:fe,ge=t.legendLabel,xe=t.totalsOffset,Te=xe===void 0?Dr.totalsOffset:xe,ee=A.useState(q??[]),Ce=ee[0],ae=ee[1],be=A.useCallback(function(me){ae(function(Ae){return Ae.indexOf(me)>-1?Ae.filter(function(le){return le!==me}):[].concat(Ae,[me])})},[]),_e=Nl(r),He=Nl(s),Ve=Nl(c),ne=ba(u),Q=Bn(),ve=rv(d,m),Se=$i(y,Q),Le=$i(b,Q),Ie=(_==="grouped"?IYe:zYe)({layout:C,data:P,getIndex:_e,keys:o,width:O,height:N,getColor:ve,padding:U,innerPadding:z,valueScale:W,indexScale:B,hiddenIds:Ce,formatValue:ne,getTooltipLabel:Ve,margin:I}),Ke=Ie.bars,Ne=Ie.xScale,Ye=Ie.yScale,et=A.useMemo(function(){return Ke.filter(function(me){return me.data.value!==null}).map(function(me,Ae){return ur({},me,{index:Ae})})},[Ke]),vt=A.useCallback(function(me){var Ae=me.width,le=me.height;return!!Y&&!(re>0&&Ae<re)&&!(pe>0&&le<pe)},[Y,re,pe]),ke=A.useMemo(function(){return o.map(function(me){var Ae=Ke.find(function(le){return le.data.id===me});return ur({},Ae,{data:ur({id:me},Ae==null?void 0:Ae.data,{hidden:Ce.includes(me)})})})},[Ce,o,Ke]),Ze=(e=W.reverse)!=null&&e,at=A.useMemo(function(){return we.map(function(me){return[me,$Ye({bars:me.dataFrom==="keys"?ke:Ke,direction:me.direction,from:me.dataFrom,groupMode:_,layout:C,legendLabel:ge,reverse:Ze})]})},[we,ke,Ke,_,C,ge,Ze]),pt=A.useMemo(function(){return function(me,Ae,le,Ee,Ue,We,ze){Ee===void 0&&(Ee=Dr.layout),Ue===void 0&&(Ue=Dr.groupMode);var ce=[];if(me.length===0)return ce;var Re=new Map,Xe=me[0].width,ct=me[0].height;if(Ue==="stacked"){var De=new Map;me.forEach(function(rt){var it=rt.data,nt=it.indexValue,Pt=it.value;pq(Re,nt,Number(Pt)),FYe(De,nt,Number(Pt))}),De.forEach(function(rt,it){var nt,Pt,Rt,Xt=Re.get(it)||0;Ee==="vertical"?(nt=Ae(it),Pt=le(rt),Rt=le(rt/2)):(nt=Ae(rt),Pt=le(it),Rt=Ae(rt/2)),nt+=Ee==="vertical"?Xe/2:We,Pt+=Ee==="vertical"?-We:ct/2,ce.push({key:"total_"+it,x:nt,y:Pt,value:Xt,formattedValue:ze(Xt),animationOffset:Rt})})}else if(Ue==="grouped"){var st=new Map,mt=new Map;me.forEach(function(rt){var it=rt.data,nt=it.indexValue,Pt=it.value;pq(Re,nt,Number(Pt)),UYe(st,nt,Number(Pt)),WYe(mt,nt)}),st.forEach(function(rt,it){var nt,Pt,Rt,Xt=Re.get(it)||0,sn=mt.get(it);Ee==="vertical"?(nt=Ae(it),Pt=le(rt),Rt=le(rt/2)):(nt=Ae(rt),Pt=le(it),Rt=Ae(rt/2)),nt+=Ee==="vertical"?sn*Xe/2:We,Pt+=Ee==="vertical"?-We:sn*ct/2,ce.push({key:"total_"+it,x:nt,y:Pt,value:Xt,formattedValue:ze(Xt),animationOffset:Rt})})}return ce}(Ke,Ne,Ye,C,_,Te,ne)},[Ke,Ne,Ye,C,_,Te,ne]);return{bars:Ke,barsWithValue:et,xScale:Ne,yScale:Ye,getIndex:_e,getLabel:He,getTooltipLabel:Ve,formatValue:ne,getColor:ve,getBorderColor:Se,getLabelColor:Le,shouldRenderBarLabel:vt,hiddenIds:Ce,toggleSerie:be,legendsWithData:at,barTotals:pt}},VYe=function(t){var e=t.data,n=t.springConfig,r=t.animate,i=t.layout,o=i===void 0?Ir.layout:i,a=Bn();return qu(e,{keys:function(s){return s.key},from:function(s){return{x:o==="vertical"?s.x:s.animationOffset,y:o==="vertical"?s.animationOffset:s.y,labelOpacity:0}},enter:function(s){return{x:s.x,y:s.y,labelOpacity:1}},update:function(s){return{x:s.x,y:s.y,labelOpacity:1}},leave:function(s){return{x:o==="vertical"?s.x:s.animationOffset,y:o==="vertical"?s.animationOffset:s.y,labelOpacity:0}},config:n,immediate:!r,initial:r?void 0:null})(function(s,l){return S.jsx(Un.text,{x:s.x,y:s.y,fillOpacity:s.labelOpacity,style:ur({},a.labels.text,{pointerEvents:"none"}),fontWeight:"bold",fontSize:a.labels.text.fontSize,fontFamily:a.labels.text.fontFamily,textAnchor:o==="vertical"?"middle":"start",alignmentBaseline:o==="vertical"?"alphabetic":"middle",children:l.formattedValue},l.key)})},HYe=["isInteractive","animate","motionConfig","theme","renderWrapper"],GYe=function(t){var e,n=t.data,r=t.indexBy,i=t.keys,o=t.margin,a=t.width,s=t.height,l=t.groupMode,c=t.layout,u=t.valueScale,f=t.indexScale,d=t.padding,h=t.innerPadding,m=t.axisTop,v=t.axisRight,y=t.axisBottom,g=y===void 0?Ir.axisBottom:y,b=t.axisLeft,x=b===void 0?Ir.axisLeft:b,_=t.enableGridX,T=_===void 0?Ir.enableGridX:_,C=t.enableGridY,P=C===void 0?Ir.enableGridY:C,I=t.gridXValues,O=t.gridYValues,N=t.layers,D=N===void 0?Ir.layers:N,U=t.barComponent,V=U===void 0?Ir.barComponent:U,z=t.enableLabel,F=z===void 0?Ir.enableLabel:z,W=t.label,X=t.labelSkipWidth,B=X===void 0?Ir.labelSkipWidth:X,G=t.labelSkipHeight,q=G===void 0?Ir.labelSkipHeight:G,te=t.labelTextColor,Y=t.labelPosition,J=Y===void 0?Ir.labelPosition:Y,re=t.labelOffset,oe=re===void 0?Ir.labelOffset:re,pe=t.markers,fe=pe===void 0?Ir.markers:pe,we=t.colorBy,ge=t.colors,xe=t.defs,Te=xe===void 0?Ir.defs:xe,ee=t.fill,Ce=ee===void 0?Ir.fill:ee,ae=t.borderRadius,be=ae===void 0?Ir.borderRadius:ae,_e=t.borderWidth,He=_e===void 0?Ir.borderWidth:_e,Ve=t.borderColor,ne=t.annotations,Q=ne===void 0?Ir.annotations:ne,ve=t.legendLabel,Se=t.tooltipLabel,Le=t.valueFormat,Ie=t.isInteractive,Ke=Ie===void 0?Ir.isInteractive:Ie,Ne=t.tooltip,Ye=Ne===void 0?Ir.tooltip:Ne,et=t.onClick,vt=t.onMouseEnter,ke=t.onMouseLeave,Ze=t.legends,at=t.role,pt=at===void 0?Ir.role:at,me=t.ariaLabel,Ae=t.ariaLabelledBy,le=t.ariaDescribedBy,Ee=t.isFocusable,Ue=Ee===void 0?Ir.isFocusable:Ee,We=t.barAriaLabel,ze=t.barAriaLabelledBy,ce=t.barAriaDescribedBy,Re=t.barAriaHidden,Xe=t.barAriaDisabled,ct=t.initialHiddenIds,De=t.enableTotals,st=De===void 0?Ir.enableTotals:De,mt=t.totalsOffset,rt=mt===void 0?Ir.totalsOffset:mt,it=t.forwardedRef,nt=gi(),Pt=nt.animate,Rt=nt.config,Xt=Sa(a,s,o),sn=Xt.outerWidth,bt=Xt.outerHeight,yt=Xt.margin,Yt=Xt.innerWidth,nr=Xt.innerHeight,Zt=_fe({indexBy:r,label:W,tooltipLabel:Se,valueFormat:Le,colors:ge,colorBy:we,borderColor:Ve,labelTextColor:te,groupMode:l,layout:c,data:n,keys:i,margin:yt,width:Yt,height:nr,padding:d,innerPadding:h,valueScale:u,indexScale:f,enableLabel:F,labelSkipWidth:B,labelSkipHeight:q,legends:Ze,legendLabel:ve,initialHiddenIds:ct,totalsOffset:rt}),At=Zt.bars,qt=Zt.barsWithValue,gn=Zt.xScale,se=Zt.yScale,Pe=Zt.getLabel,Oe=Zt.getTooltipLabel,je=Zt.getBorderColor,$e=Zt.getLabelColor,_t=Zt.shouldRenderBarLabel,Et=Zt.toggleSerie,Bt=Zt.legendsWithData,$t=Zt.barTotals,Kt=Zt.getColor,It=vfe(c,(e=u==null?void 0:u.reverse)!=null&&e,J,oe),Wt=qu(qt,{keys:function(gt){return gt.key},from:function(gt){return ur({borderColor:je(gt),color:gt.color,height:0,labelColor:$e(gt),labelOpacity:0},It(gt.width,gt.height),{transform:"translate("+gt.x+", "+(gt.y+gt.height)+")",width:gt.width},c==="vertical"?{}:{height:gt.height,transform:"translate("+gt.x+", "+gt.y+")",width:0})},enter:function(gt){return ur({borderColor:je(gt),color:gt.color,height:gt.height,labelColor:$e(gt),labelOpacity:1},It(gt.width,gt.height),{transform:"translate("+gt.x+", "+gt.y+")",width:gt.width})},update:function(gt){return ur({borderColor:je(gt),color:gt.color,height:gt.height,labelColor:$e(gt),labelOpacity:1},It(gt.width,gt.height),{transform:"translate("+gt.x+", "+gt.y+")",width:gt.width})},leave:function(gt){return ur({borderColor:je(gt),color:gt.color,height:0,labelColor:$e(gt),labelOpacity:0},It(gt.width,gt.height),{labelY:0,transform:"translate("+gt.x+", "+(gt.y+gt.height)+")",width:gt.width},c==="vertical"?{}:ur({},It(gt.width,gt.height),{labelX:0,height:gt.height,transform:"translate("+gt.x+", "+gt.y+")",width:0}))},config:Rt,immediate:!Pt,initial:Pt?void 0:null}),Vn=A.useMemo(function(){return{borderRadius:be,borderWidth:He,enableLabel:F,isInteractive:Ke,labelSkipWidth:B,labelSkipHeight:q,onClick:et,onMouseEnter:vt,onMouseLeave:ke,getTooltipLabel:Oe,tooltip:Ye,isFocusable:Ue,ariaLabel:We,ariaLabelledBy:ze,ariaDescribedBy:ce,ariaHidden:Re,ariaDisabled:Xe}},[be,He,F,Oe,Ke,q,B,et,vt,ke,Ye,Ue,We,ze,ce,Re,Xe]),or=mM(Te,At,Ce,{dataKey:"data",targetKey:"data.fill"}),nn={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};D.includes("annotations")&&(nn.annotations=S.jsx(EYe,{bars:At,annotations:Q},"annotations")),D.includes("axes")&&(nn.axes=S.jsx(c8,{xScale:gn,yScale:se,width:Yt,height:nr,top:m,right:v,bottom:g,left:x},"axes")),D.includes("bars")&&(nn.bars=S.jsx(A.Fragment,{children:Wt(function(gt,Ct){return A.createElement(V,ur({},Vn,{bar:Ct,style:gt,shouldRenderLabel:_t(Ct),label:Pe(Ct.data)}))})},"bars")),D.includes("grid")&&(nn.grid=S.jsx(u8,{width:Yt,height:nr,xScale:T?gn:null,yScale:P?se:null,xValues:I,yValues:O},"grid")),D.includes("legends")&&(nn.legends=S.jsx(TYe,{width:Yt,height:nr,legends:Bt,toggleSerie:Et},"legends")),D.includes("markers")&&(nn.markers=S.jsx(kue,{markers:fe,width:Yt,height:nr,xScale:gn,yScale:se},"markers")),D.includes("totals")&&st&&(nn.totals=S.jsx(VYe,{data:$t,springConfig:Rt,animate:Pt,layout:c},"totals"));var hr=ur({},Vn,{margin:yt,width:a,height:s,innerWidth:Yt,innerHeight:nr,bars:At,legendData:Bt,enableLabel:F,xScale:gn,yScale:se,tooltip:Ye,getTooltipLabel:Oe,onClick:et,onMouseEnter:vt,onMouseLeave:ke,getColor:Kt});return S.jsx(Ku,{width:sn,height:bt,margin:yt,defs:or,role:pt,ariaLabel:me,ariaLabelledBy:Ae,ariaDescribedBy:le,isFocusable:Ue,ref:it,children:D.map(function(gt,Ct){var tn;return typeof gt=="function"?S.jsx(A.Fragment,{children:A.createElement(gt,hr)},Ct):(tn=nn==null?void 0:nn[gt])!=null?tn:null})})},XYe=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Ir.isInteractive:n,i=t.animate,o=i===void 0?Ir.animate:i,a=t.motionConfig,s=a===void 0?Ir.motionConfig:a,l=t.theme,c=t.renderWrapper,u=Ep(t,HYe);return S.jsx(_a,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:c,theme:l,children:S.jsx(GYe,ur({},u,{isInteractive:r,forwardedRef:e}))})}),qYe=["isInteractive","renderWrapper","theme"],bN=function(t,e,n,r){return t.find(function(i){return qO(i.x+e.left,i.y+e.top,i.width,i.height,n,r)})},YYe=function(t){var e,n=t.data,r=t.indexBy,i=t.keys,o=t.margin,a=t.width,s=t.height,l=t.groupMode,c=t.layout,u=t.valueScale,f=t.indexScale,d=t.padding,h=t.innerPadding,m=t.axisTop,v=t.axisRight,y=t.axisBottom,g=y===void 0?qi.axisBottom:y,b=t.axisLeft,x=b===void 0?qi.axisLeft:b,_=t.enableGridX,T=_===void 0?qi.enableGridX:_,C=t.enableGridY,P=C===void 0?qi.enableGridY:C,I=t.gridXValues,O=t.gridYValues,N=t.labelPosition,D=N===void 0?qi.labelPosition:N,U=t.labelOffset,V=U===void 0?qi.labelOffset:U,z=t.layers,F=z===void 0?qi.layers:z,W=t.renderBar,X=W===void 0?qi.renderBar:W,B=t.enableLabel,G=B===void 0?qi.enableLabel:B,q=t.label,te=t.labelSkipWidth,Y=te===void 0?qi.labelSkipWidth:te,J=t.labelSkipHeight,re=J===void 0?qi.labelSkipHeight:J,oe=t.labelTextColor,pe=t.colorBy,fe=t.colors,we=t.borderRadius,ge=we===void 0?qi.borderRadius:we,xe=t.borderWidth,Te=xe===void 0?qi.borderWidth:xe,ee=t.borderColor,Ce=t.annotations,ae=Ce===void 0?qi.annotations:Ce,be=t.legendLabel,_e=t.tooltipLabel,He=t.valueFormat,Ve=t.isInteractive,ne=Ve===void 0?qi.isInteractive:Ve,Q=t.tooltip,ve=Q===void 0?qi.tooltip:Q,Se=t.onClick,Le=t.onMouseEnter,Ie=t.onMouseLeave,Ke=t.legends,Ne=t.pixelRatio,Ye=Ne===void 0?qi.pixelRatio:Ne,et=t.role,vt=t.forwardedRef,ke=t.enableTotals,Ze=ke===void 0?qi.enableTotals:ke,at=t.totalsOffset,pt=at===void 0?qi.totalsOffset:at,me=A.useRef(null),Ae=Bn(),le=Sa(a,s,o),Ee=le.margin,Ue=le.innerWidth,We=le.innerHeight,ze=le.outerWidth,ce=le.outerHeight,Re=_fe({indexBy:r,label:q,tooltipLabel:_e,valueFormat:He,colors:fe,colorBy:pe,borderColor:ee,labelTextColor:oe,groupMode:l,layout:c,data:n,keys:i,margin:Ee,width:Ue,height:We,padding:d,innerPadding:h,valueScale:u,indexScale:f,enableLabel:G,labelSkipWidth:Y,labelSkipHeight:re,legends:Ke,legendLabel:be,totalsOffset:pt}),Xe=Re.bars,ct=Re.barsWithValue,De=Re.xScale,st=Re.yScale,mt=Re.getLabel,rt=Re.getTooltipLabel,it=Re.getBorderColor,nt=Re.getLabelColor,Pt=Re.shouldRenderBarLabel,Rt=Re.legendsWithData,Xt=Re.barTotals,sn=Re.getColor,bt=ro(),yt=bt.showTooltipFromEvent,Yt=bt.hideTooltip,nr=Xqe({annotations:cfe({data:Xe,annotations:ae,getPosition:function(Oe){return{x:Oe.x,y:Oe.y}},getDimensions:function(Oe){var je=Oe.width,$e=Oe.height;return{width:je,height:$e,size:Math.max(je,$e)}}})}),Zt=A.useMemo(function(){return{borderRadius:ge,borderWidth:Te,isInteractive:ne,isFocusable:!1,labelSkipWidth:Y,labelSkipHeight:re,margin:Ee,width:a,height:s,innerWidth:Ue,innerHeight:We,bars:Xe,legendData:Rt,enableLabel:G,xScale:De,yScale:st,tooltip:ve,getTooltipLabel:rt,onClick:Se,onMouseEnter:Le,onMouseLeave:Ie,getColor:sn}},[ge,Te,ne,Y,re,Ee,a,s,Ue,We,Xe,Rt,G,De,st,ve,rt,Se,Le,Ie,sn]),At=ba(He),qt=vfe(c,(e=u==null?void 0:u.reverse)!=null&&e,D,V);A.useEffect(function(){if(me.current){me.current.width=ze*Ye,me.current.height=ce*Ye;var Oe=me.current.getContext("2d");Oe.scale(Ye,Ye),Oe.fillStyle=Ae.background,Oe.fillRect(0,0,ze,ce),Oe.translate(Ee.left,Ee.top),F.forEach(function(je){je==="grid"?typeof Ae.grid.line.strokeWidth=="number"&&Ae.grid.line.strokeWidth>0&&(Oe.lineWidth=Ae.grid.line.strokeWidth,Oe.strokeStyle=Ae.grid.line.stroke,T&&OC(Oe,{width:Ue,height:We,scale:De,axis:"x",values:I}),P&&OC(Oe,{width:Ue,height:We,scale:st,axis:"y",values:O})):je==="axes"?Que(Oe,{xScale:De,yScale:st,width:Ue,height:We,top:m,right:v,bottom:g,left:x,theme:Ae}):je==="bars"?(fp(Oe,Ae.text),ct.forEach(function($e){X(Oe,ur({bar:$e,borderColor:it($e),borderRadius:ge,borderWidth:Te,label:mt($e.data),shouldRenderLabel:Pt($e),labelStyle:ur({},Ae.labels.text,{fill:nt($e)})},qt($e.width,$e.height)))})):je==="legends"?Rt.forEach(function($e){var _t=$e[0],Et=$e[1];KO(Oe,ur({},_t,{data:Et,containerWidth:Ue,containerHeight:We,theme:Ae}))}):je==="annotations"?eYe(Oe,{annotations:nr,theme:Ae}):je==="totals"&&Ze?function($e,_t,Et,Bt){Bt===void 0&&(Bt=qi.layout),fp($e,Et.labels.text),$e.textBaseline=Bt==="vertical"?"alphabetic":"middle",$e.textAlign=Bt==="vertical"?"center":"start",_t.forEach(function($t){cd($e,Et.labels.text,$t.formattedValue,$t.x,$t.y)})}(Oe,Xt,Ae,c):typeof je=="function"&&je(Oe,Zt)}),Oe.save()}},[g,x,v,m,ct,ge,Te,nr,T,P,it,mt,nt,I,O,l,s,We,Ue,Zt,F,c,Rt,Ee.left,Ee.top,ce,ze,Ye,X,De,st,Pt,Ae,a,Xt,Ze,At,qt]);var gn=A.useCallback(function(Oe){if(Xe&&me.current){var je=Gf(me.current,Oe),$e=je[0],_t=je[1],Et=bN(Xe,Ee,$e,_t);Et!==void 0?(yt(A.createElement(ve,ur({},Et.data,{color:Et.color,label:Et.label,value:Number(Et.data.value)})),Oe),Oe.type==="mouseenter"&&(Le==null||Le(Et.data,Oe))):Yt()}},[Yt,Ee,Le,Xe,yt,ve]),se=A.useCallback(function(Oe){if(Xe&&me.current){Yt();var je=Gf(me.current,Oe),$e=je[0],_t=je[1],Et=bN(Xe,Ee,$e,_t);Et&&(Ie==null||Ie(Et.data,Oe))}},[Yt,Ee,Ie,Xe]),Pe=A.useCallback(function(Oe){if(Xe&&me.current){var je=Gf(me.current,Oe),$e=je[0],_t=je[1],Et=bN(Xe,Ee,$e,_t);Et!==void 0&&(Se==null||Se(ur({},Et.data,{color:Et.color}),Oe))}},[Ee,Se,Xe]);return S.jsx("canvas",{ref:gM(me,vt),width:ze*Ye,height:ce*Ye,style:{width:ze,height:ce,cursor:ne?"auto":"normal"},onMouseEnter:ne?gn:void 0,onMouseMove:ne?gn:void 0,onMouseLeave:ne?se:void 0,onClick:ne?Pe:void 0,role:et})},KYe=A.forwardRef(function(t,e){var n=t.isInteractive,r=t.renderWrapper,i=t.theme,o=Ep(t,qYe);return S.jsx(_a,{isInteractive:n,renderWrapper:r,theme:i,animate:!1,children:S.jsx(YYe,ur({},o,{isInteractive:n,forwardedRef:e}))})}),ZYe=["defaultWidth","defaultHeight","onResize","debounceResize"],JYe=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=Ep(t,ZYe);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(XYe,ur({},a,{width:l,height:c,ref:e}))}})}),QYe=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=Ep(t,QYe);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(KYe,ur({},a,{width:l,height:c,ref:e}))}})});function eKe({className:t}){const[e,n]=A.useState([]);return A.useEffect(()=>{n([{range:"0-50ms",count:45},{range:"50-100ms",count:30},{range:"100-200ms",count:15},{range:"200-500ms",count:8},{range:"500ms+",count:2}])},[]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Latency Distribution"}),S.jsx("div",{className:"h-[250px]",children:S.jsx(JYe,{data:e,keys:["count"],indexBy:"range",margin:{top:10,right:10,bottom:30,left:40},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:"#3b82f6",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},theme:{axis:{ticks:{text:{fill:"#666"}}},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}var tKe=sM,nKe=0;function rKe(t){var e=++nKe;return tKe(t)+e}var iKe=rKe;const oKe=yn(iKe),Xf=11102230246251565e-32,ia=134217729,aKe=(3+8*Xf)*Xf;function _N(t,e,n,r,i){let o,a,s,l,c=e[0],u=r[0],f=0,d=0;u>c==u>-c?(o=c,c=e[++f]):(o=u,u=r[++d]);let h=0;if(f<t&&d<n)for(u>c==u>-c?(a=c+o,s=o-(a-c),c=e[++f]):(a=u+o,s=o-(a-u),u=r[++d]),o=a,s!==0&&(i[h++]=s);f<t&&d<n;)u>c==u>-c?(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++f]):(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++d]),o=a,s!==0&&(i[h++]=s);for(;f<t;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++f],o=a,s!==0&&(i[h++]=s);for(;d<n;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++d],o=a,s!==0&&(i[h++]=s);return(o!==0||h===0)&&(i[h++]=o),h}function sKe(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function yM(t){return new Float64Array(t)}const lKe=(3+16*Xf)*Xf,cKe=(2+12*Xf)*Xf,uKe=(9+64*Xf)*Xf*Xf,Iv=yM(4),mq=yM(8),gq=yM(12),vq=yM(16),ka=yM(4);function fKe(t,e,n,r,i,o,a){let s,l,c,u,f,d,h,m,v,y,g,b,x,_,T,C,P,I;const O=t-i,N=n-i,D=e-o,U=r-o;_=O*U,d=ia*O,h=d-(d-O),m=O-h,d=ia*U,v=d-(d-U),y=U-v,T=m*y-(_-h*v-m*v-h*y),C=D*N,d=ia*D,h=d-(d-D),m=D-h,d=ia*N,v=d-(d-N),y=N-v,P=m*y-(C-h*v-m*v-h*y),g=T-P,f=T-g,Iv[0]=T-(g+f)+(f-P),b=_+g,f=b-_,x=_-(b-f)+(g-f),g=x-C,f=x-g,Iv[1]=x-(g+f)+(f-C),I=b+g,f=I-b,Iv[2]=b-(I-f)+(g-f),Iv[3]=I;let V=sKe(4,Iv),z=cKe*a;if(V>=z||-V>=z||(f=t-O,s=t-(O+f)+(f-i),f=n-N,c=n-(N+f)+(f-i),f=e-D,l=e-(D+f)+(f-o),f=r-U,u=r-(U+f)+(f-o),s===0&&l===0&&c===0&&u===0)||(z=uKe*a+aKe*Math.abs(V),V+=O*u+U*s-(D*c+N*l),V>=z||-V>=z))return V;_=s*U,d=ia*s,h=d-(d-s),m=s-h,d=ia*U,v=d-(d-U),y=U-v,T=m*y-(_-h*v-m*v-h*y),C=l*N,d=ia*l,h=d-(d-l),m=l-h,d=ia*N,v=d-(d-N),y=N-v,P=m*y-(C-h*v-m*v-h*y),g=T-P,f=T-g,ka[0]=T-(g+f)+(f-P),b=_+g,f=b-_,x=_-(b-f)+(g-f),g=x-C,f=x-g,ka[1]=x-(g+f)+(f-C),I=b+g,f=I-b,ka[2]=b-(I-f)+(g-f),ka[3]=I;const F=_N(4,Iv,4,ka,mq);_=O*u,d=ia*O,h=d-(d-O),m=O-h,d=ia*u,v=d-(d-u),y=u-v,T=m*y-(_-h*v-m*v-h*y),C=D*c,d=ia*D,h=d-(d-D),m=D-h,d=ia*c,v=d-(d-c),y=c-v,P=m*y-(C-h*v-m*v-h*y),g=T-P,f=T-g,ka[0]=T-(g+f)+(f-P),b=_+g,f=b-_,x=_-(b-f)+(g-f),g=x-C,f=x-g,ka[1]=x-(g+f)+(f-C),I=b+g,f=I-b,ka[2]=b-(I-f)+(g-f),ka[3]=I;const W=_N(F,mq,4,ka,gq);_=s*u,d=ia*s,h=d-(d-s),m=s-h,d=ia*u,v=d-(d-u),y=u-v,T=m*y-(_-h*v-m*v-h*y),C=l*c,d=ia*l,h=d-(d-l),m=l-h,d=ia*c,v=d-(d-c),y=c-v,P=m*y-(C-h*v-m*v-h*y),g=T-P,f=T-g,ka[0]=T-(g+f)+(f-P),b=_+g,f=b-_,x=_-(b-f)+(g-f),g=x-C,f=x-g,ka[1]=x-(g+f)+(f-C),I=b+g,f=I-b,ka[2]=b-(I-f)+(g-f),ka[3]=I;const X=_N(W,gq,4,ka,vq);return vq[X-1]}function c2(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),l=a-s,c=Math.abs(a+s);return Math.abs(l)>=lKe*c?l:-fKe(t,e,n,r,i,o,c)}const yq=Math.pow(2,-52),u2=new Uint32Array(512);class kC{static from(e,n=gKe,r=vKe){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=e[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new kC(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=e.length>>1;let s=1/0,l=1/0,c=-1/0,u=-1/0;for(let O=0;O<a;O++){const N=e[2*O],D=e[2*O+1];N<s&&(s=N),D<l&&(l=D),N>c&&(c=N),D>u&&(u=D),this._ids[O]=O}const f=(s+c)/2,d=(l+u)/2;let h,m,v;for(let O=0,N=1/0;O<a;O++){const D=wN(f,d,e[2*O],e[2*O+1]);D<N&&(h=O,N=D)}const y=e[2*h],g=e[2*h+1];for(let O=0,N=1/0;O<a;O++){if(O===h)continue;const D=wN(y,g,e[2*O],e[2*O+1]);D<N&&D>0&&(m=O,N=D)}let b=e[2*m],x=e[2*m+1],_=1/0;for(let O=0;O<a;O++){if(O===h||O===m)continue;const N=pKe(y,g,b,x,e[2*O],e[2*O+1]);N<_&&(v=O,_=N)}let T=e[2*v],C=e[2*v+1];if(_===1/0){for(let D=0;D<a;D++)this._dists[D]=e[2*D]-e[0]||e[2*D+1]-e[1];jy(this._ids,this._dists,0,a-1);const O=new Uint32Array(a);let N=0;for(let D=0,U=-1/0;D<a;D++){const V=this._ids[D],z=this._dists[V];z>U&&(O[N++]=V,U=z)}this.hull=O.subarray(0,N),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(c2(y,g,b,x,T,C)<0){const O=m,N=b,D=x;m=v,b=T,x=C,v=O,T=N,C=D}const P=mKe(y,g,b,x,T,C);this._cx=P.x,this._cy=P.y;for(let O=0;O<a;O++)this._dists[O]=wN(e[2*O],e[2*O+1],P.x,P.y);jy(this._ids,this._dists,0,a-1),this._hullStart=h;let I=3;r[h]=n[v]=m,r[m]=n[h]=v,r[v]=n[m]=h,i[h]=0,i[m]=1,i[v]=2,o.fill(-1),o[this._hashKey(y,g)]=h,o[this._hashKey(b,x)]=m,o[this._hashKey(T,C)]=v,this.trianglesLen=0,this._addTriangle(h,m,v,-1,-1,-1);for(let O=0,N,D;O<this._ids.length;O++){const U=this._ids[O],V=e[2*U],z=e[2*U+1];if(O>0&&Math.abs(V-N)<=yq&&Math.abs(z-D)<=yq||(N=V,D=z,U===h||U===m||U===v))continue;let F=0;for(let q=0,te=this._hashKey(V,z);q<this._hashSize&&(F=o[(te+q)%this._hashSize],!(F!==-1&&F!==r[F]));q++);F=n[F];let W=F,X;for(;X=r[W],c2(V,z,e[2*W],e[2*W+1],e[2*X],e[2*X+1])>=0;)if(W=X,W===F){W=-1;break}if(W===-1)continue;let B=this._addTriangle(W,U,r[W],-1,-1,i[W]);i[U]=this._legalize(B+2),i[W]=B,I++;let G=r[W];for(;X=r[G],c2(V,z,e[2*G],e[2*G+1],e[2*X],e[2*X+1])<0;)B=this._addTriangle(G,U,X,i[U],-1,i[G]),i[U]=this._legalize(B+2),r[G]=G,I--,G=X;if(W===F)for(;X=n[W],c2(V,z,e[2*X],e[2*X+1],e[2*W],e[2*W+1])<0;)B=this._addTriangle(X,U,W,-1,i[W],i[X]),this._legalize(B+2),i[X]=B,r[W]=W,I--,W=X;this._hullStart=n[U]=W,r[W]=n[G]=U,r[U]=G,o[this._hashKey(V,z)]=U,o[this._hashKey(e[2*W],e[2*W+1])]=W}this.hull=new Uint32Array(I);for(let O=0,N=this._hullStart;O<I;O++)this.hull[O]=N,N=r[N];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(dKe(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[e],l=e-e%3;if(a=l+(e+2)%3,s===-1){if(o===0)break;e=u2[--o];continue}const c=s-s%3,u=l+(e+1)%3,f=c+(s+2)%3,d=n[a],h=n[e],m=n[u],v=n[f];if(hKe(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*m],i[2*m+1],i[2*v],i[2*v+1])){n[e]=v,n[s]=d;const g=r[f];if(g===-1){let x=this._hullStart;do{if(this._hullTri[x]===f){this._hullTri[x]=e;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(e,g),this._link(s,r[a]),this._link(a,f);const b=c+(s+1)%3;o<u2.length&&(u2[o++]=b)}else{if(o===0)break;e=u2[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function dKe(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function wN(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function hKe(t,e,n,r,i,o,a,s){const l=t-a,c=e-s,u=n-a,f=r-s,d=i-a,h=o-s,m=l*l+c*c,v=u*u+f*f,y=d*d+h*h;return l*(f*y-v*h)-c*(u*y-v*d)+m*(u*h-f*d)<0}function pKe(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,f=l*l+c*c,d=.5/(a*c-s*l),h=(c*u-s*f)*d,m=(a*f-l*u)*d;return h*h+m*m}function mKe(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,f=l*l+c*c,d=.5/(a*c-s*l),h=t+(c*u-s*f)*d,m=e+(a*f-l*u)*d;return{x:h,y:m}}function jy(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=t[i],a=e[o];let s=i-1;for(;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const i=n+r>>1;let o=n+1,a=r;i_(t,i,o),e[t[n]]>e[t[r]]&&i_(t,n,r),e[t[o]]>e[t[r]]&&i_(t,o,r),e[t[n]]>e[t[o]]&&i_(t,n,o);const s=t[o],l=e[s];for(;;){do o++;while(e[t[o]]<l);do a--;while(e[t[a]]>l);if(a<o)break;i_(t,o,a)}t[n+1]=t[a],t[a]=s,r-o+1>=a-n?(jy(t,e,o,r),jy(t,e,n,a-1)):(jy(t,e,n,a-1),jy(t,e,o,r))}}function i_(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function gKe(t){return t[0]}function vKe(t){return t[1]}const xq=1e-6;let jm=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>xq||Math.abs(this._y1-o)>xq)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}};class k5{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class yKe{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let v=0,y=0,g=r.length,b,x;v<g;v+=3,y+=2){const _=r[v]*2,T=r[v+1]*2,C=r[v+2]*2,P=e[_],I=e[_+1],O=e[T],N=e[T+1],D=e[C],U=e[C+1],V=O-P,z=N-I,F=D-P,W=U-I,X=(V*W-z*F)*2;if(Math.abs(X)<1e-9){if(o===void 0){o=a=0;for(const G of n)o+=e[G*2],a+=e[G*2+1];o/=n.length,a/=n.length}const B=1e9*Math.sign((o-P)*W-(a-I)*F);b=(P+D)/2-B*W,x=(I+U)/2+B*F}else{const B=1/X,G=V*V+z*z,q=F*F+W*W;b=P+(W*G-z*q)*B,x=I+(V*q-F*G)*B}s[y]=b,s[y+1]=x}let l=n[n.length-1],c,u=l*4,f,d=e[2*l],h,m=e[2*l+1];i.fill(0);for(let v=0;v<n.length;++v)l=n[v],c=u,f=d,h=m,u=l*4,d=e[2*l],m=e[2*l+1],i[c+2]=i[u]=h-m,i[c+3]=i[u+1]=d-f}render(e){const n=e==null?e=new jm:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let u=0,f=r.length;u<f;++u){const d=r[u];if(d<u)continue;const h=Math.floor(u/3)*2,m=Math.floor(d/3)*2,v=a[h],y=a[h+1],g=a[m],b=a[m+1];this._renderSegment(v,y,g,b,e)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];const f=Math.floor(i[c]/3)*2,d=a[f],h=a[f+1],m=l*4,v=this._project(d,h,s[m+2],s[m+3]);v&&this._renderSegment(d,h,v[0],v[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new jm:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new jm:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new k5;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let a;const s=this._regioncode(e,n),l=this._regioncode(r,i);s===0&&l===0?(o.moveTo(e,n),o.lineTo(r,i)):(a=this._clipSegment(e,n,r,i,s,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){e:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[o]===i[s]&&n[o+1]===i[s+1]&&n[(o+2)%a]===i[(s+l-2)%l]&&n[(o+3)%a]===i[(s+l-1)%l]){yield r;break e}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[e];if(a===-1)return null;const s=[];let l=a;do{const c=Math.floor(l/3);if(s.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=i[l]}while(l!==a&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,o,a,s=n[r-2],l=n[r-1],c,u=this._regioncode(s,l),f,d=0;for(let h=0;h<r;h+=2)if(o=s,a=l,s=n[h],l=n[h+1],c=u,u=this._regioncode(s,l),c===0&&u===0)f=d,d=0,i?i.push(s,l):i=[s,l];else{let m,v,y,g,b;if(c===0){if((m=this._clipSegment(o,a,s,l,c,u))===null)continue;[v,y,g,b]=m}else{if((m=this._clipSegment(s,l,o,a,u,c))===null)continue;[g,b,v,y]=m,f=d,d=this._edgecode(v,y),f&&d&&this._edge(e,f,d,i,i.length),i?i.push(v,y):i=[v,y]}f=d,d=this._edgecode(g,b),f&&d&&this._edge(e,f,d,i,i.length),i?i.push(g,b):i=[g,b]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(e,f,d,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,a){const s=o<a;for(s&&([e,n,r,i,o,a]=[r,i,e,n,a,o]);;){if(o===0&&a===0)return s?[r,i,e,n]:[e,n,r,i];if(o&a)return null;let l,c,u=o||a;u&8?(l=e+(r-e)*(this.ymax-n)/(i-n),c=this.ymax):u&4?(l=e+(r-e)*(this.ymin-n)/(i-n),c=this.ymin):u&2?(c=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(c=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),o?(e=l,n=c,o=this._regioncode(e,n)):(r=l,i=c,a=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,a){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let c=0,u=s.length,f,d=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)f=d,d=this._edgecode(s[c],s[c+1]),f&&d&&(c=this._edge(e,f,d,s,c),u=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,o){for(;n!==r;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(e,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(e,n,r,i){let o=1/0,a,s,l;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(l=this.ymin,s=e+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(l=this.ymax,s=e+(o=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<o&&(s=this.xmax,l=n+(o=a)*i)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<o&&(s=this.xmin,l=n+(o=a)*i)}return[s,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const xKe=2*Math.PI,Dv=Math.pow;function bKe(t){return t[0]}function _Ke(t){return t[1]}function wKe(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function SKe(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class QO{static from(e,n=bKe,r=_Ke,i){return new QO("length"in e?MKe(e,n,r,i):Float64Array.from(EKe(e,n,r,i)))}constructor(e){this._delaunator=new kC(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&wKe(e)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let d=0,h=n.length/2;d<h;++d){const m=SKe(n[2*d],n[2*d+1],f);n[2*d]=m[0],n[2*d+1]=m[1]}this._delaunator=new kC(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=o[l%3===2?l-2:l+1];(r[l]===-1||a[u]===-1)&&(a[u]=l)}for(let l=0,c=i.length;l<c;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new yKe(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const f=s.indexOf(e);f>0&&(yield s[f-1]),f<s.length-1&&(yield s[f+1]);return}const l=n[e];if(l===-1)return;let c=l,u=-1;do{if(yield u=a[c],c=c%3===2?c-2:c+1,a[c]!==e)return;if(c=o[c],c===-1){const f=r[(i[e]+1)%r.length];f!==u&&(yield f);return}}while(c!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:l,points:c}=this;if(i[e]===-1||!c.length)return(e+1)%(c.length>>1);let u=e,f=Dv(n-c[e*2],2)+Dv(r-c[e*2+1],2);const d=i[e];let h=d;do{let m=l[h];const v=Dv(n-c[m*2],2)+Dv(r-c[m*2+1],2);if(v<f&&(f=v,u=m),h=h%3===2?h-2:h+1,l[h]!==e)break;if(h=s[h],h===-1){if(h=o[(a[e]+1)%o.length],h!==m&&Dv(n-c[h*2],2)+Dv(r-c[h*2+1],2)<f)return h;break}}while(h!==d);return u}render(e){const n=e==null?e=new jm:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const l=i[a];if(l<a)continue;const c=o[a]*2,u=o[l]*2;e.moveTo(r[c],r[c+1]),e.lineTo(r[u],r[u+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new jm:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],l=i[o+1];e.moveTo(s+n,l),e.arc(s,l,n,0,xKe)}return r&&r.value()}renderHull(e){const n=e==null?e=new jm:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;e.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const l=2*r[s];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new k5;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new jm:void 0,{points:i,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,l=o[e+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new k5;return this.renderTriangle(e,n),n.value()}}function MKe(t,e,n,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=t[a];o[a*2]=e.call(r,s,a,t),o[a*2+1]=n.call(r,s,a,t)}return o}function*EKe(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}function NC(){return NC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NC.apply(null,arguments)}function wfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ls={xDomain:[0,1],yDomain:[0,1],layers:["links","cells","points","bounds"],enableLinks:!1,linkLineWidth:1,linkLineColor:"#bbbbbb",enableCells:!0,cellLineWidth:2,cellLineColor:"#000000",pointSize:4,pointColor:"#666666",role:"img"},p8=function(t){return[t.x,t.y]},xM=Nue,Sfe="cursor",Mfe="top",TKe=function(t){var e=t.points,n=t.getNodePosition,r=n===void 0?p8:n,i=t.margin,o=i===void 0?xM:i;return e.map(function(a){var s=r(a),l=s[0],c=s[1];return[l+o.left,c+o.top]})},AKe=function(t){var e=t.points,n=t.width,r=t.height,i=t.margin,o=i===void 0?xM:i,a=t.debug,s=QO.from(e),l=a?s.voronoi([0,0,o.left+n+o.right,o.top+r+o.bottom]):void 0;return{points:e,delaunay:s,voronoi:l}},Efe=function(t){var e=t.points,n=t.getNodePosition,r=n===void 0?p8:n,i=t.width,o=t.height,a=t.margin,s=a===void 0?xM:a,l=t.debug;return A.useMemo(function(){return AKe({points:TKe({points:e,margin:s,getNodePosition:r}),width:i,height:o,margin:s,debug:l})},[r,e,i,o,s,l])},CKe=function(t){var e=t.data,n=t.width,r=t.height,i=t.xDomain,o=t.yDomain,a=A.useMemo(function(){return lp().domain(i).range([0,n])},[i,n]),s=A.useMemo(function(){return lp().domain(o).range([0,r])},[o,r]),l=A.useMemo(function(){return e.map(function(c){return{x:a(c.x),y:s(c.y),data:c}})},[e,a,s]);return A.useMemo(function(){var c=QO.from(l.map(function(f){return[f.x,f.y]})),u=c.voronoi([0,0,n,r]);return{points:l,delaunay:c,voronoi:u}},[l,n,r])},PKe=function(t){var e=t.points,n=t.delaunay,r=t.voronoi;return A.useMemo(function(){return{points:e,delaunay:n,voronoi:r}},[e,n,r])},RKe=function(t){var e=t.elementRef,n=t.nodes,r=t.getNodePosition,i=r===void 0?p8:r,o=t.delaunay,a=t.setCurrent,s=t.margin,l=s===void 0?xM:s,c=t.detectionRadius,u=c===void 0?1/0:c,f=t.isInteractive,d=f===void 0||f,h=t.onMouseEnter,m=t.onMouseMove,v=t.onMouseLeave,y=t.onMouseDown,g=t.onMouseUp,b=t.onClick,x=t.onDoubleClick,_=t.onTouchStart,T=t.onTouchMove,C=t.onTouchEnd,P=t.enableTouchCrosshair,I=P!==void 0&&P,O=t.tooltip,N=t.tooltipPosition,D=N===void 0?Sfe:N,U=t.tooltipAnchor,V=U===void 0?Mfe:U,z=A.useState(null),F=z[0],W=z[1],X=A.useRef(null);A.useEffect(function(){X.current=F},[X,F]);var B=A.useCallback(function(ae){if(!e.current||n.length===0)return null;var be=Gf(e.current,ae),_e=be[0],He=be[1],Ve=o.find(_e,He),ne=Ve!==void 0?n[Ve]:null;if(ne&&u!==1/0){var Q=i(ne),ve=Q[0],Se=Q[1];jue(_e,He,ve+l.left,Se+l.top)>u&&(Ve=null,ne=null)}return Ve===null||ne===null?null:[Ve,ne]},[e,o,n,i,l,u]),G=ro(),q=G.showTooltipAt,te=G.showTooltipFromEvent,Y=G.hideTooltip,J=A.useMemo(function(){if(O)return D==="cursor"?function(ae,be){te(O(ae),be,V)}:function(ae){var be=i(ae),_e=be[0],He=be[1];q(O(ae),[_e+l.left,He+l.top],V)}},[q,te,O,D,V,i,l]),re=A.useCallback(function(ae){var be=B(ae);if(W(be),a==null||a(be?be[1]:null),be){var _e=be[1];J==null||J(_e,ae),h==null||h(be[1],ae)}},[B,W,a,J,h]),oe=A.useCallback(function(ae){var be=B(ae);if(W(be),be){var _e=be[0],He=be[1];if(a==null||a(He),J==null||J(He,ae),X.current){var Ve=X.current,ne=Ve[0],Q=Ve[1];_e!==ne?v==null||v(Q,ae):m==null||m(He,ae)}else h==null||h(He,ae)}else a==null||a(null),Y==null||Y(),X.current&&(v==null||v(X.current[1],ae))},[B,W,a,X,h,m,v,J,Y]),pe=A.useCallback(function(ae){W(null),a==null||a(null),Y(),v&&X.current&&v(X.current[1],ae)},[W,a,X,Y,v]),fe=A.useCallback(function(ae){var be=B(ae);W(be),be&&(y==null||y(be[1],ae))},[B,W,y]),we=A.useCallback(function(ae){var be=B(ae);W(be),be&&(g==null||g(be[1],ae))},[B,W,g]),ge=A.useCallback(function(ae){var be=B(ae);W(be),be&&(b==null||b(be[1],ae))},[B,W,b]),xe=A.useCallback(function(ae){var be=B(ae);W(be),be&&(x==null||x(be[1],ae))},[B,W,x]),Te=A.useCallback(function(ae){var be=B(ae);I&&(W(be),a==null||a(be?be[1]:null)),be&&(_==null||_(be[1],ae))},[B,W,a,I,_]),ee=A.useCallback(function(ae){var be=B(ae);I&&(W(be),a==null||a(be?be[1]:null)),be&&(T==null||T(be[1],ae))},[B,W,a,I,T]),Ce=A.useCallback(function(ae){I&&(W(null),a==null||a(null)),C&&X.current&&C(X.current[1],ae)},[I,W,a,C,X]);return{current:F,handleMouseEnter:d?re:void 0,handleMouseMove:d?oe:void 0,handleMouseLeave:d?pe:void 0,handleMouseDown:d?fe:void 0,handleMouseUp:d?we:void 0,handleClick:d?ge:void 0,handleDoubleClick:d?xe:void 0,handleTouchStart:d?Te:void 0,handleTouchMove:d?ee:void 0,handleTouchEnd:d?Ce:void 0}},OKe=["theme"],LKe=function(t){var e=t.data,n=t.width,r=t.height,i=t.margin,o=t.layers,a=o===void 0?Ls.layers:o,s=t.xDomain,l=s===void 0?Ls.xDomain:s,c=t.yDomain,u=c===void 0?Ls.yDomain:c,f=t.enableLinks,d=f===void 0?Ls.enableLinks:f,h=t.linkLineWidth,m=h===void 0?Ls.linkLineWidth:h,v=t.linkLineColor,y=v===void 0?Ls.linkLineColor:v,g=t.enableCells,b=g===void 0?Ls.enableCells:g,x=t.cellLineWidth,_=x===void 0?Ls.cellLineWidth:x,T=t.cellLineColor,C=T===void 0?Ls.cellLineColor:T,P=t.enablePoints,I=P===void 0?Ls.enableCells:P,O=t.pointSize,N=O===void 0?Ls.pointSize:O,D=t.pointColor,U=D===void 0?Ls.pointColor:D,V=t.role,z=V===void 0?Ls.role:V,F=t.forwardedRef,W=Sa(n,r,i),X=W.outerWidth,B=W.outerHeight,G=W.margin,q=W.innerWidth,te=W.innerHeight,Y=CKe({data:e,width:q,height:te,xDomain:l,yDomain:u}),J=Y.points,re=Y.delaunay,oe=Y.voronoi,pe={links:null,cells:null,points:null,bounds:null};d&&a.includes("links")&&(pe.links=S.jsx("path",{stroke:y,strokeWidth:m,fill:"none",d:re.render()},"links")),b&&a.includes("cells")&&(pe.cells=S.jsx("path",{d:oe.render(),fill:"none",stroke:C,strokeWidth:_},"cells")),I&&a.includes("points")&&(pe.points=S.jsx("path",{stroke:"none",fill:U,d:re.renderPoints(void 0,N/2)},"points")),a.includes("bounds")&&(pe.bounds=S.jsx("path",{fill:"none",stroke:C,strokeWidth:_,d:oe.renderBounds()},"bounds"));var fe=PKe({points:J,delaunay:re,voronoi:oe});return S.jsx(Ku,{width:X,height:B,margin:G,role:z,ref:F,children:a.map(function(we,ge){return pe[we]!==void 0?pe[we]:typeof we=="function"?S.jsx(A.Fragment,{children:A.createElement(we,fe)},ge):null})})},kKe=A.forwardRef(function(t,e){var n=t.theme,r=wfe(t,OKe);return S.jsx(_a,{isInteractive:!1,animate:!1,theme:n,children:S.jsx(LKe,NC({},r,{forwardedRef:e}))})}),NKe=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=wfe(t,NKe);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(kKe,NC({},a,{width:l,height:c,ref:e}))}})});var IKe=function(t){var e=t.nodes,n=t.width,r=t.height,i=t.margin,o=i===void 0?xM:i,a=t.getNodePosition,s=t.setCurrent,l=t.onMouseEnter,c=t.onMouseMove,u=t.onMouseLeave,f=t.onMouseDown,d=t.onMouseUp,h=t.onClick,m=t.onDoubleClick,v=t.onTouchStart,y=t.onTouchMove,g=t.onTouchEnd,b=t.enableTouchCrosshair,x=b!==void 0&&b,_=t.detectionRadius,T=_===void 0?1/0:_,C=t.tooltip,P=t.tooltipPosition,I=P===void 0?Sfe:P,O=t.tooltipAnchor,N=O===void 0?Mfe:O,D=t.debug,U=A.useRef(null),V=Efe({points:e,getNodePosition:a,width:n,height:r,margin:o,debug:D}),z=V.delaunay,F=V.voronoi,W=RKe({elementRef:U,nodes:e,delaunay:z,margin:o,detectionRadius:T,setCurrent:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onMouseDown:f,onMouseUp:d,onClick:h,onDoubleClick:m,onTouchStart:v,onTouchMove:y,onTouchEnd:g,enableTouchCrosshair:x,tooltip:C,tooltipPosition:I,tooltipAnchor:N}),X=W.current,B=W.handleMouseEnter,G=W.handleMouseMove,q=W.handleMouseLeave,te=W.handleMouseDown,Y=W.handleMouseUp,J=W.handleClick,re=W.handleDoubleClick,oe=W.handleTouchStart,pe=W.handleTouchMove,fe=W.handleTouchEnd,we=A.useMemo(function(){if(D&&F)return F.render()},[D,F]);return S.jsxs("g",{ref:U,transform:"translate("+-o.left+","+-o.top+")",children:[D&&F&&S.jsxs(S.Fragment,{children:[S.jsx("path",{d:we,stroke:"red",strokeWidth:1,opacity:.75}),T<1/0&&S.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:z.renderPoints(void 0,T)}),X&&S.jsx("path",{fill:"pink",opacity:.35,d:F.renderCell(X[0])})]}),S.jsx("rect",{"data-ref":"mesh-interceptor",width:o.left+n+o.right,height:o.top+r+o.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:B,onMouseMove:G,onMouseLeave:q,onMouseDown:te,onMouseUp:Y,onTouchStart:oe,onTouchMove:pe,onTouchEnd:fe,onClick:J,onDoubleClick:re})]})},DKe=function(t,e){t.save(),t.globalAlpha=.75,t.beginPath(),e.render(t),t.strokeStyle="red",t.lineWidth=1,t.stroke(),t.restore()},jKe=function(t,e,n){t.save(),t.globalAlpha=.35,t.beginPath(),e.renderCell(n,t),t.fillStyle="pink",t.fill(),t.restore()};function va(){return va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},va.apply(null,arguments)}function eL(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bq,Cf={xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},curve:"linear",colors:{scheme:"nivo"},lineWidth:2,layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],enablePoints:!0,pointSize:6,pointColor:{from:"series.color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,enableGridX:!0,enableGridY:!0,legends:[],isInteractive:!0,tooltip:A.memo(function(t){var e=t.point;return S.jsx(od,{id:S.jsxs("span",{children:["x: ",S.jsx("strong",{children:e.data.xFormatted}),", y:"," ",S.jsx("strong",{children:e.data.yFormatted})]}),enableChip:!0,color:e.seriesColor})}),sliceTooltip:A.memo(function(t){var e=t.slice,n=t.axis,r=Bn(),i=n==="x"?"y":"x";return S.jsx(aO,{rows:e.points.map(function(o){return[S.jsx(wg,{color:o.seriesColor,style:r.tooltip.chip},"chip"),o.seriesId,S.jsx("span",{style:r.tooltip.tableCellValue,children:o.data[i+"Formatted"]},"value")]})})}),debugMesh:!1,renderWrapper:!0},En=va({},Cf,{defs:[],fill:[],enablePointLabel:!1,pointLabel:"data.yFormatted",areaBlendMode:"normal",axisTop:null,axisRight:null,axisBottom:ps,axisLeft:ps,useMesh:!1,enableSlices:!1,debugSlices:!1,enableCrosshair:!0,crosshairType:"bottom-left",enableTouchCrosshair:!1,initialHiddenIds:[],animate:!0,motionConfig:"gentle",role:"img",isFocusable:!1}),li=va({},Cf,{pixelRatio:typeof window<"u"&&(bq=window.devicePixelRatio)!=null?bq:1,axisTop:null,axisRight:null,axisBottom:ps,axisLeft:ps});function BKe(t){return A.useMemo(function(){return Eg().defined(function(e){return e.x!==null&&e.y!==null}).x(function(e){return e.x}).y(function(e){return e.y}).curve(l8(t))},[t])}function zKe(t){var e=t.curve,n=t.yScale,r=t.areaBaselineValue;return A.useMemo(function(){return Dy().defined(function(i){return i.x!==null&&i.y!==null}).x(function(i){return i.x}).y1(function(i){return i.y}).curve(l8(e)).y0(n(r))},[e,n,r])}var $Ke=function(t){var e=t.componentId,n=t.enableSlices,r=t.points,i=t.width,o=t.height;return A.useMemo(function(){if(n==="x"){var a=new Map;return r.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(a.has(l.x)?a.get(l.x).push(l):a.set(l.x,[l]))}),Array.from(a.entries()).sort(function(l,c){return l[0]-c[0]}).map(function(l,c,u){var f,d,h=l[0],m=l[1],v=u[c-1],y=u[c+1];return f=v?h-(h-v[0])/2:h,d=y?h-f+(y[0]-h)/2:i-f,{id:"slice:"+e+":"+h,x0:f,x:h,y0:0,y:0,width:d,height:o,points:m.reverse()}})}if(n==="y"){var s=new Map;return r.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(s.has(l.y)?s.get(l.y).push(l):s.set(l.y,[l]))}),Array.from(s.entries()).sort(function(l,c){return l[0]-c[0]}).map(function(l,c,u){var f,d,h=l[0],m=l[1],v=u[c-1],y=u[c+1];return f=v?h-(h-v[0])/2:h,d=y?h-f+(y[0]-h)/2:o-f,{id:h,x0:0,x:0,y0:f,y:h,width:i,height:d,points:m.reverse()}})}return[]},[e,n,o,r,i])},FKe="line",Tfe=function(t){var e=t.data,n=t.xScale,r=n===void 0?Cf.xScale:n,i=t.xFormat,o=t.yScale,a=o===void 0?Cf.yScale:o,s=t.yFormat,l=t.width,c=t.height,u=t.colors,f=u===void 0?Cf.colors:u,d=t.curve,h=d===void 0?Cf.curve:d,m=t.areaBaselineValue,v=m===void 0?Cf.areaBaselineValue:m,y=t.pointColor,g=y===void 0?Cf.pointColor:y,b=t.pointBorderColor,x=b===void 0?Cf.pointBorderColor:b,_=t.enableSlices,T=_===void 0?En.enableSlices:_,C=t.initialHiddenIds,P=C===void 0?En.initialHiddenIds:C,I=A.useState(oKe(FKe))[0],O=ba(i),N=ba(s),D=rv(f,"id"),U=Bn(),V=$i(g,U),z=$i(x,U),F=A.useState(P??[]),W=F[0],X=F[1],B=A.useMemo(function(){return _He(e.filter(function(we){return W.indexOf(we.id)===-1}),r,a,l,c)},[e,W,r,a,l,c]),G=B.xScale,q=B.yScale,te=B.series,Y=A.useMemo(function(){var we=e.map(function(xe){return{id:xe.id,label:""+xe.id,color:D(xe)}}),ge=we.map(function(xe){return va({},te.find(function(Te){return Te.id===xe.id}),{color:xe.color})}).filter(function(xe){return!!xe.id});return{legendData:we.map(function(xe){return va({},xe,{hidden:!ge.find(function(Te){return Te.id===xe.id})})}).reverse(),series:ge}},[e,te,D]),J=Y.legendData,re=Y.series,oe=A.useCallback(function(we){X(function(ge){return ge.indexOf(we)>-1?ge.filter(function(xe){return xe!==we}):[].concat(ge,[we])})},[]),pe=function(we){var ge=we.series,xe=we.getPointColor,Te=we.getPointBorderColor,ee=we.formatX,Ce=we.formatY;return A.useMemo(function(){return ge.reduce(function(ae,be,_e){return[].concat(ae,be.data.filter(function(He){return He.position.x!==null&&He.position.y!==null}).map(function(He,Ve){var ne={id:be.id+"."+Ve,indexInSeries:Ve,absIndex:ae.length+Ve,seriesIndex:_e,seriesId:be.id,seriesColor:be.color,x:He.position.x,y:He.position.y,data:va({},He.data,{xFormatted:ee(He.data.x),yFormatted:Ce(He.data.y)})};return ne.color=xe({series:be,point:ne}),ne.borderColor=Te(ne),ne}))},[])},[ge,xe,Te,ee,Ce])}({series:re,getPointColor:V,getPointBorderColor:z,formatX:O,formatY:N}),fe=$Ke({componentId:I,enableSlices:T,points:pe,width:l,height:c});return{legendData:J,toggleSeries:oe,lineGenerator:BKe(h),areaGenerator:zKe({curve:h,yScale:q,areaBaselineValue:v}),getColor:D,series:re,xScale:G,yScale:q,slices:fe,points:pe}},UKe=function(t){var e=t.areaBlendMode,n=t.areaOpacity,r=t.color,i=t.fill,o=t.path,a=gi(),s=a.animate,l=a.config,c=pM(o),u=Ss({color:r,config:l,immediate:!s});return S.jsx(Un.path,{d:c,fill:i||u.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:e}})},WKe=A.memo(function(t){var e=t.areaGenerator,n=t.areaOpacity,r=t.areaBlendMode,i=t.series.slice(0).reverse();return S.jsx("g",{children:i.map(function(o){return S.jsx(UKe,va({path:e(o.data.map(function(a){return a.position}))},va({areaOpacity:n,areaBlendMode:r},o)),""+o.id)})})}),VKe=A.memo(function(t){var e=t.lineGenerator,n=t.points,r=t.color,i=t.thickness,o=A.useMemo(function(){return e(n)},[e,n]),a=pM(o);return S.jsx(Un.path,{d:a,fill:"none",strokeWidth:i,stroke:r})}),HKe=A.memo(function(t){var e=t.series,n=t.lineGenerator,r=t.lineWidth;return S.jsx(S.Fragment,{children:e.slice(0).reverse().map(function(i){var o=i.id,a=i.data,s=i.color;return S.jsx(VKe,{points:a.map(function(l){return l.position}),lineGenerator:n,color:s,thickness:r},o)})})}),GKe=A.memo(function(t){var e=t.slice,n=t.slices,r=t.axis,i=t.debug,o=t.tooltip,a=t.isCurrent,s=t.setCurrent,l=t.onMouseEnter,c=t.onMouseMove,u=t.onMouseLeave,f=t.onMouseDown,d=t.onMouseUp,h=t.onClick,m=t.onDoubleClick,v=t.onTouchStart,y=t.onTouchMove,g=t.onTouchEnd,b=ro(),x=b.showTooltipFromEvent,_=b.hideTooltip,T=A.useCallback(function(F){x(A.createElement(o,{slice:e,axis:r}),F,"right"),s(e),l==null||l(e,F)},[x,o,e,r,s,l]),C=A.useCallback(function(F){x(A.createElement(o,{slice:e,axis:r}),F,"right"),c==null||c(e,F)},[x,o,e,r,c]),P=A.useCallback(function(F){_(),s(null),u==null||u(e,F)},[_,s,u,e]),I=A.useCallback(function(F){f==null||f(e,F)},[e,f]),O=A.useCallback(function(F){d==null||d(e,F)},[e,d]),N=A.useCallback(function(F){h==null||h(e,F)},[e,h]),D=A.useCallback(function(F){m==null||m(e,F)},[e,m]),U=A.useCallback(function(F){x(A.createElement(o,{slice:e,axis:r}),F,"right"),s(e),v==null||v(e,F)},[r,v,s,x,e,o]),V=A.useCallback(function(F){var W=F.touches[0],X=document.elementFromPoint(W.clientX,W.clientY),B=X==null?void 0:X.getAttribute("data-ref");if(B){var G=n.find(function(q){return q.id===B});G&&(x(A.createElement(o,{slice:G,axis:r}),F,"right"),s(G))}y==null||y(e,F)},[r,y,s,x,e,n,o]),z=A.useCallback(function(F){_(),s(null),g==null||g(e,F)},[_,s,g,e]);return S.jsx("rect",{x:e.x0,y:e.y0,width:e.width,height:e.height,stroke:"red",strokeWidth:i?1:0,strokeOpacity:.75,fill:"red",fillOpacity:a&&i?.35:0,onMouseEnter:T,onMouseMove:C,onMouseLeave:P,onMouseDown:I,onMouseUp:O,onClick:N,onDoubleClick:D,onTouchStart:U,onTouchMove:V,onTouchEnd:z,"data-ref":e.id})}),XKe=A.memo(function(t){var e=t.slices,n=t.axis,r=t.debug,i=t.tooltip,o=t.current,a=t.setCurrent,s=t.onMouseEnter,l=t.onMouseMove,c=t.onMouseLeave,u=t.onMouseDown,f=t.onMouseUp,d=t.onClick,h=t.onDoubleClick,m=t.onTouchStart,v=t.onTouchMove,y=t.onTouchEnd;return S.jsx(S.Fragment,{children:e.map(function(g){return S.jsx(GKe,{slice:g,slices:e,axis:n,debug:r,tooltip:i,setCurrent:a,isCurrent:o!==null&&o.id===g.id,onMouseEnter:s,onMouseMove:l,onMouseLeave:c,onMouseDown:u,onMouseUp:f,onClick:d,onDoubleClick:h,onTouchStart:m,onTouchMove:v,onTouchEnd:y},g.id)})})}),qKe=A.memo(function(t){var e=t.points,n=t.symbol,r=t.size,i=t.borderWidth,o=t.enableLabel,a=t.label,s=t.labelYOffset,l=t.isFocusable,c=t.setCurrentPoint,u=t.tooltip,f=t.margin,d=t.ariaLabel,h=t.ariaLabelledBy,m=t.ariaDescribedBy,v=t.ariaHidden,y=t.ariaDisabled,g=Iue(a),b=ro(),x=b.showTooltipAt,_=b.hideTooltip,T=e.slice(0).sort(function(C,P){return C.indexInSeries-P.indexInSeries}).sort(function(C,P){return P.seriesIndex-C.seriesIndex}).map(function(C){return{id:C.id,x:C.x,y:C.y,datum:C.data,fill:C.color,stroke:C.borderColor,label:o?g(C):null,ariaLabel:d?d(C):void 0,ariaLabelledBy:h?h(C):void 0,ariaDescribedBy:m?m(C):void 0,ariaHidden:v?v(C):void 0,ariaDisabled:y?y(C):void 0,onFocus:l?function(){c(C),x(A.createElement(u,{point:C}),[f.left+C.x,f.top+C.y],"top")}:void 0,onBlur:l?function(){c(null),_()}:void 0}});return S.jsx("g",{children:T.map(function(C){return S.jsx(VWe,{x:C.x,y:C.y,datum:C.datum,symbol:n,size:r,color:C.fill,borderWidth:i,borderColor:C.stroke,label:C.label,labelYOffset:s,ariaLabel:C.ariaLabel,ariaLabelledBy:C.ariaLabelledBy,ariaDescribedBy:C.ariaDescribedBy,ariaHidden:C.ariaHidden,ariaDisabled:C.ariaDisabled,isFocusable:l,onFocus:C.onFocus,onBlur:C.onBlur,testId:"line.point."+C.id},C.id)})})}),YKe=A.memo(function(t){var e=t.points,n=t.width,r=t.height,i=t.margin,o=t.setCurrent,a=t.onMouseEnter,s=t.onMouseMove,l=t.onMouseLeave,c=t.onMouseDown,u=t.onMouseUp,f=t.onClick,d=t.onDoubleClick,h=t.onTouchStart,m=t.onTouchMove,v=t.onTouchEnd,y=t.tooltip,g=t.debug,b=t.enableTouchCrosshair,x=ro(),_=x.showTooltipAt,T=x.hideTooltip,C=A.useCallback(function(W,X){_(A.createElement(y,{point:W}),[W.x+i.left,W.y+i.top],"top"),a==null||a(W,X)},[_,y,a,i]),P=A.useCallback(function(W,X){_(A.createElement(y,{point:W}),[W.x+i.left,W.y+i.top],"top"),s==null||s(W,X)},[_,y,i.left,i.top,s]),I=A.useCallback(function(W,X){T(),l==null||l(W,X)},[T,l]),O=A.useCallback(function(W,X){c==null||c(W,X)},[c]),N=A.useCallback(function(W,X){u==null||u(W,X)},[u]),D=A.useCallback(function(W,X){f==null||f(W,X)},[f]),U=A.useCallback(function(W,X){d==null||d(W,X)},[d]),V=A.useCallback(function(W,X){_(A.createElement(y,{point:W}),[W.x+i.left,W.y+i.top],"top"),h==null||h(W,X)},[i.left,i.top,h,_,y]),z=A.useCallback(function(W,X){_(A.createElement(y,{point:W}),[W.x+i.left,W.y+i.top],"top"),m==null||m(W,X)},[i.left,i.top,m,_,y]),F=A.useCallback(function(W,X){T(),v==null||v(W,X)},[v,T]);return S.jsx(IKe,{nodes:e,width:n,height:r,setCurrent:o,onMouseEnter:C,onMouseMove:P,onMouseLeave:I,onMouseDown:O,onMouseUp:N,onClick:D,onDoubleClick:U,onTouchStart:V,onTouchMove:z,onTouchEnd:F,enableTouchCrosshair:b,debug:g})}),KKe=["isInteractive","animate","motionConfig","theme","renderWrapper"];function ZKe(t){var e=t.data,n=t.xScale,r=n===void 0?En.xScale:n,i=t.xFormat,o=t.yScale,a=o===void 0?En.yScale:o,s=t.yFormat,l=t.curve,c=l===void 0?En.curve:l,u=t.margin,f=t.width,d=t.height,h=t.colors,m=h===void 0?En.colors:h,v=t.lineWidth,y=v===void 0?En.lineWidth:v,g=t.layers,b=g===void 0?En.layers:g,x=t.enableArea,_=x===void 0?En.enableArea:x,T=t.areaBaselineValue,C=T===void 0?En.areaBaselineValue:T,P=t.areaOpacity,I=P===void 0?En.areaOpacity:P,O=t.areaBlendMode,N=O===void 0?En.areaBlendMode:O,D=t.enablePoints,U=D===void 0?En.enablePoints:D,V=t.pointSymbol,z=t.pointSize,F=z===void 0?En.pointSize:z,W=t.pointColor,X=W===void 0?En.pointColor:W,B=t.pointBorderWidth,G=B===void 0?En.pointBorderWidth:B,q=t.pointBorderColor,te=q===void 0?En.pointBorderColor:q,Y=t.enablePointLabel,J=Y===void 0?En.enablePointLabel:Y,re=t.pointLabel,oe=re===void 0?En.pointLabel:re,pe=t.pointLabelYOffset,fe=t.enableGridX,we=fe===void 0?En.enableGridX:fe,ge=t.gridXValues,xe=t.enableGridY,Te=xe===void 0?En.enableGridY:xe,ee=t.gridYValues,Ce=t.axisTop,ae=t.axisRight,be=t.axisBottom,_e=be===void 0?En.axisBottom:be,He=t.axisLeft,Ve=He===void 0?En.axisLeft:He,ne=t.defs,Q=ne===void 0?En.defs:ne,ve=t.fill,Se=ve===void 0?En.fill:ve,Le=t.markers,Ie=t.legends,Ke=Ie===void 0?En.legends:Ie,Ne=t.isInteractive,Ye=Ne===void 0?En.isInteractive:Ne,et=t.useMesh,vt=et===void 0?En.useMesh:et,ke=t.debugMesh,Ze=ke===void 0?En.debugMesh:ke,at=t.onMouseEnter,pt=t.onMouseMove,me=t.onMouseLeave,Ae=t.onMouseDown,le=t.onMouseUp,Ee=t.onClick,Ue=t.onDoubleClick,We=t.onTouchStart,ze=t.onTouchMove,ce=t.onTouchEnd,Re=t.tooltip,Xe=Re===void 0?En.tooltip:Re,ct=t.enableSlices,De=ct===void 0?En.enableSlices:ct,st=t.debugSlices,mt=st===void 0?En.debugSlices:st,rt=t.sliceTooltip,it=rt===void 0?En.sliceTooltip:rt,nt=t.enableCrosshair,Pt=nt===void 0?En.enableCrosshair:nt,Rt=t.crosshairType,Xt=Rt===void 0?En.crosshairType:Rt,sn=t.enableTouchCrosshair,bt=sn===void 0?En.enableTouchCrosshair:sn,yt=t.role,Yt=yt===void 0?En.role:yt,nr=t.ariaLabel,Zt=t.ariaLabelledBy,At=t.ariaDescribedBy,qt=t.isFocusable,gn=qt===void 0?En.isFocusable:qt,se=t.pointAriaLabel,Pe=t.pointAriaLabelledBy,Oe=t.pointAriaDescribedBy,je=t.pointAriaHidden,$e=t.pointAriaDisabled,_t=t.initialHiddenIds,Et=_t===void 0?En.initialHiddenIds:_t,Bt=t.forwardedRef,$t=Sa(f,d,u),Kt=$t.margin,It=$t.innerWidth,Wt=$t.innerHeight,Vn=$t.outerWidth,or=$t.outerHeight,nn=Tfe({data:e,xScale:r,xFormat:i,yScale:a,yFormat:s,width:It,height:Wt,colors:m,curve:c,areaBaselineValue:C,pointColor:X,pointBorderColor:te,enableSlices:De,initialHiddenIds:Et}),hr=nn.legendData,gt=nn.toggleSeries,Ct=nn.lineGenerator,tn=nn.areaGenerator,Dt=nn.series,Tn=nn.xScale,Er=nn.yScale,Tr=nn.slices,On=nn.points,Lt=A.useState(null),pn=Lt[0],Or=Lt[1],Xn=A.useState(null),Ln=Xn[0],mr=Xn[1],Vr={grid:null,markers:null,axes:null,areas:null,crosshair:null,lines:null,points:null,slices:null,mesh:null,legends:null};b.includes("grid")&&(we||Te)&&(Vr.grid=S.jsx(u8,{width:It,height:Wt,xScale:we?Tn:null,yScale:Te?Er:null,xValues:ge,yValues:ee},"grid")),b.includes("markers")&&Array.isArray(Le)&&Le.length>0&&(Vr.markers=S.jsx(kue,{markers:Le,width:It,height:Wt,xScale:Tn,yScale:Er},"markers")),b.includes("axes")&&(Vr.axes=S.jsx(c8,{xScale:Tn,yScale:Er,width:It,height:Wt,top:Ce,right:ae,bottom:_e,left:Ve},"axes")),b.includes("lines")&&(Vr.lines=S.jsx(HKe,{series:Dt,lineGenerator:Ct,lineWidth:y},"lines")),b.includes("legends")&&Ke.length>0&&(Vr.legends=S.jsx(A.Fragment,{children:Ke.map(function(Hr,Pi){return S.jsx(iv,va({},Hr,{containerWidth:It,containerHeight:Wt,data:Hr.data||hr,toggleSerie:Hr.toggleSerie?gt:void 0}),Pi)})},"legends"));var Ts=mM(Q,Dt,Se);_&&(Vr.areas=S.jsx(WKe,{areaGenerator:tn,areaOpacity:I,areaBlendMode:N,series:Dt},"areas")),Ye&&De!==!1&&(Vr.slices=S.jsx(XKe,{slices:Tr,axis:De,debug:mt,tooltip:it,current:Ln,setCurrent:mr,onMouseEnter:at,onMouseMove:pt,onMouseLeave:me,onMouseDown:Ae,onMouseUp:le,onClick:Ee,onDoubleClick:Ue,onTouchStart:We,onTouchMove:ze,onTouchEnd:ce},"slices")),U&&(Vr.points=S.jsx(qKe,{points:On,symbol:V,size:F,borderWidth:G,enableLabel:J,label:oe,labelYOffset:pe,isFocusable:gn,setCurrentPoint:Or,tooltip:Xe,margin:Kt,ariaLabel:se,ariaLabelledBy:Pe,ariaDescribedBy:Oe,ariaHidden:je,ariaDisabled:$e},"points")),Ye&&Pt&&(pn!==null&&(Vr.crosshair=S.jsx(o5,{width:It,height:Wt,x:pn.x,y:pn.y,type:Xt},"crosshair")),Ln!==null&&De&&(Vr.crosshair=S.jsx(o5,{width:It,height:Wt,x:Ln.x,y:Ln.y,type:De},"crosshair"))),Ye&&vt&&De===!1&&(Vr.mesh=S.jsx(YKe,{points:On,width:It,height:Wt,margin:Kt,setCurrent:Or,onMouseEnter:at,onMouseMove:pt,onMouseLeave:me,onMouseDown:Ae,onMouseUp:le,onClick:Ee,onDoubleClick:Ue,onTouchStart:We,onTouchMove:ze,onTouchEnd:ce,tooltip:Xe,enableTouchCrosshair:bt,debug:Ze},"mesh"));var zr=va({},t,{innerWidth:It,innerHeight:Wt,series:Dt,slices:Tr,points:On,xScale:Tn,yScale:Er,lineGenerator:Ct,areaGenerator:tn,currentPoint:pn,setCurrentPoint:Or,currentSlice:Ln,setCurrentSlice:mr});return S.jsx(Ku,{defs:Ts,width:Vn,height:or,margin:Kt,role:Yt,ariaLabel:nr,ariaLabelledBy:Zt,ariaDescribedBy:At,isFocusable:gn,ref:Bt,children:b.map(function(Hr,Pi){return typeof Hr=="function"?S.jsx(A.Fragment,{children:Hr(zr)},Pi):Vr[Hr]})})}var JKe=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?En.isInteractive:n,i=t.animate,o=i===void 0?En.animate:i,a=t.motionConfig,s=a===void 0?En.motionConfig:a,l=t.theme,c=t.renderWrapper,u=eL(t,KKe);return S.jsx(_a,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:c,theme:l,children:S.jsx(ZKe,va({isInteractive:r},u,{forwardedRef:e}))})}),QKe=["defaultWidth","defaultHeight","onResize","debounceResize"],eZe=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=eL(t,QKe);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(JKe,va({width:l,height:c},a,{ref:e}))}})}),tZe=["isInteractive","renderWrapper","theme"],nZe=function(t){var e=t.width,n=t.height,r=t.margin,i=t.pixelRatio,o=i===void 0?li.pixelRatio:i,a=t.data,s=t.xScale,l=s===void 0?li.xScale:s,c=t.xFormat,u=t.yScale,f=u===void 0?li.yScale:u,d=t.yFormat,h=t.curve,m=h===void 0?li.curve:h,v=t.layers,y=v===void 0?li.layers:v,g=t.colors,b=g===void 0?li.colors:g,x=t.lineWidth,_=x===void 0?li.lineWidth:x,T=t.enableArea,C=T===void 0?li.enableArea:T,P=t.areaBaselineValue,I=P===void 0?li.areaBaselineValue:P,O=t.areaOpacity,N=O===void 0?li.areaOpacity:O,D=t.enablePoints,U=D===void 0?li.enablePoints:D,V=t.pointSize,z=V===void 0?li.pointSize:V,F=t.pointColor,W=F===void 0?li.pointColor:F,X=t.pointBorderWidth,B=X===void 0?li.pointBorderWidth:X,G=t.pointBorderColor,q=G===void 0?li.pointBorderColor:G,te=t.enableGridX,Y=te===void 0?li.enableGridX:te,J=t.gridXValues,re=t.enableGridY,oe=re===void 0?li.enableGridY:re,pe=t.gridYValues,fe=t.axisTop,we=t.axisRight,ge=t.axisBottom,xe=ge===void 0?li.axisBottom:ge,Te=t.axisLeft,ee=Te===void 0?li.axisLeft:Te,Ce=t.legends,ae=Ce===void 0?li.legends:Ce,be=t.isInteractive,_e=be===void 0?li.isInteractive:be,He=t.debugMesh,Ve=He===void 0?li.debugMesh:He,ne=t.onMouseLeave,Q=t.onMouseDown,ve=t.onMouseUp,Se=t.onClick,Le=t.onDoubleClick,Ie=t.tooltip,Ke=Ie===void 0?li.tooltip:Ie,Ne=t.role,Ye=t.forwardedRef,et=A.useRef(null),vt=Sa(e,n,r),ke=vt.margin,Ze=vt.innerWidth,at=vt.innerHeight,pt=vt.outerWidth,me=vt.outerHeight,Ae=Bn(),le=A.useState(null),Ee=le[0],Ue=le[1],We=Tfe({data:a,xScale:l,xFormat:c,yScale:f,yFormat:d,width:Ze,height:at,colors:b,curve:m,areaBaselineValue:I,pointColor:W,pointBorderColor:q}),ze=We.lineGenerator,ce=We.areaGenerator,Re=We.series,Xe=We.xScale,ct=We.yScale,De=We.points,st=A.useMemo(function(){return{innerWidth:Ze,innerHeight:at,series:Re,points:De,xScale:Xe,yScale:ct,lineWidth:_,lineGenerator:ze,areaGenerator:ce,currentPoint:Ee,setCurrentPoint:Ue}},[Ze,at,Re,De,Xe,ct,_,ze,ce,Ee,Ue]),mt=Efe({points:De,width:Ze,height:at,debug:Ve}),rt=mt.delaunay,it=mt.voronoi;A.useEffect(function(){if(et.current!==null){et.current.width=pt*o,et.current.height=me*o;var At=et.current.getContext("2d");At.scale(o,o),At.fillStyle=Ae.background,At.fillRect(0,0,pt,me),At.translate(ke.left,ke.top),y.forEach(function(qt){var gn;typeof qt=="function"&&qt(At,st);var se=(gn=Ae.grid.line.strokeWidth)!=null?gn:0;if(qt==="grid"&&typeof se!="string"&&se>0&&(At.lineWidth=se,At.strokeStyle=Ae.grid.line.stroke,Y&&OC(At,{width:Ze,height:at,scale:Xe,axis:"x",values:J}),oe&&OC(At,{width:Ze,height:at,scale:ct,axis:"y",values:pe})),qt==="axes"&&Que(At,{xScale:Xe,yScale:ct,width:Ze,height:at,top:fe,right:we,bottom:xe,left:ee,theme:Ae}),qt==="areas"&&C===!0){At.save(),At.globalAlpha=N,ce.context(At);for(var Pe=Re.length-1;Pe>=0;Pe--)At.fillStyle=Re[Pe].color,At.beginPath(),ce(Re[Pe].data.map(function(je){return je.position})),At.fill();At.restore()}if(qt==="lines"&&(ze.context(At),Re.forEach(function(je){At.strokeStyle=je.color,At.lineWidth=_,At.beginPath(),ze(je.data.map(function($e){return $e.position})),At.stroke()})),qt==="points"&&U===!0&&z>0&&De.forEach(function(je){At.fillStyle=je.color,At.beginPath(),At.arc(je.x,je.y,z/2,0,2*Math.PI),At.fill(),B>0&&(At.strokeStyle=je.borderColor,At.lineWidth=B,At.stroke())}),qt==="mesh"&&Ve===!0&&it!==void 0&&(DKe(At,it),Ee&&jKe(At,it,Ee.absIndex)),qt==="legends"){var Oe=Re.map(function(je){return{id:je.id,label:je.id,color:je.color}}).reverse();ae.forEach(function(je){KO(At,va({},je,{data:je.data||Oe,containerWidth:Ze,containerHeight:at,theme:Ae}))})}})}},[et,Ze,pt,at,me,ke.left,ke.top,o,y,Ae,ze,Re,Xe,ct,Y,J,oe,pe,fe,we,xe,ee,ae,De,U,z,B,Ee,st,Ve,C,ce,N,_,it]);var nt=A.useCallback(function(At){if(!et.current)return null;var qt=Gf(et.current,At),gn=qt[0],se=qt[1];if(!qO(ke.left,ke.top,Ze,at,gn,se))return null;var Pe=rt.find(gn-ke.left,se-ke.top);return De[Pe]},[et,ke,Ze,at,rt,De]),Pt=ro(),Rt=Pt.showTooltipFromEvent,Xt=Pt.hideTooltip,sn=A.useCallback(function(At){var qt=nt(At);Ue(qt),qt?Rt(A.createElement(Ke,{point:qt}),At):Xt()},[nt,Ue,Rt,Xt,Ke]),bt=A.useCallback(function(At){Xt(),Ue(null),Ee&&(ne==null||ne(Ee,At))},[Xt,Ue,ne,Ee]),yt=A.useCallback(function(At){if(Q){var qt=nt(At);qt&&Q(qt,At)}},[nt,Q]),Yt=A.useCallback(function(At){if(ve){var qt=nt(At);qt&&ve(qt,At)}},[nt,ve]),nr=A.useCallback(function(At){if(Se){var qt=nt(At);qt&&Se(qt,At)}},[nt,Se]),Zt=A.useCallback(function(At){if(Le){var qt=nt(At);qt&&Le(qt,At)}},[nt,Le]);return S.jsx("canvas",{ref:gM(et,Ye),width:pt*o,height:me*o,style:{width:pt,height:me,cursor:_e?"auto":"normal"},onMouseEnter:_e?sn:void 0,onMouseMove:_e?sn:void 0,onMouseLeave:_e?bt:void 0,onMouseDown:_e?yt:void 0,onMouseUp:_e?Yt:void 0,onClick:_e?nr:void 0,onDoubleClick:_e?Zt:void 0,role:Ne})},rZe=A.forwardRef(function(t,e){var n=t.isInteractive,r=t.renderWrapper,i=t.theme,o=eL(t,tZe);return S.jsx(_a,{isInteractive:n,renderWrapper:r,theme:i,animate:!1,children:S.jsx(nZe,va({},o,{forwardedRef:e}))})}),iZe=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth;t.defaultHeight;var r=t.onResize,i=t.debounceResize,o=eL(t,iZe);return S.jsx(wa,{defaultWidth:n,defaultHeight:n,onResize:r,debounceResize:i,children:function(a){var s=a.width,l=a.height;return S.jsx(rZe,va({width:s,height:l},o,{ref:e}))}})});function oZe({className:t}){const[e,n]=A.useState([]);return A.useEffect(()=>{const r=[];for(let i=0;i<20;i++)r.push({x:i,y:Math.random()*(i%5===0?5:1)});n([{id:"errors",color:"hsl(0, 70%, 50%)",data:r}])},[]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"font-semibold text-sm",children:"Error Rate (Errors/min)"}),S.jsx("span",{className:"text-xs font-mono text-red-400",children:"Current: 0.2%"})]}),S.jsx("div",{className:"h-[200px]",children:S.jsx(eZe,{data:e,margin:{top:10,right:10,bottom:20,left:30},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},curve:"monotoneX",axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:5,tickRotation:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0},enableGridX:!1,colors:["#ef4444"],enablePoints:!1,enableArea:!0,areaOpacity:.15,useMesh:!0,theme:{axis:{ticks:{text:{fill:"#666"}}},grid:{line:{stroke:"#333"}},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}function aZe({className:t}){const[e,n]=A.useState({cpu:0,memory:0});return A.useEffect(()=>{const r=setInterval(()=>{n({cpu:Math.floor(Math.random()*30)+10,memory:Math.floor(Math.random()*40)+20})},2e3);return()=>clearInterval(r)},[]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Client Resources"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"flex flex-col items-center p-4 bg-slate-900/50 rounded-lg",children:[S.jsx(O1e,{className:"w-6 h-6 text-blue-400 mb-2"}),S.jsxs("span",{className:"text-2xl font-bold text-slate-200",children:[e.cpu,"%"]}),S.jsx("span",{className:"text-xs text-slate-500",children:"CPU Usage"}),S.jsx("div",{className:"w-full h-1 bg-slate-800 mt-2 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500",style:{width:`${e.cpu}%`}})})]}),S.jsxs("div",{className:"flex flex-col items-center p-4 bg-slate-900/50 rounded-lg",children:[S.jsx(eg,{className:"w-6 h-6 text-purple-400 mb-2"}),S.jsxs("span",{className:"text-2xl font-bold text-slate-200",children:[e.memory,"MB"]}),S.jsx("span",{className:"text-xs text-slate-500",children:"Heap Used"}),S.jsx("div",{className:"w-full h-1 bg-slate-800 mt-2 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-purple-500 transition-all duration-500",style:{width:`${e.memory}%`}})})]})]})]})}function sZe({className:t}){const{events:e}=Rr(),[n,r]=A.useState(0);return A.useEffect(()=>{const i=setInterval(()=>{r(Math.floor(Math.random()*10)+5)},1e3);return()=>clearInterval(i)},[e]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Event Throughput"}),S.jsx("div",{className:"flex items-center justify-center h-[150px]",children:S.jsxs("div",{className:"relative flex flex-col items-center",children:[S.jsx(pR,{className:"w-12 h-12 text-yellow-400 mb-2 animate-pulse"}),S.jsx("span",{className:"text-5xl font-bold text-white tracking-tighter",children:n}),S.jsx("span",{className:"text-sm text-slate-400 mt-1",children:"events / sec"})]})})]})}function lZe({className:t}){const[e,n]=A.useState(0);return A.useEffect(()=>{const r=setInterval(()=>{n(Math.floor(Math.random()*20))},500);return()=>clearInterval(r)},[]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Processing Queue Depth"}),S.jsxs("div",{className:"flex flex-col justify-center h-[150px] space-y-2",children:[S.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[S.jsx("span",{children:"Empty"}),S.jsx("span",{children:"Critical"})]}),S.jsx("div",{className:"flex gap-1 h-12",children:Array.from({length:20}).map((r,i)=>S.jsx("div",{className:`flex-1 rounded-sm transition-all duration-300 ${i<e?i>15?"bg-red-500":i>10?"bg-yellow-500":"bg-green-500":"bg-slate-800"}`},i))}),S.jsxs("div",{className:"text-center mt-2",children:[S.jsx("span",{className:"text-2xl font-bold text-slate-200",children:e}),S.jsx("span",{className:"text-xs text-slate-500 ml-2",children:"pending events"})]})]})]})}function cZe({className:t}){const e=[{name:"API Uptime",value:"99.99%",status:"healthy"},{name:"Stream Availability",value:"99.95%",status:"healthy"},{name:"Processing Success",value:"99.8%",status:"warning"},{name:"Avg Response Time",value:"45ms",status:"healthy"}];return S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Service Level Agreement"}),S.jsx("div",{className:"space-y-4",children:e.map(n=>S.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-900/50 rounded-lg",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[n.status==="healthy"?S.jsx(P1e,{className:"w-4 h-4 text-green-500"}):n.status==="warning"?S.jsx(q1,{className:"w-4 h-4 text-yellow-500"}):S.jsx(R1e,{className:"w-4 h-4 text-red-500"}),S.jsx("span",{className:"text-sm font-medium",children:n.name})]}),S.jsx("span",{className:`text-sm font-bold ${n.status==="healthy"?"text-green-400":n.status==="warning"?"text-yellow-400":"text-red-400"}`,children:n.value})]},n.name))})]})}function uZe({className:t}){const[e,n]=A.useState([]);return A.useEffect(()=>{const r=setInterval(()=>{const o={id:Math.random().toString(36).substring(7),timestamp:new Date().toLocaleTimeString(),service:Math.random()>.5?"ingest-service":"analysis-core",status:Math.random()>.9?"error":"success",duration:Math.floor(Math.random()*100)+"ms"};n(a=>[o,...a].slice(0,20))},1500);return()=>clearInterval(r)},[]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Live Trace Viewer"}),S.jsx(jR,{className:"h-[250px]",children:S.jsx("div",{className:"space-y-2",children:e.map(r=>S.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-900/30 rounded text-xs border border-slate-800",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"font-mono text-slate-500",children:r.timestamp}),S.jsx(vr,{variant:"outline",className:"text-xs font-normal",children:r.service}),S.jsx("span",{className:"font-mono text-slate-300",children:r.id})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-slate-400",children:r.duration}),S.jsx(vr,{variant:r.status==="success"?"default":"destructive",className:"h-5",children:r.status})]})]},r.id))})})]})}const fZe=()=>S.jsxs("div",{className:"min-h-screen bg-background",children:[S.jsx(qg,{}),S.jsxs("main",{className:"pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-[1800px] mx-auto",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs(ht.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold flex items-center gap-2",children:[S.jsx(Qh,{className:"w-6 h-6 text-primary"}),"System Monitor"]}),S.jsx(ht.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-sm text-muted-foreground mt-1",children:"Real-time instrumentation, metrics, and health checks"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:S.jsx(cZe,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:S.jsx(oZe,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:S.jsx(QLe,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:S.jsx(aZe,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:S.jsx(sZe,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:S.jsx(lZe,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:S.jsx(eKe,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:S.jsx(e3e,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:S.jsx(uZe,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"xl:col-span-3",children:S.jsx(XLe,{})})]})]})]}),dZe=()=>{const{isConnected:t,connect:e,disconnect:n,eventsPerSecond:r,totalEventsProcessed:i}=Rr(),[o,a]=A.useState({wikipedia:t,kaspersky:!0,bitdefender:!0,anyrun:!0,crypto:!1,github:!1,reddit:!1}),s=d=>{d==="wikipedia"?t?n():e():a(h=>({...h,[d]:!h[d]}))},l=[{id:"wikipedia",name:"Wikipedia Recent Changes",description:"Real-time SSE stream of all Wikipedia edits across all languages",type:"Social Media",protocol:"SSE",icon:Th,url:"stream.wikimedia.org",eventsPerSecond:t?r:0,totalEvents:t?i:0,color:"text-blue-500",bgColor:"bg-blue-500/10"},{id:"kaspersky",name:"Kaspersky Threat Intelligence",description:"Global threat data from Kaspersky Lab security network",type:"Threat Intel",protocol:"Mock Stream",icon:wc,url:"threat.kaspersky.com",eventsPerSecond:o.kaspersky?15:0,totalEvents:o.kaspersky?8245:0,color:"text-red-500",bgColor:"bg-red-500/10"},{id:"bitdefender",name:"Bitdefender Threat Feed",description:"Advanced malware and exploit intelligence from Bitdefender",type:"Threat Intel",protocol:"Mock Stream",icon:wc,url:"intel.bitdefender.com",eventsPerSecond:o.bitdefender?12:0,totalEvents:o.bitdefender?5632:0,color:"text-orange-500",bgColor:"bg-orange-500/10"},{id:"anyrun",name:"ANY.RUN Malware Sandbox",description:"Interactive malware analysis results and behavioral data",type:"Threat Intel",protocol:"Mock Stream",icon:wc,url:"api.any.run",eventsPerSecond:o.anyrun?5:0,totalEvents:o.anyrun?1891:0,color:"text-purple-500",bgColor:"bg-purple-500/10"},{id:"crypto",name:"Cryptocurrency Market Data",description:"Real-time crypto prices, volumes, and anomaly detection",type:"Financial",protocol:"Mock Stream",icon:L1e,url:"api.crypto.com",eventsPerSecond:o.crypto?30:0,totalEvents:o.crypto?12453:0,color:"text-green-500",bgColor:"bg-green-500/10"},{id:"github",name:"GitHub Public Events",description:"Public repository events: pushes, PRs, issues, stars, forks",type:"Developer",protocol:"Mock Stream",icon:j1e,url:"api.github.com",eventsPerSecond:o.github?25:0,totalEvents:o.github?9876:0,color:"text-gray-300",bgColor:"bg-gray-500/10"},{id:"reddit",name:"Reddit Trending Feed",description:"Trending posts, sentiment analysis, and discussion monitoring",type:"Social Media",protocol:"Mock Stream",icon:W1e,url:"oauth.reddit.com",eventsPerSecond:o.reddit?10:0,totalEvents:o.reddit?4321:0,color:"text-orange-400",bgColor:"bg-orange-400/10"}],c=Object.values(o).filter(Boolean).length,u=l.reduce((d,h)=>d+h.totalEvents,0),f=l.reduce((d,h)=>d+h.eventsPerSecond,0);return S.jsxs("div",{className:"min-h-screen bg-background",children:[S.jsx(qg,{}),S.jsxs("main",{className:"pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-[1400px] mx-auto",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[S.jsxs("div",{children:[S.jsxs(ht.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold flex items-center gap-2",children:[S.jsx(eg,{className:"w-6 h-6 text-primary"}),"Data Sources"]}),S.jsx(ht.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-sm text-muted-foreground mt-1",children:"Manage your real-time data stream connections"})]}),S.jsxs(br,{variant:"default",size:"sm",className:"gap-2",children:[S.jsx(y$,{className:"w-4 h-4"}),"Add Custom Source"]})]}),S.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:S.jsx(bn,{children:S.jsxs(Ti,{className:"p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx(eg,{className:"w-5 h-5 text-primary"}),S.jsxs(vr,{variant:"success",children:[c," active"]})]}),S.jsx("div",{className:"text-2xl font-bold",children:l.length}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Sources"})]})})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:S.jsx(bn,{children:S.jsxs(Ti,{className:"p-6",children:[S.jsx("div",{className:"flex items-center justify-between mb-2",children:S.jsx(HS,{className:"w-5 h-5 text-success"})}),S.jsxs("div",{className:"text-2xl font-bold text-success",children:[f,"/s"]}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Throughput"})]})})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:S.jsx(bn,{children:S.jsxs(Ti,{className:"p-6",children:[S.jsx("div",{className:"flex items-center justify-between mb-2",children:S.jsx(Z1e,{className:"w-5 h-5 text-info"})}),S.jsx("div",{className:"text-2xl font-bold",children:u.toLocaleString()}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Events"})]})})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:S.jsx(bn,{children:S.jsxs(Ti,{className:"p-6",children:[S.jsx("div",{className:"flex items-center justify-between mb-2",children:S.jsx(wc,{className:"w-5 h-5 text-red-500"})}),S.jsx("div",{className:"text-2xl font-bold text-red-500",children:o.kaspersky&&o.bitdefender&&o.anyrun?"3":"0"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Threat Intel Feeds"})]})})})]}),S.jsx("div",{className:"grid gap-4",children:l.map((d,h)=>{const m=o[d.id],v=d.icon;return S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.05},children:S.jsx(bn,{className:"overflow-hidden hover:border-primary/30 transition-all",children:S.jsx(Ti,{className:"p-6",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:`p-3 rounded-xl ${m?d.bgColor:"bg-muted"}`,children:S.jsx(v,{className:`w-6 h-6 ${m?d.color:"text-muted-foreground"}`})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.jsx("h3",{className:"font-semibold",children:d.name}),m&&S.jsx(vr,{variant:"success",children:"Live"}),!m&&S.jsx(vr,{variant:"outline",children:"Inactive"}),S.jsx(vr,{variant:"secondary",className:"text-[10px]",children:d.type})]}),S.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:d.description}),S.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(eg,{className:"w-3 h-3"}),d.protocol]}),S.jsx("span",{className:"font-mono",children:d.url}),m&&d.eventsPerSecond>0&&S.jsxs(S.Fragment,{children:[S.jsxs("span",{className:"text-success font-mono",children:[d.eventsPerSecond," events/s"]}),S.jsxs("span",{className:"font-mono",children:[d.totalEvents.toLocaleString()," total"]})]})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[m&&d.id==="wikipedia"&&S.jsx(br,{variant:"ghost",size:"icon",className:"h-8 w-8",children:S.jsx(Dre,{className:"w-4 h-4"})}),S.jsxs(br,{variant:m?"outline":"default",size:"sm",onClick:()=>s(d.id),className:m?"text-critical hover:text-critical":"",children:[S.jsx(K1e,{className:"w-4 h-4 mr-2"}),m?"Disconnect":"Connect"]})]})]})})})},d.id)})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-8",children:S.jsx(bn,{className:"border-primary/20",children:S.jsxs(Ti,{className:"p-6",children:[S.jsxs("h3",{className:"font-semibold mb-2 text-primary flex items-center gap-2",children:[S.jsx(wc,{className:"w-5 h-5"}),"About Threat Intelligence Feeds"]}),S.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Our platform integrates with industry-leading threat intelligence providers to deliver real-time security insights. Kaspersky, Bitdefender, and ANY.RUN provide complementary data streams covering malware, exploits, phishing, and advanced persistent threats (APTs)."}),S.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[S.jsxs("div",{className:"p-3 bg-red-500/10 rounded-lg border border-red-500/20",children:[S.jsx("h4",{className:"text-sm font-semibold text-red-500 mb-1",children:"Kaspersky"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Global threat network with 400M+ endpoints"})]}),S.jsxs("div",{className:"p-3 bg-orange-500/10 rounded-lg border border-orange-500/20",children:[S.jsx("h4",{className:"text-sm font-semibold text-orange-500 mb-1",children:"Bitdefender"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Advanced malware detection and C2 tracking"})]}),S.jsxs("div",{className:"p-3 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[S.jsx("h4",{className:"text-sm font-semibold text-purple-500 mb-1",children:"ANY.RUN"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Interactive sandbox behavioral analysis"})]})]})]})})})]})]})};function hZe({className:t}){const{riskHeatmap:e,isConnected:n}=Rr(),{gridData:r,labels:i}=A.useMemo(()=>e.grid.length>0?{gridData:e.grid,labels:e.labels}:{gridData:[[.1,.1,.1,.1,.1,.1,.1],[.1,.1,.1,.1,.1,.1,.1],[.1,.1,.1,.1,.1,.1,.1],[.1,.1,.1,.1,.1,.1,.1],[.1,.1,.1,.1,.1,.1,.1],[.1,.1,.1,.1,.1,.1,.1]],labels:{x:["EN","DE","FR","ES","JA","ZH","COM"],y:["Main","Talk","User","Wiki","File","Template"]}},[e]),o=s=>s>=.8?"hsl(var(--critical))":s>=.6?"hsl(var(--anomaly))":s>=.4?"hsl(var(--info))":"hsl(var(--primary) / 0.3)",a=s=>.3+s*.7;return S.jsxs("div",{className:Zn("relative bg-card/50 rounded-xl p-4 border border-border/50",t),children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm font-medium",children:"Risk Heatmap"}),S.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Wiki  Namespace"}),n&&S.jsx(ht.div,{className:"w-1.5 h-1.5 rounded-full bg-success",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0}})]}),S.jsxs("div",{className:"flex gap-2 text-[9px]",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"w-3 h-3 rounded bg-primary/30"}),S.jsx("span",{className:"text-muted-foreground",children:"Low"})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"w-3 h-3 rounded bg-info"}),S.jsx("span",{className:"text-muted-foreground",children:"Med"})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"w-3 h-3 rounded bg-anomaly"}),S.jsx("span",{className:"text-muted-foreground",children:"High"})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"w-3 h-3 rounded bg-critical"}),S.jsx("span",{className:"text-muted-foreground",children:"Critical"})]})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("div",{className:"flex flex-col gap-1 pt-5",children:i.y.map(s=>S.jsx("div",{className:"h-8 flex items-center text-[10px] text-muted-foreground",children:s},s))}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"flex gap-1 mb-1",children:i.x.map(s=>S.jsx("div",{className:"flex-1 text-center text-[10px] text-muted-foreground",children:s},s))}),S.jsx("div",{className:"space-y-1",children:r.map((s,l)=>S.jsx("div",{className:"flex gap-1",children:s.map((c,u)=>S.jsx(ht.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:(l*s.length+u)*.01},className:"flex-1 h-8 rounded cursor-pointer transition-transform hover:scale-105 relative",style:{backgroundColor:o(c),opacity:a(c)},title:`${i.y[l]}  ${i.x[u]}: ${(c*100).toFixed(0)}% risk`,children:c>=.8&&S.jsx(ht.div,{className:"absolute inset-0 rounded",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},style:{backgroundColor:"hsl(var(--critical) / 0.3)"}})},`${l}-${u}`))},l))})]})]}),!n&&S.jsx("p",{className:"text-[10px] text-muted-foreground mt-3 text-center",children:"Connect to Wikipedia stream to see live risk distribution"})]})}function pZe(){const[t,e]=A.useState([]);A.useEffect(()=>{const r=[{ip:"192.168.45.123",reputation:"malicious",score:95,country:"RU",firstSeen:new Date(Date.now()-6048e5),lastSeen:new Date,threatCount:45,tags:["botnet","c2","malware"]},{ip:"45.142.34.98",reputation:"suspicious",score:68,country:"CN",firstSeen:new Date(Date.now()-2592e5),lastSeen:new Date(Date.now()-36e5),threatCount:12,tags:["scanning","reconnaissance"]},{ip:"203.45.67.89",reputation:"clean",score:15,country:"US",firstSeen:new Date(Date.now()-2592e6),lastSeen:new Date(Date.now()-864e5),threatCount:0,tags:["cdn","legitimate"]}];e(r)},[]);const n={malicious:"bg-red-500/10 text-red-500 border-red-500/30",suspicious:"bg-orange-500/10 text-orange-500 border-orange-500/30",clean:"bg-green-500/10 text-green-500 border-green-500/30",unknown:"bg-gray-500/10 text-gray-500 border-gray-500/30"};return S.jsxs(bn,{children:[S.jsx(Fa,{children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsxs(Ua,{className:"flex items-center gap-2",children:[S.jsx(wc,{className:"w-5 h-5"}),"IP Reputation Tracker"]}),S.jsx(Xg,{children:"Real-time threat intelligence for monitored IPs"})]}),S.jsx(br,{size:"sm",variant:"outline",children:"Add IP"})]})}),S.jsx(Ti,{children:S.jsx("div",{className:"space-y-3",children:t.map((r,i)=>S.jsxs(ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.1},className:"p-4 border border-border/50 rounded-lg hover:border-primary/30 transition-all",children:[S.jsxs("div",{className:"flex items-start justify-between mb-2",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.jsx("code",{className:"text-sm font-mono font-semibold",children:r.ip}),S.jsx(vr,{variant:"outline",className:n[r.reputation],children:r.reputation})]}),S.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(v$,{className:"w-3 h-3"}),r.country]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(q1,{className:"w-3 h-3"}),r.threatCount," threats"]})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-lg font-bold text-primary",children:r.score}),S.jsx("div",{className:"text-[10px] text-muted-foreground",children:"threat score"})]})]}),S.jsxs("div",{className:"flex items-center justify-between text-xs",children:[S.jsx("div",{className:"flex gap-1",children:r.tags.map((o,a)=>S.jsx(vr,{variant:"secondary",className:"text-[9px]",children:o},a))}),S.jsxs("div",{className:"text-muted-foreground",children:["Last seen: ",r.lastSeen.toLocaleTimeString()]})]}),S.jsx("div",{className:"mt-2 h-1 bg-muted rounded-full overflow-hidden",children:S.jsx(ht.div,{initial:{width:0},animate:{width:`${r.score}%`},className:`h-full ${r.score>80?"bg-red-500":r.score>50?"bg-orange-500":"bg-green-500"}`})})]},r.ip))})})]})}function mZe(t){return t==null}var gZe=mZe;const Gn=yn(gZe);var Afe={exports:{}},Mr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m8=Symbol.for("react.element"),g8=Symbol.for("react.portal"),tL=Symbol.for("react.fragment"),nL=Symbol.for("react.strict_mode"),rL=Symbol.for("react.profiler"),iL=Symbol.for("react.provider"),oL=Symbol.for("react.context"),vZe=Symbol.for("react.server_context"),aL=Symbol.for("react.forward_ref"),sL=Symbol.for("react.suspense"),lL=Symbol.for("react.suspense_list"),cL=Symbol.for("react.memo"),uL=Symbol.for("react.lazy"),yZe=Symbol.for("react.offscreen"),Cfe;Cfe=Symbol.for("react.module.reference");function Xl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case m8:switch(t=t.type,t){case tL:case rL:case nL:case sL:case lL:return t;default:switch(t=t&&t.$$typeof,t){case vZe:case oL:case aL:case uL:case cL:case iL:return t;default:return e}}case g8:return e}}}Mr.ContextConsumer=oL;Mr.ContextProvider=iL;Mr.Element=m8;Mr.ForwardRef=aL;Mr.Fragment=tL;Mr.Lazy=uL;Mr.Memo=cL;Mr.Portal=g8;Mr.Profiler=rL;Mr.StrictMode=nL;Mr.Suspense=sL;Mr.SuspenseList=lL;Mr.isAsyncMode=function(){return!1};Mr.isConcurrentMode=function(){return!1};Mr.isContextConsumer=function(t){return Xl(t)===oL};Mr.isContextProvider=function(t){return Xl(t)===iL};Mr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===m8};Mr.isForwardRef=function(t){return Xl(t)===aL};Mr.isFragment=function(t){return Xl(t)===tL};Mr.isLazy=function(t){return Xl(t)===uL};Mr.isMemo=function(t){return Xl(t)===cL};Mr.isPortal=function(t){return Xl(t)===g8};Mr.isProfiler=function(t){return Xl(t)===rL};Mr.isStrictMode=function(t){return Xl(t)===nL};Mr.isSuspense=function(t){return Xl(t)===sL};Mr.isSuspenseList=function(t){return Xl(t)===lL};Mr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===tL||t===rL||t===nL||t===sL||t===lL||t===yZe||typeof t=="object"&&t!==null&&(t.$$typeof===uL||t.$$typeof===cL||t.$$typeof===iL||t.$$typeof===oL||t.$$typeof===aL||t.$$typeof===Cfe||t.getModuleId!==void 0)};Mr.typeOf=Xl;Afe.exports=Mr;var xZe=Afe.exports,bZe=efe;function _Ze(t){return bZe(t)&&t!=+t}var wZe=_Ze;const Qx=yn(wZe);var Ec=function(e){return e===0?0:e>0?1:-1},Bm=function(e){return op(e)&&e.indexOf("%")===e.length-1},Tt=function(e){return R5(e)&&!Qx(e)},SZe=function(e){return Gn(e)},po=function(e){return Tt(e)||op(e)},MZe=0,bM=function(e){var n=++MZe;return"".concat(e||"").concat(n)},Og=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Tt(e)&&!op(e))return r;var o;if(Bm(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Qx(o)&&(o=r),i&&o>n&&(o=n),o},gh=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},EZe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Cl=function(e,n){return Tt(e)&&Tt(n)?function(r){return e+r*(n-e)}:function(){return n}};function IC(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ci(r,e))===n})}var TZe=function(e,n){return Tt(e)&&Tt(n)?e-n:op(e)&&op(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function a0(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function N5(t){"@babel/helpers - typeof";return N5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N5(t)}var AZe=["viewBox","children"],CZe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_q=["points","pathLength"],SN={svg:AZe,polygon:_q,polyline:_q},v8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],DC=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(A.isValidElement(e)&&(r=e.props),!zx(r))return null;var i={};return Object.keys(r).forEach(function(o){v8.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},PZe=function(e,n,r){return function(i){return e(n,r,i),null}},jC=function(e,n,r){if(!zx(e)||N5(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];v8.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=PZe(a,n,r))}),i},RZe=["children"],OZe=["children"];function wq(t,e){if(t==null)return{};var n=LZe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I5(t){"@babel/helpers - typeof";return I5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I5(t)}var Sq={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Mq=null,MN=null,y8=function t(e){if(e===Mq&&Array.isArray(MN))return MN;var n=[];return A.Children.forEach(e,function(r){Gn(r)||(xZe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),MN=n,Mq=e,n};function Oc(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return qf(i)}):r=[qf(e)],y8(t).forEach(function(i){var o=Ci(i,"type.displayName")||Ci(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function js(t,e){var n=Oc(t,e);return n&&n[0]}var Eq=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Tt(r)||r<=0||!Tt(i)||i<=0)},kZe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],NZe=function(e){return e&&e.type&&op(e.type)&&kZe.indexOf(e.type)>=0},IZe=function(e){return e&&I5(e)==="object"&&"clipDot"in e},DZe=function(e,n,r,i){var o,a=(o=SN==null?void 0:SN[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!xn(e)&&(i&&a.includes(n)||CZe.includes(n))||r&&v8.includes(n)},Fn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(A.isValidElement(e)&&(i=e.props),!zx(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;DZe((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},D5=function t(e,n){if(e===n)return!0;var r=A.Children.count(e);if(r!==A.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Tq(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Tq(o,a))return!1}return!0},Tq=function(e,n){if(Gn(e)&&Gn(n))return!0;if(!Gn(e)&&!Gn(n)){var r=e.props||{},i=r.children,o=wq(r,RZe),a=n.props||{},s=a.children,l=wq(a,OZe);return i&&s?a0(o,l)&&D5(i,s):!i&&!s?a0(o,l):!1}return!1},Aq=function(e,n){var r=[],i={};return y8(e).forEach(function(o,a){if(NZe(o))r.push(o);else if(o){var s=qf(o.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(o,s,a);r.push(f),i[s]=!0}}}),r},jZe=function(e){var n=e&&e.type;return n&&Sq[n]?Sq[n]:null},BZe=function(e,n){return y8(n).indexOf(e)},zZe=["children","width","height","viewBox","className","style","title","desc"];function j5(){return j5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j5.apply(this,arguments)}function $Ze(t,e){if(t==null)return{};var n=FZe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B5(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=$Ze(t,zZe),u=i||{width:n,height:r,x:0,y:0},f=er("recharts-surface",o);return de.createElement("svg",j5({},Fn(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),de.createElement("title",null,s),de.createElement("desc",null,l),e)}var UZe=["children","className"];function z5(){return z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z5.apply(this,arguments)}function WZe(t,e){if(t==null)return{};var n=VZe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var di=de.forwardRef(function(t,e){var n=t.children,r=t.className,i=WZe(t,UZe),o=er("recharts-layer",r);return de.createElement("g",z5({className:o},Fn(i,!0),{ref:e}),n)}),Yf=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},HZe=sfe;function GZe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:HZe(t,e,n)}var XZe=GZe,qZe="\\ud800-\\udfff",YZe="\\u0300-\\u036f",KZe="\\ufe20-\\ufe2f",ZZe="\\u20d0-\\u20ff",JZe=YZe+KZe+ZZe,QZe="\\ufe0e\\ufe0f",eJe="\\u200d",tJe=RegExp("["+eJe+qZe+JZe+QZe+"]");function nJe(t){return tJe.test(t)}var Pfe=nJe;function rJe(t){return t.split("")}var iJe=rJe,Rfe="\\ud800-\\udfff",oJe="\\u0300-\\u036f",aJe="\\ufe20-\\ufe2f",sJe="\\u20d0-\\u20ff",lJe=oJe+aJe+sJe,cJe="\\ufe0e\\ufe0f",uJe="["+Rfe+"]",$5="["+lJe+"]",F5="\\ud83c[\\udffb-\\udfff]",fJe="(?:"+$5+"|"+F5+")",Ofe="[^"+Rfe+"]",Lfe="(?:\\ud83c[\\udde6-\\uddff]){2}",kfe="[\\ud800-\\udbff][\\udc00-\\udfff]",dJe="\\u200d",Nfe=fJe+"?",Ife="["+cJe+"]?",hJe="(?:"+dJe+"(?:"+[Ofe,Lfe,kfe].join("|")+")"+Ife+Nfe+")*",pJe=Ife+Nfe+hJe,mJe="(?:"+[Ofe+$5+"?",$5,Lfe,kfe,uJe].join("|")+")",gJe=RegExp(F5+"(?="+F5+")|"+mJe+pJe,"g");function vJe(t){return t.match(gJe)||[]}var yJe=vJe,xJe=iJe,bJe=Pfe,_Je=yJe;function wJe(t){return bJe(t)?_Je(t):xJe(t)}var SJe=wJe,MJe=XZe,EJe=Pfe,TJe=SJe,AJe=sM;function CJe(t){return function(e){e=AJe(e);var n=EJe(e)?TJe(e):void 0,r=n?n[0]:e.charAt(0),i=n?MJe(n,1).join(""):e.slice(1);return r[t]()+i}}var PJe=CJe,RJe=PJe,OJe=RJe("toUpperCase"),Dfe=OJe;const fL=yn(Dfe);function Tw(t){"@babel/helpers - typeof";return Tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(t)}var LJe=["type","size","sizeType"];function U5(){return U5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U5.apply(this,arguments)}function Cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(n),!0).forEach(function(r){kJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kJe(t,e,n){return e=NJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NJe(t){var e=IJe(t,"string");return Tw(e)=="symbol"?e:e+""}function IJe(t,e){if(Tw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DJe(t,e){if(t==null)return{};var n=jJe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jfe={symbolCircle:gU,symbolCross:k$e,symbolDiamond:I$e,symbolSquare:D$e,symbolStar:$$e,symbolTriangle:F$e,symbolWye:W$e},BJe=Math.PI/180,zJe=function(e){var n="symbol".concat(fL(e));return jfe[n]||gU},$Je=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*BJe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},FJe=function(e,n){jfe["symbol".concat(fL(e))]=n},x8=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=DJe(e,LJe),c=Pq(Pq({},l),{},{type:r,size:o,sizeType:s}),u=function(){var y=zJe(r),g=V$e().type(y).size($Je(o,s,r));return g()},f=c.className,d=c.cx,h=c.cy,m=Fn(c,!0);return d===+d&&h===+h&&o===+o?de.createElement("path",U5({},m,{className:er("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};x8.registerSymbol=FJe;function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function W5(){return W5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W5.apply(this,arguments)}function Rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UJe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rq(Object(n),!0).forEach(function(r){Aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VJe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zfe(r.key),r)}}function HJe(t,e,n){return e&&VJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GJe(t,e,n){return e=BC(e),XJe(t,Bfe()?Reflect.construct(e,n||[],BC(t).constructor):e.apply(t,n))}function XJe(t,e){if(e&&(W0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qJe(t)}function qJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bfe=function(){return!!t})()}function BC(t){return BC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BC(t)}function YJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V5(t,e)}function V5(t,e){return V5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V5(t,e)}function Aw(t,e,n){return e=zfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zfe(t){var e=KJe(t,"string");return W0(e)=="symbol"?e:e+""}function KJe(t,e){if(W0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(W0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yl=32,b8=function(t){function e(){return WJe(this,e),GJe(this,e,arguments)}return YJe(e,t),HJe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=yl/2,a=yl/6,s=yl/3,l=r.inactive?i:r.color;if(r.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:yl,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(yl,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return de.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yl/8,"h").concat(yl,"v").concat(yl*3/4,"h").concat(-yl,"z"),className:"recharts-legend-icon"});if(de.isValidElement(r.legendIcon)){var c=UJe({},r);return delete c.legendIcon,de.cloneElement(r.legendIcon,c)}return de.createElement(x8,{fill:l,cx:o,cy:o,size:yl,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:yl,height:yl},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,m){var v=h.formatter||l,y=er(Aw(Aw({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var g=xn(h.value)?null:h.value;Yf(!xn(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?c:h.color;return de.createElement("li",W5({className:y,style:f,key:"legend-item-".concat(m)},jC(r.props,h,m)),de.createElement(B5,{width:a,height:a,viewBox:u,style:d},r.renderIcon(h)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v?v(g,h,m):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(A.PureComponent);Aw(b8,"displayName","Legend");Aw(b8,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function $fe(t,e,n){return e===!0?ww(t,n):xn(e)?ww(t,e):t}function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}var ZJe=["ref"];function Oq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oq(Object(n),!0).forEach(function(r){dL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ufe(r.key),r)}}function QJe(t,e,n){return e&&Lq(t.prototype,e),n&&Lq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eQe(t,e,n){return e=zC(e),tQe(t,Ffe()?Reflect.construct(e,n||[],zC(t).constructor):e.apply(t,n))}function tQe(t,e){if(e&&(V0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nQe(t)}function nQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ffe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ffe=function(){return!!t})()}function zC(t){return zC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zC(t)}function rQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H5(t,e)}function H5(t,e){return H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H5(t,e)}function dL(t,e,n){return e=Ufe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ufe(t){var e=iQe(t,"string");return V0(e)=="symbol"?e:e+""}function iQe(t,e){if(V0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(V0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oQe(t,e){if(t==null)return{};var n=aQe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sQe(t){return t.value}function lQe(t,e){if(de.isValidElement(t))return de.cloneElement(t,e);if(typeof t=="function")return de.createElement(t,e);e.ref;var n=oQe(e,ZJe);return de.createElement(b8,n)}var kq=1,s0=function(t){function e(){var n;JJe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=eQe(this,e,[].concat(i)),dL(n,"lastBoundingBox",{width:-1,height:-1}),n}return rQe(e,t),QJe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>kq||Math.abs(i.height-this.lastBoundingBox.height)>kq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?mf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((u||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return mf(mf({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=mf(mf({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},lQe(o,mf(mf({},this.props),{},{payload:$fe(u,c,sQe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=mf(mf({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Tt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(A.PureComponent);dL(s0,"displayName","Legend");dL(s0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function Cw(t){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(t)}function G5(){return G5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G5.apply(this,arguments)}function cQe(t,e){return hQe(t)||dQe(t,e)||fQe(t,e)||uQe()}function uQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQe(t,e){if(t){if(typeof t=="string")return Nq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nq(t,e)}}function Nq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function hQe(t){if(Array.isArray(t))return t}function Iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(n),!0).forEach(function(r){pQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQe(t,e,n){return e=mQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQe(t){var e=gQe(t,"string");return Cw(e)=="symbol"?e:e+""}function gQe(t,e){if(Cw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vQe(t){return Array.isArray(t)&&po(t[0])&&po(t[1])?t.join(" ~ "):t}var yQe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,v=e.label,y=e.labelFormatter,g=e.accessibilityLayer,b=g===void 0?!1:g,x=function(){if(u&&u.length){var U={padding:0,margin:0},V=(d?vM(u,d):u).map(function(z,F){if(z.type==="none")return null;var W=EN({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),X=z.formatter||f||vQe,B=z.value,G=z.name,q=B,te=G;if(X&&q!=null&&te!=null){var Y=X(B,G,z,F,u);if(Array.isArray(Y)){var J=cQe(Y,2);q=J[0],te=J[1]}else q=Y}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:W},po(te)?de.createElement("span",{className:"recharts-tooltip-item-name"},te):null,po(te)?de.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,de.createElement("span",{className:"recharts-tooltip-item-value"},q),de.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:U},V)}return null},_=EN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=EN({margin:0},c),C=!Gn(v),P=C?v:"",I=er("recharts-default-tooltip",h),O=er("recharts-tooltip-label",m);C&&y&&u!==void 0&&u!==null&&(P=y(v,u));var N=b?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",G5({className:I,style:_},N),de.createElement("p",{className:O,style:T},de.isValidElement(P)?P:"".concat(P)),x())};function Pw(t){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(t)}function f2(t,e,n){return e=xQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xQe(t){var e=bQe(t,"string");return Pw(e)=="symbol"?e:e+""}function bQe(t,e){if(Pw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o_="recharts-tooltip-wrapper",_Qe={visibility:"hidden"};function wQe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return er(o_,f2(f2(f2(f2({},"".concat(o_,"-right"),Tt(n)&&e&&Tt(e.x)&&n>=e.x),"".concat(o_,"-left"),Tt(n)&&e&&Tt(e.x)&&n<e.x),"".concat(o_,"-bottom"),Tt(r)&&e&&Tt(e.y)&&r>=e.y),"".concat(o_,"-top"),Tt(r)&&e&&Tt(e.y)&&r<e.y))}function Dq(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Tt(o[r]))return o[r];var u=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?u:f;if(a[r]){var d=u,h=l[r];return d<h?Math.max(f,l[r]):Math.max(u,l[r])}var m=f+s,v=l[r]+c;return m>v?Math.max(u,l[r]):Math.max(f,l[r])}function SQe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function MQe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return a.height>0&&a.width>0&&n?(u=Dq({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=Dq({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=SQe({translateX:u,translateY:f,useTranslate3d:s})):c=_Qe,{cssProperties:c,cssClasses:wQe({translateX:u,translateY:f,coordinate:n})}}function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(n),!0).forEach(function(r){q5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vfe(r.key),r)}}function AQe(t,e,n){return e&&TQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CQe(t,e,n){return e=$C(e),PQe(t,Wfe()?Reflect.construct(e,n||[],$C(t).constructor):e.apply(t,n))}function PQe(t,e){if(e&&(H0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RQe(t)}function RQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wfe=function(){return!!t})()}function $C(t){return $C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$C(t)}function OQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X5(t,e)}function X5(t,e){return X5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X5(t,e)}function q5(t,e,n){return e=Vfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=LQe(t,"string");return H0(e)=="symbol"?e:e+""}function LQe(t,e){if(H0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(H0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zq=1,kQe=function(t){function e(){var n;EQe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=CQe(this,e,[].concat(i)),q5(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),q5(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return OQe(e,t),AQe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>zq||Math.abs(r.height-this.state.lastBoundingBox.height)>zq)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,m=i.position,v=i.reverseDirection,y=i.useTranslate3d,g=i.viewBox,b=i.wrapperStyle,x=MQe({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:g}),_=x.cssClasses,T=x.cssProperties,C=Bq(Bq({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return de.createElement("div",{tabIndex:-1,className:_,style:C,ref:function(I){r.wrapperNode=I}},c)}}])}(A.PureComponent),NQe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},eb={isSsr:NQe()};function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function $q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(n),!0).forEach(function(r){_8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$q(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gfe(r.key),r)}}function jQe(t,e,n){return e&&DQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BQe(t,e,n){return e=FC(e),zQe(t,Hfe()?Reflect.construct(e,n||[],FC(t).constructor):e.apply(t,n))}function zQe(t,e){if(e&&(G0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Qe(t)}function $Qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hfe=function(){return!!t})()}function FC(t){return FC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FC(t)}function FQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y5(t,e)}function Y5(t,e){return Y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y5(t,e)}function _8(t,e,n){return e=Gfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=UQe(t,"string");return G0(e)=="symbol"?e:e+""}function UQe(t,e){if(G0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WQe(t){return t.dataKey}function VQe(t,e){return de.isValidElement(t)?de.cloneElement(t,e):typeof t=="function"?de.createElement(t,e):de.createElement(yQe,e)}var ou=function(t){function e(){return IQe(this,e),BQe(this,e,arguments)}return FQe(e,t),jQe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,m=i.payload,v=i.payloadUniqBy,y=i.position,g=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,T=m??[];f&&T.length&&(T=$fe(m.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),v,WQe));var C=T.length>0;return de.createElement(kQe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:u,hasPayload:C,offset:h,position:y,reverseDirection:g,useTranslate3d:b,viewBox:x,wrapperStyle:_},VQe(c,Fq(Fq({},this.props),{},{payload:T})))}}])}(A.PureComponent);_8(ou,"displayName","Tooltip");_8(ou,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!eb.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HQe=$c,GQe=function(){return HQe.Date.now()},XQe=GQe,qQe=/\s/;function YQe(t){for(var e=t.length;e--&&qQe.test(t.charAt(e)););return e}var KQe=YQe,ZQe=KQe,JQe=/^\s+/;function QQe(t){return t&&t.slice(0,ZQe(t)+1).replace(JQe,"")}var eet=QQe,tet=eet,Uq=Ms,net=Gx,Wq=NaN,ret=/^[-+]0x[0-9a-f]+$/i,iet=/^0b[01]+$/i,oet=/^0o[0-7]+$/i,aet=parseInt;function set(t){if(typeof t=="number")return t;if(net(t))return Wq;if(Uq(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Uq(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=tet(t);var n=iet.test(t);return n||oet.test(t)?aet(t.slice(2),n?2:8):ret.test(t)?Wq:+t}var Xfe=set,cet=Ms,TN=XQe,Vq=Xfe,uet="Expected a function",fet=Math.max,det=Math.min;function het(t,e,n){var r,i,o,a,s,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(uet);e=Vq(e)||0,cet(n)&&(u=!!n.leading,f="maxWait"in n,o=f?fet(Vq(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(C){var P=r,I=i;return r=i=void 0,c=C,a=t.apply(I,P),a}function m(C){return c=C,s=setTimeout(g,e),u?h(C):a}function v(C){var P=C-l,I=C-c,O=e-P;return f?det(O,o-I):O}function y(C){var P=C-l,I=C-c;return l===void 0||P>=e||P<0||f&&I>=o}function g(){var C=TN();if(y(C))return b(C);s=setTimeout(g,v(C))}function b(C){return s=void 0,d&&r?h(C):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function _(){return s===void 0?a:b(TN())}function T(){var C=TN(),P=y(C);if(r=arguments,i=this,l=C,P){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(g,e),h(l)}return s===void 0&&(s=setTimeout(g,e)),a}return T.cancel=x,T.flush=_,T}var pet=het,met=pet,get=Ms,vet="Expected a function";function yet(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(vet);return get(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),met(t,e,{leading:r,maxWait:e,trailing:i})}var xet=yet;const qfe=yn(xet);function Rw(t){"@babel/helpers - typeof";return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(t)}function Hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hq(Object(n),!0).forEach(function(r){bet(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bet(t,e,n){return e=_et(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _et(t){var e=wet(t,"string");return Rw(e)=="symbol"?e:e+""}function wet(t,e){if(Rw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Met(t,e){return Cet(t)||Aet(t,e)||Tet(t,e)||Eet()}function Eet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tet(t,e){if(t){if(typeof t=="string")return Gq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gq(t,e)}}function Gq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aet(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Cet(t){if(Array.isArray(t))return t}var Pet=A.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,d=t.maxHeight,h=t.children,m=t.debounce,v=m===void 0?0:m,y=t.id,g=t.className,b=t.onResize,x=t.style,_=x===void 0?{}:x,T=A.useRef(null),C=A.useRef();C.current=b,A.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var P=A.useState({containerWidth:i.width,containerHeight:i.height}),I=Met(P,2),O=I[0],N=I[1],D=A.useCallback(function(V,z){N(function(F){var W=Math.round(V),X=Math.round(z);return F.containerWidth===W&&F.containerHeight===X?F:{containerWidth:W,containerHeight:X}})},[]);A.useEffect(function(){var V=function(G){var q,te=G[0].contentRect,Y=te.width,J=te.height;D(Y,J),(q=C.current)===null||q===void 0||q.call(C,Y,J)};v>0&&(V=qfe(V,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(V),F=T.current.getBoundingClientRect(),W=F.width,X=F.height;return D(W,X),z.observe(T.current),function(){z.disconnect()}},[D,v]);var U=A.useMemo(function(){var V=O.containerWidth,z=O.containerHeight;if(V<0||z<0)return null;Yf(Bm(a)||Bm(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Yf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Bm(a)?V:a,W=Bm(l)?z:l;n&&n>0&&(F?W=F/n:W&&(F=W*n),d&&W>d&&(W=d)),Yf(F>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,W,a,l,u,f,n);var X=!Array.isArray(h)&&qf(h.type).endsWith("Chart");return de.Children.map(h,function(B){return de.isValidElement(B)?A.cloneElement(B,d2({width:F,height:W},X?{style:d2({height:"100%",width:"100%",maxHeight:W,maxWidth:F},B.props.style)}:{})):B})},[n,h,l,d,f,u,O,a]);return de.createElement("div",{id:y?"".concat(y):void 0,className:er("recharts-responsive-container",g),style:d2(d2({},_),{},{width:a,height:l,minWidth:u,minHeight:f,maxHeight:d}),ref:T},U)}),Yfe=function(e){return null};Yfe.displayName="Cell";function Ow(t){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(t)}function Xq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(n),!0).forEach(function(r){Ret(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ret(t,e,n){return e=Oet(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oet(t){var e=Let(t,"string");return Ow(e)=="symbol"?e:e+""}function Let(t,e){if(Ow(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ow(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jv={widthCache:{},cacheCount:0},ket=2e3,Net={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qq="recharts_measurement_span";function Iet(t){var e=K5({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var m1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||eb.isSsr)return{width:0,height:0};var r=Iet(n),i=JSON.stringify({text:e,copyStyle:r});if(jv.widthCache[i])return jv.widthCache[i];try{var o=document.getElementById(qq);o||(o=document.createElement("span"),o.setAttribute("id",qq),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=K5(K5({},Net),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return jv.widthCache[i]=l,++jv.cacheCount>ket&&(jv.cacheCount=0,jv.widthCache={}),l}catch{return{width:0,height:0}}},Det=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Lw(t){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lw(t)}function UC(t,e){return $et(t)||zet(t,e)||Bet(t,e)||jet()}function jet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bet(t,e){if(t){if(typeof t=="string")return Yq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yq(t,e)}}function Yq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zet(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function $et(t){if(Array.isArray(t))return t}function Fet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wet(r.key),r)}}function Uet(t,e,n){return e&&Kq(t.prototype,e),n&&Kq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wet(t){var e=Vet(t,"string");return Lw(e)=="symbol"?e:e+""}function Vet(t,e){if(Lw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Het=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Get=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Kfe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xet=Object.keys(Kfe),By="NaN";function qet(t,e){return t*Kfe[e]}var h2=function(){function t(e,n){Fet(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Het.test(n)&&(this.num=NaN,this.unit=""),Xet.includes(n)&&(this.num=qet(e,n),this.unit="px")}return Uet(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Get.exec(n))!==null&&r!==void 0?r:[],o=UC(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function Zfe(t){if(t.includes(By))return By;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Zq.exec(e))!==null&&n!==void 0?n:[],i=UC(r,4),o=i[1],a=i[2],s=i[3],l=h2.parse(o??""),c=h2.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return By;e=e.replace(Zq,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=Jq.exec(e))!==null&&f!==void 0?f:[],h=UC(d,4),m=h[1],v=h[2],y=h[3],g=h2.parse(m??""),b=h2.parse(y??""),x=v==="+"?g.add(b):g.subtract(b);if(x.isNaN())return By;e=e.replace(Jq,x.toString())}return e}var Qq=/\(([^()]*)\)/;function Yet(t){for(var e=t;e.includes("(");){var n=Qq.exec(e),r=UC(n,2),i=r[1];e=e.replace(Qq,Zfe(i))}return e}function Ket(t){var e=t.replace(/\s+/g,"");return e=Yet(e),e=Zfe(e),e}function Zet(t){try{return Ket(t)}catch{return By}}function AN(t){var e=Zet(t.slice(5,-1));return e===By?"":e}var Jet=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Qet=["dx","dy","angle","className","breakAll"];function Z5(){return Z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z5.apply(this,arguments)}function eY(t,e){if(t==null)return{};var n=ett(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ett(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tY(t,e){return itt(t)||rtt(t,e)||ntt(t,e)||ttt()}function ttt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ntt(t,e){if(t){if(typeof t=="string")return nY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nY(t,e)}}function nY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rtt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function itt(t){if(Array.isArray(t))return t}var Jfe=/[ \f\n\r\t\v\u2028\u2029]+/,Qfe=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Gn(n)||(r?o=n.toString().split(""):o=n.toString().split(Jfe));var a=o.map(function(l){return{word:l,width:m1(l,i).width}}),s=r?0:m1("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},ott=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=Tt(a),f=s,d=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(W,X){var B=X.word,G=X.width,q=W[W.length-1];if(q&&(i==null||o||q.width+G+r<Number(i)))q.words.push(B),q.width+=G+r;else{var te={words:[B],width:G};W.push(te)}return W},[])},h=d(n),m=function(F){return F.reduce(function(W,X){return W.width>X.width?W:X})};if(!u)return h;for(var v="",y=function(F){var W=f.slice(0,F),X=Qfe({breakAll:c,style:l,children:W+v}).wordsWithComputedWidth,B=d(X),G=B.length>a||m(B).width>Number(i);return[G,B]},g=0,b=f.length-1,x=0,_;g<=b&&x<=f.length-1;){var T=Math.floor((g+b)/2),C=T-1,P=y(C),I=tY(P,2),O=I[0],N=I[1],D=y(T),U=tY(D,1),V=U[0];if(!O&&!V&&(g=T+1),O&&V&&(b=T-1),!O&&V){_=N;break}x++}return _||h},rY=function(e){var n=Gn(e)?[]:e.toString().split(Jfe);return[{words:n}]},att=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!eb.isSsr){var l,c,u=Qfe({breakAll:a,children:i,style:o});if(u){var f=u.wordsWithComputedWidth,d=u.spaceWidth;l=f,c=d}else return rY(i);return ott({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return rY(i)},iY="#808080",WC=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,d=e.textAnchor,h=d===void 0?"start":d,m=e.verticalAnchor,v=m===void 0?"end":m,y=e.fill,g=y===void 0?iY:y,b=eY(e,Jet),x=A.useMemo(function(){return att({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,T=b.dy,C=b.angle,P=b.className,I=b.breakAll,O=eY(b,Qet);if(!po(r)||!po(o))return null;var N=r+(Tt(_)?_:0),D=o+(Tt(T)?T:0),U;switch(v){case"start":U=AN("calc(".concat(c,")"));break;case"middle":U=AN("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:U=AN("calc(".concat(x.length-1," * -").concat(s,")"));break}var V=[];if(f){var z=x[0].width,F=b.width;V.push("scale(".concat((Tt(F)?F/z:1)/z,")"))}return C&&V.push("rotate(".concat(C,", ").concat(N,", ").concat(D,")")),V.length&&(O.transform=V.join(" ")),de.createElement("text",Z5({},Fn(O,!0),{x:N,y:D,className:er("recharts-text",P),textAnchor:h,fill:g.includes("url")?iY:g}),x.map(function(W,X){var B=W.words.join(I?"":" ");return de.createElement("tspan",{x:N,dy:X===0?U:s,key:"".concat(B,"-").concat(X)},B)}))};const oY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:B0,scaleDiverging:cue,scaleDivergingLog:uue,scaleDivergingPow:JU,scaleDivergingSqrt:a8e,scaleDivergingSymlog:fue,scaleIdentity:Pce,scaleImplicit:x5,scaleLinear:lp,scaleLog:PU,scaleOrdinal:Rh,scalePoint:ig,scalePow:kU,scaleQuantile:Lce,scaleQuantize:NU,scaleRadial:Oce,scaleSequential:oue,scaleSequentialLog:aue,scaleSequentialPow:ZU,scaleSequentialQuantile:lue,scaleSequentialSqrt:o8e,scaleSequentialSymlog:sue,scaleSqrt:DFe,scaleSymlog:OU,scaleThreshold:kce,scaleTime:rue,scaleUtc:iue,tickFormat:Cce},Symbol.toStringTag,{value:"Module"}));var stt=Gx;function ltt(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!stt(a):n(a,s)))var s=a,l=o}return l}var ede=ltt;function ctt(t,e){return t>e}var utt=ctt,ftt=ede,dtt=utt,htt=Hx;function ptt(t){return t&&t.length?ftt(t,htt,dtt):void 0}var mtt=ptt;const Lh=yn(mtt);function gtt(t,e){return t<e}var vtt=gtt,ytt=ede,xtt=vtt,btt=Hx;function _tt(t){return t&&t.length?ytt(t,btt,xtt):void 0}var wtt=_tt;const hL=yn(wtt);var Stt=aM,Mtt=_d,Ett=Uue,Ttt=Xo;function Att(t,e){var n=Ttt(t)?Stt:Ett;return n(t,Mtt(e))}var Ctt=Att,Ptt=e8,Rtt=Ctt;function Ott(t,e){return Ptt(Rtt(t,e),1)}var Ltt=Ott;const ktt=yn(Ltt);var tb=1e9,Ntt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},S8,ii=!0,Ul="[DecimalError] ",og=Ul+"Invalid argument: ",w8=Ul+"Exponent out of range: ",nb=Math.floor,bm=Math.pow,Itt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$s,Mo=1e7,Jr=7,tde=9007199254740991,VC=nb(tde/Jr),Ut={};Ut.absoluteValue=Ut.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ut.comparedTo=Ut.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ut.decimalPlaces=Ut.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Jr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ut.dividedBy=Ut.div=function(t){return Kf(this,new this.constructor(t))};Ut.dividedToIntegerBy=Ut.idiv=function(t){var e=this,n=e.constructor;return jr(Kf(e,new n(t),0,1),n.precision)};Ut.equals=Ut.eq=function(t){return!this.cmp(t)};Ut.exponent=function(){return to(this)};Ut.greaterThan=Ut.gt=function(t){return this.cmp(t)>0};Ut.greaterThanOrEqualTo=Ut.gte=function(t){return this.cmp(t)>=0};Ut.isInteger=Ut.isint=function(){return this.e>this.d.length-2};Ut.isNegative=Ut.isneg=function(){return this.s<0};Ut.isPositive=Ut.ispos=function(){return this.s>0};Ut.isZero=function(){return this.s===0};Ut.lessThan=Ut.lt=function(t){return this.cmp(t)<0};Ut.lessThanOrEqualTo=Ut.lte=function(t){return this.cmp(t)<1};Ut.logarithm=Ut.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($s))throw Error(Ul+"NaN");if(n.s<1)throw Error(Ul+(n.s?"NaN":"-Infinity"));return n.eq($s)?new r(0):(ii=!1,e=Kf(kw(n,o),kw(t,o),o),ii=!0,jr(e,i))};Ut.minus=Ut.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ide(e,t):nde(e,(t.s=-t.s,t))};Ut.modulo=Ut.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ul+"NaN");return n.s?(ii=!1,e=Kf(n,t,0,1).times(t),ii=!0,n.minus(e)):jr(new r(n),i)};Ut.naturalExponential=Ut.exp=function(){return rde(this)};Ut.naturalLogarithm=Ut.ln=function(){return kw(this)};Ut.negated=Ut.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ut.plus=Ut.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nde(e,t):ide(e,(t.s=-t.s,t))};Ut.precision=Ut.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(og+t);if(e=to(i)+1,r=i.d.length-1,n=r*Jr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ut.squareRoot=Ut.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ul+"NaN")}for(t=to(s),ii=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=vu(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nb((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Kf(s,o,a+2)).times(.5),vu(o.d).slice(0,a)===(e=vu(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(jr(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return ii=!0,jr(r,n)};Ut.times=Ut.mul=function(t){var e,n,r,i,o,a,s,l,c,u=this,f=u.constructor,d=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=d.length,c=h.length,l<c&&(o=d,d=h,h=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+h[r]*d[i-r-1]+e,o[i--]=s%Mo|0,e=s/Mo|0;o[i]=(o[i]+e)%Mo|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ii?jr(t,f.precision):t};Ut.toDecimalPlaces=Ut.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fu(t,0,tb),e===void 0?e=r.rounding:Fu(e,0,8),jr(n,t+to(n)+1,e))};Ut.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Lg(r,!0):(Fu(t,0,tb),e===void 0?e=i.rounding:Fu(e,0,8),r=jr(new i(r),t+1,e),n=Lg(r,!0,t+1)),n};Ut.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Lg(i):(Fu(t,0,tb),e===void 0?e=o.rounding:Fu(e,0,8),r=jr(new o(i),t+to(i)+1,e),n=Lg(r.abs(),!1,t+to(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ut.toInteger=Ut.toint=function(){var t=this,e=t.constructor;return jr(new e(t),to(t)+1,e.rounding)};Ut.toNumber=function(){return+this};Ut.toPower=Ut.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l($s);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ul+"Infinity");return s}if(s.eq($s))return s;if(r=l.precision,t.eq($s))return jr(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=u<0?-u:u)<=tde){for(i=new l($s),e=Math.ceil(r/Jr+4),ii=!1;n%2&&(i=i.times(s),sY(i.d,e)),n=nb(n/2),n!==0;)s=s.times(s),sY(s.d,e);return ii=!0,t.s<0?new l($s).div(i):jr(i,r)}}else if(o<0)throw Error(Ul+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ii=!1,i=t.times(kw(s,r+c)),ii=!0,i=rde(i),i.s=o,i};Ut.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=to(i),r=Lg(i,n<=o.toExpNeg||n>=o.toExpPos)):(Fu(t,1,tb),e===void 0?e=o.rounding:Fu(e,0,8),i=jr(new o(i),t,e),n=to(i),r=Lg(i,t<=n||n<=o.toExpNeg,t)),r};Ut.toSignificantDigits=Ut.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fu(t,1,tb),e===void 0?e=r.rounding:Fu(e,0,8)),jr(new r(n),t,e)};Ut.toString=Ut.valueOf=Ut.val=Ut.toJSON=Ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=to(t),n=t.constructor;return Lg(t,e<=n.toExpNeg||e>=n.toExpPos)};function nde(t,e){var n,r,i,o,a,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),ii?jr(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(f/Jr),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Mo|0,l[o]%=Mo;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ii?jr(e,f):e}function Fu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(og+t)}function vu(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Jr-r.length,n&&(o+=dh(n)),o+=r;a=t[e],r=a+"",n=Jr-r.length,n&&(o+=dh(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Kf=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Mo|0,a=o/Mo|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Mo+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,f,d,h,m,v,y,g,b,x,_,T,C,P,I,O=r.constructor,N=r.s==i.s?1:-1,D=r.d,U=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Ul+"Division by zero");for(l=r.e-i.e,P=U.length,T=D.length,h=new O(N),m=h.d=[],c=0;U[c]==(D[c]||0);)++c;if(U[c]>(D[c]||0)&&--l,o==null?b=o=O.precision:a?b=o+(to(r)-to(i))+1:b=o,b<0)return new O(0);if(b=b/Jr+2|0,c=0,P==1)for(u=0,U=U[0],b++;(c<T||u)&&b--;c++)x=u*Mo+(D[c]||0),m[c]=x/U|0,u=x%U|0;else{for(u=Mo/(U[0]+1)|0,u>1&&(U=t(U,u),D=t(D,u),P=U.length,T=D.length),_=P,v=D.slice(0,P),y=v.length;y<P;)v[y++]=0;I=U.slice(),I.unshift(0),C=U[0],U[1]>=Mo/2&&++C;do u=0,s=e(U,v,P,y),s<0?(g=v[0],P!=y&&(g=g*Mo+(v[1]||0)),u=g/C|0,u>1?(u>=Mo&&(u=Mo-1),f=t(U,u),d=f.length,y=v.length,s=e(f,v,d,y),s==1&&(u--,n(f,P<d?I:U,d))):(u==0&&(s=u=1),f=U.slice()),d=f.length,d<y&&f.unshift(0),n(v,f,y),s==-1&&(y=v.length,s=e(U,v,P,y),s<1&&(u++,n(v,P<y?I:U,y))),y=v.length):s===0&&(u++,v=[0]),m[c++]=u,s&&v[0]?v[y++]=D[_]||0:(v=[D[_]],y=1);while((_++<T||v[0]!==void 0)&&b--)}return m[0]||m.shift(),h.e=l,jr(h,a?o+to(h)+1:o)}}();function rde(t,e){var n,r,i,o,a,s,l=0,c=0,u=t.constructor,f=u.precision;if(to(t)>16)throw Error(w8+to(t));if(!t.s)return new u($s);for(ii=!1,s=f,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(bm(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u($s),u.precision=s;;){if(i=jr(i.times(t),s),n=n.times(++l),a=o.plus(Kf(i,n,s)),vu(a.d).slice(0,s)===vu(o.d).slice(0,s)){for(;c--;)o=jr(o.times(o),s);return u.precision=f,e==null?(ii=!0,jr(o,f)):o}o=a}}function to(t){for(var e=t.e*Jr,n=t.d[0];n>=10;n/=10)e++;return e}function CN(t,e,n){if(e>t.LN10.sd())throw ii=!0,n&&(t.precision=n),Error(Ul+"LN10 precision limit exceeded");return jr(new t(t.LN10),e)}function dh(t){for(var e="";t--;)e+="0";return e}function kw(t,e){var n,r,i,o,a,s,l,c,u,f=1,d=10,h=t,m=h.d,v=h.constructor,y=v.precision;if(h.s<1)throw Error(Ul+(h.s?"NaN":"-Infinity"));if(h.eq($s))return new v(0);if(e==null?(ii=!1,c=y):c=e,h.eq(10))return e==null&&(ii=!0),CN(v,c);if(c+=d,v.precision=c,n=vu(m),r=n.charAt(0),o=to(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=vu(h.d),r=n.charAt(0),f++;o=to(h),r>1?(h=new v("0."+n),o++):h=new v(r+"."+n.slice(1))}else return l=CN(v,c+2,y).times(o+""),h=kw(new v(r+"."+n.slice(1)),c-d).plus(l),v.precision=y,e==null?(ii=!0,jr(h,y)):h;for(s=a=h=Kf(h.minus($s),h.plus($s),c),u=jr(h.times(h),c),i=3;;){if(a=jr(a.times(u),c),l=s.plus(Kf(a,new v(i),c)),vu(l.d).slice(0,c)===vu(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(CN(v,c+2,y).times(o+""))),s=Kf(s,new v(f),c),v.precision=y,e==null?(ii=!0,jr(s,y)):s;s=l,i+=2}}function aY(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nb(n/Jr),t.d=[],r=(n+1)%Jr,n<0&&(r+=Jr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Jr;r<i;)t.d.push(+e.slice(r,r+=Jr));e=e.slice(r),r=Jr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ii&&(t.e>VC||t.e<-VC))throw Error(w8+n)}else t.s=0,t.e=0,t.d=[0];return t}function jr(t,e,n){var r,i,o,a,s,l,c,u,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Jr,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Jr),o=f.length,u>=o)return t;for(c=o=f[u],a=1;o>=10;o/=10)a++;r%=Jr,i=r-Jr+a}if(n!==void 0&&(o=bm(10,a-i-1),s=c/o%10|0,l=e<0||f[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/bm(10,a-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=to(t),f.length=1,e=e-o-1,f[0]=bm(10,(Jr-e%Jr)%Jr),t.e=nb(-e/Jr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,o=1,u--):(f.length=u+1,o=bm(10,Jr-r),f[u]=i>0?(c/bm(10,a-i)%bm(10,i)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==Mo&&(f[0]=1,++t.e);break}else{if(f[u]+=o,f[u]!=Mo)break;f[u--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ii&&(t.e>VC||t.e<-VC))throw Error(w8+to(t));return t}function ide(t,e){var n,r,i,o,a,s,l,c,u,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),ii?jr(e,h):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(h/Jr),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Mo-1;--l[o],l[i]+=Mo}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ii?jr(e,h):e):new d(0)}function Lg(t,e,n){var r,i=to(t),o=vu(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+dh(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+dh(-i-1)+o,n&&(r=n-a)>0&&(o+=dh(r))):i>=a?(o+=dh(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+dh(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=dh(r))),t.s<0?"-"+o:o}function sY(t,e){if(t.length>e)return t.length=e,!0}function ode(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(og+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return aY(a,o.toString())}else if(typeof o!="string")throw Error(og+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Itt.test(o))aY(a,o);else throw Error(og+o)}if(i.prototype=Ut,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ode,i.config=i.set=Dtt,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Dtt(t){if(!t||typeof t!="object")throw Error(Ul+"Object expected");var e,n,r,i=["precision",1,tb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nb(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(og+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(og+n+": "+r);return this}var S8=ode(Ntt);$s=new S8(1);const Pr=S8;function jtt(t){return Ftt(t)||$tt(t)||ztt(t)||Btt()}function Btt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ztt(t,e){if(t){if(typeof t=="string")return J5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J5(t,e)}}function $tt(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ftt(t){if(Array.isArray(t))return J5(t)}function J5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Utt=function(e){return e},ade={},sde=function(e){return e===ade},lY=function(e){return function n(){return arguments.length===0||arguments.length===1&&sde(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Wtt=function t(e,n){return e===1?n:lY(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==ade}).length;return a>=e?n.apply(void 0,i):t(e-a,lY(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return sde(f)?l.shift():f});return n.apply(void 0,jtt(u).concat(l))}))})},pL=function(e){return Wtt(e.length,e)},Q5=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Vtt=pL(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Htt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Utt;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},ej=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lde=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Gtt(t){var e;return t===0?e=1:e=Math.floor(new Pr(t).abs().log(10).toNumber())+1,e}function Xtt(t,e,n){for(var r=new Pr(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var qtt=pL(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ytt=pL(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ktt=pL(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const mL={rangeStep:Xtt,getDigitCount:Gtt,interpolateNumber:qtt,uninterpolateNumber:Ytt,uninterpolateTruncation:Ktt};function tj(t){return Qtt(t)||Jtt(t)||cde(t)||Ztt()}function Ztt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jtt(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qtt(t){if(Array.isArray(t))return nj(t)}function Nw(t,e){return nnt(t)||tnt(t,e)||cde(t,e)||ent()}function ent(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cde(t,e){if(t){if(typeof t=="string")return nj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nj(t,e)}}function nj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tnt(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function nnt(t){if(Array.isArray(t))return t}function ude(t){var e=Nw(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function fde(t,e,n){if(t.lte(0))return new Pr(0);var r=mL.getDigitCount(t.toNumber()),i=new Pr(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Pr(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Pr(Math.ceil(l))}function rnt(t,e,n){var r=1,i=new Pr(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Pr(10).pow(mL.getDigitCount(t)-1),i=new Pr(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Pr(Math.floor(t)))}else t===0?i=new Pr(Math.floor((e-1)/2)):n||(i=new Pr(Math.floor(t)));var a=Math.floor((e-1)/2),s=Htt(Vtt(function(l){return i.add(new Pr(l-a).mul(r)).toNumber()}),Q5);return s(0,e)}function dde(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Pr(0),tickMin:new Pr(0),tickMax:new Pr(0)};var o=fde(new Pr(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Pr(0):(a=new Pr(t).add(e).div(2),a=a.sub(new Pr(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Pr(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?dde(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new Pr(s).mul(o)),tickMax:a.add(new Pr(l).mul(o))})}function int(t){var e=Nw(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=ude([n,r]),l=Nw(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(tj(Q5(0,i-1).map(function(){return 1/0}))):[].concat(tj(Q5(0,i-1).map(function(){return-1/0})),[u]);return n>r?ej(f):f}if(c===u)return rnt(c,i,o);var d=dde(c,u,a,o),h=d.step,m=d.tickMin,v=d.tickMax,y=mL.rangeStep(m,v.add(new Pr(.1).mul(h)),h);return n>r?ej(y):y}function ont(t,e){var n=Nw(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=ude([r,i]),s=Nw(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=fde(new Pr(c).sub(l).div(u-1),o,0),d=[].concat(tj(mL.rangeStep(new Pr(l),new Pr(c).sub(new Pr(.99).mul(f)),f)),[c]);return r>i?ej(d):d}var ant=lde(int),snt=lde(ont),lnt="Invariant failed";function kg(t,e){throw new Error(lnt)}var cnt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function HC(){return HC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HC.apply(this,arguments)}function unt(t,e){return pnt(t)||hnt(t,e)||dnt(t,e)||fnt()}function fnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dnt(t,e){if(t){if(typeof t=="string")return cY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cY(t,e)}}function cY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hnt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function pnt(t){if(Array.isArray(t))return t}function mnt(t,e){if(t==null)return{};var n=gnt(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gnt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ynt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mde(r.key),r)}}function xnt(t,e,n){return e&&ynt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bnt(t,e,n){return e=GC(e),_nt(t,hde()?Reflect.construct(e,n||[],GC(t).constructor):e.apply(t,n))}function _nt(t,e){if(e&&(X0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wnt(t)}function wnt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hde=function(){return!!t})()}function GC(t){return GC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GC(t)}function Snt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rj(t,e)}function rj(t,e){return rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rj(t,e)}function pde(t,e,n){return e=mde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=Mnt(t,"string");return X0(e)=="symbol"?e:e+""}function Mnt(t,e){if(X0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(X0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gL=function(t){function e(){return vnt(this,e),bnt(this,e,arguments)}return Snt(e,t),xnt(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,d=mnt(r,cnt),h=Fn(d,!1);this.props.direction==="x"&&u.type!=="number"&&kg();var m=l.map(function(v){var y=c(v,s),g=y.x,b=y.y,x=y.value,_=y.errorVal;if(!_)return null;var T=[],C,P;if(Array.isArray(_)){var I=unt(_,2);C=I[0],P=I[1]}else C=P=_;if(o==="vertical"){var O=u.scale,N=b+i,D=N+a,U=N-a,V=O(x-C),z=O(x+P);T.push({x1:z,y1:D,x2:z,y2:U}),T.push({x1:V,y1:N,x2:z,y2:N}),T.push({x1:V,y1:D,x2:V,y2:U})}else if(o==="horizontal"){var F=f.scale,W=g+i,X=W-a,B=W+a,G=F(x-C),q=F(x+P);T.push({x1:X,y1:q,x2:B,y2:q}),T.push({x1:W,y1:G,x2:W,y2:q}),T.push({x1:X,y1:G,x2:B,y2:G})}return de.createElement(di,HC({className:"recharts-errorBar",key:"bar-".concat(T.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},h),T.map(function(te){return de.createElement("line",HC({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return de.createElement(di,{className:"recharts-errorBars"},m)}}])}(de.Component);pde(gL,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pde(gL,"displayName","ErrorBar");function Iw(t){"@babel/helpers - typeof";return Iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iw(t)}function uY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uY(Object(n),!0).forEach(function(r){Ent(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ent(t,e,n){return e=Tnt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tnt(t){var e=Ant(t,"string");return Iw(e)=="symbol"?e:e+""}function Ant(t,e){if(Iw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gde=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=js(n,s0);if(!a)return null;var s=s0.defaultProps,l=s!==void 0?rm(rm({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,f){var d=f.item,h=f.props,m=h.sectors||h.data||[];return u.concat(m.map(function(v){return{type:a.props.iconType||d.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(r||[]).map(function(u){var f=u.item,d=f.type.defaultProps,h=d!==void 0?rm(rm({},d),f.props):{},m=h.dataKey,v=h.name,y=h.legendType,g=h.hide;return{inactive:g,dataKey:m,type:l.iconType||y||"square",color:M8(f),value:v||m,payload:h}}),rm(rm(rm({},l),s0.getWithHeight(a,i)),{},{payload:c,item:a})};function Dw(t){"@babel/helpers - typeof";return Dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dw(t)}function fY(t){return Ont(t)||Rnt(t)||Pnt(t)||Cnt()}function Cnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pnt(t,e){if(t){if(typeof t=="string")return ij(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ij(t,e)}}function Rnt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ont(t){if(Array.isArray(t))return ij(t)}function ij(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dY(Object(n),!0).forEach(function(r){l0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0(t,e,n){return e=Lnt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lnt(t){var e=knt(t,"string");return Dw(e)=="symbol"?e:e+""}function knt(t,e){if(Dw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Js(t,e,n){return Gn(t)||Gn(e)?n:po(e)?Ci(t,e,n):xn(e)?e(t):n}function g1(t,e,n,r){var i=ktt(t,function(s){return Js(s,e)});if(n==="number"){var o=i.filter(function(s){return Tt(s)||parseFloat(s)});return o.length?[hL(o),Lh(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Gn(s)}):i;return a.map(function(s){return po(s)||s instanceof Date?s:""})}var Nnt=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,d=c>=s-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(Ec(f-u)!==Ec(d-f)){var m=[];if(Ec(d-f)===Ec(l[1]-l[0])){h=d;var v=f+l[1]-l[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{h=u;var y=d+l[1]-l[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var g=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){a=i[c].index;break}}else{var b=Math.min(u,d),x=Math.max(u,d);if(e>(b+f)/2&&e<=(x+f)/2){a=i[c].index;break}}}else for(var _=0;_<s;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<s-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===s-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){a=r[_].index;break}return a},M8=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ei(Ei({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Int=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,f=Object.keys(u),d=0,h=f.length;d<h;d++){var m=u[f[d]],v=m.items,y=m.cateAxisId,g=v.filter(function(P){return qf(P.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,x=b!==void 0?Ei(Ei({},b),g[0].props):g[0].props,_=x.barSize,T=x[y];a[T]||(a[T]=[]);var C=Gn(_)?n:_;a[T].push({item:g[0],stackList:g.slice(1),barSize:Gn(C)?void 0:Og(C,r,0)})}}return a},Dnt=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=Og(n,i,0,!0),u,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,h=i/l,m=a.reduce(function(_,T){return _+T.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&h>0&&(d=!0,h*=.9,m=l*h);var v=(i-m)/2>>0,y={offset:v-c,size:0};u=a.reduce(function(_,T){var C={item:T.item,position:{offset:y.offset+y.size+c,size:d?h:T.barSize}},P=[].concat(fY(_),[C]);return y=P[P.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(I){P.push({item:I,position:y})}),P},f)}else{var g=Og(r,i,0,!0);i-2*g-(l-1)*c<=0&&(c=0);var b=(i-2*g-(l-1)*c)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;u=a.reduce(function(_,T,C){var P=[].concat(fY(_),[{item:T.item,position:{offset:g+(b+c)*C+(b-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},f)}return u},jnt=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=gde({children:o,legendWidth:l});if(c){var u=i||{},f=u.width,d=u.height,h=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&h!=="center"&&Tt(e[h]))return Ei(Ei({},e),{},l0({},h,e[h]+(f||0)));if((v==="horizontal"||v==="vertical"&&h==="center")&&m!=="middle"&&Tt(e[m]))return Ei(Ei({},e),{},l0({},m,e[m]+(d||0)))}return e},Bnt=function(e,n,r){return Gn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},vde=function(e,n,r,i,o){var a=n.props.children,s=Oc(a,gL).filter(function(c){return Bnt(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Js(u,r);if(Gn(f))return c;var d=Array.isArray(f)?[hL(f),Lh(f)]:[f,f],h=l.reduce(function(m,v){var y=Js(u,v,0),g=d[0]-Math.abs(Array.isArray(y)?y[0]:y),b=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(g,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},znt=function(e,n,r,i,o){var a=n.map(function(s){return vde(e,s,r,o,i)}).filter(function(s){return!Gn(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},yde=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&vde(e,l,c,i)||g1(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},xde=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},bde=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Bf=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ec(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+c,value:f,offset:c}});return u.filter(function(f){return!Qx(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+c,value:f,index:d,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,d){return{coordinate:i(f)+c,value:o?o[f]:f,index:d,offset:c}})},PN=new WeakMap,p2=function(e,n){if(typeof n!="function")return e;PN.has(e)||PN.set(e,new WeakMap);var r=PN.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},$nt=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:B0(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:lp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ig(),realScaleType:"point"}:o==="category"?{scale:B0(),realScaleType:"band"}:{scale:lp(),realScaleType:"linear"};if(op(i)){var l="scale".concat(fL(i));return{scale:(oY[l]||ig)(),realScaleType:oY[l]?l:"point"}}return xn(i)?{scale:i}:{scale:ig(),realScaleType:"point"}},hY=1e-4,Fnt=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-hY,a=Math.max(i[0],i[1])+hY,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Unt=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Wnt=function(e,n){if(!n||n.length!==2||!Tt(n[0])||!Tt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Tt(e[0])||e[0]<r)&&(o[0]=r),(!Tt(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Vnt=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Qx(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Hnt=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Qx(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Gnt={sign:Vnt,expand:hce,none:Tg,silhouette:mce,wiggle:gce,positive:Hnt},Xnt=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Gnt[r],a=SU().keys(i).value(function(s,l){return+Js(s,l,0)}).order(Ag).offset(o);return a(e)},qnt=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(f,d){var h,m=(h=d.type)!==null&&h!==void 0&&h.defaultProps?Ei(Ei({},d.type.defaultProps),d.props):d.props,v=m.stackId,y=m.hide;if(y)return f;var g=m[r],b=f[g]||{hasStack:!1,stackGroups:{}};if(po(v)){var x=b.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(d),b.hasStack=!0,b.stackGroups[v]=x}else b.stackGroups[bM("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Ei(Ei({},f),{},l0({},g,b))},l),u={};return Object.keys(c).reduce(function(f,d){var h=c[d];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(v,y){var g=h.stackGroups[y];return Ei(Ei({},v),{},l0({},y,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:Xnt(e,g.items,o)}))},m)}return Ei(Ei({},f),{},l0({},d,h))},u)},Ynt=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=ant(c,o,s);return e.domain([hL(u),Lh(u)]),{niceTicks:u}}if(o&&i==="number"){var f=e.domain(),d=snt(f,o,s);return{niceTicks:d}}return null};function pY(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gn(i[e.dataKey])){var s=IC(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Js(i,Gn(a)?e.dataKey:a);return Gn(l)?null:e.scale(l)}var mY=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Js(a,n.dataKey,n.domain[s]);return Gn(l)?null:n.scale(l)-o/2+i},Knt=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Znt=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ei(Ei({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(po(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Jnt=function(e){return e.reduce(function(n,r){return[hL(r.concat([n[0]]).filter(Tt)),Lh(r.concat([n[1]]).filter(Tt))]},[1/0,-1/0])},_de=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,u){var f=Jnt(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},gY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oj=function(e,n,r){if(xn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Tt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(gY.test(e[0])){var o=+gY.exec(e[0])[1];i[0]=n[0]-o}else xn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Tt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(vY.test(e[1])){var a=+vY.exec(e[1])[1];i[1]=n[1]+a}else xn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},XC=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=vM(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},yY=function(e,n,r){return!e||!e.length||U0(e,Ci(r,"type.defaultProps.domain"))?n:e},wde=function(e,n){var r=e.type.defaultProps?Ei(Ei({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Ei(Ei({},Fn(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:M8(e),value:Js(n,i),type:l,payload:n,chartType:c,hide:u})};function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function xY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xY(Object(n),!0).forEach(function(r){Qnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qnt(t,e,n){return e=ert(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ert(t){var e=trt(t,"string");return jw(e)=="symbol"?e:e+""}function trt(t,e){if(jw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qC=Math.PI/180,nrt=function(e){return e*180/Math.PI},Vo=function(e,n,r,i){return{x:e+Math.cos(-qC*i)*r,y:n+Math.sin(-qC*i)*r}},rrt=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},irt=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=rrt({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:nrt(c),angleInRadian:c}},ort=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},art=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},_Y=function(e,n){var r=e.x,i=e.y,o=irt({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=ort(n),f=u.startAngle,d=u.endAngle,h=s,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?bY(bY({},n),{},{radius:a,angle:art(h,n)}):null};function Bw(t){"@babel/helpers - typeof";return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bw(t)}var srt=["offset"];function lrt(t){return drt(t)||frt(t)||urt(t)||crt()}function crt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function urt(t,e){if(t){if(typeof t=="string")return aj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aj(t,e)}}function frt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function drt(t){if(Array.isArray(t))return aj(t)}function aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hrt(t,e){if(t==null)return{};var n=prt(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function prt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wY(Object(n),!0).forEach(function(r){mrt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mrt(t,e,n){return e=grt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function grt(t){var e=vrt(t,"string");return Bw(e)=="symbol"?e:e+""}function vrt(t,e){if(Bw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}var yrt=function(e){var n=e.value,r=e.formatter,i=Gn(e.children)?n:e.children;return xn(r)?r(i):i},xrt=function(e,n){var r=Ec(n-e),i=Math.min(Math.abs(n-e),360);return r*i},brt=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,m=l.endAngle,v=l.clockWise,y=(f+d)/2,g=xrt(h,m),b=g>=0?1:-1,x,_;i==="insideStart"?(x=h+b*a,_=v):i==="insideEnd"?(x=m-b*a,_=!v):i==="end"&&(x=m+b*a,_=v),_=g<=0?_:!_;var T=Vo(c,u,y,x),C=Vo(c,u,y,x+(_?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),I=Gn(e.id)?bM("recharts-radial-line-"):e.id;return de.createElement("text",zw({},r,{dominantBaseline:"central",className:er("recharts-radial-bar-label",s)}),de.createElement("defs",null,de.createElement("path",{id:I,d:P})),de.createElement("textPath",{xlinkHref:"#".concat(I)},n))},_rt=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,d=(u+f)/2;if(i==="outside"){var h=Vo(a,s,c+r,d),m=h.x,v=h.y;return{x:m,y:v,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,g=Vo(a,s,y,d),b=g.x,x=g.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},wrt=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,u=a.height,f=u>=0?1:-1,d=f*i,h=f>0?"end":"start",m=f>0?"start":"end",v=c>=0?1:-1,y=v*i,g=v>0?"end":"start",b=v>0?"start":"end";if(o==="top"){var x={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return lo(lo({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var _={x:s+c/2,y:l+u+d,textAnchor:"middle",verticalAnchor:m};return lo(lo({},_),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var T={x:s-y,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return lo(lo({},T),r?{width:Math.max(T.x-r.x,0),height:u}:{})}if(o==="right"){var C={x:s+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return lo(lo({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:u}:{})}var P=r?{width:c,height:u}:{};return o==="insideLeft"?lo({x:s+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},P):o==="insideRight"?lo({x:s+c-y,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},P):o==="insideTop"?lo({x:s+c/2,y:l+d,textAnchor:"middle",verticalAnchor:m},P):o==="insideBottom"?lo({x:s+c/2,y:l+u-d,textAnchor:"middle",verticalAnchor:h},P):o==="insideTopLeft"?lo({x:s+y,y:l+d,textAnchor:b,verticalAnchor:m},P):o==="insideTopRight"?lo({x:s+c-y,y:l+d,textAnchor:g,verticalAnchor:m},P):o==="insideBottomLeft"?lo({x:s+y,y:l+u-d,textAnchor:b,verticalAnchor:h},P):o==="insideBottomRight"?lo({x:s+c-y,y:l+u-d,textAnchor:g,verticalAnchor:h},P):zx(o)&&(Tt(o.x)||Bm(o.x))&&(Tt(o.y)||Bm(o.y))?lo({x:s+Og(o.x,c),y:l+Og(o.y,u),textAnchor:"end",verticalAnchor:"end"},P):lo({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Srt=function(e){return"cx"in e&&Tt(e.cx)};function da(t){var e=t.offset,n=e===void 0?5:e,r=hrt(t,srt),i=lo({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,d=i.textBreakAll;if(!o||Gn(s)&&Gn(l)&&!A.isValidElement(c)&&!xn(c))return null;if(A.isValidElement(c))return A.cloneElement(c,i);var h;if(xn(c)){if(h=A.createElement(c,i),A.isValidElement(h))return h}else h=yrt(i);var m=Srt(o),v=Fn(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return brt(i,h,v);var y=m?_rt(i):wrt(i);return de.createElement(WC,zw({className:er("recharts-label",f)},v,y,{breakAll:d}),h)}da.displayName="Label";var Sde=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,d=e.y,h=e.top,m=e.left,v=e.width,y=e.height,g=e.clockWise,b=e.labelViewBox;if(b)return b;if(Tt(v)&&Tt(y)){if(Tt(f)&&Tt(d))return{x:f,y:d,width:v,height:y};if(Tt(h)&&Tt(m))return{x:h,y:m,width:v,height:y}}return Tt(f)&&Tt(d)?{x:f,y:d,width:0,height:0}:Tt(n)&&Tt(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:g}:e.viewBox?e.viewBox:{}},Mrt=function(e,n){return e?e===!0?de.createElement(da,{key:"label-implicit",viewBox:n}):po(e)?de.createElement(da,{key:"label-implicit",viewBox:n,value:e}):A.isValidElement(e)?e.type===da?A.cloneElement(e,{key:"label-implicit",viewBox:n}):de.createElement(da,{key:"label-implicit",content:e,viewBox:n}):xn(e)?de.createElement(da,{key:"label-implicit",content:e,viewBox:n}):zx(e)?de.createElement(da,zw({viewBox:n},e,{key:"label-implicit"})):null:null},Ert=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=Sde(e),a=Oc(i,da).map(function(l,c){return A.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=Mrt(e.label,n||o);return[s].concat(lrt(a))};da.parseViewBox=Sde;da.renderCallByParent=Ert;function $w(t){"@babel/helpers - typeof";return $w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$w(t)}var Trt=["valueAccessor"],Art=["data","dataKey","clockWise","id","textBreakAll"];function Crt(t){return Lrt(t)||Ort(t)||Rrt(t)||Prt()}function Prt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rrt(t,e){if(t){if(typeof t=="string")return sj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sj(t,e)}}function Ort(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lrt(t){if(Array.isArray(t))return sj(t)}function sj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YC.apply(this,arguments)}function SY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SY(Object(n),!0).forEach(function(r){krt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function krt(t,e,n){return e=Nrt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nrt(t){var e=Irt(t,"string");return $w(e)=="symbol"?e:e+""}function Irt(t,e){if($w(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($w(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EY(t,e){if(t==null)return{};var n=Drt(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Drt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jrt=function(e){return Array.isArray(e.value)?Qt(e.value):e.value};function Gh(t){var e=t.valueAccessor,n=e===void 0?jrt:e,r=EY(t,Trt),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=EY(r,Art);return!i||!i.length?null:de.createElement(di,{className:"recharts-label-list"},i.map(function(u,f){var d=Gn(o)?n(u,f):Js(u&&u.payload,o),h=Gn(s)?{}:{id:"".concat(s,"-").concat(f)};return de.createElement(da,YC({},Fn(u,!0),c,h,{parentViewBox:u.parentViewBox,value:d,textBreakAll:l,viewBox:da.parseViewBox(Gn(a)?u:MY(MY({},u),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Gh.displayName="LabelList";function Brt(t,e){return t?t===!0?de.createElement(Gh,{key:"labelList-implicit",data:e}):de.isValidElement(t)||xn(t)?de.createElement(Gh,{key:"labelList-implicit",data:e,content:t}):zx(t)?de.createElement(Gh,YC({data:e},t,{key:"labelList-implicit"})):null:null}function zrt(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Oc(r,Gh).map(function(a,s){return A.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Brt(t.label,e);return[o].concat(Crt(i))}Gh.renderCallByParent=zrt;function Fw(t){"@babel/helpers - typeof";return Fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fw(t)}function lj(){return lj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lj.apply(this,arguments)}function TY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TY(Object(n),!0).forEach(function(r){$rt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $rt(t,e,n){return e=Frt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Frt(t){var e=Urt(t,"string");return Fw(e)=="symbol"?e:e+""}function Urt(t,e){if(Fw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wrt=function(e,n){var r=Ec(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},m2=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/qC,d=c?o:o+a*f,h=Vo(n,r,u,d),m=Vo(n,r,i,d),v=c?o-a*f:o,y=Vo(n,r,u*Math.cos(f*qC),v);return{center:h,circleTangency:m,lineTangency:y,theta:f}},Mde=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Wrt(a,s),c=a+l,u=Vo(n,r,o,a),f=Vo(n,r,o,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Vo(n,r,i,a),m=Vo(n,r,i,c);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Vrt=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Ec(u-c),d=m2({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),h=d.circleTangency,m=d.lineTangency,v=d.theta,y=m2({cx:n,cy:r,radius:o,angle:u,sign:-f,cornerRadius:a,cornerIsExternal:l}),g=y.circleTangency,b=y.lineTangency,x=y.theta,_=l?Math.abs(c-u):Math.abs(c-u)-v-x;if(_<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Mde({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var T="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var C=m2({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=C.circleTangency,I=C.lineTangency,O=C.theta,N=m2({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),D=N.circleTangency,U=N.lineTangency,V=N.theta,z=l?Math.abs(c-u):Math.abs(c-u)-O-V;if(z<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Hrt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ede=function(e){var n=AY(AY({},Hrt),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,d=n.className;if(a<o||u===f)return null;var h=er("recharts-sector",d),m=a-o,v=Og(s,m,0,!0),y;return v>0&&Math.abs(u-f)<360?y=Vrt({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):y=Mde({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:f}),de.createElement("path",lj({},Fn(n,!0),{className:h,d:y,role:"img"}))};function Uw(t){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(t)}function cj(){return cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cj.apply(this,arguments)}function CY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CY(Object(n),!0).forEach(function(r){Grt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Grt(t,e,n){return e=Xrt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xrt(t){var e=qrt(t,"string");return Uw(e)=="symbol"?e:e+""}function qrt(t,e){if(Uw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RY={curveBasisClosed:Zle,curveBasisOpen:Qle,curveBasis:Yle,curveBumpX:T$e,curveBumpY:A$e,curveLinearClosed:oce,curveLinear:fM,curveMonotoneX:_U,curveMonotoneY:wU,curveNatural:cce,curveStep:uce,curveStepAfter:dce,curveStepBefore:fce},g2=function(e){return e.x===+e.x&&e.y===+e.y},a_=function(e){return e.x},s_=function(e){return e.y},Yrt=function(e,n){if(xn(e))return e;var r="curve".concat(fL(e));return(r==="curveMonotone"||r==="curveBump")&&n?RY["".concat(r).concat(n==="vertical"?"Y":"X")]:RY[r]||fM},Krt=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Yrt(r,s),f=c?o.filter(function(v){return g2(v)}):o,d;if(Array.isArray(a)){var h=c?a.filter(function(v){return g2(v)}):a,m=f.map(function(v,y){return PY(PY({},v),{},{base:h[y]})});return s==="vertical"?d=Dy().y(s_).x1(a_).x0(function(v){return v.base.x}):d=Dy().x(a_).y1(s_).y0(function(v){return v.base.y}),d.defined(g2).curve(u),d(m)}return s==="vertical"&&Tt(a)?d=Dy().y(s_).x1(a_).x0(a):Tt(a)?d=Dy().x(a_).y1(s_).y0(a):d=Eg().x(a_).y(s_),d.defined(g2).curve(u),d(f)},v1=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Krt(e):i;return A.createElement("path",cj({},Fn(e,!1),DC(e),{className:er("recharts-curve",n),d:a,ref:o}))},Tde={exports:{}},Zrt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jrt=Zrt,Qrt=Jrt;function Ade(){}function Cde(){}Cde.resetWarningCache=Ade;var eit=function(){function t(r,i,o,a,s,l){if(l!==Qrt){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Cde,resetWarningCache:Ade};return n.PropTypes=n,n};Tde.exports=eit();var tit=Tde.exports;const gr=yn(tit),{getOwnPropertyNames:nit,getOwnPropertySymbols:rit}=Object,{hasOwnProperty:iit}=Object.prototype;function RN(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function v2(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function oit(t){return t!=null?t[Symbol.toStringTag]:void 0}function OY(t){return nit(t).concat(rit(t))}const ait=Object.hasOwn||((t,e)=>iit.call(t,e));function ov(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const sit="__v",lit="__o",cit="_owner",{getOwnPropertyDescriptor:LY,keys:kY}=Object;function uit(t,e){return t.byteLength===e.byteLength&&KC(new Uint8Array(t),new Uint8Array(e))}function fit(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function dit(t,e){return t.byteLength===e.byteLength&&KC(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function hit(t,e){return ov(t.getTime(),e.getTime())}function pit(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mit(t,e){return t===e}function NY(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const c=e.entries();let u=!1,f=0;for(;(s=c.next())&&!s.done;){if(i[f]){f++;continue}const d=a.value,h=s.value;if(n.equals(d[0],h[0],l,f,t,e,n)&&n.equals(d[1],h[1],d[0],h[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}const git=ov;function vit(t,e,n){const r=kY(t);let i=r.length;if(kY(e).length!==i)return!1;for(;i-- >0;)if(!Pde(t,e,n,r[i]))return!1;return!0}function l_(t,e,n){const r=OY(t);let i=r.length;if(OY(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!Pde(t,e,n,o)||(a=LY(t,o),s=LY(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function yit(t,e){return ov(t.valueOf(),e.valueOf())}function xit(t,e){return t.source===e.source&&t.flags===e.flags}function IY(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function KC(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function bit(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Pde(t,e,n,r){return(r===cit||r===lit||r===sit)&&(t.$$typeof||e.$$typeof)?!0:ait(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const _it="[object ArrayBuffer]",wit="[object Arguments]",Sit="[object Boolean]",Mit="[object DataView]",Eit="[object Date]",Tit="[object Error]",Ait="[object Map]",Cit="[object Number]",Pit="[object Object]",Rit="[object RegExp]",Oit="[object Set]",Lit="[object String]",kit={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Nit="[object URL]",Iit=Object.prototype.toString;function Dit({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:h,unknownTagComparators:m}){return function(y,g,b){if(y===g)return!0;if(y==null||g==null)return!1;const x=typeof y;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(y,g,b):x==="function"?o(y,g,b):!1;const _=y.constructor;if(_!==g.constructor)return!1;if(_===Object)return l(y,g,b);if(Array.isArray(y))return e(y,g,b);if(_===Date)return r(y,g,b);if(_===RegExp)return u(y,g,b);if(_===Map)return a(y,g,b);if(_===Set)return f(y,g,b);const T=Iit.call(y);if(T===Eit)return r(y,g,b);if(T===Rit)return u(y,g,b);if(T===Ait)return a(y,g,b);if(T===Oit)return f(y,g,b);if(T===Pit)return typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,b);if(T===Nit)return h(y,g,b);if(T===Tit)return i(y,g,b);if(T===wit)return l(y,g,b);if(kit[T])return d(y,g,b);if(T===_it)return t(y,g,b);if(T===Mit)return n(y,g,b);if(T===Sit||T===Cit||T===Lit)return c(y,g,b);if(m){let C=m[T];if(!C){const P=oit(y);P&&(C=m[P])}if(C)return C(y,g,b)}return!1}}function jit({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:uit,areArraysEqual:n?l_:fit,areDataViewsEqual:dit,areDatesEqual:hit,areErrorsEqual:pit,areFunctionsEqual:mit,areMapsEqual:n?RN(NY,l_):NY,areNumbersEqual:git,areObjectsEqual:n?l_:vit,arePrimitiveWrappersEqual:yit,areRegExpsEqual:xit,areSetsEqual:n?RN(IY,l_):IY,areTypedArraysEqual:n?RN(KC,l_):KC,areUrlsEqual:bit,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=v2(r.areArraysEqual),o=v2(r.areMapsEqual),a=v2(r.areObjectsEqual),s=v2(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Bit(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function zit({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(s,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const $it=Tp();Tp({strict:!0});Tp({circular:!0});Tp({circular:!0,strict:!0});Tp({createInternalComparator:()=>ov});Tp({strict:!0,createInternalComparator:()=>ov});Tp({circular:!0,createInternalComparator:()=>ov});Tp({circular:!0,createInternalComparator:()=>ov,strict:!0});function Tp(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=jit(t),a=Dit(o),s=n?n(a):Bit(a);return zit({circular:e,comparator:a,createState:r,equals:s,strict:i})}function Fit(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function DY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Fit(i)};requestAnimationFrame(r)}function uj(t){"@babel/helpers - typeof";return uj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uj(t)}function Uit(t){return Git(t)||Hit(t)||Vit(t)||Wit()}function Wit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vit(t,e){if(t){if(typeof t=="string")return jY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jY(t,e)}}function jY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Git(t){if(Array.isArray(t))return t}function Xit(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Uit(a),l=s[0],c=s.slice(1);if(typeof l=="number"){DY(i.bind(null,c),l);return}i(l),DY(i.bind(null,c));return}uj(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ww(t){"@babel/helpers - typeof";return Ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ww(t)}function BY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BY(Object(n),!0).forEach(function(r){Rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e,n){return e=qit(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qit(t){var e=Yit(t,"string");return Ww(e)==="symbol"?e:String(e)}function Yit(t,e){if(Ww(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ww(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kit=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Zit=function(e){return e},Jit=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},y1=function(e,n){return Object.keys(n).reduce(function(r,i){return zY(zY({},r),{},Rde({},i,e(i,n[i])))},{})},$Y=function(e,n,r){return e.map(function(i){return"".concat(Jit(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Qit(t,e){return not(t)||tot(t,e)||Ode(t,e)||eot()}function eot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function not(t){if(Array.isArray(t))return t}function rot(t){return aot(t)||oot(t)||Ode(t)||iot()}function iot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ode(t,e){if(t){if(typeof t=="string")return fj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fj(t,e)}}function oot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aot(t){if(Array.isArray(t))return fj(t)}function fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ZC=1e-4,Lde=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},kde=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},FY=function(e,n){return function(r){var i=Lde(e,n);return kde(i,r)}},sot=function(e,n){return function(r){var i=Lde(e,n),o=[].concat(rot(i.map(function(a,s){return a*s}).slice(1)),[0]);return kde(o,r)}},UY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Qit(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var f=FY(i,a),d=FY(o,s),h=sot(i,a),m=function(g){return g>1?1:g<0?0:g},v=function(g){for(var b=g>1?1:g,x=b,_=0;_<8;++_){var T=f(x)-b,C=h(x);if(Math.abs(T-b)<ZC||C<ZC)return d(x);x=m(x-T/C)}return d(x)};return v.isStepper=!1,v},lot=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(u,f,d){var h=-(u-f)*r,m=d*o,v=d+(h-m)*s/1e3,y=d*s/1e3+u;return Math.abs(y-f)<ZC&&Math.abs(v)<ZC?[f,0]:[y,v]};return l.isStepper=!0,l.dt=s,l},cot=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UY(i);case"spring":return lot();default:if(i.split("(")[0]==="cubic-bezier")return UY(i)}return typeof i=="function"?i:null};function Vw(t){"@babel/helpers - typeof";return Vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vw(t)}function WY(t){return dot(t)||fot(t)||Nde(t)||uot()}function uot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dot(t){if(Array.isArray(t))return hj(t)}function VY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VY(Object(n),!0).forEach(function(r){dj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dj(t,e,n){return e=hot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hot(t){var e=pot(t,"string");return Vw(e)==="symbol"?e:String(e)}function pot(t,e){if(Vw(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mot(t,e){return yot(t)||vot(t,e)||Nde(t,e)||got()}function got(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nde(t,e){if(t){if(typeof t=="string")return hj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hj(t,e)}}function hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function yot(t){if(Array.isArray(t))return t}var JC=function(e,n,r){return e+(n-e)*r},pj=function(e){var n=e.from,r=e.to;return n!==r},xot=function t(e,n,r){var i=y1(function(o,a){if(pj(a)){var s=e(a.from,a.to,a.velocity),l=mot(s,2),c=l[0],u=l[1];return Bo(Bo({},a),{},{from:c,velocity:u})}return a},n);return r<1?y1(function(o,a){return pj(a)?Bo(Bo({},a),{},{velocity:JC(a.velocity,i[o].velocity,r),from:JC(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const bot=function(t,e,n,r,i){var o=Kit(t,e),a=o.reduce(function(y,g){return Bo(Bo({},y),{},dj({},g,[t[g],e[g]]))},{}),s=o.reduce(function(y,g){return Bo(Bo({},y),{},dj({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,c,u,f=function(){return null},d=function(){return y1(function(g,b){return b.from},s)},h=function(){return!Object.values(s).filter(pj).length},m=function(g){c||(c=g);var b=g-c,x=b/n.dt;s=xot(n,s,x),i(Bo(Bo(Bo({},t),e),d())),c=g,h()||(l=requestAnimationFrame(f))},v=function(g){u||(u=g);var b=(g-u)/r,x=y1(function(T,C){return JC.apply(void 0,WY(C).concat([n(b)]))},a);if(i(Bo(Bo(Bo({},t),e),x)),b<1)l=requestAnimationFrame(f);else{var _=y1(function(T,C){return JC.apply(void 0,WY(C).concat([n(1)]))},a);i(Bo(Bo(Bo({},t),e),_))}};return f=n.isStepper?m:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}var _ot=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wot(t,e){if(t==null)return{};var n=Sot(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sot(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ON(t){return Aot(t)||Tot(t)||Eot(t)||Mot()}function Mot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eot(t,e){if(t){if(typeof t=="string")return mj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mj(t,e)}}function Tot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aot(t){if(Array.isArray(t))return mj(t)}function mj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HY(Object(n),!0).forEach(function(r){j_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_(t,e,n){return e=Ide(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ide(r.key),r)}}function Rot(t,e,n){return e&&Pot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ide(t){var e=Oot(t,"string");return q0(e)==="symbol"?e:String(e)}function Oot(t,e){if(q0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gj(t,e)}function gj(t,e){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gj(t,e)}function kot(t){var e=Not();return function(){var r=QC(t),i;if(e){var o=QC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vj(this,i)}}function vj(t,e){if(e&&(q0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yj(t)}function yj(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Not(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function QC(t){return QC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QC(t)}var ud=function(t){Lot(n,t);var e=kot(n);function n(r,i){var o;Cot(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,f=a.steps,d=a.children,h=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(yj(o)),o.changeStyle=o.changeStyle.bind(yj(o)),!s||h<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:u}),vj(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof d=="function")return o.state={style:c},vj(o);o.state={style:l?j_({},l,c):c}}else o.state={style:{}};return o}return Rot(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,d=this.state.style;if(s){if(!a){var h={style:l?j_({},l,u):u};this.state&&d&&(l&&d[l]!==u||!l&&d!==u)&&this.setState(h);return}if(!($it(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?f:i.to;if(this.state&&d){var y={style:l?j_({},l,v):v};(l&&d[l]!==v||!l&&d!==v)&&this.setState(y)}this.runAnimation(oc(oc({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=bot(a,s,cot(c),l,this.changeStyle),m=function(){o.stopJSAnimation=h()};this.manager.start([d,u,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,f=c.duration,d=f===void 0?0:f,h=function(v,y,g){if(g===0)return v;var b=y.duration,x=y.easing,_=x===void 0?"ease":x,T=y.style,C=y.properties,P=y.onAnimationEnd,I=g>0?a[g-1]:y,O=C||Object.keys(T);if(typeof _=="function"||_==="spring")return[].concat(ON(v),[o.runJSAnimation.bind(o,{from:I.style,to:T,duration:b,easing:_}),b]);var N=$Y(O,b,_),D=oc(oc(oc({},I.style),T),{},{transition:N});return[].concat(ON(v),[D,b,P]).filter(Zit)};return this.manager.start([l].concat(ON(a.reduce(h,[u,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Xit());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var v=s?j_({},s,l):l,y=$Y(Object.keys(v),a,c);m.start([u,o,oc(oc({},v),{},{transition:y}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=wot(i,_ot),c=A.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var f=function(h){var m=h.props,v=m.style,y=v===void 0?{}:v,g=m.className,b=A.cloneElement(h,oc(oc({},l),{},{style:oc(oc({},y),u),className:g}));return b};return c===1?f(A.Children.only(o)):de.createElement("div",null,A.Children.map(o,function(d){return f(d)}))}}]),n}(A.PureComponent);ud.displayName="Animate";ud.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ud.propTypes={from:gr.oneOfType([gr.object,gr.string]),to:gr.oneOfType([gr.object,gr.string]),attributeName:gr.string,duration:gr.number,begin:gr.number,easing:gr.oneOfType([gr.string,gr.func]),steps:gr.arrayOf(gr.shape({duration:gr.number.isRequired,style:gr.object.isRequired,easing:gr.oneOfType([gr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gr.func]),properties:gr.arrayOf("string"),onAnimationEnd:gr.func})),children:gr.oneOfType([gr.node,gr.func]),isActive:gr.bool,canBegin:gr.bool,onAnimationEnd:gr.func,shouldReAnimate:gr.bool,onAnimationStart:gr.func,onAnimationReStart:gr.func};function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(null,arguments)}function Hw(t){"@babel/helpers - typeof";return Hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hw(t)}function eP(){return eP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eP.apply(this,arguments)}function Iot(t,e){return zot(t)||Bot(t,e)||jot(t,e)||Dot()}function Dot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jot(t,e){if(t){if(typeof t=="string")return GY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GY(t,e)}}function GY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function zot(t){if(Array.isArray(t))return t}function XY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XY(Object(n),!0).forEach(function(r){$ot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ot(t,e,n){return e=Fot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fot(t){var e=Uot(t,"string");return Hw(e)=="symbol"?e:e+""}function Uot(t,e){if(Hw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YY=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=o[d]>a?a:o[d];u="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),u+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);u="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*m," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},Wot=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=c&&r<=u&&i>=f&&i<=d}return!1},Vot={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E8=function(e){var n=qY(qY({},Vot),e),r=A.useRef(),i=A.useState(-1),o=Iot(i,2),a=o[0],s=o[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,d=n.radius,h=n.className,m=n.animationEasing,v=n.animationDuration,y=n.animationBegin,g=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var x=er("recharts-rectangle",h);return b?de.createElement(ud,{canBegin:a>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:v,animationEasing:m,isActive:b},function(_){var T=_.width,C=_.height,P=_.x,I=_.y;return de.createElement(ud,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:g,easing:m},de.createElement("path",eP({},Fn(n,!0),{className:x,d:YY(P,I,T,C,d),ref:r})))}):de.createElement("path",eP({},Fn(n,!0),{className:x,d:YY(l,c,u,f,d)}))};function xj(){return xj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xj.apply(this,arguments)}var T8=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=er("recharts-dot",o);return n===+n&&r===+r&&i===+i?A.createElement("circle",xj({},Fn(e,!1),DC(e),{className:a,cx:n,cy:r,r:i})):null};function Gw(t){"@babel/helpers - typeof";return Gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gw(t)}var Hot=["x","y","top","left","width","height","className"];function bj(){return bj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bj.apply(this,arguments)}function KY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Got(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KY(Object(n),!0).forEach(function(r){Xot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xot(t,e,n){return e=qot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qot(t){var e=Yot(t,"string");return Gw(e)=="symbol"?e:e+""}function Yot(t,e){if(Gw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kot(t,e){if(t==null)return{};var n=Zot(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zot(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jot=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Qot=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,d=e.height,h=d===void 0?0:d,m=e.className,v=Kot(e,Hot),y=Got({x:r,y:o,top:s,left:c,width:f,height:h},v);return!Tt(r)||!Tt(o)||!Tt(f)||!Tt(h)||!Tt(s)||!Tt(c)?null:de.createElement("path",bj({},Fn(y,!0),{className:er("recharts-cross",m),d:Jot(r,o,f,h,s,c)}))},eat=Yu,tat=il,nat="[object Boolean]";function rat(t){return t===!0||t===!1||tat(t)&&eat(t)==nat}var iat=rat;const oat=yn(iat);function Xw(t){"@babel/helpers - typeof";return Xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xw(t)}function tP(){return tP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tP.apply(this,arguments)}function aat(t,e){return uat(t)||cat(t,e)||lat(t,e)||sat()}function sat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lat(t,e){if(t){if(typeof t=="string")return ZY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZY(t,e)}}function ZY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cat(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function uat(t){if(Array.isArray(t))return t}function JY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JY(Object(n),!0).forEach(function(r){fat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fat(t,e,n){return e=dat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dat(t){var e=hat(t,"string");return Xw(e)=="symbol"?e:e+""}function hat(t,e){if(Xw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eK=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},pat={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mat=function(e){var n=QY(QY({},pat),e),r=A.useRef(),i=A.useState(-1),o=aat(i,2),a=o[0],s=o[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,d=n.height,h=n.className,m=n.animationEasing,v=n.animationDuration,y=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var b=er("recharts-trapezoid",h);return g?de.createElement(ud,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(x){var _=x.upperWidth,T=x.lowerWidth,C=x.height,P=x.x,I=x.y;return de.createElement(ud,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:m},de.createElement("path",tP({},Fn(n,!0),{className:b,d:eK(P,I,_,T,C),ref:r})))}):de.createElement("g",null,de.createElement("path",tP({},Fn(n,!0),{className:b,d:eK(l,c,u,f,d)})))},gat=["option","shapeType","propTransformer","activeClassName","isActive"];function qw(t){"@babel/helpers - typeof";return qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(t)}function vat(t,e){if(t==null)return{};var n=yat(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yat(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tK(Object(n),!0).forEach(function(r){xat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xat(t,e,n){return e=bat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bat(t){var e=_at(t,"string");return qw(e)=="symbol"?e:e+""}function _at(t,e){if(qw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wat(t,e){return nP(nP({},e),t)}function Sat(t,e){return t==="symbols"}function nK(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return de.createElement(E8,n);case"trapezoid":return de.createElement(mat,n);case"sector":return de.createElement(Ede,n);case"symbols":if(Sat(e))return de.createElement(x8,n);break;default:return null}}function Mat(t){return A.isValidElement(t)?t.props:t}function Eat(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?wat:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=vat(t,gat),c;if(A.isValidElement(e))c=A.cloneElement(e,nP(nP({},l),Mat(e)));else if(xn(e))c=e(l);else if(rO(e)&&!oat(e)){var u=i(e,l);c=de.createElement(nK,{shapeType:n,elementProps:u})}else{var f=l;c=de.createElement(nK,{shapeType:n,elementProps:f})}return s?de.createElement(di,{className:a},c):c}function vL(t,e){return e!=null&&"trapezoids"in t.props}function yL(t,e){return e!=null&&"sectors"in t.props}function Yw(t,e){return e!=null&&"points"in t.props}function Tat(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Aat(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Cat(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Pat(t,e){var n;return vL(t,e)?n=Tat:yL(t,e)?n=Aat:Yw(t,e)&&(n=Cat),n}function Rat(t,e){var n;return vL(t,e)?n="trapezoids":yL(t,e)?n="sectors":Yw(t,e)&&(n="points"),n}function Oat(t,e){if(vL(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(yL(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Yw(t,e)?e.payload:{}}function Lat(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Rat(n,e),o=Oat(n,e),a=r.filter(function(l,c){var u=U0(o,l),f=n.props[i].filter(function(m){var v=Pat(n,e);return v(m,e)}),d=n.props[i].indexOf(f[f.length-1]),h=c===d;return u&&h}),s=r.indexOf(a[a.length-1]);return s}var kat=Math.ceil,Nat=Math.max;function Iat(t,e,n,r){for(var i=-1,o=Nat(kat((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Dat=Iat,jat=Xfe,rK=1/0,Bat=17976931348623157e292;function zat(t){if(!t)return t===0?t:0;if(t=jat(t),t===rK||t===-rK){var e=t<0?-1:1;return e*Bat}return t===t?t:0}var Dde=zat,$at=Dat,Fat=oM,LN=Dde;function Uat(t){return function(e,n,r){return r&&typeof r!="number"&&Fat(e,n,r)&&(n=r=void 0),e=LN(e),n===void 0?(n=e,e=0):n=LN(n),r=r===void 0?e<n?1:-1:LN(r),$at(e,n,r,t)}}var Wat=Uat,Vat=Wat,Hat=Vat(),Gat=Hat;const Kw=yn(Gat);function Zw(t){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(t)}function iK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iK(Object(n),!0).forEach(function(r){jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jde(t,e,n){return e=Xat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xat(t){var e=qat(t,"string");return Zw(e)=="symbol"?e:e+""}function qat(t,e){if(Zw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yat=["Webkit","Moz","O","ms"],Kat=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Yat.reduce(function(o,a){return oK(oK({},o),{},jde({},a+r,n))},{});return i[e]=n,i};function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rP.apply(this,arguments)}function aK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aK(Object(n),!0).forEach(function(r){Is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zde(r.key),r)}}function Jat(t,e,n){return e&&sK(t.prototype,e),n&&sK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qat(t,e,n){return e=iP(e),est(t,Bde()?Reflect.construct(e,n||[],iP(t).constructor):e.apply(t,n))}function est(t,e){if(e&&(K0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tst(t)}function tst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bde=function(){return!!t})()}function iP(t){return iP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iP(t)}function nst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_j(t,e)}function _j(t,e){return _j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_j(t,e)}function Is(t,e,n){return e=zde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=rst(t,"string");return K0(e)=="symbol"?e:e+""}function rst(t,e){if(K0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(K0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ist=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=ig().domain(Kw(0,l)).range([o,o+a-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},lK=function(e){return e.changedTouches&&!!e.changedTouches.length},Z0=function(t){function e(n){var r;return Zat(this,e),r=Qat(this,e,[n]),Is(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Is(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Is(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Is(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Is(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Is(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Is(r,"handleSlideDragStart",function(i){var o=lK(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return nst(e,t),Jat(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,o),d=Math.max(i,o),h=e.getIndexInRange(a,f),m=e.getIndexInRange(a,d);return{startIndex:h-h%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Js(o[r],s,r);return xn(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,m=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,c+u-f-s,c+u-f-a):v<0&&(v=Math.max(v,c-a,c-s));var y=this.getIndex({startX:a+v,endX:s+v});(y.startIndex!==d||y.endIndex!==h)&&m&&m(y),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=lK(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,f=u.x,d=u.width,h=u.travellerWidth,m=u.onChange,v=u.gap,y=u.data,g={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,f+d-h-c):b<0&&(b=Math.max(b,f-c)),g[a]=c+b;var x=this.getIndex(g),_=x.startIndex,T=x.endIndex,C=function(){var I=y.length-1;return a==="startX"&&(s>l?_%v===0:T%v===0)||s<l&&T===I||a==="endX"&&(s>l?T%v===0:_%v===0)||s>l&&T===I};this.setState(Is(Is({},a,c+b),"brushMoveStartX",r.pageX),function(){m&&C()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var h=s[d];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Is({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return de.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,f=A.Children.only(c);return f?de.cloneElement(f,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,m=l.data,v=l.startIndex,y=l.endIndex,g=Math.max(r,this.props.x),b=kN(kN({},Fn(this.props,!1)),{},{x:g,y:c,width:u,height:f}),x=h||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[y])===null||a===void 0?void 0:a.name);return de.createElement(di,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,d=u.endX,h=5,m={pointerEvents:"none",fill:c};return de.createElement(di,{className:"recharts-brush-texts"},de.createElement(WC,rP({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:a+s/2},m),this.getTextOfTick(i)),de.createElement(WC,rP({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,d=this.state,h=d.startX,m=d.endX,v=d.isTextActive,y=d.isSlideMoving,g=d.isTravellerMoving,b=d.isTravellerFocused;if(!i||!i.length||!Tt(s)||!Tt(l)||!Tt(c)||!Tt(u)||c<=0||u<=0)return null;var x=er("recharts-brush",o),_=de.Children.count(a)===1,T=Kat("userSelect","none");return de.createElement(di,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(v||y||g||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),de.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):xn(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return kN({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?ist({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(A.PureComponent);Is(Z0,"displayName","Brush");Is(Z0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ost=YO;function ast(t,e){var n;return ost(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var sst=ast,lst=yue,cst=_d,ust=sst,fst=Xo,dst=oM;function hst(t,e,n){var r=fst(t)?lst:ust;return n&&dst(t,e,n)&&(e=void 0),r(t,cst(e))}var pst=hst;const mst=yn(pst);var Au=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},gst=eO,vst=Fue,yst=_d;function xst(t,e){var n={};return e=yst(e),vst(t,function(r,i,o){gst(n,i,e(r,i,o))}),n}var bst=xst;const _st=yn(bst);function wst(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Sst=wst,Mst=YO;function Est(t,e){var n=!0;return Mst(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Tst=Est,Ast=Sst,Cst=Tst,Pst=_d,Rst=Xo,Ost=oM;function Lst(t,e,n){var r=Rst(t)?Ast:Cst;return n&&Ost(t,e,n)&&(e=void 0),r(t,Pst(e))}var kst=Lst;const $de=yn(kst);var Nst=["x","y"];function Jw(t){"@babel/helpers - typeof";return Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jw(t)}function wj(){return wj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wj.apply(this,arguments)}function cK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cK(Object(n),!0).forEach(function(r){Ist(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ist(t,e,n){return e=Dst(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dst(t){var e=jst(t,"string");return Jw(e)=="symbol"?e:e+""}function jst(t,e){if(Jw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bst(t,e){if(t==null)return{};var n=zst(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zst(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $st(t,e){var n=t.x,r=t.y,i=Bst(t,Nst),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return c_(c_(c_(c_(c_({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function uK(t){return de.createElement(Eat,wj({shapeType:"rectangle",propTransformer:$st,activeClassName:"recharts-active-bar"},t))}var Fst=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Tt(r)||SZe(r);return o?e(r,i):(o||kg(),n)}},Ust=["value","background"],Fde;function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function Wst(t,e){if(t==null)return{};var n=Vst(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vst(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oP(){return oP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oP.apply(this,arguments)}function fK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fK(Object(n),!0).forEach(function(r){kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wde(r.key),r)}}function Gst(t,e,n){return e&&dK(t.prototype,e),n&&dK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xst(t,e,n){return e=aP(e),qst(t,Ude()?Reflect.construct(e,n||[],aP(t).constructor):e.apply(t,n))}function qst(t,e){if(e&&(J0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yst(t)}function Yst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ude(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ude=function(){return!!t})()}function aP(t){return aP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aP(t)}function Kst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sj(t,e)}function Sj(t,e){return Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sj(t,e)}function kh(t,e,n){return e=Wde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wde(t){var e=Zst(t,"string");return J0(e)=="symbol"?e:e+""}function Zst(t,e){if(J0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(J0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _M=function(t){function e(){var n;Hst(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Xst(this,e,[].concat(i)),kh(n,"state",{isAnimationFinished:!1}),kh(n,"id",bM("recharts-bar-")),kh(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),kh(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Kst(e,t),Gst(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Fn(this.props,!1);return r&&r.map(function(f,d){var h=d===l,m=h?c:a,v=Zi(Zi(Zi({},u),f),{},{isActive:h,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return de.createElement(di,oP({className:"recharts-bar-rectangle"},jC(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),de.createElement(uK,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevData;return de.createElement(ud,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,v=o.map(function(y,g){var b=d&&d[g];if(b){var x=Cl(b.x,y.x),_=Cl(b.y,y.y),T=Cl(b.width,y.width),C=Cl(b.height,y.height);return Zi(Zi({},y),{},{x:x(m),y:_(m),width:T(m),height:C(m)})}if(a==="horizontal"){var P=Cl(0,y.height),I=P(m);return Zi(Zi({},y),{},{y:y.y+y.height-I,height:I})}var O=Cl(0,y.width),N=O(m);return Zi(Zi({},y),{},{width:N})});return de.createElement(di,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!U0(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Fn(this.props.background,!1);return o.map(function(c,u){c.value;var f=c.background,d=Wst(c,Ust);if(!f)return null;var h=Zi(Zi(Zi(Zi(Zi({},d),{},{fill:"#eee"},f),l),jC(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return de.createElement(uK,oP({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=Oc(u,gL);if(!f)return null;var d=c==="vertical"?a[0].height/2:a[0].width/2,h=function(y,g){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:Js(y,g)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return de.createElement(di,m,f.map(function(v){return de.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,d=r.height,h=r.isAnimationActive,m=r.background,v=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,g=er("recharts-bar",a),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,_=b||x,T=Gn(v)?this.id:v;return de.createElement(di,{className:g},b||x?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(T)},de.createElement("rect",{x:b?c:c-f/2,y:x?u:u-d/2,width:b?f:f*2,height:x?d:d*2}))):null,de.createElement(di,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(T,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,T),(!h||y)&&Gh.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(A.PureComponent);Fde=_M;kh(_M,"displayName","Bar");kh(_M,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!eb.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});kh(_M,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,h=Unt(r,n);if(!h)return null;var m=e.layout,v=n.type.defaultProps,y=v!==void 0?Zi(Zi({},v),n.props):n.props,g=y.dataKey,b=y.children,x=y.minPointSize,_=m==="horizontal"?a:o,T=c?_.scale.domain():null,C=Knt({numericAxis:_}),P=Oc(b,Yfe),I=f.map(function(O,N){var D,U,V,z,F,W;c?D=Wnt(c[u+N],T):(D=Js(O,g),Array.isArray(D)||(D=[C,D]));var X=Fst(x,Fde.defaultProps.minPointSize)(D[1],N);if(m==="horizontal"){var B,G=[a.scale(D[0]),a.scale(D[1])],q=G[0],te=G[1];U=mY({axis:o,ticks:s,bandSize:i,offset:h.offset,entry:O,index:N}),V=(B=te??q)!==null&&B!==void 0?B:void 0,z=h.size;var Y=q-te;if(F=Number.isNaN(Y)?0:Y,W={x:U,y:a.y,width:z,height:a.height},Math.abs(X)>0&&Math.abs(F)<Math.abs(X)){var J=Ec(F||X)*(Math.abs(X)-Math.abs(F));V-=J,F+=J}}else{var re=[o.scale(D[0]),o.scale(D[1])],oe=re[0],pe=re[1];if(U=oe,V=mY({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:O,index:N}),z=pe-oe,F=h.size,W={x:o.x,y:V,width:o.width,height:F},Math.abs(X)>0&&Math.abs(z)<Math.abs(X)){var fe=Ec(z||X)*(Math.abs(X)-Math.abs(z));z+=fe}}return Zi(Zi(Zi({},O),{},{x:U,y:V,width:z,height:F,value:c?D:D[1],payload:O,background:W},P&&P[N]&&P[N].props),{},{tooltipPayload:[wde(n,O)],tooltipPosition:{x:U+z/2,y:V+F/2}})});return Zi({data:I,layout:m},d)});function Qw(t){"@babel/helpers - typeof";return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qw(t)}function Jst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vde(r.key),r)}}function Qst(t,e,n){return e&&hK(t.prototype,e),n&&hK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pK(Object(n),!0).forEach(function(r){xL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xL(t,e,n){return e=Vde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vde(t){var e=elt(t,"string");return Qw(e)=="symbol"?e:e+""}function elt(t,e){if(Qw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tlt=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!js(c,_M);return u.reduce(function(h,m){var v=n[m],y=v.orientation,g=v.domain,b=v.padding,x=b===void 0?{}:b,_=v.mirror,T=v.reversed,C="".concat(y).concat(_?"Mirror":""),P,I,O,N,D;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var U=g[1]-g[0],V=1/0,z=v.categoricalDomain.sort(TZe);if(z.forEach(function(re,oe){oe>0&&(V=Math.min((re||0)-(z[oe-1]||0),V))}),Number.isFinite(V)){var F=V/U,W=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(P=F*W/2),v.padding==="no-gap"){var X=Og(e.barCategoryGap,F*W),B=F*W/2;P=B-X-(B-X)/W*X}}}i==="xAxis"?I=[r.left+(x.left||0)+(P||0),r.left+r.width-(x.right||0)-(P||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(P||0),r.top+r.height-(x.bottom||0)-(P||0)]:I=v.range,T&&(I=[I[1],I[0]]);var G=$nt(v,o,d),q=G.scale,te=G.realScaleType;q.domain(g).range(I),Fnt(q);var Y=Ynt(q,yc(yc({},v),{},{realScaleType:te}));i==="xAxis"?(D=y==="top"&&!_||y==="bottom"&&_,O=r.left,N=f[C]-D*v.height):i==="yAxis"&&(D=y==="left"&&!_||y==="right"&&_,O=f[C]-D*v.width,N=r.top);var J=yc(yc(yc({},v),Y),{},{realScaleType:te,x:O,y:N,scale:q,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return J.bandSize=XC(J,Y),!v.hide&&i==="xAxis"?f[C]+=(D?-1:1)*J.height:v.hide||(f[C]+=(D?-1:1)*J.width),yc(yc({},h),{},xL({},m,J))},{})},Hde=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},nlt=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Hde({x:n,y:r},{x:i,y:o})},Gde=function(){function t(e){Jst(this,t),this.scale=e}return Qst(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();xL(Gde,"EPS",1e-4);var A8=function(e){var n=Object.keys(e).reduce(function(r,i){return yc(yc({},r),{},xL({},i,Gde.create(e[i])))},{});return yc(yc({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return _st(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return $de(i,function(o,a){return n[a].isInRange(o)})}})};function rlt(t){return(t%180+180)%180}var ilt=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=rlt(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},olt=_d,alt=Kg,slt=Zx;function llt(t){return function(e,n,r){var i=Object(e);if(!alt(e)){var o=olt(n);e=slt(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var clt=llt,ult=Dde;function flt(t){var e=ult(t),n=e%1;return e===e?n?e-n:e:0}var dlt=flt,hlt=zle,plt=_d,mlt=dlt,glt=Math.max;function vlt(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:mlt(n);return i<0&&(i=glt(r+i,0)),hlt(t,plt(e),i)}var ylt=vlt,xlt=clt,blt=ylt,_lt=xlt(blt),wlt=_lt;const Slt=yn(wlt);var Mlt=Sle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),C8=A.createContext(void 0),P8=A.createContext(void 0),Xde=A.createContext(void 0),qde=A.createContext({}),Yde=A.createContext(void 0),Kde=A.createContext(0),Zde=A.createContext(0),mK=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Mlt(o);return de.createElement(C8.Provider,{value:r},de.createElement(P8.Provider,{value:i},de.createElement(qde.Provider,{value:o},de.createElement(Xde.Provider,{value:u},de.createElement(Yde.Provider,{value:a},de.createElement(Kde.Provider,{value:c},de.createElement(Zde.Provider,{value:l},s)))))))},Elt=function(){return A.useContext(Yde)},Jde=function(e){var n=A.useContext(C8);n==null&&kg();var r=n[e];return r==null&&kg(),r},Tlt=function(){var e=A.useContext(C8);return gh(e)},Alt=function(){var e=A.useContext(P8),n=Slt(e,function(r){return $de(r.domain,Number.isFinite)});return n||gh(e)},Qde=function(e){var n=A.useContext(P8);n==null&&kg();var r=n[e];return r==null&&kg(),r},Clt=function(){var e=A.useContext(Xde);return e},Plt=function(){return A.useContext(qde)},R8=function(){return A.useContext(Zde)},O8=function(){return A.useContext(Kde)};function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function Rlt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Olt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,the(r.key),r)}}function Llt(t,e,n){return e&&Olt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function klt(t,e,n){return e=sP(e),Nlt(t,ehe()?Reflect.construct(e,n||[],sP(t).constructor):e.apply(t,n))}function Nlt(t,e){if(e&&(Q0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ilt(t)}function Ilt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ehe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ehe=function(){return!!t})()}function sP(t){return sP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sP(t)}function Dlt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mj(t,e)}function Mj(t,e){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mj(t,e)}function gK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gK(Object(n),!0).forEach(function(r){L8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L8(t,e,n){return e=the(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=jlt(t,"string");return Q0(e)=="symbol"?e:e+""}function jlt(t,e){if(Q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Blt(t,e){return Ult(t)||Flt(t,e)||$lt(t,e)||zlt()}function zlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $lt(t,e){if(t){if(typeof t=="string")return yK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yK(t,e)}}function yK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Flt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ult(t){if(Array.isArray(t))return t}function Ej(){return Ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ej.apply(this,arguments)}var Wlt=function(e,n){var r;return de.isValidElement(e)?r=de.cloneElement(e,n):xn(e)?r=e(n):r=de.createElement("line",Ej({},n,{className:"recharts-reference-line-line"})),r},Vlt=function(e,n,r,i,o,a,s,l,c){var u=o.x,f=o.y,d=o.width,h=o.height;if(r){var m=c.y,v=e.y.apply(m,{position:a});if(Au(c,"discard")&&!e.y.isInRange(v))return null;var y=[{x:u+d,y:v},{x:u,y:v}];return l==="left"?y.reverse():y}if(n){var g=c.x,b=e.x.apply(g,{position:a});if(Au(c,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:f+h},{x:b,y:f}];return s==="top"?x.reverse():x}if(i){var _=c.segment,T=_.map(function(C){return e.apply(C,{position:a})});return Au(c,"discard")&&mst(T,function(C){return!e.isInRange(C)})?null:T}return null};function Hlt(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=Elt(),u=Jde(i),f=Qde(o),d=Clt();if(!c||!d)return null;Yf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=A8({x:u.scale,y:f.scale}),m=po(e),v=po(n),y=r&&r.length===2,g=Vlt(h,m,v,y,d,t.position,u.orientation,f.orientation,t);if(!g)return null;var b=Blt(g,2),x=b[0],_=x.x,T=x.y,C=b[1],P=C.x,I=C.y,O=Au(t,"hidden")?"url(#".concat(c,")"):void 0,N=vK(vK({clipPath:O},Fn(t,!0)),{},{x1:_,y1:T,x2:P,y2:I});return de.createElement(di,{className:er("recharts-reference-line",s)},Wlt(a,N),da.renderCallByParent(t,nlt({x1:_,y1:T,x2:P,y2:I})))}var k8=function(t){function e(){return Rlt(this,e),klt(this,e,arguments)}return Dlt(e,t),Llt(e,[{key:"render",value:function(){return de.createElement(Hlt,this.props)}}])}(de.Component);L8(k8,"displayName","ReferenceLine");L8(k8,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Tj(){return Tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tj.apply(this,arguments)}function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function xK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xK(Object(n),!0).forEach(function(r){bL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Glt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xlt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rhe(r.key),r)}}function qlt(t,e,n){return e&&Xlt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ylt(t,e,n){return e=lP(e),Klt(t,nhe()?Reflect.construct(e,n||[],lP(t).constructor):e.apply(t,n))}function Klt(t,e){if(e&&(ex(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zlt(t)}function Zlt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nhe=function(){return!!t})()}function lP(t){return lP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lP(t)}function Jlt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aj(t,e)}function Aj(t,e){return Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aj(t,e)}function bL(t,e,n){return e=rhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=Qlt(t,"string");return ex(e)=="symbol"?e:e+""}function Qlt(t,e){if(ex(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ex(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ect=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=A8({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Au(e,"discard")&&!a.isInRange(s)?null:s},_L=function(t){function e(){return Glt(this,e),Ylt(this,e,arguments)}return Jlt(e,t),qlt(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=po(i),u=po(o);if(Yf(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=ect(this.props);if(!f)return null;var d=f.x,h=f.y,m=this.props,v=m.shape,y=m.className,g=Au(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=bK(bK({clipPath:g},Fn(this.props,!0)),{},{cx:d,cy:h});return de.createElement(di,{className:er("recharts-reference-dot",y)},e.renderDot(v,b),da.renderCallByParent(this.props,{x:d-a,y:h-a,width:2*a,height:2*a}))}}])}(de.Component);bL(_L,"displayName","ReferenceDot");bL(_L,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});bL(_L,"renderDot",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):xn(t)?n=t(e):n=de.createElement(T8,Tj({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Cj(){return Cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cj.apply(this,arguments)}function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function _K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_K(Object(n),!0).forEach(function(r){wL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_K(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ohe(r.key),r)}}function rct(t,e,n){return e&&nct(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ict(t,e,n){return e=cP(e),oct(t,ihe()?Reflect.construct(e,n||[],cP(t).constructor):e.apply(t,n))}function oct(t,e){if(e&&(tx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return act(t)}function act(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ihe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ihe=function(){return!!t})()}function cP(t){return cP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cP(t)}function sct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pj(t,e)}function Pj(t,e){return Pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pj(t,e)}function wL(t,e,n){return e=ohe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=lct(t,"string");return tx(e)=="symbol"?e:e+""}function lct(t,e){if(tx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cct=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var d=A8({x:u.scale,y:f.scale}),h={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return Au(o,"discard")&&(!d.isInRange(h)||!d.isInRange(m))?null:Hde(h,m)},SL=function(t){function e(){return tct(this,e),ict(this,e,arguments)}return sct(e,t),rct(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Yf(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=po(i),d=po(o),h=po(a),m=po(s),v=this.props.shape;if(!f&&!d&&!h&&!m&&!v)return null;var y=cct(f,d,h,m,this.props);if(!y&&!v)return null;var g=Au(this.props,"hidden")?"url(#".concat(u,")"):void 0;return de.createElement(di,{className:er("recharts-reference-area",l)},e.renderRect(v,wK(wK({clipPath:g},Fn(this.props,!0)),y)),da.renderCallByParent(this.props,y))}}])}(de.Component);wL(SL,"displayName","ReferenceArea");wL(SL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wL(SL,"renderRect",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):xn(t)?n=t(e):n=de.createElement(E8,Cj({},e,{className:"recharts-reference-area-rect"})),n});function ahe(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function uct(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ilt(r,n)}function fct(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function uP(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function dct(t,e){return ahe(t,e+1)}function hct(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,u=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:ahe(r,c)};var v=l,y,g=function(){return y===void 0&&(y=n(m,v)),y},b=m.coordinate,x=l===0||uP(t,b,g,u,s);x||(l=0,u=a,c+=1),x&&(u=b+t*(g()/2+i),l+=c)},d;c<=o.length;)if(d=f(),d)return d.v;return[]}function eS(t){"@babel/helpers - typeof";return eS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eS(t)}function SK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SK(Object(n),!0).forEach(function(r){pct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pct(t,e,n){return e=mct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mct(t){var e=gct(t,"string");return eS(e)=="symbol"?e:e+""}function gct(t,e){if(eS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vct(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(d){var h=o[d],m,v=function(){return m===void 0&&(m=n(h,d)),m};if(d===a-1){var y=t*(h.coordinate+t*v()/2-l);o[d]=h=ua(ua({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate})}else o[d]=h=ua(ua({},h),{},{tickCoord:h.coordinate});var g=uP(t,h.tickCoord,v,s,l);g&&(l=h.tickCoord-t*(v()/2+i),o[d]=ua(ua({},h),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function yct(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=r[s-1],f=n(u,s-1),d=t*(u.coordinate+t*f/2-c);a[s-1]=u=ua(ua({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var h=uP(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),a[s-1]=ua(ua({},u),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(b){var x=a[b],_,T=function(){return _===void 0&&(_=n(x,b)),_};if(b===0){var C=t*(x.coordinate-t*T()/2-l);a[b]=x=ua(ua({},x),{},{tickCoord:C<0?x.coordinate-C*t:x.coordinate})}else a[b]=x=ua(ua({},x),{},{tickCoord:x.coordinate});var P=uP(t,x.tickCoord,T,l,c);P&&(l=x.tickCoord+t*(T()/2+i),a[b]=ua(ua({},x),{},{isShow:!0}))},y=0;y<m;y++)v(y);return a}function N8(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Tt(l)||eb.isSsr)return dct(i,typeof l=="number"&&Tt(l)?l:0);var d=[],h=s==="top"||s==="bottom"?"width":"height",m=u&&h==="width"?m1(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(x,_){var T=xn(c)?c(x.value,_):x.value;return h==="width"?uct(m1(T,{fontSize:e,letterSpacing:n}),m,f):m1(T,{fontSize:e,letterSpacing:n})[h]},y=i.length>=2?Ec(i[1].coordinate-i[0].coordinate):1,g=fct(o,y,h);return l==="equidistantPreserveStart"?hct(y,g,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=yct(y,g,v,i,a,l==="preserveStartEnd"):d=vct(y,g,v,i,a),d.filter(function(b){return b.isShow}))}var xct=["viewBox"],bct=["viewBox"],_ct=["ticks"];function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function MK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function so(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MK(Object(n),!0).forEach(function(r){I8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NN(t,e){if(t==null)return{};var n=wct(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wct(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lhe(r.key),r)}}function Mct(t,e,n){return e&&EK(t.prototype,e),n&&EK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ect(t,e,n){return e=fP(e),Tct(t,she()?Reflect.construct(e,n||[],fP(t).constructor):e.apply(t,n))}function Tct(t,e){if(e&&(nx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Act(t)}function Act(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function she(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(she=function(){return!!t})()}function fP(t){return fP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fP(t)}function Cct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rj(t,e)}function Rj(t,e){return Rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rj(t,e)}function I8(t,e,n){return e=lhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lhe(t){var e=Pct(t,"string");return nx(e)=="symbol"?e:e+""}function Pct(t,e){if(nx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rb=function(t){function e(n){var r;return Sct(this,e),r=Ect(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Cct(e,t),Mct(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=NN(r,xct),s=this.props,l=s.viewBox,c=NN(s,bct);return!a0(o,l)||!a0(a,c)||!a0(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,d=i.tickMargin,h,m,v,y,g,b,x=f?-1:1,_=r.tickSize||u,T=Tt(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=m=r.coordinate,y=a+ +!f*l,v=y-x*_,b=v-x*d,g=T;break;case"left":v=y=r.coordinate,m=o+ +!f*s,h=m-x*_,g=h-x*d,b=T;break;case"right":v=y=r.coordinate,m=o+ +f*s,h=m+x*_,g=h+x*d,b=T;break;default:h=m=r.coordinate,y=a+ +f*l,v=y+x*_,b=v+x*d,g=T;break}return{line:{x1:h,y1:v,x2:m,y2:y},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=so(so(so({},Fn(this.props,!1)),Fn(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);f=so(so({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=so(so({},f),{},{x1:i+h*a,y1:o,x2:i+h*a,y2:o+s})}return de.createElement("line",zy({},f,{className:er("recharts-cartesian-axis-line",Ci(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,d=s.unit,h=N8(so(so({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=Fn(this.props,!1),g=Fn(u,!1),b=so(so({},y),{},{fill:"none"},Fn(l,!1)),x=h.map(function(_,T){var C=a.getTickLineCoord(_),P=C.line,I=C.tick,O=so(so(so(so({textAnchor:m,verticalAnchor:v},y),{},{stroke:"none",fill:c},g),I),{},{index:T,payload:_,visibleTicksCount:h.length,tickFormatter:f});return de.createElement(di,zy({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},jC(a.props,_,T)),l&&de.createElement("line",zy({},b,P,{className:er("recharts-cartesian-axis-tick-line",Ci(l,"className"))})),u&&e.renderTickItem(u,O,"".concat(xn(f)?f(_.value,T):_.value).concat(d||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,d=f.ticks,h=NN(f,_ct),m=d;return xn(l)&&(m=d&&d.length>0?l(this.props):l(h)),a<=0||s<=0||!m||!m.length?null:de.createElement(di,{className:er("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),da.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=er(i.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(r)?a=de.cloneElement(r,so(so({},i),{},{className:s})):xn(r)?a=r(so(so({},i),{},{className:s})):a=de.createElement(WC,zy({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(A.Component);I8(rb,"displayName","CartesianAxis");I8(rb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rct=["x1","y1","x2","y2","key"],Oct=["offset"];function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function TK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TK(Object(n),!0).forEach(function(r){Lct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lct(t,e,n){return e=kct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kct(t){var e=Nct(t,"string");return Ng(e)=="symbol"?e:e+""}function Nct(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}function AK(t,e){if(t==null)return{};var n=Ict(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ict(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Dct=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return de.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function che(t,e){var n;if(de.isValidElement(t))n=de.cloneElement(t,e);else if(xn(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=AK(e,Rct),c=Fn(l,!1);c.offset;var u=AK(c,Oct);n=de.createElement("line",zm({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function jct(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ha(ha({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return che(i,c)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Bct(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ha(ha({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return che(i,c)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function zct(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var m=!u[h+1],v=m?i+a-d:u[h+1]-d;if(v<=0)return null;var y=h%e.length;return de.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:v,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $ct(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(d){return Math.round(d+o-o)}).sort(function(d,h){return d-h});o!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var m=!u[h+1],v=m?o+s-d:u[h+1]-d;if(v<=0)return null;var y=h%r.length;return de.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:v,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Fct=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return bde(N8(ha(ha(ha({},rb.defaultProps),r),{},{ticks:Bf(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Uct=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return bde(N8(ha(ha(ha({},rb.defaultProps),r),{},{ticks:Bf(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Bv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function uhe(t){var e,n,r,i,o,a,s=R8(),l=O8(),c=Plt(),u=ha(ha({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bv.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bv.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bv.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bv.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Bv.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Bv.verticalFill,x:Tt(t.x)?t.x:c.left,y:Tt(t.y)?t.y:c.top,width:Tt(t.width)?t.width:c.width,height:Tt(t.height)?t.height:c.height}),f=u.x,d=u.y,h=u.width,m=u.height,v=u.syncWithTicks,y=u.horizontalValues,g=u.verticalValues,b=Tlt(),x=Alt();if(!Tt(h)||h<=0||!Tt(m)||m<=0||!Tt(f)||f!==+f||!Tt(d)||d!==+d)return null;var _=u.verticalCoordinatesGenerator||Fct,T=u.horizontalCoordinatesGenerator||Uct,C=u.horizontalPoints,P=u.verticalPoints;if((!C||!C.length)&&xn(T)){var I=y&&y.length,O=T({yAxis:x?ha(ha({},x),{},{ticks:I?y:x.ticks}):void 0,width:s,height:l,offset:c},I?!0:v);Yf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ng(O),"]")),Array.isArray(O)&&(C=O)}if((!P||!P.length)&&xn(_)){var N=g&&g.length,D=_({xAxis:b?ha(ha({},b),{},{ticks:N?g:b.ticks}):void 0,width:s,height:l,offset:c},N?!0:v);Yf(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ng(D),"]")),Array.isArray(D)&&(P=D)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(Dct,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),de.createElement(jct,zm({},u,{offset:c,horizontalPoints:C,xAxis:b,yAxis:x})),de.createElement(Bct,zm({},u,{offset:c,verticalPoints:P,xAxis:b,yAxis:x})),de.createElement(zct,zm({},u,{horizontalPoints:C})),de.createElement($ct,zm({},u,{verticalPoints:P})))}uhe.displayName="CartesianGrid";var Wct=["layout","type","stroke","connectNulls","isRange","ref"],Vct=["key"],fhe;function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function dhe(t,e){if(t==null)return{};var n=Hct(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hct(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}function CK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CK(Object(n),!0).forEach(function(r){yu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,phe(r.key),r)}}function Xct(t,e,n){return e&&PK(t.prototype,e),n&&PK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qct(t,e,n){return e=dP(e),Yct(t,hhe()?Reflect.construct(e,n||[],dP(t).constructor):e.apply(t,n))}function Yct(t,e){if(e&&(rx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kct(t)}function Kct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hhe=function(){return!!t})()}function dP(t){return dP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dP(t)}function Zct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oj(t,e)}function Oj(t,e){return Oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Oj(t,e)}function yu(t,e,n){return e=phe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=Jct(t,"string");return rx(e)=="symbol"?e:e+""}function Jct(t,e){if(rx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fd=function(t){function e(){var n;Gct(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=qct(this,e,[].concat(i)),yu(n,"state",{isAnimationFinished:!0}),yu(n,"id",bM("recharts-area-")),yu(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xn(a)&&a()}),yu(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xn(a)&&a()}),n}return Zct(e,t),Xct(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=Fn(this.props,!1),h=Fn(c,!0),m=u.map(function(y,g){var b=ah(ah(ah({key:"dot-".concat(g),r:3},d),h),{},{index:g,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:u});return e.renderDotItem(c,b)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return de.createElement(di,$m({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=r*Math.abs(l-c),f=Lh(a.map(function(d){return d.y||0}));return Tt(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Lh(o.map(function(d){return d.y||0})),f)),Tt(f)?de.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=r*Math.abs(l-c),f=Lh(a.map(function(d){return d.x||0}));return Tt(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Lh(o.map(function(d){return d.x||0})),f)),Tt(f)?de.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,d=s.isRange;s.ref;var h=dhe(s,Wct);return de.createElement(di,{clipPath:o?"url(#clipPath-".concat(a,")"):null},de.createElement(v1,$m({},Fn(h,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&de.createElement(v1,$m({},Fn(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),u!=="none"&&d&&de.createElement(v1,$m({},Fn(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,h=a.animationId,m=this.state,v=m.prevPoints,y=m.prevBaseLine;return de.createElement(ud,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t;if(v){var x=v.length/s.length,_=s.map(function(I,O){var N=Math.floor(O*x);if(v[N]){var D=v[N],U=Cl(D.x,I.x),V=Cl(D.y,I.y);return ah(ah({},I),{},{x:U(b),y:V(b)})}return I}),T;if(Tt(l)&&typeof l=="number"){var C=Cl(y,l);T=C(b)}else if(Gn(l)||Qx(l)){var P=Cl(y,0);T=P(b)}else T=l.map(function(I,O){var N=Math.floor(O*x);if(y[N]){var D=y[N],U=Cl(D.x,I.x),V=Cl(D.y,I.y);return ah(ah({},I),{},{x:U(b),y:V(b)})}return I});return o.renderAreaStatically(_,T,r,i)}return de.createElement(di,null,de.createElement("defs",null,de.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),de.createElement(di,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,d=c.totalLength;return l&&a&&a.length&&(!u&&d>0||!U0(u,a)||!U0(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,d=i.yAxis,h=i.width,m=i.height,v=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var g=this.state.isAnimationFinished,b=s.length===1,x=er("recharts-area",l),_=f&&f.allowDataOverflow,T=d&&d.allowDataOverflow,C=_||T,P=Gn(y)?this.id:y,I=(r=Fn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=I.r,N=O===void 0?3:O,D=I.strokeWidth,U=D===void 0?2:D,V=IZe(a)?a:{},z=V.clipDot,F=z===void 0?!0:z,W=N*2+U;return de.createElement(di,{className:x},_||T?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(P)},de.createElement("rect",{x:_?u:u-h/2,y:T?c:c-m/2,width:_?h:h*2,height:T?m:m*2})),!F&&de.createElement("clipPath",{id:"clipPath-dots-".concat(P)},de.createElement("rect",{x:u-W/2,y:c-W/2,width:h+W,height:m+W}))):null,b?null:this.renderArea(C,P),(a||b)&&this.renderDots(C,F,P),(!v||g)&&Gh.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(A.PureComponent);fhe=fd;yu(fd,"displayName","Area");yu(fd,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!eb.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yu(fd,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(Tt(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});yu(fd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,h=e.layout,m=c&&c.length,v=fhe.getBaseValue(e,n,r,i),y=h==="horizontal",g=!1,b=f.map(function(_,T){var C;m?C=c[u+T]:(C=Js(_,l),Array.isArray(C)?g=!0:C=[v,C]);var P=C[1]==null||m&&Js(_,l)==null;return y?{x:pY({axis:r,ticks:o,bandSize:s,entry:_,index:T}),y:P?null:i.scale(C[1]),value:C,payload:_}:{x:P?null:r.scale(C[1]),y:pY({axis:i,ticks:a,bandSize:s,entry:_,index:T}),value:C,payload:_}}),x;return m||g?x=b.map(function(_){var T=Array.isArray(_.value)?_.value[0]:null;return y?{x:_.x,y:T!=null&&_.y!=null?i.scale(T):null}:{x:T!=null?r.scale(T):null,y:_.y}}):x=y?i.scale(v):r.scale(v),ah({points:b,baseLine:x,layout:h,isRange:g},d)});yu(fd,"renderDotItem",function(t,e){var n;if(de.isValidElement(t))n=de.cloneElement(t,e);else if(xn(t))n=t(e);else{var r=er("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=dhe(e,Vct);n=de.createElement(T8,$m({},o,{key:i,className:r}))}return n});function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function Qct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vhe(r.key),r)}}function tut(t,e,n){return e&&eut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nut(t,e,n){return e=hP(e),rut(t,mhe()?Reflect.construct(e,n||[],hP(t).constructor):e.apply(t,n))}function rut(t,e){if(e&&(ix(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iut(t)}function iut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mhe=function(){return!!t})()}function hP(t){return hP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hP(t)}function out(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lj(t,e)}function Lj(t,e){return Lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lj(t,e)}function ghe(t,e,n){return e=vhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vhe(t){var e=aut(t,"string");return ix(e)=="symbol"?e:e+""}function aut(t,e){if(ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ix(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kj(){return kj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kj.apply(this,arguments)}function sut(t){var e=t.xAxisId,n=R8(),r=O8(),i=Jde(e);return i==null?null:A.createElement(rb,kj({},i,{className:er("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Bf(a,!0)}}))}var ML=function(t){function e(){return Qct(this,e),nut(this,e,arguments)}return out(e,t),tut(e,[{key:"render",value:function(){return A.createElement(sut,this.props)}}])}(A.Component);ghe(ML,"displayName","XAxis");ghe(ML,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function lut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bhe(r.key),r)}}function uut(t,e,n){return e&&cut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fut(t,e,n){return e=pP(e),dut(t,yhe()?Reflect.construct(e,n||[],pP(t).constructor):e.apply(t,n))}function dut(t,e){if(e&&(ox(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hut(t)}function hut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yhe=function(){return!!t})()}function pP(t){return pP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pP(t)}function put(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nj(t,e)}function Nj(t,e){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nj(t,e)}function xhe(t,e,n){return e=bhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bhe(t){var e=mut(t,"string");return ox(e)=="symbol"?e:e+""}function mut(t,e){if(ox(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ox(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ij(){return Ij=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ij.apply(this,arguments)}var gut=function(e){var n=e.yAxisId,r=R8(),i=O8(),o=Qde(n);return o==null?null:A.createElement(rb,Ij({},o,{className:er("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Bf(s,!0)}}))},EL=function(t){function e(){return lut(this,e),fut(this,e,arguments)}return put(e,t),uut(e,[{key:"render",value:function(){return A.createElement(gut,this.props)}}])}(A.Component);xhe(EL,"displayName","YAxis");xhe(EL,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function RK(t){return but(t)||xut(t)||yut(t)||vut()}function vut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yut(t,e){if(t){if(typeof t=="string")return Dj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dj(t,e)}}function xut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function but(t){if(Array.isArray(t))return Dj(t)}function Dj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jj=function(e,n,r,i,o){var a=Oc(e,k8),s=Oc(e,_L),l=[].concat(RK(a),RK(s)),c=Oc(e,SL),u="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(v,y){if(y.props[u]===r&&Au(y.props,"extendDomain")&&Tt(y.props[f])){var g=y.props[f];return[Math.min(v[0],g),Math.max(v[1],g)]}return v},d)),c.length){var h="".concat(f,"1"),m="".concat(f,"2");d=c.reduce(function(v,y){if(y.props[u]===r&&Au(y.props,"extendDomain")&&Tt(y.props[h])&&Tt(y.props[m])){var g=y.props[h],b=y.props[m];return[Math.min(v[0],g,b),Math.max(v[1],g,b)]}return v},d)}return o&&o.length&&(d=o.reduce(function(v,y){return Tt(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},d)),d},_he={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,m=new Array(h);d<h;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,d,h,m){var v=n?n+c:c;if(!this._events[v])return!1;var y=this._events[v],g=arguments.length,b,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,d),!0;case 5:return y.fn.call(y.context,u,f,d,h),!0;case 6:return y.fn.call(y.context,u,f,d,h,m),!0}for(x=1,b=new Array(g-1);x<g;x++)b[x-1]=arguments[x];y.fn.apply(y.context,b)}else{var _=y.length,T;for(x=0;x<_;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),g){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,f);break;case 4:y[x].fn.call(y[x].context,u,f,d);break;default:if(!b)for(T=1,b=new Array(g-1);T<g;T++)b[T-1]=arguments[T];y[x].fn.apply(y[x].context,b)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,d){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!d||m.once)&&(!f||m.context===f)&&a(this,h);else{for(var v=0,y=[],g=m.length;v<g;v++)(m[v].fn!==u||d&&!m[v].once||f&&m[v].context!==f)&&y.push(m[v]);y.length?this._events[h]=y.length===1?y[0]:y:a(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(_he);var _ut=_he.exports;const wut=yn(_ut);var IN=new wut,DN="recharts.syncMouseEvents";function tS(t){"@babel/helpers - typeof";return tS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tS(t)}function Sut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,whe(r.key),r)}}function Eut(t,e,n){return e&&Mut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jN(t,e,n){return e=whe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=Tut(t,"string");return tS(e)=="symbol"?e:e+""}function Tut(t,e){if(tS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aut=function(){function t(){Sut(this,t),jN(this,"activeIndex",0),jN(this,"coordinateList",[]),jN(this,"layout","horizontal")}return Eut(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,d=n.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,d=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function Cut(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Tt(r)&&Tt(i))return!0}return!1}function Put(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function She(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Vo(e,n,r,i),s=Vo(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Rut(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,d=Vo(s,l,c,f),h=Vo(s,l,u,f);r=d.x,i=d.y,o=h.x,a=h.y}else return She(e);return[{x:r,y:i},{x:o,y:a}]}function nS(t){"@babel/helpers - typeof";return nS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nS(t)}function OK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OK(Object(n),!0).forEach(function(r){Out(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Out(t,e,n){return e=Lut(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lut(t){var e=kut(t,"string");return nS(e)=="symbol"?e:e+""}function kut(t,e){if(nS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nut(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var m,v=v1;if(d==="ScatterChart")m=a,v=Qot;else if(d==="BarChart")m=Put(f,a,l,u),v=E8;else if(f==="radial"){var y=She(a),g=y.cx,b=y.cy,x=y.radius,_=y.startAngle,T=y.endAngle;m={cx:g,cy:b,startAngle:_,endAngle:T,innerRadius:x,outerRadius:x},v=Ede}else m={points:Rut(f,a,l)},v=v1;var C=y2(y2(y2(y2({stroke:"#ccc",pointerEvents:"none"},l),m),Fn(h,!1)),{},{payload:s,payloadIndex:c,className:er("recharts-tooltip-cursor",h.className)});return A.isValidElement(h)?A.cloneElement(h,C):A.createElement(v,C)}var Iut=["item"],Dut=["children","className","width","height","style","compact","title","desc"];function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}function LK(t,e){return zut(t)||But(t,e)||Ehe(t,e)||jut()}function jut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function But(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function zut(t){if(Array.isArray(t))return t}function kK(t,e){if(t==null)return{};var n=$ut(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ut(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,The(r.key),r)}}function Wut(t,e,n){return e&&Uut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vut(t,e,n){return e=mP(e),Hut(t,Mhe()?Reflect.construct(e,n||[],mP(t).constructor):e.apply(t,n))}function Hut(t,e){if(e&&(ax(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gut(t)}function Gut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mhe=function(){return!!t})()}function mP(t){return mP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mP(t)}function Xut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bj(t,e)}function Bj(t,e){return Bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bj(t,e)}function sx(t){return Kut(t)||Yut(t)||Ehe(t)||qut()}function qut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ehe(t,e){if(t){if(typeof t=="string")return zj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zj(t,e)}}function Yut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kut(t){if(Array.isArray(t))return zj(t)}function zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NK(Object(n),!0).forEach(function(r){un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function un(t,e,n){return e=The(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function The(t){var e=Zut(t,"string");return ax(e)=="symbol"?e:e+""}function Zut(t,e){if(ax(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ax(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jut={xAxis:["bottom","top"],yAxis:["left","right"]},Qut={width:"100%",height:"100%"},Ahe={x:0,y:0};function x2(t){return t}var eft=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},tft=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return lt(lt(lt({},i),Vo(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return lt(lt(lt({},i),Vo(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Ahe},TL=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(sx(s),sx(c)):s},[]);return a.length>0?a:e&&e.length&&Tt(i)&&Tt(o)?e.slice(i,o+1):[]};function Che(t){return t==="number"?[0,"auto"]:void 0}var $j=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=TL(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var h=f===void 0?s:f;d=IC(h,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(sx(l),[wde(c,d)]):l},[])},IK=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=eft(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Nnt(a,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,d=$j(e,n,u,f),h=tft(r,s,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},nft=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=e.stackOffset,h=xde(u,o);return r.reduce(function(m,v){var y,g=v.type.defaultProps!==void 0?lt(lt({},v.type.defaultProps),v.props):v.props,b=g.type,x=g.dataKey,_=g.allowDataOverflow,T=g.allowDuplicatedCategory,C=g.scale,P=g.ticks,I=g.includeHidden,O=g[a];if(m[O])return m;var N=TL(e.data,{graphicalItems:i.filter(function(Y){var J,re=a in Y.props?Y.props[a]:(J=Y.type.defaultProps)===null||J===void 0?void 0:J[a];return re===O}),dataStartIndex:l,dataEndIndex:c}),D=N.length,U,V,z;Cut(g.domain,_,b)&&(U=oj(g.domain,null,_),h&&(b==="number"||C!=="auto")&&(z=g1(N,x,"category")));var F=Che(b);if(!U||U.length===0){var W,X=(W=g.domain)!==null&&W!==void 0?W:F;if(x){if(U=g1(N,x,b),b==="category"&&h){var B=EZe(U);T&&B?(V=U,U=Kw(0,D)):T||(U=yY(X,U,v).reduce(function(Y,J){return Y.indexOf(J)>=0?Y:[].concat(sx(Y),[J])},[]))}else if(b==="category")T?U=U.filter(function(Y){return Y!==""&&!Gn(Y)}):U=yY(X,U,v).reduce(function(Y,J){return Y.indexOf(J)>=0||J===""||Gn(J)?Y:[].concat(sx(Y),[J])},[]);else if(b==="number"){var G=znt(N,i.filter(function(Y){var J,re,oe=a in Y.props?Y.props[a]:(J=Y.type.defaultProps)===null||J===void 0?void 0:J[a],pe="hide"in Y.props?Y.props.hide:(re=Y.type.defaultProps)===null||re===void 0?void 0:re.hide;return oe===O&&(I||!pe)}),x,o,u);G&&(U=G)}h&&(b==="number"||C!=="auto")&&(z=g1(N,x,"category"))}else h?U=Kw(0,D):s&&s[O]&&s[O].hasStack&&b==="number"?U=d==="expand"?[0,1]:_de(s[O].stackGroups,l,c):U=yde(N,i.filter(function(Y){var J=a in Y.props?Y.props[a]:Y.type.defaultProps[a],re="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return J===O&&(I||!re)}),b,u,!0);if(b==="number")U=jj(f,U,O,o,P),X&&(U=oj(X,U,_));else if(b==="category"&&X){var q=X,te=U.every(function(Y){return q.indexOf(Y)>=0});te&&(U=q)}}return lt(lt({},m),{},un({},O,lt(lt({},g),{},{axisType:o,domain:U,categoricalDomain:z,duplicateDomain:V,originalDomain:(y=g.domain)!==null&&y!==void 0?y:F,isCategorical:h,layout:u})))},{})},rft=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=TL(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=d.length,m=xde(u,o),v=-1;return r.reduce(function(y,g){var b=g.type.defaultProps!==void 0?lt(lt({},g.type.defaultProps),g.props):g.props,x=b[a],_=Che("number");if(!y[x]){v++;var T;return m?T=Kw(0,h):s&&s[x]&&s[x].hasStack?(T=_de(s[x].stackGroups,l,c),T=jj(f,T,x,o)):(T=oj(_,yde(d,r.filter(function(C){var P,I,O=a in C.props?C.props[a]:(P=C.type.defaultProps)===null||P===void 0?void 0:P[a],N="hide"in C.props?C.props.hide:(I=C.type.defaultProps)===null||I===void 0?void 0:I.hide;return O===x&&!N}),"number",u),i.defaultProps.allowDataOverflow),T=jj(f,T,x,o)),lt(lt({},y),{},un({},x,lt(lt({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ci(Jut,"".concat(o,".").concat(v%2),null),domain:T,originalDomain:_,isCategorical:m,layout:u})))}return y},{})},ift=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),d=Oc(u,o),h={};return d&&d.length?h=nft(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(h=rft(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),h},oft=function(e){var n=gh(e),r=Bf(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vM(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:XC(n,r)}},DK=function(e){var n=e.children,r=e.defaultShowTooltip,i=js(n,Z0),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},aft=function(e){return!e||!e.length?!1:e.some(function(n){var r=qf(n&&n.type);return r&&r.indexOf("Bar")>=0})},jK=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sft=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,f=r.children,d=r.margin||{},h=js(f,Z0),m=js(f,s0),v=Object.keys(l).reduce(function(T,C){var P=l[C],I=P.orientation;return!P.mirror&&!P.hide?lt(lt({},T),{},un({},I,T[I]+P.width)):T},{left:d.left||0,right:d.right||0}),y=Object.keys(a).reduce(function(T,C){var P=a[C],I=P.orientation;return!P.mirror&&!P.hide?lt(lt({},T),{},un({},I,Ci(T,"".concat(I))+P.height)):T},{top:d.top||0,bottom:d.bottom||0}),g=lt(lt({},y),v),b=g.bottom;h&&(g.bottom+=h.props.height||Z0.defaultProps.height),m&&n&&(g=jnt(g,i,r,n));var x=c-g.left-g.right,_=u-g.top-g.bottom;return lt(lt({brushBottom:b},g),{},{width:Math.max(x,0),height:Math.max(_,0)})},lft=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},cft=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,d=function(g,b){var x=b.graphicalItems,_=b.stackGroups,T=b.offset,C=b.updateId,P=b.dataStartIndex,I=b.dataEndIndex,O=g.barSize,N=g.layout,D=g.barGap,U=g.barCategoryGap,V=g.maxBarSize,z=jK(N),F=z.numericAxisName,W=z.cateAxisName,X=aft(x),B=[];return x.forEach(function(G,q){var te=TL(g.data,{graphicalItems:[G],dataStartIndex:P,dataEndIndex:I}),Y=G.type.defaultProps!==void 0?lt(lt({},G.type.defaultProps),G.props):G.props,J=Y.dataKey,re=Y.maxBarSize,oe=Y["".concat(F,"Id")],pe=Y["".concat(W,"Id")],fe={},we=l.reduce(function(ve,Se){var Le=b["".concat(Se.axisType,"Map")],Ie=Y["".concat(Se.axisType,"Id")];Le&&Le[Ie]||Se.axisType==="zAxis"||kg();var Ke=Le[Ie];return lt(lt({},ve),{},un(un({},Se.axisType,Ke),"".concat(Se.axisType,"Ticks"),Bf(Ke)))},fe),ge=we[W],xe=we["".concat(W,"Ticks")],Te=_&&_[oe]&&_[oe].hasStack&&Znt(G,_[oe].stackGroups),ee=qf(G.type).indexOf("Bar")>=0,Ce=XC(ge,xe),ae=[],be=X&&Int({barSize:O,stackGroups:_,totalSize:lft(we,W)});if(ee){var _e,He,Ve=Gn(re)?V:re,ne=(_e=(He=XC(ge,xe,!0))!==null&&He!==void 0?He:Ve)!==null&&_e!==void 0?_e:0;ae=Dnt({barGap:D,barCategoryGap:U,bandSize:ne!==Ce?ne:Ce,sizeList:be[pe],maxBarSize:Ve}),ne!==Ce&&(ae=ae.map(function(ve){return lt(lt({},ve),{},{position:lt(lt({},ve.position),{},{offset:ve.position.offset-ne/2})})}))}var Q=G&&G.type&&G.type.getComposedData;Q&&B.push({props:lt(lt({},Q(lt(lt({},we),{},{displayedData:te,props:g,dataKey:J,item:G,bandSize:Ce,barPosition:ae,offset:T,stackedData:Te,layout:N,dataStartIndex:P,dataEndIndex:I}))),{},un(un(un({key:G.key||"item-".concat(q)},F,we[F]),W,we[W]),"animationId",C)),childIndex:BZe(G,g.children),item:G})}),B},h=function(g,b){var x=g.props,_=g.dataStartIndex,T=g.dataEndIndex,C=g.updateId;if(!Eq({props:x}))return null;var P=x.children,I=x.layout,O=x.stackOffset,N=x.data,D=x.reverseStackOrder,U=jK(I),V=U.numericAxisName,z=U.cateAxisName,F=Oc(P,r),W=qnt(N,F,"".concat(V,"Id"),"".concat(z,"Id"),O,D),X=l.reduce(function(Y,J){var re="".concat(J.axisType,"Map");return lt(lt({},Y),{},un({},re,ift(x,lt(lt({},J),{},{graphicalItems:F,stackGroups:J.axisType===V&&W,dataStartIndex:_,dataEndIndex:T}))))},{}),B=sft(lt(lt({},X),{},{props:x,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(X).forEach(function(Y){X[Y]=u(x,X[Y],B,Y.replace("Map",""),n)});var G=X["".concat(z,"Map")],q=oft(G),te=d(x,lt(lt({},X),{},{dataStartIndex:_,dataEndIndex:T,updateId:C,graphicalItems:F,stackGroups:W,offset:B}));return lt(lt({formattedGraphicalItems:te,graphicalItems:F,offset:B,stackGroups:W},q),X)},m=function(y){function g(b){var x,_,T;return Fut(this,g),T=Vut(this,g,[b]),un(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),un(T,"accessibilityManager",new Aut),un(T,"handleLegendBBoxUpdate",function(C){if(C){var P=T.state,I=P.dataStartIndex,O=P.dataEndIndex,N=P.updateId;T.setState(lt({legendBBox:C},h({props:T.props,dataStartIndex:I,dataEndIndex:O,updateId:N},lt(lt({},T.state),{},{legendBBox:C}))))}}),un(T,"handleReceiveSyncEvent",function(C,P,I){if(T.props.syncId===C){if(I===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(P)}}),un(T,"handleBrushChange",function(C){var P=C.startIndex,I=C.endIndex;if(P!==T.state.dataStartIndex||I!==T.state.dataEndIndex){var O=T.state.updateId;T.setState(function(){return lt({dataStartIndex:P,dataEndIndex:I},h({props:T.props,dataStartIndex:P,dataEndIndex:I,updateId:O},T.state))}),T.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),un(T,"handleMouseEnter",function(C){var P=T.getMouseInfo(C);if(P){var I=lt(lt({},P),{},{isTooltipActive:!0});T.setState(I),T.triggerSyncEvent(I);var O=T.props.onMouseEnter;xn(O)&&O(I,C)}}),un(T,"triggeredAfterMouseMove",function(C){var P=T.getMouseInfo(C),I=P?lt(lt({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(I),T.triggerSyncEvent(I);var O=T.props.onMouseMove;xn(O)&&O(I,C)}),un(T,"handleItemMouseEnter",function(C){T.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),un(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),un(T,"handleMouseMove",function(C){C.persist(),T.throttleTriggeredAfterMouseMove(C)}),un(T,"handleMouseLeave",function(C){T.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};T.setState(P),T.triggerSyncEvent(P);var I=T.props.onMouseLeave;xn(I)&&I(P,C)}),un(T,"handleOuterEvent",function(C){var P=jZe(C),I=Ci(T.props,"".concat(P));if(P&&xn(I)){var O,N;/.*touch.*/i.test(P)?N=T.getMouseInfo(C.changedTouches[0]):N=T.getMouseInfo(C),I((O=N)!==null&&O!==void 0?O:{},C)}}),un(T,"handleClick",function(C){var P=T.getMouseInfo(C);if(P){var I=lt(lt({},P),{},{isTooltipActive:!0});T.setState(I),T.triggerSyncEvent(I);var O=T.props.onClick;xn(O)&&O(I,C)}}),un(T,"handleMouseDown",function(C){var P=T.props.onMouseDown;if(xn(P)){var I=T.getMouseInfo(C);P(I,C)}}),un(T,"handleMouseUp",function(C){var P=T.props.onMouseUp;if(xn(P)){var I=T.getMouseInfo(C);P(I,C)}}),un(T,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),un(T,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseDown(C.changedTouches[0])}),un(T,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseUp(C.changedTouches[0])}),un(T,"handleDoubleClick",function(C){var P=T.props.onDoubleClick;if(xn(P)){var I=T.getMouseInfo(C);P(I,C)}}),un(T,"handleContextMenu",function(C){var P=T.props.onContextMenu;if(xn(P)){var I=T.getMouseInfo(C);P(I,C)}}),un(T,"triggerSyncEvent",function(C){T.props.syncId!==void 0&&IN.emit(DN,T.props.syncId,C,T.eventEmitterSymbol)}),un(T,"applySyncEvent",function(C){var P=T.props,I=P.layout,O=P.syncMethod,N=T.state.updateId,D=C.dataStartIndex,U=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)T.setState(lt({dataStartIndex:D,dataEndIndex:U},h({props:T.props,dataStartIndex:D,dataEndIndex:U,updateId:N},T.state)));else if(C.activeTooltipIndex!==void 0){var V=C.chartX,z=C.chartY,F=C.activeTooltipIndex,W=T.state,X=W.offset,B=W.tooltipTicks;if(!X)return;if(typeof O=="function")F=O(B,C);else if(O==="value"){F=-1;for(var G=0;G<B.length;G++)if(B[G].value===C.activeLabel){F=G;break}}var q=lt(lt({},X),{},{x:X.left,y:X.top}),te=Math.min(V,q.x+q.width),Y=Math.min(z,q.y+q.height),J=B[F]&&B[F].value,re=$j(T.state,T.props.data,F),oe=B[F]?{x:I==="horizontal"?B[F].coordinate:te,y:I==="horizontal"?Y:B[F].coordinate}:Ahe;T.setState(lt(lt({},C),{},{activeLabel:J,activeCoordinate:oe,activePayload:re,activeTooltipIndex:F}))}else T.setState(C)}),un(T,"renderCursor",function(C){var P,I=T.state,O=I.isTooltipActive,N=I.activeCoordinate,D=I.activePayload,U=I.offset,V=I.activeTooltipIndex,z=I.tooltipAxisBandSize,F=T.getTooltipEventType(),W=(P=C.props.active)!==null&&P!==void 0?P:O,X=T.props.layout,B=C.key||"_recharts-cursor";return de.createElement(Nut,{key:B,activeCoordinate:N,activePayload:D,activeTooltipIndex:V,chartName:n,element:C,isActive:W,layout:X,offset:U,tooltipAxisBandSize:z,tooltipEventType:F})}),un(T,"renderPolarAxis",function(C,P,I){var O=Ci(C,"type.axisType"),N=Ci(T.state,"".concat(O,"Map")),D=C.type.defaultProps,U=D!==void 0?lt(lt({},D),C.props):C.props,V=N&&N[U["".concat(O,"Id")]];return A.cloneElement(C,lt(lt({},V),{},{className:er(O,V.className),key:C.key||"".concat(P,"-").concat(I),ticks:Bf(V,!0)}))}),un(T,"renderPolarGrid",function(C){var P=C.props,I=P.radialLines,O=P.polarAngles,N=P.polarRadius,D=T.state,U=D.radiusAxisMap,V=D.angleAxisMap,z=gh(U),F=gh(V),W=F.cx,X=F.cy,B=F.innerRadius,G=F.outerRadius;return A.cloneElement(C,{polarAngles:Array.isArray(O)?O:Bf(F,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(N)?N:Bf(z,!0).map(function(q){return q.coordinate}),cx:W,cy:X,innerRadius:B,outerRadius:G,key:C.key||"polar-grid",radialLines:I})}),un(T,"renderLegend",function(){var C=T.state.formattedGraphicalItems,P=T.props,I=P.children,O=P.width,N=P.height,D=T.props.margin||{},U=O-(D.left||0)-(D.right||0),V=gde({children:I,formattedGraphicalItems:C,legendWidth:U,legendContent:c});if(!V)return null;var z=V.item,F=kK(V,Iut);return A.cloneElement(z,lt(lt({},F),{},{chartWidth:O,chartHeight:N,margin:D,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),un(T,"renderTooltip",function(){var C,P=T.props,I=P.children,O=P.accessibilityLayer,N=js(I,ou);if(!N)return null;var D=T.state,U=D.isTooltipActive,V=D.activeCoordinate,z=D.activePayload,F=D.activeLabel,W=D.offset,X=(C=N.props.active)!==null&&C!==void 0?C:U;return A.cloneElement(N,{viewBox:lt(lt({},W),{},{x:W.left,y:W.top}),active:X,label:F,payload:X?z:[],coordinate:V,accessibilityLayer:O})}),un(T,"renderBrush",function(C){var P=T.props,I=P.margin,O=P.data,N=T.state,D=N.offset,U=N.dataStartIndex,V=N.dataEndIndex,z=N.updateId;return A.cloneElement(C,{key:C.key||"_recharts-brush",onChange:p2(T.handleBrushChange,C.props.onChange),data:O,x:Tt(C.props.x)?C.props.x:D.left,y:Tt(C.props.y)?C.props.y:D.top+D.height+D.brushBottom-(I.bottom||0),width:Tt(C.props.width)?C.props.width:D.width,startIndex:U,endIndex:V,updateId:"brush-".concat(z)})}),un(T,"renderReferenceElement",function(C,P,I){if(!C)return null;var O=T,N=O.clipPathId,D=T.state,U=D.xAxisMap,V=D.yAxisMap,z=D.offset,F=C.type.defaultProps||{},W=C.props,X=W.xAxisId,B=X===void 0?F.xAxisId:X,G=W.yAxisId,q=G===void 0?F.yAxisId:G;return A.cloneElement(C,{key:C.key||"".concat(P,"-").concat(I),xAxis:U[B],yAxis:V[q],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:N})}),un(T,"renderActivePoints",function(C){var P=C.item,I=C.activePoint,O=C.basePoint,N=C.childIndex,D=C.isRange,U=[],V=P.props.key,z=P.item.type.defaultProps!==void 0?lt(lt({},P.item.type.defaultProps),P.item.props):P.item.props,F=z.activeDot,W=z.dataKey,X=lt(lt({index:N,dataKey:W,cx:I.x,cy:I.y,r:4,fill:M8(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Fn(F,!1)),DC(F));return U.push(g.renderActiveDot(F,X,"".concat(V,"-activePoint-").concat(N))),O?U.push(g.renderActiveDot(F,lt(lt({},X),{},{cx:O.x,cy:O.y}),"".concat(V,"-basePoint-").concat(N))):D&&U.push(null),U}),un(T,"renderGraphicChild",function(C,P,I){var O=T.filterFormatItem(C,P,I);if(!O)return null;var N=T.getTooltipEventType(),D=T.state,U=D.isTooltipActive,V=D.tooltipAxis,z=D.activeTooltipIndex,F=D.activeLabel,W=T.props.children,X=js(W,ou),B=O.props,G=B.points,q=B.isRange,te=B.baseLine,Y=O.item.type.defaultProps!==void 0?lt(lt({},O.item.type.defaultProps),O.item.props):O.item.props,J=Y.activeDot,re=Y.hide,oe=Y.activeBar,pe=Y.activeShape,fe=!!(!re&&U&&X&&(J||oe||pe)),we={};N!=="axis"&&X&&X.props.trigger==="click"?we={onClick:p2(T.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(we={onMouseLeave:p2(T.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:p2(T.handleItemMouseEnter,C.props.onMouseEnter)});var ge=A.cloneElement(C,lt(lt({},O.props),we));function xe(Se){return typeof V.dataKey=="function"?V.dataKey(Se.payload):null}if(fe)if(z>=0){var Te,ee;if(V.dataKey&&!V.allowDuplicatedCategory){var Ce=typeof V.dataKey=="function"?xe:"payload.".concat(V.dataKey.toString());Te=IC(G,Ce,F),ee=q&&te&&IC(te,Ce,F)}else Te=G==null?void 0:G[z],ee=q&&te&&te[z];if(pe||oe){var ae=C.props.activeIndex!==void 0?C.props.activeIndex:z;return[A.cloneElement(C,lt(lt(lt({},O.props),we),{},{activeIndex:ae})),null,null]}if(!Gn(Te))return[ge].concat(sx(T.renderActivePoints({item:O,activePoint:Te,basePoint:ee,childIndex:z,isRange:q})))}else{var be,_e=(be=T.getItemByXY(T.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:ge},He=_e.graphicalItem,Ve=He.item,ne=Ve===void 0?C:Ve,Q=He.childIndex,ve=lt(lt(lt({},O.props),we),{},{activeIndex:Q});return[A.cloneElement(ne,ve),null,null]}return q?[ge,null,null]:[ge,null]}),un(T,"renderCustomized",function(C,P,I){return A.cloneElement(C,lt(lt({key:"recharts-customized-".concat(I)},T.props),T.state))}),un(T,"renderMap",{CartesianGrid:{handler:x2,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:x2},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:x2},YAxis:{handler:x2},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:bM("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=qfe(T.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),T.state={},T}return Xut(g,y),Wut(g,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,T=x.data,C=x.height,P=x.layout,I=js(_,ou);if(I){var O=I.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,D=$j(this.state,T,O,N),U=this.state.tooltipTicks[O].coordinate,V=(this.state.offset.top+C)/2,z=P==="horizontal",F=z?{x:U,y:V}:{y:U,x:V},W=this.state.formattedGraphicalItems.find(function(B){var G=B.item;return G.type.name==="Scatter"});W&&(F=lt(lt({},F),W.props.points[O].tooltipPosition),D=W.props.points[O].tooltipPayload);var X={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:N,activePayload:D,activeCoordinate:F};this.setState(X),this.renderCursor(I),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,C;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(x){D5([js(x.children,ou)],[js(this.props.children,ou)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=js(this.props.children,ou);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return s.indexOf(_)>=0?_:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,T=_.getBoundingClientRect(),C=Det(T),P={chartX:Math.round(x.pageX-C.left),chartY:Math.round(x.pageY-C.top)},I=T.width/_.offsetWidth||1,O=this.inRange(P.chartX,P.chartY,I);if(!O)return null;var N=this.state,D=N.xAxisMap,U=N.yAxisMap,V=this.getTooltipEventType(),z=IK(this.state,this.props.data,this.props.layout,O);if(V!=="axis"&&D&&U){var F=gh(D).scale,W=gh(U).scale,X=F&&F.invert?F.invert(P.chartX):null,B=W&&W.invert?W.invert(P.chartY):null;return lt(lt({},P),{},{xValue:X,yValue:B},z)}return z?lt(lt({},P),z):null}},{key:"inRange",value:function(x,_){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,P=x/T,I=_/T;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,N=P>=O.left&&P<=O.left+O.width&&I>=O.top&&I<=O.top+O.height;return N?{x:P,y:I}:null}var D=this.state,U=D.angleAxisMap,V=D.radiusAxisMap;if(U&&V){var z=gh(U);return _Y({x:P,y:I},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),T=js(x,ou),C={};T&&_==="axis"&&(T.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=DC(this.props,this.handleOuterEvent);return lt(lt({},P),C)}},{key:"addListener",value:function(){IN.on(DN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){IN.removeListener(DN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,T){for(var C=this.state.formattedGraphicalItems,P=0,I=C.length;P<I;P++){var O=C[P];if(O.item===x||O.props.key===x.key||_===qf(O.item.type)&&T===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,T=_.left,C=_.top,P=_.height,I=_.width;return de.createElement("defs",null,de.createElement("clipPath",{id:x},de.createElement("rect",{x:T,y:C,height:P,width:I})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,T){var C=LK(T,2),P=C[0],I=C[1];return lt(lt({},_),{},un({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,T){var C=LK(T,2),P=C[0],I=C[1];return lt(lt({},_),{},un({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,T=_.formattedGraphicalItems,C=_.activeItem;if(T&&T.length)for(var P=0,I=T.length;P<I;P++){var O=T[P],N=O.props,D=O.item,U=D.type.defaultProps!==void 0?lt(lt({},D.type.defaultProps),D.props):D.props,V=qf(D.type);if(V==="Bar"){var z=(N.data||[]).find(function(B){return Wot(x,B)});if(z)return{graphicalItem:O,payload:z}}else if(V==="RadialBar"){var F=(N.data||[]).find(function(B){return _Y(x,B)});if(F)return{graphicalItem:O,payload:F}}else if(vL(O,C)||yL(O,C)||Yw(O,C)){var W=Lat({graphicalItem:O,activeTooltipItem:C,itemData:U.data}),X=U.activeIndex===void 0?W:U.activeIndex;return{graphicalItem:lt(lt({},O),{},{childIndex:X}),payload:Yw(O,C)?U.data[W]:O.props.data[W]}}}return null}},{key:"render",value:function(){var x=this;if(!Eq(this))return null;var _=this.props,T=_.children,C=_.className,P=_.width,I=_.height,O=_.style,N=_.compact,D=_.title,U=_.desc,V=kK(_,Dut),z=Fn(V,!1);if(N)return de.createElement(mK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(B5,$y({},z,{width:P,height:I,title:D,desc:U}),this.renderClipPath(),Aq(T,this.renderMap)));if(this.props.accessibilityLayer){var F,W;z.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,z.role=(W=this.props.role)!==null&&W!==void 0?W:"application",z.onKeyDown=function(B){x.accessibilityManager.keyboardEvent(B)},z.onFocus=function(){x.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return de.createElement(mK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",$y({className:er("recharts-wrapper",C),style:lt({position:"relative",cursor:"default",width:P,height:I},O)},X,{ref:function(G){x.container=G}}),de.createElement(B5,$y({},z,{width:P,height:I,title:D,desc:U,style:Qut}),this.renderClipPath(),Aq(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);un(m,"displayName",n),un(m,"defaultProps",lt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),un(m,"getDerivedStateFromProps",function(y,g){var b=y.dataKey,x=y.data,_=y.children,T=y.width,C=y.height,P=y.layout,I=y.stackOffset,O=y.margin,N=g.dataStartIndex,D=g.dataEndIndex;if(g.updateId===void 0){var U=DK(y);return lt(lt(lt({},U),{},{updateId:0},h(lt(lt({props:y},U),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:x,prevWidth:T,prevHeight:C,prevLayout:P,prevStackOffset:I,prevMargin:O,prevChildren:_})}if(b!==g.prevDataKey||x!==g.prevData||T!==g.prevWidth||C!==g.prevHeight||P!==g.prevLayout||I!==g.prevStackOffset||!a0(O,g.prevMargin)){var V=DK(y),z={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},F=lt(lt({},IK(g,x,P)),{},{updateId:g.updateId+1}),W=lt(lt(lt({},V),z),F);return lt(lt(lt({},W),h(lt({props:y},W),g)),{},{prevDataKey:b,prevData:x,prevWidth:T,prevHeight:C,prevLayout:P,prevStackOffset:I,prevMargin:O,prevChildren:_})}if(!D5(_,g.prevChildren)){var X,B,G,q,te=js(_,Z0),Y=te&&(X=(B=te.props)===null||B===void 0?void 0:B.startIndex)!==null&&X!==void 0?X:N,J=te&&(G=(q=te.props)===null||q===void 0?void 0:q.endIndex)!==null&&G!==void 0?G:D,re=Y!==N||J!==D,oe=!Gn(x),pe=oe&&!re?g.updateId:g.updateId+1;return lt(lt({updateId:pe},h(lt(lt({props:y},g),{},{updateId:pe,dataStartIndex:Y,dataEndIndex:J}),g)),{},{prevChildren:_,dataStartIndex:Y,dataEndIndex:J})}return null}),un(m,"renderActiveDot",function(y,g,b){var x;return A.isValidElement(y)?x=A.cloneElement(y,g):xn(y)?x=y(g):x=de.createElement(T8,g),de.createElement(di,{className:"recharts-active-dot",key:b},x)});var v=A.forwardRef(function(g,b){return de.createElement(m,$y({},g,{ref:b}))});return v.displayName=m.displayName,v},uft=cft({chartName:"AreaChart",GraphicalChild:fd,axisComponents:[{axisType:"xAxis",AxisComp:ML},{axisType:"yAxis",AxisComp:EL}],formatAxisMap:tlt});function fft(){const[t,e]=A.useState("24h"),[n,r]=A.useState([]);A.useEffect(()=>{r((()=>{const c=t==="1h"?12:t==="24h"?24:t==="7d"?14:30;return Array.from({length:c},(u,f)=>({time:t==="1h"?`${String(f*5).padStart(2,"0")}m`:t==="24h"?`${String(f).padStart(2,"0")}:00`:t==="7d"?`Day ${f+1}`:`Day ${f+1}`,threats:Math.floor(Math.random()*50)+10,anomalies:Math.floor(Math.random()*20)+5,normalEvents:Math.floor(Math.random()*100)+50}))})())},[t]);const i=()=>{const l=[["Time","Threats","Anomalies","Normal Events"],...n.map(d=>[d.time,d.threats,d.anomalies,d.normalEvents])].map(d=>d.join(",")).join(`
`),c=new Blob([l],{type:"text/csv"}),u=URL.createObjectURL(c),f=document.createElement("a");f.href=u,f.download=`threat-trends-${t}-${Date.now()}.csv`,f.click()},o=n.reduce((l,c)=>l+c.threats,0),a=n.length>0?Math.round(o/n.length):0,s=n.length>1&&n[0].threats>0?(n[n.length-1].threats-n[0].threats)/n[0].threats*100:0;return S.jsxs(bn,{children:[S.jsx(Fa,{children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsxs(Ua,{className:"flex items-center gap-2",children:[S.jsx(HS,{className:"w-5 h-5"}),"Historical Trends"]}),S.jsx(Xg,{children:"Threat activity over time"})]}),S.jsx("div",{className:"flex gap-2",children:S.jsxs(br,{size:"sm",variant:"outline",onClick:i,children:[S.jsx(k1e,{className:"w-4 h-4 mr-2"}),"Export"]})})]})}),S.jsxs(Ti,{children:[S.jsx("div",{className:"flex gap-2 mb-6",children:["1h","24h","7d","30d"].map(l=>S.jsx(br,{size:"sm",variant:t===l?"default":"outline",onClick:()=>e(l),children:l},l))}),S.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[S.jsxs(ht.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-card border border-border/50 rounded-lg",children:[S.jsx("div",{className:"text-2xl font-bold text-red-500",children:o}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Threats"})]}),S.jsxs(ht.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-3 bg-card border border-border/50 rounded-lg",children:[S.jsx("div",{className:"text-2xl font-bold text-primary",children:a}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg per Period"})]}),S.jsxs(ht.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-3 bg-card border border-border/50 rounded-lg",children:[S.jsxs("div",{className:`text-2xl font-bold ${s>0?"text-red-500":"text-green-500"}`,children:[s>0?"+":"",s.toFixed(1),"%"]}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Trend"})]})]}),S.jsx(Pet,{width:"100%",height:250,children:S.jsxs(uft,{data:n,children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:"threatsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),S.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]}),S.jsxs("linearGradient",{id:"anomaliesGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),S.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})]}),S.jsx(uhe,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),S.jsx(ML,{dataKey:"time",stroke:"hsl(var(--muted-foreground))",style:{fontSize:"10px"}}),S.jsx(EL,{stroke:"hsl(var(--muted-foreground))",style:{fontSize:"10px"}}),S.jsx(ou,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),S.jsx(fd,{type:"monotone",dataKey:"threats",stroke:"#ef4444",fillOpacity:1,fill:"url(#threatsGradient)"}),S.jsx(fd,{type:"monotone",dataKey:"anomalies",stroke:"#f59e0b",fillOpacity:1,fill:"url(#anomaliesGradient)"})]})}),S.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-xs",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),S.jsx("span",{className:"text-muted-foreground",children:"Threats"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),S.jsx("span",{className:"text-muted-foreground",children:"Anomalies"})]})]})]})]})}function dft(){const[t,e]=A.useState([]);A.useEffect(()=>{e([{country:"Russia",code:"RU",lat:55.7558,lng:37.6173,threats:245,severity:"critical"},{country:"China",code:"CN",lat:39.9042,lng:116.4074,threats:189,severity:"high"},{country:"United States",code:"US",lat:38.9072,lng:-77.0369,threats:156,severity:"high"},{country:"Brazil",code:"BR",lat:-15.7975,lng:-47.8919,threats:98,severity:"medium"},{country:"India",code:"IN",lat:28.6139,lng:77.209,threats:87,severity:"medium"},{country:"Germany",code:"DE",lat:52.52,lng:13.405,threats:45,severity:"low"}])},[]);const n={critical:"bg-red-500",high:"bg-orange-500",medium:"bg-yellow-500",low:"bg-blue-500"},r=Math.max(...t.map(i=>i.threats));return S.jsxs(bn,{children:[S.jsxs(Fa,{children:[S.jsxs(Ua,{className:"flex items-center gap-2",children:[S.jsx(v$,{className:"w-5 h-5"}),"Global Threat Map"]}),S.jsx(Xg,{children:"Geographic distribution of threat activity"})]}),S.jsxs(Ti,{children:[S.jsxs("div",{className:"relative w-full h-64 bg-muted/30 rounded-lg overflow-hidden mb-4",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent"}),t.map((i,o)=>{const a=20+i.threats/r*40,s=(i.lng+180)/360*100,l=(90-i.lat)/180*100;return S.jsx(ht.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:o*.1},className:"absolute",style:{left:`${s}%`,top:`${l}%`,transform:"translate(-50%, -50%)"},children:S.jsxs("div",{className:"relative group",children:[S.jsx(ht.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,delay:o*.2},className:`w-${Math.floor(a/4)} h-${Math.floor(a/4)} ${n[i.severity]} rounded-full blur-md`,style:{width:a,height:a}}),S.jsx("div",{className:`absolute inset-0 ${n[i.severity]} rounded-full`,style:{width:a*.5,height:a*.5,left:"25%",top:"25%"}}),S.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:S.jsxs("div",{className:"bg-card border border-border shadow-lg rounded-lg p-2 whitespace-nowrap",children:[S.jsx("div",{className:"text-xs font-semibold",children:i.country}),S.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.threats," threats"]}),S.jsx(vr,{variant:"outline",className:"text-[9px] mt-1",children:i.severity})]})})]})},i.code)})]}),S.jsx("div",{className:"space-y-2",children:t.sort((i,o)=>o.threats-i.threats).map((i,o)=>S.jsxs(ht.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:o*.05},className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`w-2 h-2 ${n[i.severity]} rounded-full`}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-medium",children:i.country}),S.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.lat.toFixed(2),", ",i.lng.toFixed(2),""]})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-lg font-bold",children:i.threats}),S.jsx("div",{className:"text-[10px] text-muted-foreground",children:"threats"})]})]},i.code))}),S.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 grid grid-cols-3 gap-4 text-center",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-xl font-bold text-primary",children:t.length}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Countries"})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xl font-bold text-red-500",children:t.reduce((i,o)=>i+o.threats,0)}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Threats"})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xl font-bold text-orange-500",children:t.filter(i=>i.severity==="critical"||i.severity==="high").length}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"High Risk"})]})]})]})]})}function hft(){const[t,e]=A.useState([{id:"1",timestamp:new Date(Date.now()-3e5),title:"Critical: Ransomware Detected",message:"WannaCry variant detected on 5 endpoints",severity:"critical",read:!1,acknowledged:!1},{id:"2",timestamp:new Date(Date.now()-6e5),title:"Suspicious Network Activity",message:"Unusual outbound traffic to unknown IP 45.142.34.98",severity:"warning",read:!1,acknowledged:!1},{id:"3",timestamp:new Date(Date.now()-12e5),title:"System Update Available",message:"New threat signatures available for download",severity:"info",read:!0,acknowledged:!0}]),n=l=>{e(t.map(c=>c.id===l?{...c,acknowledged:!0,read:!0}:c))},r=l=>{e(t.filter(c=>c.id!==l))},i=l=>{e(t.map(c=>c.id===l?{...c,read:!0}:c))},o={critical:{icon:q1,color:"text-red-500",bg:"bg-red-500/10",border:"border-red-500/30"},warning:{icon:q1,color:"text-orange-500",bg:"bg-orange-500/10",border:"border-orange-500/30"},info:{icon:$1e,color:"text-blue-500",bg:"bg-blue-500/10",border:"border-blue-500/30"}},a=t.filter(l=>!l.read).length,s=t.filter(l=>!l.acknowledged).length;return S.jsxs(bn,{children:[S.jsx(Fa,{children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsxs(Ua,{className:"flex items-center gap-2",children:[S.jsx(G1,{className:"w-5 h-5"}),"Alert Management",a>0&&S.jsxs(vr,{variant:"destructive",className:"text-xs",children:[a," new"]})]}),S.jsx(Xg,{children:"Real-time security alerts and notifications"})]}),S.jsx("div",{className:"flex gap-2",children:S.jsx(br,{size:"sm",variant:"outline",onClick:()=>e(t.map(l=>({...l,read:!0}))),children:"Mark All Read"})})]})}),S.jsxs(Ti,{children:[S.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[S.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-center",children:[S.jsx("div",{className:"text-2xl font-bold text-red-500",children:t.filter(l=>l.severity==="critical").length}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Critical"})]}),S.jsxs("div",{className:"p-3 bg-orange-500/10 border border-orange-500/30 rounded-lg text-center",children:[S.jsx("div",{className:"text-2xl font-bold text-orange-500",children:t.filter(l=>l.severity==="warning").length}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Warning"})]}),S.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg text-center",children:[S.jsx("div",{className:"text-2xl font-bold text-blue-500",children:s}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending"})]})]}),S.jsx("div",{className:"space-y-2",children:S.jsx(F$,{children:t.map((l,c)=>{const u=o[l.severity],f=u.icon;return S.jsx(ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20,height:0},transition:{delay:c*.05},className:`p-4 border ${u.border} ${u.bg} rounded-lg ${l.read?"":"font-semibold"}`,onClick:()=>!l.read&&i(l.id),children:S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(f,{className:`w-5 h-5 ${u.color} mt-0.5 shrink-0`}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[S.jsx("h4",{className:"text-sm font-medium",children:l.title}),!l.read&&S.jsx("div",{className:"w-2 h-2 bg-primary rounded-full shrink-0 mt-1.5"})]}),S.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:l.message}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-[10px] text-muted-foreground",children:l.timestamp.toLocaleTimeString()}),S.jsxs("div",{className:"flex gap-2",children:[!l.acknowledged&&S.jsxs(br,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:d=>{d.stopPropagation(),n(l.id)},children:[S.jsx(Nre,{className:"w-3 h-3 mr-1"}),"Acknowledge"]}),S.jsxs(br,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:d=>{d.stopPropagation(),r(l.id)},children:[S.jsx(x$,{className:"w-3 h-3 mr-1"}),"Dismiss"]})]})]})]})]})},l.id)})})}),t.length===0&&S.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[S.jsx(G1,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),S.jsx("p",{className:"text-sm",children:"No alerts at this time"})]})]})]})}function pft(){const t=["malware","phishing","intrusion","vulnerability"],e=["critical","high","medium","low"],n=["RU","CN","US","BR","IN","KR","DE","FR","GB","JP"],r=t[Math.floor(Math.random()*t.length)],i=e[Math.floor(Math.random()*e.length)],o=()=>`${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}`;return{id:crypto.randomUUID(),timestamp:new Date,source:"Kaspersky Threat Intelligence",threatType:r,severity:i,indicator:o(),indicatorType:"ip",confidence:70+Math.random()*30,country:n[Math.floor(Math.random()*n.length)],description:`${r.toUpperCase()} activity detected via Kaspersky Global Threat Network`,tags:["kaspersky",r,i,"apt"]}}function mft(){const t=["zeus","emotet","trickbot","ryuk","wannacry","locky"],e=t[Math.floor(Math.random()*t.length)],n=()=>`malicious-${Math.random().toString(36).substr(2,8)}.com`;return{id:crypto.randomUUID(),timestamp:new Date,source:"Bitdefender Threat Intel",threatType:"malware",severity:Math.random()>.7?"critical":"high",indicator:n(),indicatorType:"domain",confidence:80+Math.random()*20,description:`${e.toUpperCase()} malware family detected by GravityZone`,tags:["bitdefender","malware",e,"c2"]}}function gft(){const t=["file-encryption","registry-modification","network-scan","credential-theft"],e=t[Math.floor(Math.random()*t.length)],n=()=>Array.from({length:64},()=>Math.floor(Math.random()*16).toString(16)).join("");return{id:crypto.randomUUID(),timestamp:new Date,source:"ANY.RUN Sandbox",threatType:"malware",severity:e==="file-encryption"?"critical":"high",indicator:n(),indicatorType:"hash",confidence:90+Math.random()*10,description:`Behavioral analysis: ${e} detected in sandbox environment`,tags:["anyrun","sandbox",e,"dynamic-analysis"]}}const vft=()=>{const{totalEventsProcessed:t,eventsPerSecond:e,anomalies:n,bettiNumbers:r,isConnected:i}=Rr(),[o,a]=A.useState([]);A.useEffect(()=>{const c=()=>{const f=[];for(let d=0;d<3;d++)Math.random()>.5&&f.push(pft()),Math.random()>.5&&f.push(mft()),Math.random()>.7&&f.push(gft());a(f.slice(0,6))};c();const u=setInterval(c,1e4);return()=>clearInterval(u)},[]);const s=A.useMemo(()=>{const c=n.filter(f=>f.severity==="critical").length,u=n.filter(f=>f.severity==="warning").length;return{totalEvents:t,eventsPerSecond:e,criticalAnomalies:c,warningAnomalies:u,totalAnomalies:n.length,avgBetti:Math.round((r.h0+r.h1+r.h2)/3),threatScore:Math.floor(50+Math.random()*30)}},[t,e,n,r]),l=[{title:"Total Events Processed",value:s.totalEvents.toLocaleString(),change:"+12.5%",trend:"up",icon:pR,color:"text-primary",bgColor:"bg-primary/10"},{title:"Current Throughput",value:`${s.eventsPerSecond}/s`,change:i?"Live":"Paused",trend:i?"up":"stable",icon:Qh,color:"text-success",bgColor:"bg-success/10"},{title:"Anomalies Detected",value:s.totalAnomalies.toString(),change:`${s.criticalAnomalies} critical`,trend:s.criticalAnomalies>0?"down":"stable",icon:q1,color:"text-anomaly",bgColor:"bg-anomaly/10"},{title:"Threat Intelligence Score",value:s.threatScore.toString(),change:"Real-time",trend:"stable",icon:wc,color:"text-info",bgColor:"bg-info/10"}];return S.jsxs("div",{className:"min-h-screen bg-background",children:[S.jsx(qg,{}),S.jsxs("main",{className:"pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-[1600px] mx-auto",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[S.jsxs("div",{children:[S.jsxs(ht.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold flex items-center gap-2",children:[S.jsx(X1,{className:"w-6 h-6 text-primary"}),"Advanced Analytics"]}),S.jsx(ht.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-sm text-muted-foreground mt-1",children:"Comprehensive threat intelligence and performance metrics"})]}),S.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[S.jsx(A1e,{className:"w-4 h-4"}),S.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),S.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:l.map((c,u)=>S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:S.jsx(bn,{variant:"glass",className:"h-full",children:S.jsxs(Ti,{className:"p-6",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsx("div",{className:`p-2 rounded-lg ${c.bgColor}`,children:S.jsx(c.icon,{className:`w-5 h-5 ${c.color}`})}),S.jsxs("div",{className:`flex items-center gap-1 text-xs ${c.trend==="up"?"text-success":c.trend==="down"?"text-critical":"text-muted-foreground"}`,children:[c.trend==="up"&&S.jsx(HS,{className:"w-3 h-3"}),c.trend==="down"&&S.jsx(twe,{className:"w-3 h-3"}),S.jsx("span",{children:c.change})]})]}),S.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:c.title}),S.jsx("p",{className:"text-2xl font-bold font-mono",children:c.value})]})})},c.title))}),S.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:[S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:S.jsx(fft,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:S.jsx(dft,{})})]}),S.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:[S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:S.jsxs(bn,{children:[S.jsx(Fa,{children:S.jsxs(Ua,{className:"flex items-center gap-2",children:[S.jsx(wc,{className:"w-5 h-5"}),"Live Threat Intelligence"]})}),S.jsx(Ti,{children:S.jsxs("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:[o.map((c,u)=>S.jsx(sse,{threat:c,index:u},c.id)),o.length===0&&S.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[S.jsx(wc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),S.jsx("p",{className:"text-sm",children:"No threats detected"})]})]})})]})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:S.jsx(pZe,{})})]}),S.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:[S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:S.jsx(hft,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:S.jsx(hZe,{})})]}),S.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:S.jsxs(bn,{variant:"glass",children:[S.jsx(Fa,{children:S.jsx(Ua,{className:"text-sm font-medium",children:"Betti Number Distribution"})}),S.jsx(Ti,{children:S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-topo-h0",children:" (Components)"}),S.jsx("span",{className:"font-mono font-semibold",children:r.h0})]}),S.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:S.jsx(ht.div,{className:"bg-topo-h0 h-2 rounded-full",initial:{width:0},animate:{width:`${Math.min(r.h0*2,100)}%`}})}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-topo-h1",children:" (Loops)"}),S.jsx("span",{className:"font-mono font-semibold",children:r.h1})]}),S.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:S.jsx(ht.div,{className:"bg-topo-h1 h-2 rounded-full",initial:{width:0},animate:{width:`${Math.min(r.h1*3,100)}%`}})}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-topo-h2",children:" (Voids)"}),S.jsx("span",{className:"font-mono font-semibold",children:r.h2})]}),S.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:S.jsx(ht.div,{className:"bg-topo-h2 h-2 rounded-full",initial:{width:0},animate:{width:`${Math.min(r.h2*10,100)}%`}})})]})})]})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},children:S.jsxs(bn,{variant:"glass",children:[S.jsx(Fa,{children:S.jsx(Ua,{className:"text-sm font-medium",children:"Anomaly Breakdown"})}),S.jsx(Ti,{children:S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-critical/10 border border-critical/20",children:[S.jsx("span",{className:"text-sm text-critical",children:"Critical"}),S.jsx(vr,{variant:"critical",children:s.criticalAnomalies})]}),S.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-anomaly/10 border border-anomaly/20",children:[S.jsx("span",{className:"text-sm text-anomaly",children:"Warning"}),S.jsx(vr,{variant:"anomaly",children:s.warningAnomalies})]}),S.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-info/10 border border-info/20",children:[S.jsx("span",{className:"text-sm text-info",children:"Info"}),S.jsx(vr,{variant:"info",children:n.filter(c=>c.severity==="info").length})]})]})})]})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:S.jsxs(bn,{variant:"glass",children:[S.jsx(Fa,{children:S.jsxs(Ua,{className:"text-sm font-medium flex items-center gap-2",children:[S.jsx(eg,{className:"w-4 h-4"}),"Data Sources Active"]})}),S.jsx(Ti,{children:S.jsxs("div",{className:"space-y-3 text-sm",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-muted-foreground",children:"Wikipedia"}),S.jsx(vr,{variant:i?"success":"outline",children:i?"Live":"Off"})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-muted-foreground",children:"Kaspersky"}),S.jsx(vr,{variant:"success",children:"Live"})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-muted-foreground",children:"Bitdefender"}),S.jsx(vr,{variant:"success",children:"Live"})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-muted-foreground",children:"ANY.RUN"}),S.jsx(vr,{variant:"success",children:"Live"})]}),S.jsx("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:"Total: 4 active streams"})]})})]})})]})]})]})};var Phe=["PageUp","PageDown"],Rhe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ohe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ib="Slider",[Fj,yft,xft]=lre(ib),[Lhe]=xp(ib,[xft]),[bft,AL]=Lhe(ib),khe=A.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:f=()=>{},onValueCommit:d=()=>{},inverted:h=!1,form:m,...v}=t,y=A.useRef(new Set),g=A.useRef(0),x=a==="horizontal"?_ft:wft,[_=[],T]=fR({prop:u,defaultProp:c,onChange:D=>{var V;(V=[...y.current][g.current])==null||V.focus(),f(D)}}),C=A.useRef(_);function P(D){const U=Aft(_,D);N(D,U)}function I(D){N(D,g.current)}function O(){const D=C.current[g.current];_[g.current]!==D&&d(_)}function N(D,U,{commit:V}={commit:!1}){const z=Oft(o),F=Lft(Math.round((D-r)/o)*o+r,z),W=CF(F,[r,i]);T((X=[])=>{const B=Eft(X,W,U);if(Rft(B,l*o)){g.current=B.indexOf(W);const G=String(B)!==String(X);return G&&V&&d(B),G?B:X}else return X})}return S.jsx(bft,{scope:t.__scopeSlider,name:n,disabled:s,min:r,max:i,valueIndexToChangeRef:g,thumbs:y.current,values:_,orientation:a,form:m,children:S.jsx(Fj.Provider,{scope:t.__scopeSlider,children:S.jsx(Fj.Slot,{scope:t.__scopeSlider,children:S.jsx(x,{"aria-disabled":s,"data-disabled":s?"":void 0,...v,ref:e,onPointerDown:$n(v.onPointerDown,()=>{s||(C.current=_)}),min:r,max:i,inverted:h,onSlideStart:s?void 0:P,onSlideMove:s?void 0:I,onSlideEnd:s?void 0:O,onHomeKeyDown:()=>!s&&N(r,0,{commit:!0}),onEndKeyDown:()=>!s&&N(i,_.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:U})=>{if(!s){const F=Phe.includes(D.key)||D.shiftKey&&Rhe.includes(D.key)?10:1,W=g.current,X=_[W],B=o*F*U;N(X+B,W,{commit:!0})}}})})})})});khe.displayName=ib;var[Nhe,Ihe]=Lhe(ib,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_ft=A.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=t,[f,d]=A.useState(null),h=Sr(e,x=>d(x)),m=A.useRef(void 0),v=Gae(i),y=v==="ltr",g=y&&!o||!y&&o;function b(x){const _=m.current||f.getBoundingClientRect(),T=[0,_.width],P=D8(T,g?[n,r]:[r,n]);return m.current=_,P(x-_.left)}return S.jsx(Nhe,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:S.jsx(Dhe,{dir:v,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const _=b(x.clientX);a==null||a(_)},onSlideMove:x=>{const _=b(x.clientX);s==null||s(_)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const T=Ohe[g?"from-left":"from-right"].includes(x.key);c==null||c({event:x,direction:T?-1:1})}})})}),wft=A.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onStepKeyDown:l,...c}=t,u=A.useRef(null),f=Sr(e,u),d=A.useRef(void 0),h=!i;function m(v){const y=d.current||u.current.getBoundingClientRect(),g=[0,y.height],x=D8(g,h?[r,n]:[n,r]);return d.current=y,x(v-y.top)}return S.jsx(Nhe,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:S.jsx(Dhe,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const y=m(v.clientY);o==null||o(y)},onSlideMove:v=>{const y=m(v.clientY);a==null||a(y)},onSlideEnd:()=>{d.current=void 0,s==null||s()},onStepKeyDown:v=>{const g=Ohe[h?"from-bottom":"from-top"].includes(v.key);l==null||l({event:v,direction:g?-1:1})}})})}),Dhe=A.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:l,...c}=t,u=AL(ib,n);return S.jsx(jn.span,{...c,ref:e,onKeyDown:$n(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):Phe.concat(Rhe).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:$n(t.onPointerDown,f=>{const d=f.target;d.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(d)?d.focus():r(f)}),onPointerMove:$n(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:$n(t.onPointerUp,f=>{const d=f.target;d.hasPointerCapture(f.pointerId)&&(d.releasePointerCapture(f.pointerId),o(f))})})}),jhe="SliderTrack",Bhe=A.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=AL(jhe,n);return S.jsx(jn.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Bhe.displayName=jhe;var Uj="SliderRange",zhe=A.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=AL(Uj,n),o=Ihe(Uj,n),a=A.useRef(null),s=Sr(e,a),l=i.values.length,c=i.values.map(d=>Uhe(d,i.min,i.max)),u=l>1?Math.min(...c):0,f=100-Math.max(...c);return S.jsx(jn.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{...t.style,[o.startEdge]:u+"%",[o.endEdge]:f+"%"}})});zhe.displayName=Uj;var Wj="SliderThumb",$he=A.forwardRef((t,e)=>{const n=yft(t.__scopeSlider),[r,i]=A.useState(null),o=Sr(e,s=>i(s)),a=A.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return S.jsx(Sft,{...t,ref:o,index:a})}),Sft=A.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,a=AL(Wj,n),s=Ihe(Wj,n),[l,c]=A.useState(null),u=Sr(e,b=>c(b)),f=l?a.form||!!l.closest("form"):!0,d=A$(l),h=a.values[r],m=h===void 0?0:Uhe(h,a.min,a.max),v=Tft(r,a.values.length),y=d==null?void 0:d[s.size],g=y?Cft(y,m,s.direction):0;return A.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),S.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${m}% + ${g}px)`},children:[S.jsx(Fj.ItemSlot,{scope:t.__scopeSlider,children:S.jsx(jn.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":h,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:u,style:h===void 0?{display:"none"}:t.style,onFocus:$n(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&S.jsx(Fhe,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:h},r)]})});$he.displayName=Wj;var Mft="RadioBubbleInput",Fhe=A.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=A.useRef(null),o=Sr(i,r),a=lse(e);return A.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const f=new Event("input",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[a,e]),S.jsx(jn.input,{style:{display:"none"},...n,ref:o,defaultValue:e})});Fhe.displayName=Mft;function Eft(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function Uhe(t,e,n){const o=100/(n-e)*(t-e);return CF(o,[0,100])}function Tft(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Aft(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function Cft(t,e,n){const r=t/2,o=D8([0,50],[0,r]);return(r-o(e)*n)*n}function Pft(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Rft(t,e){if(e>0){const n=Pft(t);return Math.min(...n)>=e}return!0}function D8(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Oft(t){return(String(t).split(".")[1]||"").length}function Lft(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Whe=khe,kft=Bhe,Nft=zhe,Ift=$he;const gP=A.forwardRef(({className:t,...e},n)=>S.jsxs(Whe,{ref:n,className:Zn("relative flex w-full touch-none select-none items-center",t),...e,children:[S.jsx(kft,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:S.jsx(Nft,{className:"absolute h-full bg-primary"})}),S.jsx(Ift,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));gP.displayName=Whe.displayName;const Dft=()=>{const[t,e]=A.useState(!0),[n,r]=A.useState(!1),[i,o]=A.useState(!0),[a,s]=A.useState([2]),[l,c]=A.useState([70]);return S.jsxs("div",{className:"min-h-screen bg-background",children:[S.jsx(qg,{}),S.jsxs("main",{className:"pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-[800px] mx-auto",children:[S.jsxs("div",{className:"mb-8",children:[S.jsx(ht.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold",children:"Settings"}),S.jsx(ht.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-sm text-muted-foreground mt-1",children:"Configure TopoForge to match your workflow"})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:S.jsxs(bn,{variant:"glass",children:[S.jsx(Fa,{children:S.jsxs(Ua,{className:"text-base font-medium flex items-center gap-2",children:[S.jsx(G1,{className:"w-4 h-4 text-primary"}),"Notifications"]})}),S.jsxs(Ti,{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx(Rf,{className:"text-sm font-medium",children:"Push Notifications"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive alerts for critical anomalies"})]}),S.jsx(c1,{checked:t,onCheckedChange:e})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx(Rf,{className:"text-sm font-medium",children:"Sound Alerts"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Play audio for critical events"})]}),S.jsx(c1,{checked:n,onCheckedChange:r})]})]})]})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:S.jsxs(bn,{variant:"glass",children:[S.jsx(Fa,{children:S.jsxs(Ua,{className:"text-base font-medium flex items-center gap-2",children:[S.jsx(Qh,{className:"w-4 h-4 text-primary"}),"Stream Configuration"]})}),S.jsxs(Ti,{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx(Rf,{className:"text-sm font-medium",children:"Auto-Connect on Load"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically connect to Wikipedia stream"})]}),S.jsx(c1,{checked:i,onCheckedChange:o})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx(Rf,{className:"text-sm font-medium",children:"Analysis Interval"}),S.jsxs("span",{className:"text-sm font-mono text-muted-foreground",children:[a[0],"s"]})]}),S.jsx(gP,{value:a,onValueChange:s,min:1,max:10,step:1,className:"w-full"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"How often to compute topological features"})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx(Rf,{className:"text-sm font-medium",children:"Anomaly Threshold"}),S.jsxs("span",{className:"text-sm font-mono text-muted-foreground",children:[l[0],"%"]})]}),S.jsx(gP,{value:l,onValueChange:c,min:50,max:95,step:5,className:"w-full"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum confidence to trigger anomaly alert"})]})]})]})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:S.jsxs(bn,{variant:"glass",children:[S.jsx(Fa,{children:S.jsxs(Ua,{className:"text-base font-medium flex items-center gap-2",children:[S.jsx(X1e,{className:"w-4 h-4 text-primary"}),"Appearance"]})}),S.jsx(Ti,{children:S.jsxs("div",{className:"space-y-3",children:[S.jsx(Rf,{className:"text-sm font-medium",children:"Theme"}),S.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[S.jsxs(br,{variant:"outline",className:"h-auto py-3 flex flex-col items-center gap-2 border-primary",children:[S.jsx(H1e,{className:"w-5 h-5"}),S.jsx("span",{className:"text-xs",children:"Dark"})]}),S.jsxs(br,{variant:"outline",className:"h-auto py-3 flex flex-col items-center gap-2 opacity-50",disabled:!0,children:[S.jsx(Q1e,{className:"w-5 h-5"}),S.jsx("span",{className:"text-xs",children:"Light"})]}),S.jsxs(br,{variant:"outline",className:"h-auto py-3 flex flex-col items-center gap-2 opacity-50",disabled:!0,children:[S.jsx(V1e,{className:"w-5 h-5"}),S.jsx("span",{className:"text-xs",children:"System"})]})]}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Light and system themes coming soon"})]})})]})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:S.jsxs(bn,{variant:"glass",children:[S.jsx(Fa,{children:S.jsxs(Ua,{className:"text-base font-medium flex items-center gap-2",children:[S.jsx(pR,{className:"w-4 h-4 text-primary"}),"About TopoForge"]})}),S.jsxs(Ti,{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{className:"text-muted-foreground",children:"Version"}),S.jsx(vr,{variant:"outline",children:"1.0.0-beta"})]}),S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{className:"text-muted-foreground",children:"Data Source"}),S.jsx("span",{className:"font-mono",children:"Wikipedia SSE"})]}),S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{className:"text-muted-foreground",children:"TDA Engine"}),S.jsx("span",{className:"font-mono",children:"Real-time Betti"})]}),S.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t border-border",children:"TopoForge uses Topological Data Analysis to detect anomalies in high-dimensional streaming data by tracking changes in the shape and structure of data over time."})]})]})})]})]})]})};function Vhe(t,e){const n=A.useRef(e);A.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function Hhe(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const jft=1;function Bft(t){return Object.freeze({__version:jft,map:t})}function CL(t,e){return Object.freeze({...t,...e})}const Ghe=A.createContext(null),Xhe=Ghe.Provider;function j8(){const t=A.useContext(Ghe);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function zft(t){function e(n,r){const{instance:i,context:o}=t(n).current;return A.useImperativeHandle(r,()=>i),n.children==null?null:de.createElement(Xhe,{value:o},n.children)}return A.forwardRef(e)}function $ft(t){function e(n,r){const[i,o]=A.useState(!1),{instance:a}=t(n,o).current;A.useImperativeHandle(r,()=>a),A.useEffect(function(){i&&a.update()},[a,i,n.children]);const s=a._contentNode;return s?Ll.createPortal(n.children,s):null}return A.forwardRef(e)}function Fft(t){function e(n,r){const{instance:i}=t(n).current;return A.useImperativeHandle(r,()=>i),null}return A.forwardRef(e)}function B8(t,e){const n=A.useRef();A.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function PL(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Uft(t,e){return function(r,i){const o=j8(),a=t(PL(r,o),o);return Vhe(o.map,r.attribution),B8(a.current,r.eventHandlers),e(a.current,o,r,i),a}}var Vj={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Qi,function(n){var r="1.9.4";function i(p){var E,R,$,K;for(R=1,$=arguments.length;R<$;R++){K=arguments[R];for(E in K)p[E]=K[E]}return p}var o=Object.create||function(){function p(){}return function(E){return p.prototype=E,new p}}();function a(p,E){var R=Array.prototype.slice;if(p.bind)return p.bind.apply(p,R.call(arguments,1));var $=R.call(arguments,2);return function(){return p.apply(E,$.length?$.concat(R.call(arguments)):arguments)}}var s=0;function l(p){return"_leaflet_id"in p||(p._leaflet_id=++s),p._leaflet_id}function c(p,E,R){var $,K,ie,Me;return Me=function(){$=!1,K&&(ie.apply(R,K),K=!1)},ie=function(){$?K=arguments:(p.apply(R,arguments),setTimeout(Me,E),$=!0)},ie}function u(p,E,R){var $=E[1],K=E[0],ie=$-K;return p===$&&R?p:((p-K)%ie+ie)%ie+K}function f(){return!1}function d(p,E){if(E===!1)return p;var R=Math.pow(10,E===void 0?6:E);return Math.round(p*R)/R}function h(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function m(p){return h(p).split(/\s+/)}function v(p,E){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?o(p.options):{});for(var R in E)p.options[R]=E[R];return p.options}function y(p,E,R){var $=[];for(var K in p)$.push(encodeURIComponent(R?K.toUpperCase():K)+"="+encodeURIComponent(p[K]));return(!E||E.indexOf("?")===-1?"?":"&")+$.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function b(p,E){return p.replace(g,function(R,$){var K=E[$];if(K===void 0)throw new Error("No value provided for variable "+R);return typeof K=="function"&&(K=K(E)),K})}var x=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function _(p,E){for(var R=0;R<p.length;R++)if(p[R]===E)return R;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var P=0;function I(p){var E=+new Date,R=Math.max(0,16-(E-P));return P=E+R,window.setTimeout(p,R)}var O=window.requestAnimationFrame||C("RequestAnimationFrame")||I,N=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function D(p,E,R){if(R&&O===I)p.call(E);else return O.call(window,a(p,E))}function U(p){p&&N.call(window,p)}var V={__proto__:null,extend:i,create:o,bind:a,get lastId(){return s},stamp:l,throttle:c,wrapNum:u,falseFn:f,formatNum:d,trim:h,splitWords:m,setOptions:v,getParamString:y,template:b,isArray:x,indexOf:_,emptyImageUrl:T,requestFn:O,cancelFn:N,requestAnimFrame:D,cancelAnimFrame:U};function z(){}z.extend=function(p){var E=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},R=E.__super__=this.prototype,$=o(R);$.constructor=E,E.prototype=$;for(var K in this)Object.prototype.hasOwnProperty.call(this,K)&&K!=="prototype"&&K!=="__super__"&&(E[K]=this[K]);return p.statics&&i(E,p.statics),p.includes&&(F(p.includes),i.apply(null,[$].concat(p.includes))),i($,p),delete $.statics,delete $.includes,$.options&&($.options=R.options?o(R.options):{},i($.options,p.options)),$._initHooks=[],$.callInitHooks=function(){if(!this._initHooksCalled){R.callInitHooks&&R.callInitHooks.call(this),this._initHooksCalled=!0;for(var ie=0,Me=$._initHooks.length;ie<Me;ie++)$._initHooks[ie].call(this)}},E},z.include=function(p){var E=this.prototype.options;return i(this.prototype,p),p.options&&(this.prototype.options=E,this.mergeOptions(p.options)),this},z.mergeOptions=function(p){return i(this.prototype.options,p),this},z.addInitHook=function(p){var E=Array.prototype.slice.call(arguments,1),R=typeof p=="function"?p:function(){this[p].apply(this,E)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(R),this};function F(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=x(p)?p:[p];for(var E=0;E<p.length;E++)p[E]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(p,E,R){if(typeof p=="object")for(var $ in p)this._on($,p[$],E);else{p=m(p);for(var K=0,ie=p.length;K<ie;K++)this._on(p[K],E,R)}return this},off:function(p,E,R){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var $ in p)this._off($,p[$],E);else{p=m(p);for(var K=arguments.length===1,ie=0,Me=p.length;ie<Me;ie++)K?this._off(p[ie]):this._off(p[ie],E,R)}return this},_on:function(p,E,R,$){if(typeof E!="function"){console.warn("wrong listener type: "+typeof E);return}if(this._listens(p,E,R)===!1){R===this&&(R=void 0);var K={fn:E,ctx:R};$&&(K.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(K)}},_off:function(p,E,R){var $,K,ie;if(this._events&&($=this._events[p],!!$)){if(arguments.length===1){if(this._firingCount)for(K=0,ie=$.length;K<ie;K++)$[K].fn=f;delete this._events[p];return}if(typeof E!="function"){console.warn("wrong listener type: "+typeof E);return}var Me=this._listens(p,E,R);if(Me!==!1){var Ge=$[Me];this._firingCount&&(Ge.fn=f,this._events[p]=$=$.slice()),$.splice(Me,1)}}},fire:function(p,E,R){if(!this.listens(p,R))return this;var $=i({},E,{type:p,target:this,sourceTarget:E&&E.sourceTarget||this});if(this._events){var K=this._events[p];if(K){this._firingCount=this._firingCount+1||1;for(var ie=0,Me=K.length;ie<Me;ie++){var Ge=K[ie],Qe=Ge.fn;Ge.once&&this.off(p,Qe,Ge.ctx),Qe.call(Ge.ctx||this,$)}this._firingCount--}}return R&&this._propagateEvent($),this},listens:function(p,E,R,$){typeof p!="string"&&console.warn('"string" type argument expected');var K=E;typeof E!="function"&&($=!!E,K=void 0,R=void 0);var ie=this._events&&this._events[p];if(ie&&ie.length&&this._listens(p,K,R)!==!1)return!0;if($){for(var Me in this._eventParents)if(this._eventParents[Me].listens(p,E,R,$))return!0}return!1},_listens:function(p,E,R){if(!this._events)return!1;var $=this._events[p]||[];if(!E)return!!$.length;R===this&&(R=void 0);for(var K=0,ie=$.length;K<ie;K++)if($[K].fn===E&&$[K].ctx===R)return K;return!1},once:function(p,E,R){if(typeof p=="object")for(var $ in p)this._on($,p[$],E,!0);else{p=m(p);for(var K=0,ie=p.length;K<ie;K++)this._on(p[K],E,R,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[l(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[l(p)],this},_propagateEvent:function(p){for(var E in this._eventParents)this._eventParents[E].fire(p.type,i({layer:p.target,propagatedFrom:p.target},p),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var X=z.extend(W);function B(p,E,R){this.x=R?Math.round(p):p,this.y=R?Math.round(E):E}var G=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(p){return this.clone()._add(q(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(q(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new B(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new B(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(p){p=q(p);var E=p.x-this.x,R=p.y-this.y;return Math.sqrt(E*E+R*R)},equals:function(p){return p=q(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=q(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function q(p,E,R){return p instanceof B?p:x(p)?new B(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new B(p.x,p.y):new B(p,E,R)}function te(p,E){if(p)for(var R=E?[p,E]:p,$=0,K=R.length;$<K;$++)this.extend(R[$])}te.prototype={extend:function(p){var E,R;if(!p)return this;if(p instanceof B||typeof p[0]=="number"||"x"in p)E=R=q(p);else if(p=Y(p),E=p.min,R=p.max,!E||!R)return this;return!this.min&&!this.max?(this.min=E.clone(),this.max=R.clone()):(this.min.x=Math.min(E.x,this.min.x),this.max.x=Math.max(R.x,this.max.x),this.min.y=Math.min(E.y,this.min.y),this.max.y=Math.max(R.y,this.max.y)),this},getCenter:function(p){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var E,R;return typeof p[0]=="number"||p instanceof B?p=q(p):p=Y(p),p instanceof te?(E=p.min,R=p.max):E=R=p,E.x>=this.min.x&&R.x<=this.max.x&&E.y>=this.min.y&&R.y<=this.max.y},intersects:function(p){p=Y(p);var E=this.min,R=this.max,$=p.min,K=p.max,ie=K.x>=E.x&&$.x<=R.x,Me=K.y>=E.y&&$.y<=R.y;return ie&&Me},overlaps:function(p){p=Y(p);var E=this.min,R=this.max,$=p.min,K=p.max,ie=K.x>E.x&&$.x<R.x,Me=K.y>E.y&&$.y<R.y;return ie&&Me},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var E=this.min,R=this.max,$=Math.abs(E.x-R.x)*p,K=Math.abs(E.y-R.y)*p;return Y(q(E.x-$,E.y-K),q(R.x+$,R.y+K))},equals:function(p){return p?(p=Y(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function Y(p,E){return!p||p instanceof te?p:new te(p,E)}function J(p,E){if(p)for(var R=E?[p,E]:p,$=0,K=R.length;$<K;$++)this.extend(R[$])}J.prototype={extend:function(p){var E=this._southWest,R=this._northEast,$,K;if(p instanceof oe)$=p,K=p;else if(p instanceof J){if($=p._southWest,K=p._northEast,!$||!K)return this}else return p?this.extend(pe(p)||re(p)):this;return!E&&!R?(this._southWest=new oe($.lat,$.lng),this._northEast=new oe(K.lat,K.lng)):(E.lat=Math.min($.lat,E.lat),E.lng=Math.min($.lng,E.lng),R.lat=Math.max(K.lat,R.lat),R.lng=Math.max(K.lng,R.lng)),this},pad:function(p){var E=this._southWest,R=this._northEast,$=Math.abs(E.lat-R.lat)*p,K=Math.abs(E.lng-R.lng)*p;return new J(new oe(E.lat-$,E.lng-K),new oe(R.lat+$,R.lng+K))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof oe||"lat"in p?p=pe(p):p=re(p);var E=this._southWest,R=this._northEast,$,K;return p instanceof J?($=p.getSouthWest(),K=p.getNorthEast()):$=K=p,$.lat>=E.lat&&K.lat<=R.lat&&$.lng>=E.lng&&K.lng<=R.lng},intersects:function(p){p=re(p);var E=this._southWest,R=this._northEast,$=p.getSouthWest(),K=p.getNorthEast(),ie=K.lat>=E.lat&&$.lat<=R.lat,Me=K.lng>=E.lng&&$.lng<=R.lng;return ie&&Me},overlaps:function(p){p=re(p);var E=this._southWest,R=this._northEast,$=p.getSouthWest(),K=p.getNorthEast(),ie=K.lat>E.lat&&$.lat<R.lat,Me=K.lng>E.lng&&$.lng<R.lng;return ie&&Me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,E){return p?(p=re(p),this._southWest.equals(p.getSouthWest(),E)&&this._northEast.equals(p.getNorthEast(),E)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(p,E){return p instanceof J?p:new J(p,E)}function oe(p,E,R){if(isNaN(p)||isNaN(E))throw new Error("Invalid LatLng object: ("+p+", "+E+")");this.lat=+p,this.lng=+E,R!==void 0&&(this.alt=+R)}oe.prototype={equals:function(p,E){if(!p)return!1;p=pe(p);var R=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return R<=(E===void 0?1e-9:E)},toString:function(p){return"LatLng("+d(this.lat,p)+", "+d(this.lng,p)+")"},distanceTo:function(p){return we.distance(this,pe(p))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(p){var E=180*p/40075017,R=E/Math.cos(Math.PI/180*this.lat);return re([this.lat-E,this.lng-R],[this.lat+E,this.lng+R])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function pe(p,E,R){return p instanceof oe?p:x(p)&&typeof p[0]!="object"?p.length===3?new oe(p[0],p[1],p[2]):p.length===2?new oe(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new oe(p.lat,"lng"in p?p.lng:p.lon,p.alt):E===void 0?null:new oe(p,E,R)}var fe={latLngToPoint:function(p,E){var R=this.projection.project(p),$=this.scale(E);return this.transformation._transform(R,$)},pointToLatLng:function(p,E){var R=this.scale(E),$=this.transformation.untransform(p,R);return this.projection.unproject($)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var E=this.projection.bounds,R=this.scale(p),$=this.transformation.transform(E.min,R),K=this.transformation.transform(E.max,R);return new te($,K)},infinite:!1,wrapLatLng:function(p){var E=this.wrapLng?u(p.lng,this.wrapLng,!0):p.lng,R=this.wrapLat?u(p.lat,this.wrapLat,!0):p.lat,$=p.alt;return new oe(R,E,$)},wrapLatLngBounds:function(p){var E=p.getCenter(),R=this.wrapLatLng(E),$=E.lat-R.lat,K=E.lng-R.lng;if($===0&&K===0)return p;var ie=p.getSouthWest(),Me=p.getNorthEast(),Ge=new oe(ie.lat-$,ie.lng-K),Qe=new oe(Me.lat-$,Me.lng-K);return new J(Ge,Qe)}},we=i({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(p,E){var R=Math.PI/180,$=p.lat*R,K=E.lat*R,ie=Math.sin((E.lat-p.lat)*R/2),Me=Math.sin((E.lng-p.lng)*R/2),Ge=ie*ie+Math.cos($)*Math.cos(K)*Me*Me,Qe=2*Math.atan2(Math.sqrt(Ge),Math.sqrt(1-Ge));return this.R*Qe}}),ge=6378137,xe={R:ge,MAX_LATITUDE:85.0511287798,project:function(p){var E=Math.PI/180,R=this.MAX_LATITUDE,$=Math.max(Math.min(R,p.lat),-R),K=Math.sin($*E);return new B(this.R*p.lng*E,this.R*Math.log((1+K)/(1-K))/2)},unproject:function(p){var E=180/Math.PI;return new oe((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*E,p.x*E/this.R)},bounds:function(){var p=ge*Math.PI;return new te([-p,-p],[p,p])}()};function Te(p,E,R,$){if(x(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=E,this._c=R,this._d=$}Te.prototype={transform:function(p,E){return this._transform(p.clone(),E)},_transform:function(p,E){return E=E||1,p.x=E*(this._a*p.x+this._b),p.y=E*(this._c*p.y+this._d),p},untransform:function(p,E){return E=E||1,new B((p.x/E-this._b)/this._a,(p.y/E-this._d)/this._c)}};function ee(p,E,R,$){return new Te(p,E,R,$)}var Ce=i({},we,{code:"EPSG:3857",projection:xe,transformation:function(){var p=.5/(Math.PI*xe.R);return ee(p,.5,-p,.5)}()}),ae=i({},Ce,{code:"EPSG:900913"});function be(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function _e(p,E){var R="",$,K,ie,Me,Ge,Qe;for($=0,ie=p.length;$<ie;$++){for(Ge=p[$],K=0,Me=Ge.length;K<Me;K++)Qe=Ge[K],R+=(K?"L":"M")+Qe.x+" "+Qe.y;R+=E?bt.svg?"z":"x":""}return R||"M0 0"}var He=document.documentElement.style,Ve="ActiveXObject"in window,ne=Ve&&!document.addEventListener,Q="msLaunchUri"in navigator&&!("documentMode"in document),ve=sn("webkit"),Se=sn("android"),Le=sn("android 2")||sn("android 3"),Ie=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ke=Se&&sn("Google")&&Ie<537&&!("AudioNode"in window),Ne=!!window.opera,Ye=!Q&&sn("chrome"),et=sn("gecko")&&!ve&&!Ne&&!Ve,vt=!Ye&&sn("safari"),ke=sn("phantom"),Ze="OTransition"in He,at=navigator.platform.indexOf("Win")===0,pt=Ve&&"transition"in He,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Le,Ae="MozPerspective"in He,le=!window.L_DISABLE_3D&&(pt||me||Ae)&&!Ze&&!ke,Ee=typeof orientation<"u"||sn("mobile"),Ue=Ee&&ve,We=Ee&&me,ze=!window.PointerEvent&&window.MSPointerEvent,ce=!!(window.PointerEvent||ze),Re="ontouchstart"in window||!!window.TouchEvent,Xe=!window.L_NO_TOUCH&&(Re||ce),ct=Ee&&Ne,De=Ee&&et,st=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,mt=function(){var p=!1;try{var E=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",f,E),window.removeEventListener("testPassiveEventSupport",f,E)}catch{}return p}(),rt=function(){return!!document.createElement("canvas").getContext}(),it=!!(document.createElementNS&&be("svg").createSVGRect),nt=!!it&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Pt=!it&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var E=p.firstChild;return E.style.behavior="url(#default#VML)",E&&typeof E.adj=="object"}catch{return!1}}(),Rt=navigator.platform.indexOf("Mac")===0,Xt=navigator.platform.indexOf("Linux")===0;function sn(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var bt={ie:Ve,ielt9:ne,edge:Q,webkit:ve,android:Se,android23:Le,androidStock:Ke,opera:Ne,chrome:Ye,gecko:et,safari:vt,phantom:ke,opera12:Ze,win:at,ie3d:pt,webkit3d:me,gecko3d:Ae,any3d:le,mobile:Ee,mobileWebkit:Ue,mobileWebkit3d:We,msPointer:ze,pointer:ce,touch:Xe,touchNative:Re,mobileOpera:ct,mobileGecko:De,retina:st,passiveEvents:mt,canvas:rt,svg:it,vml:Pt,inlineSvg:nt,mac:Rt,linux:Xt},yt=bt.msPointer?"MSPointerDown":"pointerdown",Yt=bt.msPointer?"MSPointerMove":"pointermove",nr=bt.msPointer?"MSPointerUp":"pointerup",Zt=bt.msPointer?"MSPointerCancel":"pointercancel",At={touchstart:yt,touchmove:Yt,touchend:nr,touchcancel:Zt},qt={touchstart:$t,touchmove:Bt,touchend:Bt,touchcancel:Bt},gn={},se=!1;function Pe(p,E,R){return E==="touchstart"&&Et(),qt[E]?(R=qt[E].bind(this,R),p.addEventListener(At[E],R,!1),R):(console.warn("wrong event specified:",E),f)}function Oe(p,E,R){if(!At[E]){console.warn("wrong event specified:",E);return}p.removeEventListener(At[E],R,!1)}function je(p){gn[p.pointerId]=p}function $e(p){gn[p.pointerId]&&(gn[p.pointerId]=p)}function _t(p){delete gn[p.pointerId]}function Et(){se||(document.addEventListener(yt,je,!0),document.addEventListener(Yt,$e,!0),document.addEventListener(nr,_t,!0),document.addEventListener(Zt,_t,!0),se=!0)}function Bt(p,E){if(E.pointerType!==(E.MSPOINTER_TYPE_MOUSE||"mouse")){E.touches=[];for(var R in gn)E.touches.push(gn[R]);E.changedTouches=[E],p(E)}}function $t(p,E){E.MSPOINTER_TYPE_TOUCH&&E.pointerType===E.MSPOINTER_TYPE_TOUCH&&Ri(E),Bt(p,E)}function Kt(p){var E={},R,$;for($ in p)R=p[$],E[$]=R&&R.bind?R.bind(p):R;return p=E,E.type="dblclick",E.detail=2,E.isTrusted=!1,E._simulated=!0,E}var It=200;function Wt(p,E){p.addEventListener("dblclick",E);var R=0,$;function K(ie){if(ie.detail!==1){$=ie.detail;return}if(!(ie.pointerType==="mouse"||ie.sourceCapabilities&&!ie.sourceCapabilities.firesTouchEvents)){var Me=ue(ie);if(!(Me.some(function(Qe){return Qe instanceof HTMLLabelElement&&Qe.attributes.for})&&!Me.some(function(Qe){return Qe instanceof HTMLInputElement||Qe instanceof HTMLSelectElement}))){var Ge=Date.now();Ge-R<=It?($++,$===2&&E(Kt(ie))):$=1,R=Ge}}}return p.addEventListener("click",K),{dblclick:E,simDblclick:K}}function Vn(p,E){p.removeEventListener("dblclick",E.dblclick),p.removeEventListener("click",E.simDblclick)}var or=Vr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),nn=Vr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hr=nn==="webkitTransition"||nn==="OTransition"?nn+"End":"transitionend";function gt(p){return typeof p=="string"?document.getElementById(p):p}function Ct(p,E){var R=p.style[E]||p.currentStyle&&p.currentStyle[E];if((!R||R==="auto")&&document.defaultView){var $=document.defaultView.getComputedStyle(p,null);R=$?$[E]:null}return R==="auto"?null:R}function tn(p,E,R){var $=document.createElement(p);return $.className=E||"",R&&R.appendChild($),$}function Dt(p){var E=p.parentNode;E&&E.removeChild(p)}function Tn(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function Er(p){var E=p.parentNode;E&&E.lastChild!==p&&E.appendChild(p)}function Tr(p){var E=p.parentNode;E&&E.firstChild!==p&&E.insertBefore(p,E.firstChild)}function On(p,E){if(p.classList!==void 0)return p.classList.contains(E);var R=Xn(p);return R.length>0&&new RegExp("(^|\\s)"+E+"(\\s|$)").test(R)}function Lt(p,E){if(p.classList!==void 0)for(var R=m(E),$=0,K=R.length;$<K;$++)p.classList.add(R[$]);else if(!On(p,E)){var ie=Xn(p);Or(p,(ie?ie+" ":"")+E)}}function pn(p,E){p.classList!==void 0?p.classList.remove(E):Or(p,h((" "+Xn(p)+" ").replace(" "+E+" "," ")))}function Or(p,E){p.className.baseVal===void 0?p.className=E:p.className.baseVal=E}function Xn(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function Ln(p,E){"opacity"in p.style?p.style.opacity=E:"filter"in p.style&&mr(p,E)}function mr(p,E){var R=!1,$="DXImageTransform.Microsoft.Alpha";try{R=p.filters.item($)}catch{if(E===1)return}E=Math.round(E*100),R?(R.Enabled=E!==100,R.Opacity=E):p.style.filter+=" progid:"+$+"(opacity="+E+")"}function Vr(p){for(var E=document.documentElement.style,R=0;R<p.length;R++)if(p[R]in E)return p[R];return!1}function Ts(p,E,R){var $=E||new B(0,0);p.style[or]=(bt.ie3d?"translate("+$.x+"px,"+$.y+"px)":"translate3d("+$.x+"px,"+$.y+"px,0)")+(R?" scale("+R+")":"")}function zr(p,E){p._leaflet_pos=E,bt.any3d?Ts(p,E):(p.style.left=E.x+"px",p.style.top=E.y+"px")}function Hr(p){return p._leaflet_pos||new B(0,0)}var Pi,Ja,qo;if("onselectstart"in document)Pi=function(){hn(window,"selectstart",Ri)},Ja=function(){pr(window,"selectstart",Ri)};else{var Qu=Vr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pi=function(){if(Qu){var p=document.documentElement.style;qo=p[Qu],p[Qu]="none"}},Ja=function(){Qu&&(document.documentElement.style[Qu]=qo,qo=void 0)}}function Np(){hn(window,"dragstart",Ri)}function ef(){pr(window,"dragstart",Ri)}var Gc,ql;function Ip(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Yl(),Gc=p,ql=p.style.outlineStyle,p.style.outlineStyle="none",hn(window,"keydown",Yl))}function Yl(){Gc&&(Gc.style.outlineStyle=ql,Gc=void 0,ql=void 0,pr(window,"keydown",Yl))}function _n(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function Md(p){var E=p.getBoundingClientRect();return{x:E.width/p.offsetWidth||1,y:E.height/p.offsetHeight||1,boundingClientRect:E}}var Ed={__proto__:null,TRANSFORM:or,TRANSITION:nn,TRANSITION_END:hr,get:gt,getStyle:Ct,create:tn,remove:Dt,empty:Tn,toFront:Er,toBack:Tr,hasClass:On,addClass:Lt,removeClass:pn,setClass:Or,getClass:Xn,setOpacity:Ln,testProp:Vr,setTransform:Ts,setPosition:zr,getPosition:Hr,get disableTextSelection(){return Pi},get enableTextSelection(){return Ja},disableImageDrag:Np,enableImageDrag:ef,preventOutline:Ip,restoreOutline:Yl,getSizedParentNode:_n,getScale:Md};function hn(p,E,R,$){if(E&&typeof E=="object")for(var K in E)Td(p,K,E[K],R);else{E=m(E);for(var ie=0,Me=E.length;ie<Me;ie++)Td(p,E[ie],R,$)}return this}var Yo="_leaflet_events";function pr(p,E,R,$){if(arguments.length===1)oi(p),delete p[Yo];else if(E&&typeof E=="object")for(var K in E)nf(p,K,E[K],R);else if(E=m(E),arguments.length===2)oi(p,function(Ge){return _(E,Ge)!==-1});else for(var ie=0,Me=E.length;ie<Me;ie++)nf(p,E[ie],R,$);return this}function oi(p,E){for(var R in p[Yo]){var $=R.split(/\d/)[0];(!E||E($))&&nf(p,$,null,null,R)}}var tf={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Td(p,E,R,$){var K=E+l(R)+($?"_"+l($):"");if(p[Yo]&&p[Yo][K])return this;var ie=function(Ge){return R.call($||p,Ge||window.event)},Me=ie;!bt.touchNative&&bt.pointer&&E.indexOf("touch")===0?ie=Pe(p,E,ie):bt.touch&&E==="dblclick"?ie=Wt(p,ie):"addEventListener"in p?E==="touchstart"||E==="touchmove"||E==="wheel"||E==="mousewheel"?p.addEventListener(tf[E]||E,ie,bt.passiveEvents?{passive:!1}:!1):E==="mouseenter"||E==="mouseleave"?(ie=function(Ge){Ge=Ge||window.event,ti(p,Ge)&&Me(Ge)},p.addEventListener(tf[E],ie,!1)):p.addEventListener(E,Me,!1):p.attachEvent("on"+E,ie),p[Yo]=p[Yo]||{},p[Yo][K]=ie}function nf(p,E,R,$,K){K=K||E+l(R)+($?"_"+l($):"");var ie=p[Yo]&&p[Yo][K];if(!ie)return this;!bt.touchNative&&bt.pointer&&E.indexOf("touch")===0?Oe(p,E,ie):bt.touch&&E==="dblclick"?Vn(p,ie):"removeEventListener"in p?p.removeEventListener(tf[E]||E,ie,!1):p.detachEvent("on"+E,ie),p[Yo][K]=null}function Qa(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Xc(p){return Td(p,"wheel",Qa),this}function Ui(p){return hn(p,"mousedown touchstart dblclick contextmenu",Qa),p._leaflet_disable_click=!0,this}function Ri(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function Kl(p){return Ri(p),Qa(p),this}function ue(p){if(p.composedPath)return p.composedPath();for(var E=[],R=p.target;R;)E.push(R),R=R.parentNode;return E}function qe(p,E){if(!E)return new B(p.clientX,p.clientY);var R=Md(E),$=R.boundingClientRect;return new B((p.clientX-$.left)/R.x-E.clientLeft,(p.clientY-$.top)/R.y-E.clientTop)}var dt=bt.linux&&bt.chrome?window.devicePixelRatio:bt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vt(p){return bt.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/dt:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function ti(p,E){var R=E.relatedTarget;if(!R)return!0;try{for(;R&&R!==p;)R=R.parentNode}catch{return!1}return R!==p}var yo={__proto__:null,on:hn,off:pr,stopPropagation:Qa,disableScrollPropagation:Xc,disableClickPropagation:Ui,preventDefault:Ri,stop:Kl,getPropagationPath:ue,getMousePosition:qe,getWheelDelta:Vt,isExternalTarget:ti,addListener:hn,removeListener:pr},ai=X.extend({run:function(p,E,R,$){this.stop(),this._el=p,this._inProgress=!0,this._duration=R||.25,this._easeOutPower=1/Math.max($||.5,.2),this._startPos=Hr(p),this._offset=E.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(p){var E=+new Date-this._startTime,R=this._duration*1e3;E<R?this._runFrame(this._easeOut(E/R),p):(this._runFrame(1),this._complete())},_runFrame:function(p,E){var R=this._startPos.add(this._offset.multiplyBy(p));E&&R._round(),zr(this._el,R),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),ln=X.extend({options:{crs:Ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,E){E=v(this,E),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),E.maxBounds&&this.setMaxBounds(E.maxBounds),E.zoom!==void 0&&(this._zoom=this._limitZoom(E.zoom)),E.center&&E.zoom!==void 0&&this.setView(pe(E.center),E.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=nn&&bt.any3d&&!bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),hn(this._proxy,hr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,E,R){if(E=E===void 0?this._zoom:this._limitZoom(E),p=this._limitCenter(pe(p),E,this.options.maxBounds),R=R||{},this._stop(),this._loaded&&!R.reset&&R!==!0){R.animate!==void 0&&(R.zoom=i({animate:R.animate},R.zoom),R.pan=i({animate:R.animate,duration:R.duration},R.pan));var $=this._zoom!==E?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,E,R.zoom):this._tryAnimatedPan(p,R.pan);if($)return clearTimeout(this._sizeTimer),this}return this._resetView(p,E,R.pan&&R.pan.noMoveStart),this},setZoom:function(p,E){return this._loaded?this.setView(this.getCenter(),p,{zoom:E}):(this._zoom=p,this)},zoomIn:function(p,E){return p=p||(bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,E)},zoomOut:function(p,E){return p=p||(bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,E)},setZoomAround:function(p,E,R){var $=this.getZoomScale(E),K=this.getSize().divideBy(2),ie=p instanceof B?p:this.latLngToContainerPoint(p),Me=ie.subtract(K).multiplyBy(1-1/$),Ge=this.containerPointToLatLng(K.add(Me));return this.setView(Ge,E,{zoom:R})},_getBoundsCenterZoom:function(p,E){E=E||{},p=p.getBounds?p.getBounds():re(p);var R=q(E.paddingTopLeft||E.padding||[0,0]),$=q(E.paddingBottomRight||E.padding||[0,0]),K=this.getBoundsZoom(p,!1,R.add($));if(K=typeof E.maxZoom=="number"?Math.min(E.maxZoom,K):K,K===1/0)return{center:p.getCenter(),zoom:K};var ie=$.subtract(R).divideBy(2),Me=this.project(p.getSouthWest(),K),Ge=this.project(p.getNorthEast(),K),Qe=this.unproject(Me.add(Ge).divideBy(2).add(ie),K);return{center:Qe,zoom:K}},fitBounds:function(p,E){if(p=re(p),!p.isValid())throw new Error("Bounds are not valid.");var R=this._getBoundsCenterZoom(p,E);return this.setView(R.center,R.zoom,E)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,E){return this.setView(p,this._zoom,{pan:E})},panBy:function(p,E){if(p=q(p).round(),E=E||{},!p.x&&!p.y)return this.fire("moveend");if(E.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ai,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),E.noMoveStart||this.fire("movestart"),E.animate!==!1){Lt(this._mapPane,"leaflet-pan-anim");var R=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,R,E.duration||.25,E.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,E,R){if(R=R||{},R.animate===!1||!bt.any3d)return this.setView(p,E,R);this._stop();var $=this.project(this.getCenter()),K=this.project(p),ie=this.getSize(),Me=this._zoom;p=pe(p),E=E===void 0?Me:E;var Ge=Math.max(ie.x,ie.y),Qe=Ge*this.getZoomScale(Me,E),xt=K.distanceTo($)||1,kt=1.42,cn=kt*kt;function kn($r){var Qc=$r?-1:1,Sv=$r?Qe:Ge,Mv=Qe*Qe-Ge*Ge+Qc*cn*cn*xt*xt,nE=2*Sv*cn*xt,df=Mv/nE,oo=Math.sqrt(df*df+1)-df,S3=oo<1e-9?-18:Math.log(oo);return S3}function No($r){return(Math.exp($r)-Math.exp(-$r))/2}function vi($r){return(Math.exp($r)+Math.exp(-$r))/2}function Zo($r){return No($r)/vi($r)}var Jo=kn(0);function ff($r){return Ge*(vi(Jo)/vi(Jo+kt*$r))}function QM($r){return Ge*(vi(Jo)*Zo(Jo+kt*$r)-No(Jo))/cn}function eE($r){return 1-Math.pow(1-$r,1.5)}var tE=Date.now(),Pb=(kn(1)-Jo)/kt,fl=R.duration?1e3*R.duration:1e3*Pb*.8;function Rb(){var $r=(Date.now()-tE)/fl,Qc=eE($r)*Pb;$r<=1?(this._flyToFrame=D(Rb,this),this._move(this.unproject($.add(K.subtract($).multiplyBy(QM(Qc)/xt)),Me),this.getScaleZoom(Ge/ff(Qc),Me),{flyTo:!0})):this._move(p,E)._moveEnd(!0)}return this._moveStart(!0,R.noMoveStart),Rb.call(this),this},flyToBounds:function(p,E){var R=this._getBoundsCenterZoom(p,E);return this.flyTo(R.center,R.zoom,E)},setMaxBounds:function(p){return p=re(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var E=this.options.minZoom;return this.options.minZoom=p,this._loaded&&E!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var E=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&E!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,E){this._enforcingBounds=!0;var R=this.getCenter(),$=this._limitCenter(R,this._zoom,re(p));return R.equals($)||this.panTo($,E),this._enforcingBounds=!1,this},panInside:function(p,E){E=E||{};var R=q(E.paddingTopLeft||E.padding||[0,0]),$=q(E.paddingBottomRight||E.padding||[0,0]),K=this.project(this.getCenter()),ie=this.project(p),Me=this.getPixelBounds(),Ge=Y([Me.min.add(R),Me.max.subtract($)]),Qe=Ge.getSize();if(!Ge.contains(ie)){this._enforcingBounds=!0;var xt=ie.subtract(Ge.getCenter()),kt=Ge.extend(ie).getSize().subtract(Qe);K.x+=xt.x<0?-kt.x:kt.x,K.y+=xt.y<0?-kt.y:kt.y,this.panTo(this.unproject(K),E),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=i({animate:!1,pan:!0},p===!0?{animate:!0}:p);var E=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var R=this.getSize(),$=E.divideBy(2).round(),K=R.divideBy(2).round(),ie=$.subtract(K);return!ie.x&&!ie.y?this:(p.animate&&p.pan?this.panBy(ie):(p.pan&&this._rawPanBy(ie),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:E,newSize:R}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=i({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var E=a(this._handleGeolocationResponse,this),R=a(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(E,R,p):navigator.geolocation.getCurrentPosition(E,R,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var E=p.code,R=p.message||(E===1?"permission denied":E===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:E,message:"Geolocation error: "+R+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var E=p.coords.latitude,R=p.coords.longitude,$=new oe(E,R),K=$.toBounds(p.coords.accuracy*2),ie=this._locateOptions;if(ie.setView){var Me=this.getBoundsZoom(K);this.setView($,ie.maxZoom?Math.min(Me,ie.maxZoom):Me)}var Ge={latlng:$,bounds:K,timestamp:p.timestamp};for(var Qe in p.coords)typeof p.coords[Qe]=="number"&&(Ge[Qe]=p.coords[Qe]);this.fire("locationfound",Ge)}},addHandler:function(p,E){if(!E)return this;var R=this[p]=new E(this);return this._handlers.push(R),this.options[p]&&R.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)Dt(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,E){var R="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),$=tn("div",R,E||this._mapPane);return p&&(this._panes[p]=$),$},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),E=this.unproject(p.getBottomLeft()),R=this.unproject(p.getTopRight());return new J(E,R)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,E,R){p=re(p),R=q(R||[0,0]);var $=this.getZoom()||0,K=this.getMinZoom(),ie=this.getMaxZoom(),Me=p.getNorthWest(),Ge=p.getSouthEast(),Qe=this.getSize().subtract(R),xt=Y(this.project(Ge,$),this.project(Me,$)).getSize(),kt=bt.any3d?this.options.zoomSnap:1,cn=Qe.x/xt.x,kn=Qe.y/xt.y,No=E?Math.max(cn,kn):Math.min(cn,kn);return $=this.getScaleZoom(No,$),kt&&($=Math.round($/(kt/100))*(kt/100),$=E?Math.ceil($/kt)*kt:Math.floor($/kt)*kt),Math.max(K,Math.min(ie,$))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,E){var R=this._getTopLeftPoint(p,E);return new te(R,R.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,E){var R=this.options.crs;return E=E===void 0?this._zoom:E,R.scale(p)/R.scale(E)},getScaleZoom:function(p,E){var R=this.options.crs;E=E===void 0?this._zoom:E;var $=R.zoom(p*R.scale(E));return isNaN($)?1/0:$},project:function(p,E){return E=E===void 0?this._zoom:E,this.options.crs.latLngToPoint(pe(p),E)},unproject:function(p,E){return E=E===void 0?this._zoom:E,this.options.crs.pointToLatLng(q(p),E)},layerPointToLatLng:function(p){var E=q(p).add(this.getPixelOrigin());return this.unproject(E)},latLngToLayerPoint:function(p){var E=this.project(pe(p))._round();return E._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(pe(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(re(p))},distance:function(p,E){return this.options.crs.distance(pe(p),pe(E))},containerPointToLayerPoint:function(p){return q(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return q(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var E=this.containerPointToLayerPoint(q(p));return this.layerPointToLatLng(E)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(p)))},mouseEventToContainerPoint:function(p){return qe(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var E=this._container=gt(p);if(E){if(E._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");hn(E,"scroll",this._onScroll,this),this._containerId=l(E)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&bt.any3d,Lt(p,"leaflet-container"+(bt.touch?" leaflet-touch":"")+(bt.retina?" leaflet-retina":"")+(bt.ielt9?" leaflet-oldie":"")+(bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var E=Ct(p,"position");E!=="absolute"&&E!=="relative"&&E!=="fixed"&&E!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zr(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Lt(p.markerPane,"leaflet-zoom-hide"),Lt(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,E,R){zr(this._mapPane,new B(0,0));var $=!this._loaded;this._loaded=!0,E=this._limitZoom(E),this.fire("viewprereset");var K=this._zoom!==E;this._moveStart(K,R)._move(p,E)._moveEnd(K),this.fire("viewreset"),$&&this.fire("load")},_moveStart:function(p,E){return p&&this.fire("zoomstart"),E||this.fire("movestart"),this},_move:function(p,E,R,$){E===void 0&&(E=this._zoom);var K=this._zoom!==E;return this._zoom=E,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),$?R&&R.pinch&&this.fire("zoom",R):((K||R&&R.pinch)&&this.fire("zoom",R),this.fire("move",R)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){zr(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[l(this._container)]=this;var E=p?pr:hn;E(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&E(window,"resize",this._onResize,this),bt.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,E){for(var R=[],$,K=E==="mouseout"||E==="mouseover",ie=p.target||p.srcElement,Me=!1;ie;){if($=this._targets[l(ie)],$&&(E==="click"||E==="preclick")&&this._draggableMoved($)){Me=!0;break}if($&&$.listens(E,!0)&&(K&&!ti(ie,p)||(R.push($),K))||ie===this._container)break;ie=ie.parentNode}return!R.length&&!Me&&!K&&this.listens(E,!0)&&(R=[this]),R},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var E=p.target||p.srcElement;if(!(!this._loaded||E._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(E))){var R=p.type;R==="mousedown"&&Ip(E),this._fireDOMEvent(p,R)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,E,R){if(p.type==="click"){var $=i({},p);$.type="preclick",this._fireDOMEvent($,$.type,R)}var K=this._findEventTargets(p,E);if(R){for(var ie=[],Me=0;Me<R.length;Me++)R[Me].listens(E,!0)&&ie.push(R[Me]);K=ie.concat(K)}if(K.length){E==="contextmenu"&&Ri(p);var Ge=K[0],Qe={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var xt=Ge.getLatLng&&(!Ge._radius||Ge._radius<=10);Qe.containerPoint=xt?this.latLngToContainerPoint(Ge.getLatLng()):this.mouseEventToContainerPoint(p),Qe.layerPoint=this.containerPointToLayerPoint(Qe.containerPoint),Qe.latlng=xt?Ge.getLatLng():this.layerPointToLatLng(Qe.layerPoint)}for(Me=0;Me<K.length;Me++)if(K[Me].fire(E,Qe,!0),Qe.originalEvent._stopped||K[Me].options.bubblingMouseEvents===!1&&_(this._mouseEvents,E)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,E=this._handlers.length;p<E;p++)this._handlers[p].disable()},whenReady:function(p,E){return this._loaded?p.call(E||this,{target:this}):this.on("load",p,E),this},_getMapPanePos:function(){return Hr(this._mapPane)||new B(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,E){var R=p&&E!==void 0?this._getNewPixelOrigin(p,E):this.getPixelOrigin();return R.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,E){var R=this.getSize()._divideBy(2);return this.project(p,E)._subtract(R)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,E,R){var $=this._getNewPixelOrigin(R,E);return this.project(p,E)._subtract($)},_latLngBoundsToNewLayerBounds:function(p,E,R){var $=this._getNewPixelOrigin(R,E);return Y([this.project(p.getSouthWest(),E)._subtract($),this.project(p.getNorthWest(),E)._subtract($),this.project(p.getSouthEast(),E)._subtract($),this.project(p.getNorthEast(),E)._subtract($)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,E,R){if(!R)return p;var $=this.project(p,E),K=this.getSize().divideBy(2),ie=new te($.subtract(K),$.add(K)),Me=this._getBoundsOffset(ie,R,E);return Math.abs(Me.x)<=1&&Math.abs(Me.y)<=1?p:this.unproject($.add(Me),E)},_limitOffset:function(p,E){if(!E)return p;var R=this.getPixelBounds(),$=new te(R.min.add(p),R.max.add(p));return p.add(this._getBoundsOffset($,E))},_getBoundsOffset:function(p,E,R){var $=Y(this.project(E.getNorthEast(),R),this.project(E.getSouthWest(),R)),K=$.min.subtract(p.min),ie=$.max.subtract(p.max),Me=this._rebound(K.x,-ie.x),Ge=this._rebound(K.y,-ie.y);return new B(Me,Ge)},_rebound:function(p,E){return p+E>0?Math.round(p-E)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(E))},_limitZoom:function(p){var E=this.getMinZoom(),R=this.getMaxZoom(),$=bt.any3d?this.options.zoomSnap:1;return $&&(p=Math.round(p/$)*$),Math.max(E,Math.min(R,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,E){var R=this._getCenterOffset(p)._trunc();return(E&&E.animate)!==!0&&!this.getSize().contains(R)?!1:(this.panBy(R,E),!0)},_createAnimProxy:function(){var p=this._proxy=tn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(E){var R=or,$=this._proxy.style[R];Ts(this._proxy,this.project(E.center,E.zoom),this.getZoomScale(E.zoom,1)),$===this._proxy.style[R]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),E=this.getZoom();Ts(this._proxy,this.project(p,E),this.getZoomScale(E,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,E,R){if(this._animatingZoom)return!0;if(R=R||{},!this._zoomAnimated||R.animate===!1||this._nothingToAnimate()||Math.abs(E-this._zoom)>this.options.zoomAnimationThreshold)return!1;var $=this.getZoomScale(E),K=this._getCenterOffset(p)._divideBy(1-1/$);return R.animate!==!0&&!this.getSize().contains(K)?!1:(D(function(){this._moveStart(!0,R.noMoveStart||!1)._animateZoom(p,E,!0)},this),!0)},_animateZoom:function(p,E,R,$){this._mapPane&&(R&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=E,Lt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:E,noUpdate:$}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rf(p,E){return new ln(p,E)}var Wi=z.extend({options:{position:"topright"},initialize:function(p){v(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var E=this._map;return E&&E.removeControl(this),this.options.position=p,E&&E.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var E=this._container=this.onAdd(p),R=this.getPosition(),$=p._controlCorners[R];return Lt(E,"leaflet-control"),R.indexOf("bottom")!==-1?$.insertBefore(E,$.firstChild):$.appendChild(E),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),Vi=function(p){return new Wi(p)};ln.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},E="leaflet-",R=this._controlContainer=tn("div",E+"control-container",this._container);function $(K,ie){var Me=E+K+" "+E+ie;p[K+ie]=tn("div",Me,R)}$("top","left"),$("top","right"),$("bottom","left"),$("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)Dt(this._controlCorners[p]);Dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var qc=Wi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,E,R,$){return R<$?-1:$<R?1:0}},initialize:function(p,E,R){v(this,R),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var $ in p)this._addLayer(p[$],$);for($ in E)this._addLayer(E[$],$,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var E=0;E<this._layers.length;E++)this._layers[E].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return Wi.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,E){return this._addLayer(p,E),this._map?this._update():this},addOverlay:function(p,E){return this._addLayer(p,E,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var E=this._getLayer(l(p));return E&&this._layers.splice(this._layers.indexOf(E),1),this._map?this._update():this},expand:function(){Lt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(Lt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):pn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",E=this._container=tn("div",p),R=this.options.collapsed;E.setAttribute("aria-haspopup",!0),Ui(E),Xc(E);var $=this._section=tn("section",p+"-list");R&&(this._map.on("click",this.collapse,this),hn(E,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var K=this._layersLink=tn("a",p+"-toggle",E);K.href="#",K.title="Layers",K.setAttribute("role","button"),hn(K,{keydown:function(ie){ie.keyCode===13&&this._expandSafely()},click:function(ie){Ri(ie),this._expandSafely()}},this),R||this.expand(),this._baseLayersList=tn("div",p+"-base",$),this._separator=tn("div",p+"-separator",$),this._overlaysList=tn("div",p+"-overlays",$),E.appendChild($)},_getLayer:function(p){for(var E=0;E<this._layers.length;E++)if(this._layers[E]&&l(this._layers[E].layer)===p)return this._layers[E]},_addLayer:function(p,E,R){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:E,overlay:R}),this.options.sortLayers&&this._layers.sort(a(function($,K){return this.options.sortFunction($.layer,K.layer,$.name,K.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tn(this._baseLayersList),Tn(this._overlaysList),this._layerControlInputs=[];var p,E,R,$,K=0;for(R=0;R<this._layers.length;R++)$=this._layers[R],this._addItem($),E=E||$.overlay,p=p||!$.overlay,K+=$.overlay?0:1;return this.options.hideSingleBase&&(p=p&&K>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=E&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var E=this._getLayer(l(p.target)),R=E.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;R&&this._map.fire(R,E)},_createRadioElement:function(p,E){var R='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(E?' checked="checked"':"")+"/>",$=document.createElement("div");return $.innerHTML=R,$.firstChild},_addItem:function(p){var E=document.createElement("label"),R=this._map.hasLayer(p.layer),$;p.overlay?($=document.createElement("input"),$.type="checkbox",$.className="leaflet-control-layers-selector",$.defaultChecked=R):$=this._createRadioElement("leaflet-base-layers_"+l(this),R),this._layerControlInputs.push($),$.layerId=l(p.layer),hn($,"click",this._onInputClick,this);var K=document.createElement("span");K.innerHTML=" "+p.name;var ie=document.createElement("span");E.appendChild(ie),ie.appendChild($),ie.appendChild(K);var Me=p.overlay?this._overlaysList:this._baseLayersList;return Me.appendChild(E),this._checkDisabledLayers(),E},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,E,R,$=[],K=[];this._handlingClick=!0;for(var ie=p.length-1;ie>=0;ie--)E=p[ie],R=this._getLayer(E.layerId).layer,E.checked?$.push(R):E.checked||K.push(R);for(ie=0;ie<K.length;ie++)this._map.hasLayer(K[ie])&&this._map.removeLayer(K[ie]);for(ie=0;ie<$.length;ie++)this._map.hasLayer($[ie])||this._map.addLayer($[ie]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,E,R,$=this._map.getZoom(),K=p.length-1;K>=0;K--)E=p[K],R=this._getLayer(E.layerId).layer,E.disabled=R.options.minZoom!==void 0&&$<R.options.minZoom||R.options.maxZoom!==void 0&&$>R.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,hn(p,"click",Ri),this.expand();var E=this;setTimeout(function(){pr(p,"click",Ri),E._preventClick=!1})}}),of=function(p,E,R){return new qc(p,E,R)},es=Wi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var E="leaflet-control-zoom",R=tn("div",E+" leaflet-bar"),$=this.options;return this._zoomInButton=this._createButton($.zoomInText,$.zoomInTitle,E+"-in",R,this._zoomIn),this._zoomOutButton=this._createButton($.zoomOutText,$.zoomOutTitle,E+"-out",R,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),R},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,E,R,$,K){var ie=tn("a",R,$);return ie.innerHTML=p,ie.href="#",ie.title=E,ie.setAttribute("role","button"),ie.setAttribute("aria-label",E),Ui(ie),hn(ie,"click",Kl),hn(ie,"click",K,this),hn(ie,"click",this._refocusOnMap,this),ie},_updateDisabled:function(){var p=this._map,E="leaflet-disabled";pn(this._zoomInButton,E),pn(this._zoomOutButton,E),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(Lt(this._zoomOutButton,E),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(Lt(this._zoomInButton,E),this._zoomInButton.setAttribute("aria-disabled","true"))}});ln.mergeOptions({zoomControl:!0}),ln.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new es,this.addControl(this.zoomControl))});var Yc=function(p){return new es(p)},pv=Wi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var E="leaflet-control-scale",R=tn("div",E),$=this.options;return this._addScales($,E+"-line",R),p.on($.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),R},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,E,R){p.metric&&(this._mScale=tn("div",E,R)),p.imperial&&(this._iScale=tn("div",E,R))},_update:function(){var p=this._map,E=p.getSize().y/2,R=p.distance(p.containerPointToLatLng([0,E]),p.containerPointToLatLng([this.options.maxWidth,E]));this._updateScales(R)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var E=this._getRoundNum(p),R=E<1e3?E+" m":E/1e3+" km";this._updateScale(this._mScale,R,E/p)},_updateImperial:function(p){var E=p*3.2808399,R,$,K;E>5280?(R=E/5280,$=this._getRoundNum(R),this._updateScale(this._iScale,$+" mi",$/R)):(K=this._getRoundNum(E),this._updateScale(this._iScale,K+" ft",K/E))},_updateScale:function(p,E,R){p.style.width=Math.round(this.options.maxWidth*R)+"px",p.innerHTML=E},_getRoundNum:function(p){var E=Math.pow(10,(Math.floor(p)+"").length-1),R=p/E;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:1,E*R}}),WM=function(p){return new pv(p)},db='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Dp=Wi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(bt.inlineSvg?db+" ":"")+"Leaflet</a>"},initialize:function(p){v(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=tn("div","leaflet-control-attribution"),Ui(this._container);for(var E in p._layers)p._layers[E].getAttribution&&this.addAttribution(p._layers[E].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var E in this._attributions)this._attributions[E]&&p.push(E);var R=[];this.options.prefix&&R.push(this.options.prefix),p.length&&R.push(p.join(", ")),this._container.innerHTML=R.join(' <span aria-hidden="true">|</span> ')}}});ln.mergeOptions({attributionControl:!0}),ln.addInitHook(function(){this.options.attributionControl&&new Dp().addTo(this)});var Ad=function(p){return new Dp(p)};Wi.Layers=qc,Wi.Zoom=es,Wi.Scale=pv,Wi.Attribution=Dp,Vi.layers=of,Vi.zoom=Yc,Vi.scale=WM,Vi.attribution=Ad;var si=z.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});si.addTo=function(p,E){return p.addHandler(E,this),this};var ol={Events:W},Zl=bt.touch?"touchstart mousedown":"mousedown",al=X.extend({options:{clickTolerance:3},initialize:function(p,E,R,$){v(this,$),this._element=p,this._dragStartTarget=E||p,this._preventOutline=R},enable:function(){this._enabled||(hn(this._dragStartTarget,Zl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(al._dragging===this&&this.finishDrag(!0),pr(this._dragStartTarget,Zl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!On(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){al._dragging===this&&this.finishDrag();return}if(!(al._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(al._dragging=this,this._preventOutline&&Ip(this._element),Np(),Pi(),!this._moving)){this.fire("down");var E=p.touches?p.touches[0]:p,R=_n(this._element);this._startPoint=new B(E.clientX,E.clientY),this._startPos=Hr(this._element),this._parentScale=Md(R);var $=p.type==="mousedown";hn(document,$?"mousemove":"touchmove",this._onMove,this),hn(document,$?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var E=p.touches&&p.touches.length===1?p.touches[0]:p,R=new B(E.clientX,E.clientY)._subtract(this._startPoint);!R.x&&!R.y||Math.abs(R.x)+Math.abs(R.y)<this.options.clickTolerance||(R.x/=this._parentScale.x,R.y/=this._parentScale.y,Ri(p),this._moved||(this.fire("dragstart"),this._moved=!0,Lt(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Lt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(R),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),zr(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){pn(document.body,"leaflet-dragging"),this._lastTarget&&(pn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pr(document,"mousemove touchmove",this._onMove,this),pr(document,"mouseup touchend touchcancel",this._onUp,this),ef(),Ja();var E=this._moved&&this._moving;this._moving=!1,al._dragging=!1,E&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function hb(p,E,R){var $,K=[1,4,2,8],ie,Me,Ge,Qe,xt,kt,cn,kn;for(ie=0,kt=p.length;ie<kt;ie++)p[ie]._code=Jl(p[ie],E);for(Ge=0;Ge<4;Ge++){for(cn=K[Ge],$=[],ie=0,kt=p.length,Me=kt-1;ie<kt;Me=ie++)Qe=p[ie],xt=p[Me],Qe._code&cn?xt._code&cn||(kn=zp(xt,Qe,cn,E,R),kn._code=Jl(kn,E),$.push(kn)):(xt._code&cn&&(kn=zp(xt,Qe,cn,E,R),kn._code=Jl(kn,E),$.push(kn)),$.push(Qe));p=$}return p}function sl(p,E){var R,$,K,ie,Me,Ge,Qe,xt,kt;if(!p||p.length===0)throw new Error("latlngs not passed");Lo(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var cn=pe([0,0]),kn=re(p),No=kn.getNorthWest().distanceTo(kn.getSouthWest())*kn.getNorthEast().distanceTo(kn.getNorthWest());No<1700&&(cn=ll(p));var vi=p.length,Zo=[];for(R=0;R<vi;R++){var Jo=pe(p[R]);Zo.push(E.project(pe([Jo.lat-cn.lat,Jo.lng-cn.lng])))}for(Ge=Qe=xt=0,R=0,$=vi-1;R<vi;$=R++)K=Zo[R],ie=Zo[$],Me=K.y*ie.x-ie.y*K.x,Qe+=(K.x+ie.x)*Me,xt+=(K.y+ie.y)*Me,Ge+=Me*3;Ge===0?kt=Zo[0]:kt=[Qe/Ge,xt/Ge];var ff=E.unproject(q(kt));return pe([ff.lat+cn.lat,ff.lng+cn.lng])}function ll(p){for(var E=0,R=0,$=0,K=0;K<p.length;K++){var ie=pe(p[K]);E+=ie.lat,R+=ie.lng,$++}return pe([E/$,R/$])}var mv={__proto__:null,clipPolygon:hb,polygonCenter:sl,centroid:ll};function pb(p,E){if(!E||!p.length)return p.slice();var R=E*E;return p=gv(p,R),p=HM(p,R),p}function jp(p,E,R){return Math.sqrt(cl(p,E,R,!0))}function VM(p,E,R){return cl(p,E,R)}function HM(p,E){var R=p.length,$=typeof Uint8Array<"u"?Uint8Array:Array,K=new $(R);K[0]=K[R-1]=1,Bp(p,K,E,0,R-1);var ie,Me=[];for(ie=0;ie<R;ie++)K[ie]&&Me.push(p[ie]);return Me}function Bp(p,E,R,$,K){var ie=0,Me,Ge,Qe;for(Ge=$+1;Ge<=K-1;Ge++)Qe=cl(p[Ge],p[$],p[K],!0),Qe>ie&&(Me=Ge,ie=Qe);ie>R&&(E[Me]=1,Bp(p,E,R,$,Me),Bp(p,E,R,Me,K))}function gv(p,E){for(var R=[p[0]],$=1,K=0,ie=p.length;$<ie;$++)Cd(p[$],p[K])>E&&(R.push(p[$]),K=$);return K<ie-1&&R.push(p[ie-1]),R}var mb;function gb(p,E,R,$,K){var ie=$?mb:Jl(p,R),Me=Jl(E,R),Ge,Qe,xt;for(mb=Me;;){if(!(ie|Me))return[p,E];if(ie&Me)return!1;Ge=ie||Me,Qe=zp(p,E,Ge,R,K),xt=Jl(Qe,R),Ge===ie?(p=Qe,ie=xt):(E=Qe,Me=xt)}}function zp(p,E,R,$,K){var ie=E.x-p.x,Me=E.y-p.y,Ge=$.min,Qe=$.max,xt,kt;return R&8?(xt=p.x+ie*(Qe.y-p.y)/Me,kt=Qe.y):R&4?(xt=p.x+ie*(Ge.y-p.y)/Me,kt=Ge.y):R&2?(xt=Qe.x,kt=p.y+Me*(Qe.x-p.x)/ie):R&1&&(xt=Ge.x,kt=p.y+Me*(Ge.x-p.x)/ie),new B(xt,kt,K)}function Jl(p,E){var R=0;return p.x<E.min.x?R|=1:p.x>E.max.x&&(R|=2),p.y<E.min.y?R|=4:p.y>E.max.y&&(R|=8),R}function Cd(p,E){var R=E.x-p.x,$=E.y-p.y;return R*R+$*$}function cl(p,E,R,$){var K=E.x,ie=E.y,Me=R.x-K,Ge=R.y-ie,Qe=Me*Me+Ge*Ge,xt;return Qe>0&&(xt=((p.x-K)*Me+(p.y-ie)*Ge)/Qe,xt>1?(K=R.x,ie=R.y):xt>0&&(K+=Me*xt,ie+=Ge*xt)),Me=p.x-K,Ge=p.y-ie,$?Me*Me+Ge*Ge:new B(K,ie)}function Lo(p){return!x(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function $p(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Lo(p)}function Ea(p,E){var R,$,K,ie,Me,Ge,Qe,xt;if(!p||p.length===0)throw new Error("latlngs not passed");Lo(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var kt=pe([0,0]),cn=re(p),kn=cn.getNorthWest().distanceTo(cn.getSouthWest())*cn.getNorthEast().distanceTo(cn.getNorthWest());kn<1700&&(kt=ll(p));var No=p.length,vi=[];for(R=0;R<No;R++){var Zo=pe(p[R]);vi.push(E.project(pe([Zo.lat-kt.lat,Zo.lng-kt.lng])))}for(R=0,$=0;R<No-1;R++)$+=vi[R].distanceTo(vi[R+1])/2;if($===0)xt=vi[0];else for(R=0,ie=0;R<No-1;R++)if(Me=vi[R],Ge=vi[R+1],K=Me.distanceTo(Ge),ie+=K,ie>$){Qe=(ie-$)/K,xt=[Ge.x-Qe*(Ge.x-Me.x),Ge.y-Qe*(Ge.y-Me.y)];break}var Jo=E.unproject(q(xt));return pe([Jo.lat+kt.lat,Jo.lng+kt.lng])}var ts={__proto__:null,simplify:pb,pointToSegmentDistance:jp,closestPointOnSegment:VM,clipSegment:gb,_getEdgeIntersection:zp,_getBitCode:Jl,_sqClosestPointOnSegment:cl,isFlat:Lo,_flat:$p,polylineCenter:Ea},Ql={project:function(p){return new B(p.lng,p.lat)},unproject:function(p){return new oe(p.y,p.x)},bounds:new te([-180,-90],[180,90])},As={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var E=Math.PI/180,R=this.R,$=p.lat*E,K=this.R_MINOR/R,ie=Math.sqrt(1-K*K),Me=ie*Math.sin($),Ge=Math.tan(Math.PI/4-$/2)/Math.pow((1-Me)/(1+Me),ie/2);return $=-R*Math.log(Math.max(Ge,1e-10)),new B(p.lng*E*R,$)},unproject:function(p){for(var E=180/Math.PI,R=this.R,$=this.R_MINOR/R,K=Math.sqrt(1-$*$),ie=Math.exp(-p.y/R),Me=Math.PI/2-2*Math.atan(ie),Ge=0,Qe=.1,xt;Ge<15&&Math.abs(Qe)>1e-7;Ge++)xt=K*Math.sin(Me),xt=Math.pow((1-xt)/(1+xt),K/2),Qe=Math.PI/2-2*Math.atan(ie*xt)-Me,Me+=Qe;return new oe(Me*E,p.x*E/R)}},ec={__proto__:null,LonLat:Ql,Mercator:As,SphericalMercator:xe},af=i({},we,{code:"EPSG:3395",projection:As,transformation:function(){var p=.5/(Math.PI*As.R);return ee(p,.5,-p,.5)}()}),vb=i({},we,{code:"EPSG:4326",projection:Ql,transformation:ee(1/180,1,-1/180,.5)}),yb=i({},fe,{projection:Ql,transformation:ee(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,E){var R=E.lng-p.lng,$=E.lat-p.lat;return Math.sqrt(R*R+$*$)},infinite:!0});fe.Earth=we,fe.EPSG3395=af,fe.EPSG3857=Ce,fe.EPSG900913=ae,fe.EPSG4326=vb,fe.Simple=yb;var Ta=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[l(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[l(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var E=p.target;if(E.hasLayer(this)){if(this._map=E,this._zoomAnimated=E._zoomAnimated,this.getEvents){var R=this.getEvents();E.on(R,this),this.once("remove",function(){E.off(R,this)},this)}this.onAdd(E),this.fire("add"),E.fire("layeradd",{layer:this})}}});ln.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var E=l(p);return this._layers[E]?this:(this._layers[E]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var E=l(p);return this._layers[E]?(this._loaded&&p.onRemove(this),delete this._layers[E],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return l(p)in this._layers},eachLayer:function(p,E){for(var R in this._layers)p.call(E,this._layers[R]);return this},_addLayers:function(p){p=p?x(p)?p:[p]:[];for(var E=0,R=p.length;E<R;E++)this.addLayer(p[E])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[l(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var E=l(p);this._zoomBoundLayers[E]&&(delete this._zoomBoundLayers[E],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,E=-1/0,R=this._getZoomSpan();for(var $ in this._zoomBoundLayers){var K=this._zoomBoundLayers[$].options;p=K.minZoom===void 0?p:Math.min(p,K.minZoom),E=K.maxZoom===void 0?E:Math.max(E,K.maxZoom)}this._layersMaxZoom=E===-1/0?void 0:E,this._layersMinZoom=p===1/0?void 0:p,R!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hi=Ta.extend({initialize:function(p,E){v(this,E),this._layers={};var R,$;if(p)for(R=0,$=p.length;R<$;R++)this.addLayer(p[R])},addLayer:function(p){var E=this.getLayerId(p);return this._layers[E]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var E=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[E]&&this._map.removeLayer(this._layers[E]),delete this._layers[E],this},hasLayer:function(p){var E=typeof p=="number"?p:this.getLayerId(p);return E in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var E=Array.prototype.slice.call(arguments,1),R,$;for(R in this._layers)$=this._layers[R],$[p]&&$[p].apply($,E);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,E){for(var R in this._layers)p.call(E,this._layers[R]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return l(p)}}),Aa=function(p,E){return new Hi(p,E)},tr=Hi.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),Hi.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),Hi.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new J;for(var E in this._layers){var R=this._layers[E];p.extend(R.getBounds?R.getBounds():R.getLatLng())}return p}}),Fp=function(p,E){return new tr(p,E)},xo=z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){v(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,E){var R=this._getIconUrl(p);if(!R){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var $=this._createImg(R,E&&E.tagName==="IMG"?E:null);return this._setIconStyles($,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&($.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),$},_setIconStyles:function(p,E){var R=this.options,$=R[E+"Size"];typeof $=="number"&&($=[$,$]);var K=q($),ie=q(E==="shadow"&&R.shadowAnchor||R.iconAnchor||K&&K.divideBy(2,!0));p.className="leaflet-marker-"+E+" "+(R.className||""),ie&&(p.style.marginLeft=-ie.x+"px",p.style.marginTop=-ie.y+"px"),K&&(p.style.width=K.x+"px",p.style.height=K.y+"px")},_createImg:function(p,E){return E=E||document.createElement("img"),E.src=p,E},_getIconUrl:function(p){return bt.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function GM(p){return new xo(p)}var Pd=xo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof Pd.imagePath!="string"&&(Pd.imagePath=this._detectIconPath()),(this.options.imagePath||Pd.imagePath)+xo.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var E=function(R,$,K){var ie=$.exec(R);return ie&&ie[K]};return p=E(p,/^url\((['"])?(.+)\1\)$/,2),p&&E(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=tn("div","leaflet-default-icon-path",document.body),E=Ct(p,"background-image")||Ct(p,"backgroundImage");if(document.body.removeChild(p),E=this._stripUrl(E),E)return E;var R=document.querySelector('link[href$="leaflet.css"]');return R?R.href.substring(0,R.href.length-11-1):""}}),vv=si.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new al(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Lt(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var E=this._marker,R=E._map,$=this._marker.options.autoPanSpeed,K=this._marker.options.autoPanPadding,ie=Hr(E._icon),Me=R.getPixelBounds(),Ge=R.getPixelOrigin(),Qe=Y(Me.min._subtract(Ge).add(K),Me.max._subtract(Ge).subtract(K));if(!Qe.contains(ie)){var xt=q((Math.max(Qe.max.x,ie.x)-Qe.max.x)/(Me.max.x-Qe.max.x)-(Math.min(Qe.min.x,ie.x)-Qe.min.x)/(Me.min.x-Qe.min.x),(Math.max(Qe.max.y,ie.y)-Qe.max.y)/(Me.max.y-Qe.max.y)-(Math.min(Qe.min.y,ie.y)-Qe.min.y)/(Me.min.y-Qe.min.y)).multiplyBy($);R.panBy(xt,{animate:!1}),this._draggable._newPos._add(xt),this._draggable._startPos._add(xt),zr(E._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=D(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,p)))},_onDrag:function(p){var E=this._marker,R=E._shadow,$=Hr(E._icon),K=E._map.layerPointToLatLng($);R&&zr(R,$),E._latlng=K,p.latlng=K,p.oldLatLng=this._oldLatLng,E.fire("move",p).fire("drag",p)},_onDragEnd:function(p){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),Rd=Ta.extend({options:{icon:new Pd,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,E){v(this,E),this._latlng=pe(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var E=this._latlng;return this._latlng=pe(p),this.update(),this.fire("move",{oldLatLng:E,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,E="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),R=p.icon.createIcon(this._icon),$=!1;R!==this._icon&&(this._icon&&this._removeIcon(),$=!0,p.title&&(R.title=p.title),R.tagName==="IMG"&&(R.alt=p.alt||"")),Lt(R,E),p.keyboard&&(R.tabIndex="0",R.setAttribute("role","button")),this._icon=R,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hn(R,"focus",this._panOnFocus,this);var K=p.icon.createShadow(this._shadow),ie=!1;K!==this._shadow&&(this._removeShadow(),ie=!0),K&&(Lt(K,E),K.alt=""),this._shadow=K,p.opacity<1&&this._updateOpacity(),$&&this.getPane().appendChild(this._icon),this._initInteraction(),K&&ie&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pr(this._icon,"focus",this._panOnFocus,this),Dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dt(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&zr(this._icon,p),this._shadow&&zr(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var E=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(E)},_initInteraction:function(){if(this.options.interactive&&(Lt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vv)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vv(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&Ln(this._icon,p),this._shadow&&Ln(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var E=this.options.icon.options,R=E.iconSize?q(E.iconSize):q(0,0),$=E.iconAnchor?q(E.iconAnchor):q(0,0);p.panInside(this._latlng,{paddingTopLeft:$,paddingBottomRight:R.subtract($)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function XM(p,E){return new Rd(p,E)}var ns=Ta.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return v(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),tc=ns.extend({options:{fill:!0,radius:10},initialize:function(p,E){v(this,E),this._latlng=pe(p),this._radius=this.options.radius},setLatLng:function(p){var E=this._latlng;return this._latlng=pe(p),this.redraw(),this.fire("move",{oldLatLng:E,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var E=p&&p.radius||this._radius;return ns.prototype.setStyle.call(this,p),this.setRadius(E),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,E=this._radiusY||p,R=this._clickTolerance(),$=[p+R,E+R];this._pxBounds=new te(this._point.subtract($),this._point.add($))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function xb(p,E){return new tc(p,E)}var sf=tc.extend({initialize:function(p,E,R){if(typeof E=="number"&&(E=i({},R,{radius:E})),v(this,E),this._latlng=pe(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:ns.prototype.setStyle,_project:function(){var p=this._latlng.lng,E=this._latlng.lat,R=this._map,$=R.options.crs;if($.distance===we.distance){var K=Math.PI/180,ie=this._mRadius/we.R/K,Me=R.project([E+ie,p]),Ge=R.project([E-ie,p]),Qe=Me.add(Ge).divideBy(2),xt=R.unproject(Qe).lat,kt=Math.acos((Math.cos(ie*K)-Math.sin(E*K)*Math.sin(xt*K))/(Math.cos(E*K)*Math.cos(xt*K)))/K;(isNaN(kt)||kt===0)&&(kt=ie/Math.cos(Math.PI/180*E)),this._point=Qe.subtract(R.getPixelOrigin()),this._radius=isNaN(kt)?0:Qe.x-R.project([xt,p-kt]).x,this._radiusY=Qe.y-Me.y}else{var cn=$.unproject($.project(this._latlng).subtract([this._mRadius,0]));this._point=R.latLngToLayerPoint(this._latlng),this._radius=this._point.x-R.latLngToLayerPoint(cn).x}this._updateBounds()}});function yv(p,E,R){return new sf(p,E,R)}var ul=ns.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,E){v(this,E),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var E=1/0,R=null,$=cl,K,ie,Me=0,Ge=this._parts.length;Me<Ge;Me++)for(var Qe=this._parts[Me],xt=1,kt=Qe.length;xt<kt;xt++){K=Qe[xt-1],ie=Qe[xt];var cn=$(p,K,ie,!0);cn<E&&(E=cn,R=$(p,K,ie))}return R&&(R.distance=Math.sqrt(E)),R},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ea(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,E){return E=E||this._defaultShape(),p=pe(p),E.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new J,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return Lo(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var E=[],R=Lo(p),$=0,K=p.length;$<K;$++)R?(E[$]=pe(p[$]),this._bounds.extend(E[$])):E[$]=this._convertLatLngs(p[$]);return E},_project:function(){var p=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),E=new B(p,p);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(E),this._rawPxBounds.max.add(E)]))},_projectLatlngs:function(p,E,R){var $=p[0]instanceof oe,K=p.length,ie,Me;if($){for(Me=[],ie=0;ie<K;ie++)Me[ie]=this._map.latLngToLayerPoint(p[ie]),R.extend(Me[ie]);E.push(Me)}else for(ie=0;ie<K;ie++)this._projectLatlngs(p[ie],E,R)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var E=this._parts,R,$,K,ie,Me,Ge,Qe;for(R=0,K=0,ie=this._rings.length;R<ie;R++)for(Qe=this._rings[R],$=0,Me=Qe.length;$<Me-1;$++)Ge=gb(Qe[$],Qe[$+1],p,$,!0),Ge&&(E[K]=E[K]||[],E[K].push(Ge[0]),(Ge[1]!==Qe[$+1]||$===Me-2)&&(E[K].push(Ge[1]),K++))}},_simplifyPoints:function(){for(var p=this._parts,E=this.options.smoothFactor,R=0,$=p.length;R<$;R++)p[R]=pb(p[R],E)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,E){var R,$,K,ie,Me,Ge,Qe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(R=0,ie=this._parts.length;R<ie;R++)for(Ge=this._parts[R],$=0,Me=Ge.length,K=Me-1;$<Me;K=$++)if(!(!E&&$===0)&&jp(p,Ge[K],Ge[$])<=Qe)return!0;return!1}});function qM(p,E){return new ul(p,E)}ul._flat=$p;var Cs=ul.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var E=ul.prototype._convertLatLngs.call(this,p),R=E.length;return R>=2&&E[0]instanceof oe&&E[0].equals(E[R-1])&&E.pop(),E},_setLatLngs:function(p){ul.prototype._setLatLngs.call(this,p),Lo(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Lo(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,E=this.options.weight,R=new B(E,E);if(p=new te(p.min.subtract(R),p.max.add(R)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var $=0,K=this._rings.length,ie;$<K;$++)ie=hb(this._rings[$],p,!0),ie.length&&this._parts.push(ie)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var E=!1,R,$,K,ie,Me,Ge,Qe,xt;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ie=0,Qe=this._parts.length;ie<Qe;ie++)for(R=this._parts[ie],Me=0,xt=R.length,Ge=xt-1;Me<xt;Ge=Me++)$=R[Me],K=R[Ge],$.y>p.y!=K.y>p.y&&p.x<(K.x-$.x)*(p.y-$.y)/(K.y-$.y)+$.x&&(E=!E);return E||ul.prototype._containsPoint.call(this,p,!0)}});function YM(p,E){return new Cs(p,E)}var Ca=tr.extend({initialize:function(p,E){v(this,E),this._layers={},p&&this.addData(p)},addData:function(p){var E=x(p)?p:p.features,R,$,K;if(E){for(R=0,$=E.length;R<$;R++)K=E[R],(K.geometries||K.geometry||K.features||K.coordinates)&&this.addData(K);return this}var ie=this.options;if(ie.filter&&!ie.filter(p))return this;var Me=ko(p,ie);return Me?(Me.feature=Ld(p),Me.defaultOptions=Me.options,this.resetStyle(Me),ie.onEachFeature&&ie.onEachFeature(p,Me),this.addLayer(Me)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=i({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(E){this._setLayerStyle(E,p)},this)},_setLayerStyle:function(p,E){p.setStyle&&(typeof E=="function"&&(E=E(p.feature)),p.setStyle(E))}});function ko(p,E){var R=p.type==="Feature"?p.geometry:p,$=R?R.coordinates:null,K=[],ie=E&&E.pointToLayer,Me=E&&E.coordsToLatLng||Kc,Ge,Qe,xt,kt;if(!$&&!R)return null;switch(R.type){case"Point":return Ge=Me($),Od(ie,p,Ge,E);case"MultiPoint":for(xt=0,kt=$.length;xt<kt;xt++)Ge=Me($[xt]),K.push(Od(ie,p,Ge,E));return new tr(K);case"LineString":case"MultiLineString":return Qe=Pa($,R.type==="LineString"?0:1,Me),new ul(Qe,E);case"Polygon":case"MultiPolygon":return Qe=Pa($,R.type==="Polygon"?1:2,Me),new Cs(Qe,E);case"GeometryCollection":for(xt=0,kt=R.geometries.length;xt<kt;xt++){var cn=ko({geometry:R.geometries[xt],type:"Feature",properties:p.properties},E);cn&&K.push(cn)}return new tr(K);case"FeatureCollection":for(xt=0,kt=R.features.length;xt<kt;xt++){var kn=ko(R.features[xt],E);kn&&K.push(kn)}return new tr(K);default:throw new Error("Invalid GeoJSON object.")}}function Od(p,E,R,$){return p?p(E,R):new Rd(R,$&&$.markersInheritOptions&&$)}function Kc(p){return new oe(p[1],p[0],p[2])}function Pa(p,E,R){for(var $=[],K=0,ie=p.length,Me;K<ie;K++)Me=E?Pa(p[K],E-1,R):(R||Kc)(p[K]),$.push(Me);return $}function Up(p,E){return p=pe(p),p.alt!==void 0?[d(p.lng,E),d(p.lat,E),d(p.alt,E)]:[d(p.lng,E),d(p.lat,E)]}function nc(p,E,R,$){for(var K=[],ie=0,Me=p.length;ie<Me;ie++)K.push(E?nc(p[ie],Lo(p[ie])?0:E-1,R,$):Up(p[ie],$));return!E&&R&&K.length>0&&K.push(K[0].slice()),K}function lf(p,E){return p.feature?i({},p.feature,{geometry:E}):Ld(E)}function Ld(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var Lr={toGeoJSON:function(p){return lf(this,{type:"Point",coordinates:Up(this.getLatLng(),p)})}};Rd.include(Lr),sf.include(Lr),tc.include(Lr),ul.include({toGeoJSON:function(p){var E=!Lo(this._latlngs),R=nc(this._latlngs,E?1:0,!1,p);return lf(this,{type:(E?"Multi":"")+"LineString",coordinates:R})}}),Cs.include({toGeoJSON:function(p){var E=!Lo(this._latlngs),R=E&&!Lo(this._latlngs[0]),$=nc(this._latlngs,R?2:E?1:0,!0,p);return E||($=[$]),lf(this,{type:(R?"Multi":"")+"Polygon",coordinates:$})}}),Hi.include({toMultiPoint:function(p){var E=[];return this.eachLayer(function(R){E.push(R.toGeoJSON(p).geometry.coordinates)}),lf(this,{type:"MultiPoint",coordinates:E})},toGeoJSON:function(p){var E=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(E==="MultiPoint")return this.toMultiPoint(p);var R=E==="GeometryCollection",$=[];return this.eachLayer(function(K){if(K.toGeoJSON){var ie=K.toGeoJSON(p);if(R)$.push(ie.geometry);else{var Me=Ld(ie);Me.type==="FeatureCollection"?$.push.apply($,Me.features):$.push(Me)}}}),R?lf(this,{geometries:$,type:"GeometryCollection"}):{type:"FeatureCollection",features:$}}});function Wp(p,E){return new Ca(p,E)}var bb=Wp,kd=Ta.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,E,R){this._url=p,this._bounds=re(E),v(this,R)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Lt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&Er(this._image),this},bringToBack:function(){return this._map&&Tr(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=re(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",E=this._image=p?this._url:tn("img");if(Lt(E,"leaflet-image-layer"),this._zoomAnimated&&Lt(E,"leaflet-zoom-animated"),this.options.className&&Lt(E,this.options.className),E.onselectstart=f,E.onmousemove=f,E.onload=a(this.fire,this,"load"),E.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=E.src;return}E.src=this._url,E.alt=this.options.alt},_animateZoom:function(p){var E=this._map.getZoomScale(p.zoom),R=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;Ts(this._image,R,E)},_reset:function(){var p=this._image,E=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),R=E.getSize();zr(p,E.min),p.style.width=R.x+"px",p.style.height=R.y+"px"},_updateOpacity:function(){Ln(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),xv=function(p,E,R){return new kd(p,E,R)},Ra=kd.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",E=this._image=p?this._url:tn("video");if(Lt(E,"leaflet-image-layer"),this._zoomAnimated&&Lt(E,"leaflet-zoom-animated"),this.options.className&&Lt(E,this.options.className),E.onselectstart=f,E.onmousemove=f,E.onloadeddata=a(this.fire,this,"load"),p){for(var R=E.getElementsByTagName("source"),$=[],K=0;K<R.length;K++)$.push(R[K].src);this._url=R.length>0?$:[E.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(E.style,"objectFit")&&(E.style.objectFit="fill"),E.autoplay=!!this.options.autoplay,E.loop=!!this.options.loop,E.muted=!!this.options.muted,E.playsInline=!!this.options.playsInline;for(var ie=0;ie<this._url.length;ie++){var Me=tn("source");Me.src=this._url[ie],E.appendChild(Me)}}});function Nd(p,E,R){return new Ra(p,E,R)}var Gr=kd.extend({_initImage:function(){var p=this._image=this._url;Lt(p,"leaflet-image-layer"),this._zoomAnimated&&Lt(p,"leaflet-zoom-animated"),this.options.className&&Lt(p,this.options.className),p.onselectstart=f,p.onmousemove=f}});function bo(p,E,R){return new Gr(p,E,R)}var yr=Ta.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,E){p&&(p instanceof oe||x(p))?(this._latlng=pe(p),v(this,E)):(v(this,p),this._source=E),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&Ln(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&Ln(this._container,1),this.bringToFront(),this.options.interactive&&(Lt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(Ln(this._container,0),this._removeTimeout=setTimeout(a(Dt,void 0,this._container),200)):Dt(this._container),this.options.interactive&&(pn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=pe(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Er(this._container),this},bringToBack:function(){return this._map&&Tr(this._container),this},_prepareOpen:function(p){var E=this._source;if(!E._map)return!1;if(E instanceof tr){E=null;var R=this._source._layers;for(var $ in R)if(R[$]._map){E=R[$];break}if(!E)return!1;this._source=E}if(!p)if(E.getCenter)p=E.getCenter();else if(E.getLatLng)p=E.getLatLng();else if(E.getBounds)p=E.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,E=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof E=="string")p.innerHTML=E;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(E)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),E=q(this.options.offset),R=this._getAnchor();this._zoomAnimated?zr(this._container,p.add(R)):E=E.add(p).add(R);var $=this._containerBottom=-E.y,K=this._containerLeft=-Math.round(this._containerWidth/2)+E.x;this._container.style.bottom=$+"px",this._container.style.left=K+"px"}},_getAnchor:function(){return[0,0]}});ln.include({_initOverlay:function(p,E,R,$){var K=E;return K instanceof p||(K=new p($).setContent(E)),R&&K.setLatLng(R),K}}),Ta.include({_initOverlay:function(p,E,R,$){var K=R;return K instanceof p?(v(K,$),K._source=this):(K=E&&!$?E:new p($,this),K.setContent(R)),K}});var cf=yr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,yr.prototype.openOn.call(this,p)},onAdd:function(p){yr.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ns||this._source.on("preclick",Qa))},onRemove:function(p){yr.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ns||this._source.off("preclick",Qa))},getEvents:function(){var p=yr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",E=this._container=tn("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),R=this._wrapper=tn("div",p+"-content-wrapper",E);if(this._contentNode=tn("div",p+"-content",R),Ui(E),Xc(this._contentNode),hn(E,"contextmenu",Qa),this._tipContainer=tn("div",p+"-tip-container",E),this._tip=tn("div",p+"-tip",this._tipContainer),this.options.closeButton){var $=this._closeButton=tn("a",p+"-close-button",E);$.setAttribute("role","button"),$.setAttribute("aria-label","Close popup"),$.href="#close",$.innerHTML='<span aria-hidden="true">&#215;</span>',hn($,"click",function(K){Ri(K),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,E=p.style;E.width="",E.whiteSpace="nowrap";var R=p.offsetWidth;R=Math.min(R,this.options.maxWidth),R=Math.max(R,this.options.minWidth),E.width=R+1+"px",E.whiteSpace="",E.height="";var $=p.offsetHeight,K=this.options.maxHeight,ie="leaflet-popup-scrolled";K&&$>K?(E.height=K+"px",Lt(p,ie)):pn(p,ie),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var E=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),R=this._getAnchor();zr(this._container,E.add(R))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,E=parseInt(Ct(this._container,"marginBottom"),10)||0,R=this._container.offsetHeight+E,$=this._containerWidth,K=new B(this._containerLeft,-R-this._containerBottom);K._add(Hr(this._container));var ie=p.layerPointToContainerPoint(K),Me=q(this.options.autoPanPadding),Ge=q(this.options.autoPanPaddingTopLeft||Me),Qe=q(this.options.autoPanPaddingBottomRight||Me),xt=p.getSize(),kt=0,cn=0;ie.x+$+Qe.x>xt.x&&(kt=ie.x+$-xt.x+Qe.x),ie.x-kt-Ge.x<0&&(kt=ie.x-Ge.x),ie.y+R+Qe.y>xt.y&&(cn=ie.y+R-xt.y+Qe.y),ie.y-cn-Ge.y<0&&(cn=ie.y-Ge.y),(kt||cn)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([kt,cn]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Vp=function(p,E){return new cf(p,E)};ln.mergeOptions({closePopupOnClick:!0}),ln.include({openPopup:function(p,E,R){return this._initOverlay(cf,p,E,R).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),Ta.include({bindPopup:function(p,E){return this._popup=this._initOverlay(cf,this._popup,p,E),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof tr||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){Kl(p);var E=p.layer||p.target;if(this._popup._source===E&&!(E instanceof ns)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=E,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Zc=yr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){yr.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){yr.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=yr.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",E=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tn("div",E),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var E,R,$=this._map,K=this._container,ie=$.latLngToContainerPoint($.getCenter()),Me=$.layerPointToContainerPoint(p),Ge=this.options.direction,Qe=K.offsetWidth,xt=K.offsetHeight,kt=q(this.options.offset),cn=this._getAnchor();Ge==="top"?(E=Qe/2,R=xt):Ge==="bottom"?(E=Qe/2,R=0):Ge==="center"?(E=Qe/2,R=xt/2):Ge==="right"?(E=0,R=xt/2):Ge==="left"?(E=Qe,R=xt/2):Me.x<ie.x?(Ge="right",E=0,R=xt/2):(Ge="left",E=Qe+(kt.x+cn.x)*2,R=xt/2),p=p.subtract(q(E,R,!0)).add(kt).add(cn),pn(K,"leaflet-tooltip-right"),pn(K,"leaflet-tooltip-left"),pn(K,"leaflet-tooltip-top"),pn(K,"leaflet-tooltip-bottom"),Lt(K,"leaflet-tooltip-"+Ge),zr(K,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&Ln(this._container,p)},_animateZoom:function(p){var E=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(E)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),w3=function(p,E){return new Zc(p,E)};ln.include({openTooltip:function(p,E,R){return this._initOverlay(Zc,p,E,R).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),Ta.include({bindTooltip:function(p,E){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Zc,this._tooltip,p,E),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var E=p?"off":"on",R={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?R.add=this._openTooltip:(R.mouseover=this._openTooltip,R.mouseout=this.closeTooltip,R.click=this._openTooltip,this._map?this._addFocusListeners():R.add=this._addFocusListeners),this._tooltip.options.sticky&&(R.mousemove=this._moveTooltip),this[E](R),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof tr||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var E=typeof p.getElement=="function"&&p.getElement();E&&(hn(E,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),hn(E,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var E=typeof p.getElement=="function"&&p.getElement();E&&E.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var E=this;this._map.once("moveend",function(){E._openOnceFlag=!1,E._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var E=p.latlng,R,$;this._tooltip.options.sticky&&p.originalEvent&&(R=this._map.mouseEventToContainerPoint(p.originalEvent),$=this._map.containerPointToLayerPoint(R),E=this._map.layerPointToLatLng($)),this._tooltip.setLatLng(E)}});var io=xo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var E=p&&p.tagName==="DIV"?p:document.createElement("div"),R=this.options;if(R.html instanceof Element?(Tn(E),E.appendChild(R.html)):E.innerHTML=R.html!==!1?R.html:"",R.bgPos){var $=q(R.bgPos);E.style.backgroundPosition=-$.x+"px "+-$.y+"px"}return this._setIconStyles(E,"icon"),E},createShadow:function(){return null}});function _b(p){return new io(p)}xo.Default=Pd;var uf=Ta.extend({options:{tileSize:256,opacity:1,updateWhenIdle:bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){v(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),Dt(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Er(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Tr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof B?p:new B(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var E=this.getPane().children,R=-p(-1/0,1/0),$=0,K=E.length,ie;$<K;$++)ie=E[$].style.zIndex,E[$]!==this._container&&ie&&(R=p(R,+ie));isFinite(R)&&(this.options.zIndex=R+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!bt.ielt9){Ln(this._container,this.options.opacity);var p=+new Date,E=!1,R=!1;for(var $ in this._tiles){var K=this._tiles[$];if(!(!K.current||!K.loaded)){var ie=Math.min(1,(p-K.loaded)/200);Ln(K.el,ie),ie<1?E=!0:(K.active?R=!0:this._onOpaqueTile(K),K.active=!0)}}R&&!this._noPrune&&this._pruneTiles(),E&&(U(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=tn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,E=this.options.maxZoom;if(p!==void 0){for(var R in this._levels)R=Number(R),this._levels[R].el.children.length||R===p?(this._levels[R].el.style.zIndex=E-Math.abs(p-R),this._onUpdateLevel(R)):(Dt(this._levels[R].el),this._removeTilesAtZoom(R),this._onRemoveLevel(R),delete this._levels[R]);var $=this._levels[p],K=this._map;return $||($=this._levels[p]={},$.el=tn("div","leaflet-tile-container leaflet-zoom-animated",this._container),$.el.style.zIndex=E,$.origin=K.project(K.unproject(K.getPixelOrigin()),p).round(),$.zoom=p,this._setZoomTransform($,K.getCenter(),K.getZoom()),f($.el.offsetWidth),this._onCreateLevel($)),this._level=$,$}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var p,E,R=this._map.getZoom();if(R>this.options.maxZoom||R<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)E=this._tiles[p],E.retain=E.current;for(p in this._tiles)if(E=this._tiles[p],E.current&&!E.active){var $=E.coords;this._retainParent($.x,$.y,$.z,$.z-5)||this._retainChildren($.x,$.y,$.z,$.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var E in this._tiles)this._tiles[E].coords.z===p&&this._removeTile(E)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)Dt(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,E,R,$){var K=Math.floor(p/2),ie=Math.floor(E/2),Me=R-1,Ge=new B(+K,+ie);Ge.z=+Me;var Qe=this._tileCoordsToKey(Ge),xt=this._tiles[Qe];return xt&&xt.active?(xt.retain=!0,!0):(xt&&xt.loaded&&(xt.retain=!0),Me>$?this._retainParent(K,ie,Me,$):!1)},_retainChildren:function(p,E,R,$){for(var K=2*p;K<2*p+2;K++)for(var ie=2*E;ie<2*E+2;ie++){var Me=new B(K,ie);Me.z=R+1;var Ge=this._tileCoordsToKey(Me),Qe=this._tiles[Ge];if(Qe&&Qe.active){Qe.retain=!0;continue}else Qe&&Qe.loaded&&(Qe.retain=!0);R+1<$&&this._retainChildren(K,ie,R+1,$)}},_resetView:function(p){var E=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),E,E)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var E=this.options;return E.minNativeZoom!==void 0&&p<E.minNativeZoom?E.minNativeZoom:E.maxNativeZoom!==void 0&&E.maxNativeZoom<p?E.maxNativeZoom:p},_setView:function(p,E,R,$){var K=Math.round(E);this.options.maxZoom!==void 0&&K>this.options.maxZoom||this.options.minZoom!==void 0&&K<this.options.minZoom?K=void 0:K=this._clampZoom(K);var ie=this.options.updateWhenZooming&&K!==this._tileZoom;(!$||ie)&&(this._tileZoom=K,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),K!==void 0&&this._update(p),R||this._pruneTiles(),this._noPrune=!!R),this._setZoomTransforms(p,E)},_setZoomTransforms:function(p,E){for(var R in this._levels)this._setZoomTransform(this._levels[R],p,E)},_setZoomTransform:function(p,E,R){var $=this._map.getZoomScale(R,p.zoom),K=p.origin.multiplyBy($).subtract(this._map._getNewPixelOrigin(E,R)).round();bt.any3d?Ts(p.el,K,$):zr(p.el,K)},_resetGrid:function(){var p=this._map,E=p.options.crs,R=this._tileSize=this.getTileSize(),$=this._tileZoom,K=this._map.getPixelWorldBounds(this._tileZoom);K&&(this._globalTileRange=this._pxBoundsToTileRange(K)),this._wrapX=E.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,E.wrapLng[0]],$).x/R.x),Math.ceil(p.project([0,E.wrapLng[1]],$).x/R.y)],this._wrapY=E.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([E.wrapLat[0],0],$).y/R.x),Math.ceil(p.project([E.wrapLat[1],0],$).y/R.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var E=this._map,R=E._animatingZoom?Math.max(E._animateToZoom,E.getZoom()):E.getZoom(),$=E.getZoomScale(R,this._tileZoom),K=E.project(p,this._tileZoom).floor(),ie=E.getSize().divideBy($*2);return new te(K.subtract(ie),K.add(ie))},_update:function(p){var E=this._map;if(E){var R=this._clampZoom(E.getZoom());if(p===void 0&&(p=E.getCenter()),this._tileZoom!==void 0){var $=this._getTiledPixelBounds(p),K=this._pxBoundsToTileRange($),ie=K.getCenter(),Me=[],Ge=this.options.keepBuffer,Qe=new te(K.getBottomLeft().subtract([Ge,-Ge]),K.getTopRight().add([Ge,-Ge]));if(!(isFinite(K.min.x)&&isFinite(K.min.y)&&isFinite(K.max.x)&&isFinite(K.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xt in this._tiles){var kt=this._tiles[xt].coords;(kt.z!==this._tileZoom||!Qe.contains(new B(kt.x,kt.y)))&&(this._tiles[xt].current=!1)}if(Math.abs(R-this._tileZoom)>1){this._setView(p,R);return}for(var cn=K.min.y;cn<=K.max.y;cn++)for(var kn=K.min.x;kn<=K.max.x;kn++){var No=new B(kn,cn);if(No.z=this._tileZoom,!!this._isValidTile(No)){var vi=this._tiles[this._tileCoordsToKey(No)];vi?vi.current=!0:Me.push(No)}}if(Me.sort(function(Jo,ff){return Jo.distanceTo(ie)-ff.distanceTo(ie)}),Me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zo=document.createDocumentFragment();for(kn=0;kn<Me.length;kn++)this._addTile(Me[kn],Zo);this._level.el.appendChild(Zo)}}}},_isValidTile:function(p){var E=this._map.options.crs;if(!E.infinite){var R=this._globalTileRange;if(!E.wrapLng&&(p.x<R.min.x||p.x>R.max.x)||!E.wrapLat&&(p.y<R.min.y||p.y>R.max.y))return!1}if(!this.options.bounds)return!0;var $=this._tileCoordsToBounds(p);return re(this.options.bounds).overlaps($)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var E=this._map,R=this.getTileSize(),$=p.scaleBy(R),K=$.add(R),ie=E.unproject($,p.z),Me=E.unproject(K,p.z);return[ie,Me]},_tileCoordsToBounds:function(p){var E=this._tileCoordsToNwSe(p),R=new J(E[0],E[1]);return this.options.noWrap||(R=this._map.wrapLatLngBounds(R)),R},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var E=p.split(":"),R=new B(+E[0],+E[1]);return R.z=+E[2],R},_removeTile:function(p){var E=this._tiles[p];E&&(Dt(E.el),delete this._tiles[p],this.fire("tileunload",{tile:E.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){Lt(p,"leaflet-tile");var E=this.getTileSize();p.style.width=E.x+"px",p.style.height=E.y+"px",p.onselectstart=f,p.onmousemove=f,bt.ielt9&&this.options.opacity<1&&Ln(p,this.options.opacity)},_addTile:function(p,E){var R=this._getTilePos(p),$=this._tileCoordsToKey(p),K=this.createTile(this._wrapCoords(p),a(this._tileReady,this,p));this._initTile(K),this.createTile.length<2&&D(a(this._tileReady,this,p,null,K)),zr(K,R),this._tiles[$]={el:K,coords:p,current:!0},E.appendChild(K),this.fire("tileloadstart",{tile:K,coords:p})},_tileReady:function(p,E,R){E&&this.fire("tileerror",{error:E,tile:R,coords:p});var $=this._tileCoordsToKey(p);R=this._tiles[$],R&&(R.loaded=+new Date,this._map._fadeAnimated?(Ln(R.el,0),U(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(R.active=!0,this._pruneTiles()),E||(Lt(R.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:R.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),bt.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var E=new B(this._wrapX?u(p.x,this._wrapX):p.x,this._wrapY?u(p.y,this._wrapY):p.y);return E.z=p.z,E},_pxBoundsToTileRange:function(p){var E=this.getTileSize();return new te(p.min.unscaleBy(E).floor(),p.max.unscaleBy(E).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function wb(p){return new uf(p)}var Ko=uf.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,E){this._url=p,E=v(this,E),E.detectRetina&&bt.retina&&E.maxZoom>0?(E.tileSize=Math.floor(E.tileSize/2),E.zoomReverse?(E.zoomOffset--,E.minZoom=Math.min(E.maxZoom,E.minZoom+1)):(E.zoomOffset++,E.maxZoom=Math.max(E.minZoom,E.maxZoom-1)),E.minZoom=Math.max(0,E.minZoom)):E.zoomReverse?E.minZoom=Math.min(E.maxZoom,E.minZoom):E.maxZoom=Math.max(E.minZoom,E.maxZoom),typeof E.subdomains=="string"&&(E.subdomains=E.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,E){return this._url===p&&E===void 0&&(E=!0),this._url=p,E||this.redraw(),this},createTile:function(p,E){var R=document.createElement("img");return hn(R,"load",a(this._tileOnLoad,this,E,R)),hn(R,"error",a(this._tileOnError,this,E,R)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(R.referrerPolicy=this.options.referrerPolicy),R.alt="",R.src=this.getTileUrl(p),R},getTileUrl:function(p){var E={r:bt.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var R=this._globalTileRange.max.y-p.y;this.options.tms&&(E.y=R),E["-y"]=R}return b(this._url,i(E,this.options))},_tileOnLoad:function(p,E){bt.ielt9?setTimeout(a(p,this,null,E),0):p(null,E)},_tileOnError:function(p,E,R){var $=this.options.errorTileUrl;$&&E.getAttribute("src")!==$&&(E.src=$),p(R,E)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,E=this.options.maxZoom,R=this.options.zoomReverse,$=this.options.zoomOffset;return R&&(p=E-p),p+$},_getSubdomain:function(p){var E=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[E]},_abortLoading:function(){var p,E;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(E=this._tiles[p].el,E.onload=f,E.onerror=f,!E.complete)){E.src=T;var R=this._tiles[p].coords;Dt(E),delete this._tiles[p],this.fire("tileabort",{tile:E,coords:R})}},_removeTile:function(p){var E=this._tiles[p];if(E)return E.el.setAttribute("src",T),uf.prototype._removeTile.call(this,p)},_tileReady:function(p,E,R){if(!(!this._map||R&&R.getAttribute("src")===T))return uf.prototype._tileReady.call(this,p,E,R)}});function Ps(p,E){return new Ko(p,E)}var Jc=Ko.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,E){this._url=p;var R=i({},this.defaultWmsParams);for(var $ in E)$ in this.options||(R[$]=E[$]);E=v(this,E);var K=E.detectRetina&&bt.retina?2:1,ie=this.getTileSize();R.width=ie.x*K,R.height=ie.y*K,this.wmsParams=R},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var E=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[E]=this._crs.code,Ko.prototype.onAdd.call(this,p)},getTileUrl:function(p){var E=this._tileCoordsToNwSe(p),R=this._crs,$=Y(R.project(E[0]),R.project(E[1])),K=$.min,ie=$.max,Me=(this._wmsVersion>=1.3&&this._crs===vb?[K.y,K.x,ie.y,ie.x]:[K.x,K.y,ie.x,ie.y]).join(","),Ge=Ko.prototype.getTileUrl.call(this,p);return Ge+y(this.wmsParams,Ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Me},setParams:function(p,E){return i(this.wmsParams,p),E||this.redraw(),this}});function bv(p,E){return new Jc(p,E)}Ko.WMS=Jc,Ps.wms=bv;var rs=Ta.extend({options:{padding:.1},initialize:function(p){v(this,p),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Lt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,E){var R=this._map.getZoomScale(E,this._zoom),$=this._map.getSize().multiplyBy(.5+this.options.padding),K=this._map.project(this._center,E),ie=$.multiplyBy(-R).add(K).subtract(this._map._getNewPixelOrigin(p,E));bt.any3d?Ts(this._container,ie,R):zr(this._container,ie)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,E=this._map.getSize(),R=this._map.containerPointToLayerPoint(E.multiplyBy(-p)).round();this._bounds=new te(R,R.add(E.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sb=rs.extend({options:{tolerance:0},getEvents:function(){var p=rs.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");hn(p,"mousemove",this._onMouseMove,this),hn(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),hn(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Dt(this._container),pr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var E in this._layers)p=this._layers[E],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rs.prototype._update.call(this);var p=this._bounds,E=this._container,R=p.getSize(),$=bt.retina?2:1;zr(E,p.min),E.width=$*R.x,E.height=$*R.y,E.style.width=R.x+"px",E.style.height=R.y+"px",bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){rs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[l(p)]=p;var E=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=E),this._drawLast=E,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var E=p._order,R=E.next,$=E.prev;R?R.prev=$:this._drawLast=$,$?$.next=R:this._drawFirst=R,delete p._order,delete this._layers[l(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var E=p.options.dashArray.split(/[, ]+/),R=[],$,K;for(K=0;K<E.length;K++){if($=Number(E[K]),isNaN($))return;R.push($)}p.options._dashArray=R}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var E=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(p._pxBounds.min.subtract([E,E])),this._redrawBounds.extend(p._pxBounds.max.add([E,E]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var E=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,E.x,E.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,E=this._redrawBounds;if(this._ctx.save(),E){var R=E.getSize();this._ctx.beginPath(),this._ctx.rect(E.min.x,E.min.y,R.x,R.y),this._ctx.clip()}this._drawing=!0;for(var $=this._drawFirst;$;$=$.next)p=$.layer,(!E||p._pxBounds&&p._pxBounds.intersects(E))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,E){if(this._drawing){var R,$,K,ie,Me=p._parts,Ge=Me.length,Qe=this._ctx;if(Ge){for(Qe.beginPath(),R=0;R<Ge;R++){for($=0,K=Me[R].length;$<K;$++)ie=Me[R][$],Qe[$?"lineTo":"moveTo"](ie.x,ie.y);E&&Qe.closePath()}this._fillStroke(Qe,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var E=p._point,R=this._ctx,$=Math.max(Math.round(p._radius),1),K=(Math.max(Math.round(p._radiusY),1)||$)/$;K!==1&&(R.save(),R.scale(1,K)),R.beginPath(),R.arc(E.x,E.y/K,$,0,Math.PI*2,!1),K!==1&&R.restore(),this._fillStroke(R,p)}},_fillStroke:function(p,E){var R=E.options;R.fill&&(p.globalAlpha=R.fillOpacity,p.fillStyle=R.fillColor||R.color,p.fill(R.fillRule||"evenodd")),R.stroke&&R.weight!==0&&(p.setLineDash&&p.setLineDash(E.options&&E.options._dashArray||[]),p.globalAlpha=R.opacity,p.lineWidth=R.weight,p.strokeStyle=R.color,p.lineCap=R.lineCap,p.lineJoin=R.lineJoin,p.stroke())},_onClick:function(p){for(var E=this._map.mouseEventToLayerPoint(p),R,$,K=this._drawFirst;K;K=K.next)R=K.layer,R.options.interactive&&R._containsPoint(E)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(R))&&($=R);this._fireEvent($?[$]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var E=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,E)}},_handleMouseOut:function(p){var E=this._hoveredLayer;E&&(pn(this._container,"leaflet-interactive"),this._fireEvent([E],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,E){if(!this._mouseHoverThrottled){for(var R,$,K=this._drawFirst;K;K=K.next)R=K.layer,R.options.interactive&&R._containsPoint(E)&&($=R);$!==this._hoveredLayer&&(this._handleMouseOut(p),$&&(Lt(this._container,"leaflet-interactive"),this._fireEvent([$],p,"mouseover"),this._hoveredLayer=$)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,E,R){this._map._fireDOMEvent(E,R||E.type,p)},_bringToFront:function(p){var E=p._order;if(E){var R=E.next,$=E.prev;if(R)R.prev=$;else return;$?$.next=R:R&&(this._drawFirst=R),E.prev=this._drawLast,this._drawLast.next=E,E.next=null,this._drawLast=E,this._requestRedraw(p)}},_bringToBack:function(p){var E=p._order;if(E){var R=E.next,$=E.prev;if($)$.next=R;else return;R?R.prev=$:$&&(this._drawLast=$),E.prev=null,E.next=this._drawFirst,this._drawFirst.prev=E,this._drawFirst=E,this._requestRedraw(p)}}});function Mb(p){return bt.canvas?new Sb(p):null}var Id=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),KM={_initContainer:function(){this._container=tn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rs.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var E=p._container=Id("shape");Lt(E,"leaflet-vml-shape "+(this.options.className||"")),E.coordsize="1 1",p._path=Id("path"),E.appendChild(p._path),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){var E=p._container;this._container.appendChild(E),p.options.interactive&&p.addInteractiveTarget(E)},_removePath:function(p){var E=p._container;Dt(E),p.removeInteractiveTarget(E),delete this._layers[l(p)]},_updateStyle:function(p){var E=p._stroke,R=p._fill,$=p.options,K=p._container;K.stroked=!!$.stroke,K.filled=!!$.fill,$.stroke?(E||(E=p._stroke=Id("stroke")),K.appendChild(E),E.weight=$.weight+"px",E.color=$.color,E.opacity=$.opacity,$.dashArray?E.dashStyle=x($.dashArray)?$.dashArray.join(" "):$.dashArray.replace(/( *, *)/g," "):E.dashStyle="",E.endcap=$.lineCap.replace("butt","flat"),E.joinstyle=$.lineJoin):E&&(K.removeChild(E),p._stroke=null),$.fill?(R||(R=p._fill=Id("fill")),K.appendChild(R),R.color=$.fillColor||$.color,R.opacity=$.fillOpacity):R&&(K.removeChild(R),p._fill=null)},_updateCircle:function(p){var E=p._point.round(),R=Math.round(p._radius),$=Math.round(p._radiusY||R);this._setPath(p,p._empty()?"M0 0":"AL "+E.x+","+E.y+" "+R+","+$+" 0,"+65535*360)},_setPath:function(p,E){p._path.v=E},_bringToFront:function(p){Er(p._container)},_bringToBack:function(p){Tr(p._container)}},Hp=bt.vml?Id:be,Dd=rs.extend({_initContainer:function(){this._container=Hp("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hp("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dt(this._container),pr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rs.prototype._update.call(this);var p=this._bounds,E=p.getSize(),R=this._container;(!this._svgSize||!this._svgSize.equals(E))&&(this._svgSize=E,R.setAttribute("width",E.x),R.setAttribute("height",E.y)),zr(R,p.min),R.setAttribute("viewBox",[p.min.x,p.min.y,E.x,E.y].join(" ")),this.fire("update")}},_initPath:function(p){var E=p._path=Hp("path");p.options.className&&Lt(E,p.options.className),p.options.interactive&&Lt(E,"leaflet-interactive"),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){Dt(p._path),p.removeInteractiveTarget(p._path),delete this._layers[l(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var E=p._path,R=p.options;E&&(R.stroke?(E.setAttribute("stroke",R.color),E.setAttribute("stroke-opacity",R.opacity),E.setAttribute("stroke-width",R.weight),E.setAttribute("stroke-linecap",R.lineCap),E.setAttribute("stroke-linejoin",R.lineJoin),R.dashArray?E.setAttribute("stroke-dasharray",R.dashArray):E.removeAttribute("stroke-dasharray"),R.dashOffset?E.setAttribute("stroke-dashoffset",R.dashOffset):E.removeAttribute("stroke-dashoffset")):E.setAttribute("stroke","none"),R.fill?(E.setAttribute("fill",R.fillColor||R.color),E.setAttribute("fill-opacity",R.fillOpacity),E.setAttribute("fill-rule",R.fillRule||"evenodd")):E.setAttribute("fill","none"))},_updatePoly:function(p,E){this._setPath(p,_e(p._parts,E))},_updateCircle:function(p){var E=p._point,R=Math.max(Math.round(p._radius),1),$=Math.max(Math.round(p._radiusY),1)||R,K="a"+R+","+$+" 0 1,0 ",ie=p._empty()?"M0 0":"M"+(E.x-R)+","+E.y+K+R*2+",0 "+K+-R*2+",0 ";this._setPath(p,ie)},_setPath:function(p,E){p._path.setAttribute("d",E)},_bringToFront:function(p){Er(p._path)},_bringToBack:function(p){Tr(p._path)}});bt.vml&&Dd.include(KM);function _v(p){return bt.svg||bt.vml?new Dd(p):null}ln.include({getRenderer:function(p){var E=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return E||(E=this._renderer=this._createRenderer()),this.hasLayer(E)||this.addLayer(E),E},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var E=this._paneRenderers[p];return E===void 0&&(E=this._createRenderer({pane:p}),this._paneRenderers[p]=E),E},_createRenderer:function(p){return this.options.preferCanvas&&Mb(p)||_v(p)}});var jd=Cs.extend({initialize:function(p,E){Cs.prototype.initialize.call(this,this._boundsToLatLngs(p),E)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=re(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function ZM(p,E){return new jd(p,E)}Dd.create=Hp,Dd.pointsToPath=_e,Ca.geometryToLayer=ko,Ca.coordsToLatLng=Kc,Ca.coordsToLatLngs=Pa,Ca.latLngToCoords=Up,Ca.latLngsToCoords=nc,Ca.getFeature=lf,Ca.asFeature=Ld,ln.mergeOptions({boxZoom:!0});var Gp=si.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){hn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pi(),Np(),this._startPoint=this._map.mouseEventToContainerPoint(p),hn(document,{contextmenu:Kl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=tn("div","leaflet-zoom-box",this._container),Lt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var E=new te(this._point,this._startPoint),R=E.getSize();zr(this._box,E.min),this._box.style.width=R.x+"px",this._box.style.height=R.y+"px"},_finish:function(){this._moved&&(Dt(this._box),pn(this._container,"leaflet-crosshair")),Ja(),ef(),pr(document,{contextmenu:Kl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var E=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(E).fire("boxzoomend",{boxZoomBounds:E})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ln.addInitHook("addHandler","boxZoom",Gp),ln.mergeOptions({doubleClickZoom:!0});var Xp=si.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var E=this._map,R=E.getZoom(),$=E.options.zoomDelta,K=p.originalEvent.shiftKey?R-$:R+$;E.options.doubleClickZoom==="center"?E.setZoom(K):E.setZoomAround(p.containerPoint,K)}});ln.addInitHook("addHandler","doubleClickZoom",Xp),ln.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wv=si.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new al(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}Lt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pn(this._map._container,"leaflet-grab"),pn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var E=re(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(E.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(E.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var E=this._lastTime=+new Date,R=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(R),this._times.push(E),this._prunePositions(E)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),E=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=E.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,E){return p-(p-E)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),E=this._offsetLimit;p.x<E.min.x&&(p.x=this._viscousLimit(p.x,E.min.x)),p.y<E.min.y&&(p.y=this._viscousLimit(p.y,E.min.y)),p.x>E.max.x&&(p.x=this._viscousLimit(p.x,E.max.x)),p.y>E.max.y&&(p.y=this._viscousLimit(p.y,E.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,E=Math.round(p/2),R=this._initialWorldOffset,$=this._draggable._newPos.x,K=($-E+R)%p+E-R,ie=($+E+R)%p-E-R,Me=Math.abs(K+R)<Math.abs(ie+R)?K:ie;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Me},_onDragEnd:function(p){var E=this._map,R=E.options,$=!R.inertia||p.noInertia||this._times.length<2;if(E.fire("dragend",p),$)E.fire("moveend");else{this._prunePositions(+new Date);var K=this._lastPos.subtract(this._positions[0]),ie=(this._lastTime-this._times[0])/1e3,Me=R.easeLinearity,Ge=K.multiplyBy(Me/ie),Qe=Ge.distanceTo([0,0]),xt=Math.min(R.inertiaMaxSpeed,Qe),kt=Ge.multiplyBy(xt/Qe),cn=xt/(R.inertiaDeceleration*Me),kn=kt.multiplyBy(-cn/2).round();!kn.x&&!kn.y?E.fire("moveend"):(kn=E._limitOffset(kn,E.options.maxBounds),D(function(){E.panBy(kn,{duration:cn,easeLinearity:Me,noMoveStart:!0,animate:!0})}))}}});ln.addInitHook("addHandler","dragging",wv),ln.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Bd=si.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),hn(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,E=document.documentElement,R=p.scrollTop||E.scrollTop,$=p.scrollLeft||E.scrollLeft;this._map._container.focus(),window.scrollTo($,R)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var E=this._panKeys={},R=this.keyCodes,$,K;for($=0,K=R.left.length;$<K;$++)E[R.left[$]]=[-1*p,0];for($=0,K=R.right.length;$<K;$++)E[R.right[$]]=[p,0];for($=0,K=R.down.length;$<K;$++)E[R.down[$]]=[0,p];for($=0,K=R.up.length;$<K;$++)E[R.up[$]]=[0,-1*p]},_setZoomDelta:function(p){var E=this._zoomKeys={},R=this.keyCodes,$,K;for($=0,K=R.zoomIn.length;$<K;$++)E[R.zoomIn[$]]=p;for($=0,K=R.zoomOut.length;$<K;$++)E[R.zoomOut[$]]=-p},_addHooks:function(){hn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var E=p.keyCode,R=this._map,$;if(E in this._panKeys){if(!R._panAnim||!R._panAnim._inProgress)if($=this._panKeys[E],p.shiftKey&&($=q($).multiplyBy(3)),R.options.maxBounds&&($=R._limitOffset(q($),R.options.maxBounds)),R.options.worldCopyJump){var K=R.wrapLatLng(R.unproject(R.project(R.getCenter()).add($)));R.panTo(K)}else R.panBy($)}else if(E in this._zoomKeys)R.setZoom(R.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[E]);else if(E===27&&R._popup&&R._popup.options.closeOnEscapeKey)R.closePopup();else return;Kl(p)}}});ln.addInitHook("addHandler","keyboard",Bd),ln.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Eb=si.extend({addHooks:function(){hn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var E=Vt(p),R=this._map.options.wheelDebounceTime;this._delta+=E,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var $=Math.max(R-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),$),Kl(p)},_performZoom:function(){var p=this._map,E=p.getZoom(),R=this._map.options.zoomSnap||0;p._stop();var $=this._delta/(this._map.options.wheelPxPerZoomLevel*4),K=4*Math.log(2/(1+Math.exp(-Math.abs($))))/Math.LN2,ie=R?Math.ceil(K/R)*R:K,Me=p._limitZoom(E+(this._delta>0?ie:-ie))-E;this._delta=0,this._startTime=null,Me&&(p.options.scrollWheelZoom==="center"?p.setZoom(E+Me):p.setZoomAround(this._lastMousePos,E+Me))}});ln.addInitHook("addHandler","scrollWheelZoom",Eb);var JM=600;ln.mergeOptions({tapHold:bt.touchNative&&bt.safari&&bt.mobile,tapTolerance:15});var Tb=si.extend({addHooks:function(){hn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var E=p.touches[0];this._startPos=this._newPos=new B(E.clientX,E.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(hn(document,"touchend",Ri),hn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",E))},this),JM),hn(document,"touchend touchcancel contextmenu",this._cancel,this),hn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){pr(document,"touchend",Ri),pr(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),pr(document,"touchend touchcancel contextmenu",this._cancel,this),pr(document,"touchmove",this._onMove,this)},_onMove:function(p){var E=p.touches[0];this._newPos=new B(E.clientX,E.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,E){var R=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:E.screenX,screenY:E.screenY,clientX:E.clientX,clientY:E.clientY});R._simulated=!0,E.target.dispatchEvent(R)}});ln.addInitHook("addHandler","tapHold",Tb),ln.mergeOptions({touchZoom:bt.touch,bounceAtZoomLimits:!0});var Ab=si.extend({addHooks:function(){Lt(this._map._container,"leaflet-touch-zoom"),hn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pn(this._map._container,"leaflet-touch-zoom"),pr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var E=this._map;if(!(!p.touches||p.touches.length!==2||E._animatingZoom||this._zooming)){var R=E.mouseEventToContainerPoint(p.touches[0]),$=E.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=E.getSize()._divideBy(2),this._startLatLng=E.containerPointToLatLng(this._centerPoint),E.options.touchZoom!=="center"&&(this._pinchStartLatLng=E.containerPointToLatLng(R.add($)._divideBy(2))),this._startDist=R.distanceTo($),this._startZoom=E.getZoom(),this._moved=!1,this._zooming=!0,E._stop(),hn(document,"touchmove",this._onTouchMove,this),hn(document,"touchend touchcancel",this._onTouchEnd,this),Ri(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var E=this._map,R=E.mouseEventToContainerPoint(p.touches[0]),$=E.mouseEventToContainerPoint(p.touches[1]),K=R.distanceTo($)/this._startDist;if(this._zoom=E.getScaleZoom(K,this._startZoom),!E.options.bounceAtZoomLimits&&(this._zoom<E.getMinZoom()&&K<1||this._zoom>E.getMaxZoom()&&K>1)&&(this._zoom=E._limitZoom(this._zoom)),E.options.touchZoom==="center"){if(this._center=this._startLatLng,K===1)return}else{var ie=R._add($)._divideBy(2)._subtract(this._centerPoint);if(K===1&&ie.x===0&&ie.y===0)return;this._center=E.unproject(E.project(this._pinchStartLatLng,this._zoom).subtract(ie),this._zoom)}this._moved||(E._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var Me=a(E._move,E,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(Me,this,!0),Ri(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),pr(document,"touchmove",this._onTouchMove,this),pr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ln.addInitHook("addHandler","touchZoom",Ab),ln.BoxZoom=Gp,ln.DoubleClickZoom=Xp,ln.Drag=wv,ln.Keyboard=Bd,ln.ScrollWheelZoom=Eb,ln.TapHold=Tb,ln.TouchZoom=Ab,n.Bounds=te,n.Browser=bt,n.CRS=fe,n.Canvas=Sb,n.Circle=sf,n.CircleMarker=tc,n.Class=z,n.Control=Wi,n.DivIcon=io,n.DivOverlay=yr,n.DomEvent=yo,n.DomUtil=Ed,n.Draggable=al,n.Evented=X,n.FeatureGroup=tr,n.GeoJSON=Ca,n.GridLayer=uf,n.Handler=si,n.Icon=xo,n.ImageOverlay=kd,n.LatLng=oe,n.LatLngBounds=J,n.Layer=Ta,n.LayerGroup=Hi,n.LineUtil=ts,n.Map=ln,n.Marker=Rd,n.Mixin=ol,n.Path=ns,n.Point=B,n.PolyUtil=mv,n.Polygon=Cs,n.Polyline=ul,n.Popup=cf,n.PosAnimation=ai,n.Projection=ec,n.Rectangle=jd,n.Renderer=rs,n.SVG=Dd,n.SVGOverlay=Gr,n.TileLayer=Ko,n.Tooltip=Zc,n.Transformation=Te,n.Util=V,n.VideoOverlay=Ra,n.bind=a,n.bounds=Y,n.canvas=Mb,n.circle=yv,n.circleMarker=xb,n.control=Vi,n.divIcon=_b,n.extend=i,n.featureGroup=Fp,n.geoJSON=Wp,n.geoJson=bb,n.gridLayer=wb,n.icon=GM,n.imageOverlay=xv,n.latLng=pe,n.latLngBounds=re,n.layerGroup=Aa,n.map=rf,n.marker=XM,n.point=q,n.polygon=YM,n.polyline=qM,n.popup=Vp,n.rectangle=ZM,n.setOptions=v,n.stamp=l,n.svg=_v,n.svgOverlay=bo,n.tileLayer=Ps,n.tooltip=w3,n.transformation=ee,n.version=r,n.videoOverlay=Nd;var Cb=window.L;n.noConflict=function(){return window.L=Cb,this},window.L=n})})(Vj,Vj.exports);var Ap=Vj.exports;const Wft=yn(Ap);function ob(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function z8(t,e){return e==null?function(r,i){const o=A.useRef();return o.current||(o.current=t(r,i)),o}:function(r,i){const o=A.useRef();o.current||(o.current=t(r,i));const a=A.useRef(r),{instance:s}=o.current;return A.useEffect(function(){a.current!==r&&(e(s,r,a.current),a.current=r)},[s,r,i]),o}}function qhe(t,e){A.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Vft(t){return function(n){const r=j8(),i=t(PL(n,r),r);return Vhe(r.map,n.attribution),B8(i.current,n.eventHandlers),qhe(i.current,r),i}}function Hft(t,e){const n=A.useRef();A.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function Gft(t){return function(n){const r=j8(),i=t(PL(n,r),r);return B8(i.current,n.eventHandlers),qhe(i.current,r),Hft(i.current,n),i}}function Xft(t,e){const n=z8(t),r=Uft(n,e);return $ft(r)}function RL(t,e){const n=z8(t,e),r=Gft(n);return zft(r)}function qft(t,e){const n=z8(t,e),r=Vft(n);return Fft(r)}function Yft(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}const Yhe=RL(function({center:e,children:n,...r},i){const o=new Ap.Circle(e,r);return ob(o,CL(i,{overlayContainer:o}))},Hhe),$8=RL(function({center:e,children:n,...r},i){const o=new Ap.CircleMarker(e,r);return ob(o,CL(i,{overlayContainer:o}))},Hhe),Kft=RL(function({data:e,...n},r){const i=new Ap.GeoJSON(e,n);return ob(i,CL(r,{overlayContainer:i}))},function(e,n,r){n.style!==r.style&&(n.style==null?e.resetStyle():e.setStyle(n.style))});function Hj(){return Hj=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hj.apply(this,arguments)}function Zft({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:o,placeholder:a,style:s,whenReady:l,zoom:c,...u},f){const[d]=A.useState({className:i,id:o,style:s}),[h,m]=A.useState(null);A.useImperativeHandle(f,()=>(h==null?void 0:h.map)??null,[h]);const v=A.useCallback(g=>{if(g!==null&&h===null){const b=new Ap.Map(g,u);n!=null&&c!=null?b.setView(n,c):t!=null&&b.fitBounds(t,e),l!=null&&b.whenReady(l),m(Bft(b))}},[]);A.useEffect(()=>()=>{h==null||h.map.remove()},[h]);const y=h?de.createElement(Xhe,{value:h},r):a??null;return de.createElement("div",Hj({},d,{ref:v}),y)}const av=A.forwardRef(Zft),Jft=RL(function({positions:e,...n},r){const i=new Ap.Polyline(e,n);return ob(i,CL(r,{overlayContainer:i}))},function(e,n,r){n.positions!==r.positions&&e.setLatLngs(n.positions)}),F8=Xft(function(e,n){const r=new Ap.Popup(e,n.overlayContainer);return ob(r,n)},function(e,n,{position:r},i){A.useEffect(function(){const{instance:a}=e;function s(c){c.popup===a&&(a.update(),i(!0))}function l(c){c.popup===a&&i(!1)}return n.map.on({popupopen:s,popupclose:l}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var u;n.map.off({popupopen:s,popupclose:l}),(u=n.overlayContainer)==null||u.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),sv=qft(function({url:e,...n},r){const i=new Ap.TileLayer(e,PL(n,r));return ob(i,r)},function(e,n,r){Yft(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),Gj={US:{lat:39.8283,lng:-98.5795,name:"United States"},GB:{lat:55.3781,lng:-3.436,name:"United Kingdom"},DE:{lat:51.1657,lng:10.4515,name:"Germany"},FR:{lat:46.2276,lng:2.2137,name:"France"},ES:{lat:40.4637,lng:-3.7492,name:"Spain"},IT:{lat:41.8719,lng:12.5674,name:"Italy"},CN:{lat:35.8617,lng:104.1954,name:"China"},JP:{lat:36.2048,lng:138.2529,name:"Japan"},IN:{lat:20.5937,lng:78.9629,name:"India"},RU:{lat:61.524,lng:105.3188,name:"Russia"},BR:{lat:-14.235,lng:-51.9253,name:"Brazil"},CA:{lat:56.1304,lng:-106.3468,name:"Canada"},AU:{lat:-25.2744,lng:133.7751,name:"Australia"},KR:{lat:35.9078,lng:127.7669,name:"South Korea"},MX:{lat:23.6345,lng:-102.5528,name:"Mexico"},NL:{lat:52.1326,lng:5.2913,name:"Netherlands"},SE:{lat:60.1282,lng:18.6435,name:"Sweden"},PL:{lat:51.9194,lng:19.1451,name:"Poland"},AR:{lat:-38.4161,lng:-63.6167,name:"Argentina"},ZA:{lat:-30.5595,lng:22.9375,name:"South Africa"}},Qft={"en.wikipedia.org":"US","de.wikipedia.org":"DE","fr.wikipedia.org":"FR","es.wikipedia.org":"ES","it.wikipedia.org":"IT","ja.wikipedia.org":"JP","zh.wikipedia.org":"CN","ru.wikipedia.org":"RU","pt.wikipedia.org":"BR","nl.wikipedia.org":"NL","pl.wikipedia.org":"PL","sv.wikipedia.org":"SE","ko.wikipedia.org":"KR"};function dd(t){try{const n=new URL(t.serverUrl).hostname,r=Qft[n]||"US",i=Gj[r];if(i){const o=(Math.random()-.5)*10,a=(Math.random()-.5)*10;return{lat:i.lat+o,lng:i.lng+a,country:i.name,countryCode:r}}}catch(e){console.warn("Failed to extract geo from event",e)}return null}function edt(t,e,n=50){const r=[];for(let i=0;i<=n;i++){const o=i/n,a=t.lat+(e.lat-t.lat)*o,s=t.lng+(e.lng-t.lng)*o,l=Math.sin(o*Math.PI)*.2;r.push([s,a+l])}return r}function tdt(t){const e={};return t.forEach(n=>{const r=dd(n);r&&(e[r.countryCode]=(e[r.countryCode]||0)+1)}),e}function ndt(t,e){const n=t/e;return n>.75?"#dc2626":n>.5?"#f97316":n>.25?"#fbbf24":"#34d399"}function rdt({markers:t}){return S.jsx(S.Fragment,{children:t.map(e=>S.jsx($8,{center:e.position,radius:8,pathOptions:{fillColor:e.event.bot?"#6366f1":"#10b981",fillOpacity:.7,color:"#fff",weight:2},children:S.jsx(F8,{children:S.jsxs("div",{className:"text-sm",children:[S.jsx("div",{className:"font-semibold",children:e.event.title}),S.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["By: ",e.event.user]}),S.jsx("div",{className:"text-xs text-muted-foreground",children:e.geo.country}),S.jsx("div",{className:"text-xs text-muted-foreground",children:e.event.timestamp.toLocaleTimeString()})]})})},e.id))})}function idt({className:t}){const{events:e}=Rr(),[n,r]=A.useState([]);return A.useEffect(()=>{const i=e.slice(0,100).map(o=>{const a=dd(o);return a?{id:o.id,position:[a.lat,a.lng],event:o,geo:a,timestamp:o.timestamp.getTime()}:null}).filter(o=>o!==null);r(i)},[e]),S.jsx("div",{className:t,children:S.jsxs(av,{center:[20,0],zoom:2,style:{height:"100%",width:"100%"},className:"rounded-lg",children:[S.jsx(sv,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),S.jsx(rdt,{markers:n})]})})}function odt({className:t}){const{events:e}=Rr(),[n,r]=A.useState([]);A.useEffect(()=>{const o=new Map;e.forEach(s=>{const l=dd(s);if(!l)return;const c=`${Math.round(l.lat)},${Math.round(l.lng)}`,u=o.get(c);u?u.count++:o.set(c,{lat:Math.round(l.lat),lng:Math.round(l.lng),count:1})});const a=Array.from(o.values()).map(s=>({lat:s.lat,lng:s.lng,intensity:s.count}));r(a)},[e]);const i=Math.max(...n.map(o=>o.intensity),1);return S.jsx("div",{className:t,children:S.jsxs(av,{center:[20,0],zoom:2,style:{height:"100%",width:"100%"},className:"rounded-lg",children:[S.jsx(sv,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),n.map((o,a)=>{const s=o.intensity/i,l=5e4*(o.intensity/i+.2);return S.jsx(Yhe,{center:[o.lat,o.lng],radius:l,pathOptions:{fillColor:"#ef4444",fillOpacity:s*.6,color:"#f97316",weight:1,opacity:s*.8}},a)})]})})}function adt({className:t}){const{events:e}=Rr(),[n,r]=A.useState([]);return A.useEffect(()=>{const i=[];for(let o=0;o<Math.min(e.length-1,50);o++){const a=dd(e[o]),s=dd(e[o+1]);if(a&&s&&a.countryCode!==s.countryCode){const l=edt(a,s,30);i.push({id:`${e[o].id}-${e[o+1].id}`,path:l,color:e[o].bot?"#818cf8":"#34d399"})}}r(i)},[e]),S.jsx("div",{className:t,children:S.jsxs(av,{center:[20,0],zoom:2,style:{height:"100%",width:"100%"},className:"rounded-lg",children:[S.jsx(sv,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png"}),n.map(i=>S.jsx(Jft,{positions:i.path,pathOptions:{color:i.color,weight:2,opacity:.6}},i.id))]})})}function sdt({className:t}){const{events:e}=Rr(),[n,r]=A.useState({}),[i,o]=A.useState(1);A.useEffect(()=>{const l=tdt(e);r(l),o(Math.max(...Object.values(l),1))},[e]);const s={type:"FeatureCollection",features:Object.entries(n).map(([l,c])=>{const u=Gj[l];return u?{type:"Feature",properties:{name:u.name,code:l,count:c},geometry:{type:"Point",coordinates:[u.lng,u.lat]}}:null}).filter(Boolean)};return S.jsx("div",{className:t,children:S.jsxs("div",{className:"p-4 bg-card rounded-lg border",children:[S.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Top Countries by Edit Volume"}),S.jsx("div",{className:"space-y-2 mb-4",children:Object.entries(n).sort(([,l],[,c])=>c-l).slice(0,5).map(([l,c])=>{const u=Gj[l];return u?S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{children:u.name}),S.jsx("span",{className:"font-mono text-primary",children:c})]},l):null})}),S.jsxs(av,{center:[20,0],zoom:2,style:{height:"400px",width:"100%"},className:"rounded-lg",children:[S.jsx(sv,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),S.jsx(Kft,{data:s,pointToLayer:(l,c)=>{const u=l.properties.count,f=10+u/i*40;return Wft.circleMarker(c,{radius:f,fillColor:ndt(u,i),fillOpacity:.7,color:"#fff",weight:2})},onEachFeature:(l,c)=>{c.bindPopup(`
                <b>${l.properties.name}</b><br/>
                Edits: ${l.properties.count}
              `)}})]})]})})}function ldt({className:t}){const{events:e}=Rr(),[n,r]=A.useState(!1),[i,o]=A.useState(0),[a,s]=A.useState({start:0,end:Date.now()}),l=A.useRef();A.useEffect(()=>{if(e.length>0){const f=e.map(d=>d.timestamp.getTime());s({start:Math.min(...f),end:Math.max(...f)}),o(Math.min(...f))}},[e]),A.useEffect(()=>(n?l.current=setInterval(()=>{o(f=>{const d=f+6e4;return d>a.end?(r(!1),a.start):d})},100):l.current&&clearInterval(l.current),()=>{l.current&&clearInterval(l.current)}),[n,a]);const u=e.filter(f=>f.timestamp.getTime()<=i&&f.timestamp.getTime()>=i-1e3*60*5).map(f=>{const d=dd(f);return d?{event:f,geo:d,position:[d.lat,d.lng]}:null}).filter(Boolean);return S.jsx("div",{className:t,children:S.jsxs("div",{className:"p-4 bg-card rounded-lg border",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("h3",{className:"text-sm font-semibold",children:"24-Hour Time-lapse"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(i).toLocaleTimeString()})]}),S.jsxs(av,{center:[20,0],zoom:2,style:{height:"400px",width:"100%"},className:"rounded-lg mb-3",children:[S.jsx(sv,{attribution:" OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),u.map((f,d)=>f&&S.jsx($8,{center:f.position,radius:6,pathOptions:{fillColor:"#3b82f6",fillOpacity:.8,color:"#fff",weight:2}},d))]}),S.jsxs("div",{className:"space-y-3",children:[S.jsx(gP,{value:[i],min:a.start,max:a.end,step:1e3*60,onValueChange:([f])=>o(f),className:"w-full"}),S.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[S.jsx(br,{variant:"outline",size:"sm",onClick:()=>o(a.start),children:S.jsx(J1e,{className:"w-4 h-4"})}),S.jsx(br,{variant:"default",size:"sm",onClick:()=>r(!n),children:n?S.jsx(q1e,{className:"w-4 h-4"}):S.jsx(Y1e,{className:"w-4 h-4"})})]})]})]})})}const BK={en:"#3b82f6",de:"#eab308",fr:"#8b5cf6",es:"#f97316",it:"#10b981",ja:"#ec4899",zh:"#ef4444",ru:"#14b8a6",pt:"#06b6d4"};function cdt({className:t}){const{events:e}=Rr(),[n,r]=A.useState({}),[i,o]=A.useState([]);return A.useEffect(()=>{const a={},s=[];e.slice(0,200).forEach(l=>{const c=dd(l);if(!c)return;const u=l.wiki.substring(0,2);a[u]=(a[u]||0)+1,s.push({position:[c.lat,c.lng],lang:u,event:l})}),r(a),o(s)},[e]),S.jsx("div",{className:t,children:S.jsxs("div",{className:"p-4 bg-card rounded-lg border",children:[S.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Wiki Language Clusters"}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(n).sort(([,a],[,s])=>s-a).slice(0,8).map(([a,s])=>S.jsxs(vr,{variant:"secondary",style:{backgroundColor:BK[a]+"33"},children:[a.toUpperCase(),": ",s]},a))}),S.jsxs(av,{center:[20,0],zoom:2,style:{height:"400px",width:"100%"},className:"rounded-lg",children:[S.jsx(sv,{attribution:" OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.map((a,s)=>S.jsx($8,{center:a.position,radius:5,pathOptions:{fillColor:BK[a.lang]||"#gray",fillOpacity:.7,color:"#fff",weight:1},children:S.jsx(F8,{children:S.jsxs("div",{className:"text-xs",children:[S.jsx("div",{className:"font-semibold",children:a.event.title}),S.jsxs("div",{className:"text-muted-foreground",children:["Language: ",a.lang.toUpperCase()]})]})})},s))]})]})})}function udt({className:t}){const{events:e}=Rr(),[n,r]=A.useState([]);return A.useEffect(()=>{const i=new Map;e.forEach(a=>{const s=dd(a);if(!s)return;const l=i.get(a.title);l?(l.edits++,l.editors.add(a.user)):i.set(a.title,{edits:1,editors:new Set([a.user]),geo:s})});const o=[];i.forEach((a,s)=>{a.edits>=3&&a.editors.size>=2&&o.push({title:s,position:[a.geo.lat,a.geo.lng],edits:a.edits,editors:a.editors})}),r(o.slice(0,20))},[e]),S.jsx("div",{className:t,children:S.jsxs("div",{className:"p-4 bg-card rounded-lg border",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("h3",{className:"text-sm font-semibold",children:"Edit Conflict Zones"}),S.jsxs(vr,{variant:"destructive",children:[n.length," detected"]})]}),S.jsxs(av,{center:[20,0],zoom:2,style:{height:"400px",width:"100%"},className:"rounded-lg",children:[S.jsx(sv,{attribution:" OpenStreetMap",url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),n.map((i,o)=>S.jsx(Yhe,{center:i.position,radius:1e5,pathOptions:{fillColor:"#ef4444",fillOpacity:.4,color:"#fca5a5",weight:2},children:S.jsx(F8,{children:S.jsxs("div",{className:"text-sm",children:[S.jsx("div",{className:"font-semibold text-red-500",children:" Conflict Zone"}),S.jsx("div",{className:"mt-1",children:i.title}),S.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[i.edits," edits by ",i.editors.size," editors"]})]})})},o))]})]})})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const wM="160",_m={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},wm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Khe=0,Xj=1,Zhe=2,fdt=3,Jhe=0,OL=1,x1=2,pc=3,hd=0,Ga=1,fu=2,ddt=2,Zf=0,ag=1,qj=2,Yj=3,Kj=4,Qhe=5,vh=100,epe=101,tpe=102,Zj=103,Jj=104,npe=200,rpe=201,ipe=202,ope=203,vP=204,yP=205,ape=206,spe=207,lpe=208,cpe=209,upe=210,fpe=211,dpe=212,hpe=213,ppe=214,mpe=0,gpe=1,vpe=2,rS=3,ype=4,xpe=5,bpe=6,_pe=7,SM=0,wpe=1,Spe=2,Cu=0,Mpe=1,Epe=2,Tpe=3,U8=4,Ape=5,Cpe=6,Qj="attached",Ppe="detached",LL=300,pd=301,dp=302,iS=303,oS=304,ab=306,aS=1e3,pa=1001,sS=1002,Ii=1003,xP=1004,hdt=1004,b1=1005,pdt=1005,ji=1006,W8=1007,mdt=1007,hp=1008,gdt=1008,Pu=1009,Rpe=1010,Ope=1011,kL=1012,V8=1013,zf=1014,Tc=1015,lx=1016,H8=1017,G8=1018,Xh=1020,Lpe=1021,za=1023,kpe=1024,Npe=1025,qh=1026,Ig=1027,Ipe=1028,X8=1029,Dpe=1030,q8=1031,Y8=1033,tA=33776,nA=33777,rA=33778,iA=33779,eB=35840,tB=35841,nB=35842,rB=35843,K8=36196,iB=37492,oB=37496,aB=37808,sB=37809,lB=37810,cB=37811,uB=37812,fB=37813,dB=37814,hB=37815,pB=37816,mB=37817,gB=37818,vB=37819,yB=37820,xB=37821,oA=36492,bB=36494,_B=36495,jpe=36283,wB=36284,SB=36285,MB=36286,Bpe=2200,zpe=2201,$pe=2202,lS=2300,cS=2301,aA=2302,Fm=2400,Um=2401,uS=2402,NL=2500,Z8=2501,vdt=0,ydt=1,xdt=2,J8=3e3,Yh=3001,Fpe=3200,Upe=3201,Cp=0,Wpe=1,Fs="",fo="srgb",Uu="srgb-linear",IL="display-p3",MM="display-p3-linear",fS="linear",Ur="srgb",dS="rec709",hS="p3",bdt=0,Sm=7680,_dt=7681,wdt=7682,Sdt=7683,Mdt=34055,Edt=34056,Tdt=5386,Adt=512,Cdt=513,Pdt=514,Rdt=515,Odt=516,Ldt=517,kdt=518,EB=519,Vpe=512,Hpe=513,Gpe=514,Q8=515,Xpe=516,qpe=517,Ype=518,Kpe=519,pS=35044,Ndt=35048,Idt=35040,Ddt=35045,jdt=35049,Bdt=35041,zdt=35046,$dt=35050,Fdt=35042,Udt="100",TB="300 es",bP=1035,Ac=2e3,cx=2001;let wd=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}};const oa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let zK=1234567;const sg=Math.PI/180,ux=180/Math.PI;function Ys(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(oa[t&255]+oa[t>>8&255]+oa[t>>16&255]+oa[t>>24&255]+"-"+oa[e&255]+oa[e>>8&255]+"-"+oa[e>>16&15|64]+oa[e>>24&255]+"-"+oa[n&63|128]+oa[n>>8&255]+"-"+oa[n>>16&255]+oa[n>>24&255]+oa[r&255]+oa[r>>8&255]+oa[r>>16&255]+oa[r>>24&255]).toLowerCase()}function Ai(t,e,n){return Math.max(e,Math.min(n,t))}function e6(t,e){return(t%e+e)%e}function Wdt(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Vdt(t,e,n){return t!==e?(n-t)/(e-t):0}function _1(t,e,n){return(1-n)*t+n*e}function Hdt(t,e,n,r){return _1(t,e,1-Math.exp(-n*r))}function Gdt(t,e=1){return e-Math.abs(e6(t,e*2)-e)}function Xdt(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function qdt(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Ydt(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Kdt(t,e){return t+Math.random()*(e-t)}function Zdt(t){return t*(.5-Math.random())}function Jdt(t){t!==void 0&&(zK=t);let e=zK+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Qdt(t){return t*sg}function eht(t){return t*ux}function AB(t){return(t&t-1)===0&&t!==0}function tht(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function _P(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function nht(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),f=o((e-r)/2),d=a((e-r)/2),h=o((r-e)/2),m=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*f,l*d,s*c);break;case"YZY":t.set(l*d,s*u,l*f,s*c);break;case"ZXZ":t.set(l*f,l*d,s*u,s*c);break;case"XZX":t.set(s*u,l*m,l*h,s*c);break;case"YXY":t.set(l*h,s*u,l*m,s*c);break;case"ZYZ":t.set(l*m,l*h,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ms(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Pn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Zpe={DEG2RAD:sg,RAD2DEG:ux,generateUUID:Ys,clamp:Ai,euclideanModulo:e6,mapLinear:Wdt,inverseLerp:Vdt,lerp:_1,damp:Hdt,pingpong:Gdt,smoothstep:Xdt,smootherstep:qdt,randInt:Ydt,randFloat:Kdt,randFloatSpread:Zdt,seededRandom:Jdt,degToRad:Qdt,radToDeg:eht,isPowerOfTwo:AB,ceilPowerOfTwo:tht,floorPowerOfTwo:_P,setQuaternionFromProperEuler:nht,normalize:Pn,denormalize:ms};class ft{constructor(e=0,n=0){ft.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ai(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class In{constructor(e,n,r,i,o,a,s,l,c){In.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],h=r[5],m=r[8],v=i[0],y=i[3],g=i[6],b=i[1],x=i[4],_=i[7],T=i[2],C=i[5],P=i[8];return o[0]=a*v+s*b+l*T,o[3]=a*y+s*x+l*C,o[6]=a*g+s*_+l*P,o[1]=c*v+u*b+f*T,o[4]=c*y+u*x+f*C,o[7]=c*g+u*_+f*P,o[2]=d*v+h*b+m*T,o[5]=d*y+h*x+m*C,o[8]=d*g+h*_+m*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*s*c-r*o*u+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*a-s*c,d=s*l-u*o,h=c*o-a*l,m=n*f+r*d+i*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/m;return e[0]=f*v,e[1]=(i*c-u*r)*v,e[2]=(s*r-i*a)*v,e[3]=d*v,e[4]=(u*n-i*l)*v,e[5]=(i*o-s*n)*v,e[6]=h*v,e[7]=(r*l-c*n)*v,e[8]=(a*n-r*o)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(BN.makeScale(e,n)),this}rotate(e){return this.premultiply(BN.makeRotation(-e)),this}translate(e,n){return this.premultiply(BN.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const BN=new In;function Jpe(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const rht={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Fy(t,e){return new rht[t](e)}function mS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Qpe(){const t=mS("canvas");return t.style.display="block",t}const $K={};function w1(t){t in $K||($K[t]=!0,console.warn(t))}const FK=new In().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),UK=new In().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),b2={[Uu]:{transfer:fS,primaries:dS,toReference:t=>t,fromReference:t=>t},[fo]:{transfer:Ur,primaries:dS,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[MM]:{transfer:fS,primaries:hS,toReference:t=>t.applyMatrix3(UK),fromReference:t=>t.applyMatrix3(FK)},[IL]:{transfer:Ur,primaries:hS,toReference:t=>t.convertSRGBToLinear().applyMatrix3(UK),fromReference:t=>t.applyMatrix3(FK).convertLinearToSRGB()}},iht=new Set([Uu,MM]),xr={enabled:!0,_workingColorSpace:Uu,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!iht.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=b2[e].toReference,i=b2[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return b2[t].primaries},getTransfer:function(t){return t===Fs?fS:b2[t].transfer}};function c0(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function zN(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let zv;class t6{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{zv===void 0&&(zv=mS("canvas")),zv.width=e.width,zv.height=e.height;const r=zv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=zv}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=mS("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=c0(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(c0(n[r]/255)*255):n[r]=c0(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let oht=0;class Wm{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oht++}),this.uuid=Ys(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push($N(i[a].image)):o.push($N(i[a]))}else o=$N(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function $N(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?t6.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let aht=0;class Fi extends wd{constructor(e=Fi.DEFAULT_IMAGE,n=Fi.DEFAULT_MAPPING,r=pa,i=pa,o=ji,a=hp,s=za,l=Pu,c=Fi.DEFAULT_ANISOTROPY,u=Fs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:aht++}),this.uuid=Ys(),this.name="",this.source=new Wm(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new ft(0,0),this.repeat=new ft(1,1),this.center=new ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new In,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(w1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Yh?fo:Fs),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==LL)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case aS:e.x=e.x-Math.floor(e.x);break;case pa:e.x=e.x<0?0:1;break;case sS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case aS:e.y=e.y-Math.floor(e.y);break;case pa:e.y=e.y<0?0:1;break;case sS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return w1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===fo?Yh:J8}set encoding(e){w1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Yh?fo:Fs}}Fi.DEFAULT_IMAGE=null;Fi.DEFAULT_MAPPING=LL;Fi.DEFAULT_ANISOTROPY=1;class Jn{constructor(e=0,n=0,r=0,i=1){Jn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],h=l[5],m=l[9],v=l[2],y=l[6],g=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-v)<.01&&Math.abs(m-y)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+v)<.1&&Math.abs(m+y)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(c+1)/2,_=(h+1)/2,T=(g+1)/2,C=(u+d)/4,P=(f+v)/4,I=(m+y)/4;return x>_&&x>T?x<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(x),i=C/r,o=P/r):_>T?_<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(_),r=C/i,o=I/i):T<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(T),r=P/o,i=I/o),this.set(r,i,o,n),this}let b=Math.sqrt((y-m)*(y-m)+(f-v)*(f-v)+(d-u)*(d-u));return Math.abs(b)<.001&&(b=1),this.x=(y-m)/b,this.y=(f-v)/b,this.z=(d-u)/b,this.w=Math.acos((c+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class eme extends wd{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Jn(0,0,e,n),this.scissorTest=!1,this.viewport=new Jn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(w1("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Yh?fo:Fs),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ji,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Fi(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Wm(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Bc extends eme{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class DL extends Fi{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ii,this.minFilter=Ii,this.wrapR=pa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class sht extends Bc{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new DL(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class n6 extends Fi{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ii,this.minFilter=Ii,this.wrapR=pa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lht extends Bc{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new n6(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class cht extends Bc{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class ya{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=o[a+0],h=o[a+1],m=o[a+2],v=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(s===1){e[n+0]=d,e[n+1]=h,e[n+2]=m,e[n+3]=v;return}if(f!==v||l!==d||c!==h||u!==m){let y=1-s;const g=l*d+c*h+u*m+f*v,b=g>=0?1:-1,x=1-g*g;if(x>Number.EPSILON){const T=Math.sqrt(x),C=Math.atan2(T,g*b);y=Math.sin(y*C)/T,s=Math.sin(s*C)/T}const _=s*b;if(l=l*y+d*_,c=c*y+h*_,u=u*y+m*_,f=f*y+v*_,y===1-s){const T=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=T,c*=T,u*=T,f*=T}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=o[a],d=o[a+1],h=o[a+2],m=o[a+3];return e[n]=s*m+u*f+l*h-c*d,e[n+1]=l*m+u*d+c*f-s*h,e[n+2]=c*m+u*h+s*d-l*f,e[n+3]=u*m-s*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),u=s(i/2),f=s(o/2),d=l(r/2),h=l(i/2),m=l(o/2);switch(a){case"XYZ":this._x=d*u*f+c*h*m,this._y=c*h*f-d*u*m,this._z=c*u*m+d*h*f,this._w=c*u*f-d*h*m;break;case"YXZ":this._x=d*u*f+c*h*m,this._y=c*h*f-d*u*m,this._z=c*u*m-d*h*f,this._w=c*u*f+d*h*m;break;case"ZXY":this._x=d*u*f-c*h*m,this._y=c*h*f+d*u*m,this._z=c*u*m+d*h*f,this._w=c*u*f-d*h*m;break;case"ZYX":this._x=d*u*f-c*h*m,this._y=c*h*f+d*u*m,this._z=c*u*m-d*h*f,this._w=c*u*f+d*h*m;break;case"YZX":this._x=d*u*f+c*h*m,this._y=c*h*f+d*u*m,this._z=c*u*m-d*h*f,this._w=c*u*f-d*h*m;break;case"XZY":this._x=d*u*f-c*h*m,this._y=c*h*f-d*u*m,this._z=c*u*m+d*h*f,this._w=c*u*f+d*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+s+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(a-i)*h}else if(r>s&&r>f){const h=2*Math.sqrt(1+r-s-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(o+c)/h}else if(s>f){const h=2*Math.sqrt(1+s-r-f);this._w=(o-c)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-r-s);this._w=(a-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ai(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*s+i*c-o*l,this._y=i*u+a*l+o*s-r*c,this._z=o*u+a*c+r*l-i*s,this._w=a*u-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=a*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=o*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class he{constructor(e=0,n=0,r=0){he.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(WK.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(WK.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),u=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+l*c+a*f-s*u,this.y=r+l*u+s*c-o*f,this.z=i+l*f+o*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return FN.copy(this).projectOnVector(e),this.sub(FN)}reflect(e){return this.sub(FN.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ai(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const FN=new he,WK=new ya;class Co{constructor(e=new he(1/0,1/0,1/0),n=new he(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ac.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ac.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ac.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,ac):ac.fromBufferAttribute(o,a),ac.applyMatrix4(e.matrixWorld),this.expandByPoint(ac);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_2.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),_2.copy(r.boundingBox)),_2.applyMatrix4(e.matrixWorld),this.union(_2)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ac),ac.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(u_),w2.subVectors(this.max,u_),$v.subVectors(e.a,u_),Fv.subVectors(e.b,u_),Uv.subVectors(e.c,u_),Yd.subVectors(Fv,$v),Kd.subVectors(Uv,Fv),im.subVectors($v,Uv);let n=[0,-Yd.z,Yd.y,0,-Kd.z,Kd.y,0,-im.z,im.y,Yd.z,0,-Yd.x,Kd.z,0,-Kd.x,im.z,0,-im.x,-Yd.y,Yd.x,0,-Kd.y,Kd.x,0,-im.y,im.x,0];return!UN(n,$v,Fv,Uv,w2)||(n=[1,0,0,0,1,0,0,0,1],!UN(n,$v,Fv,Uv,w2))?!1:(S2.crossVectors(Yd,Kd),n=[S2.x,S2.y,S2.z],UN(n,$v,Fv,Uv,w2))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ac).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ac).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(gf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),gf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),gf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),gf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),gf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),gf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),gf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),gf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(gf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gf=[new he,new he,new he,new he,new he,new he,new he,new he],ac=new he,_2=new Co,$v=new he,Fv=new he,Uv=new he,Yd=new he,Kd=new he,im=new he,u_=new he,w2=new he,S2=new he,om=new he;function UN(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){om.fromArray(t,o);const s=i.x*Math.abs(om.x)+i.y*Math.abs(om.y)+i.z*Math.abs(om.z),l=e.dot(om),c=n.dot(om),u=r.dot(om);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const uht=new Co,f_=new he,WN=new he;let Po=class{constructor(e=new he,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):uht.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;f_.subVectors(e,this.center);const n=f_.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(f_,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(WN.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(f_.copy(e.center).add(WN)),this.expandByPoint(f_.copy(e.center).sub(WN))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const vf=new he,VN=new he,M2=new he,Zd=new he,HN=new he,E2=new he,GN=new he;class lv{constructor(e=new he,n=new he(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vf)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=vf.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(vf.copy(this.origin).addScaledVector(this.direction,n),vf.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){VN.copy(e).add(n).multiplyScalar(.5),M2.copy(n).sub(e).normalize(),Zd.copy(this.origin).sub(VN);const o=e.distanceTo(n)*.5,a=-this.direction.dot(M2),s=Zd.dot(this.direction),l=-Zd.dot(M2),c=Zd.lengthSq(),u=Math.abs(1-a*a);let f,d,h,m;if(u>0)if(f=a*l-s,d=a*s-l,m=o*u,f>=0)if(d>=-m)if(d<=m){const v=1/u;f*=v,d*=v,h=f*(f+a*d+2*s)+d*(a*f+d+2*l)+c}else d=o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;else d=-o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;else d<=-m?(f=Math.max(0,-(-a*o+s)),d=f>0?-o:Math.min(Math.max(-o,-l),o),h=-f*f+d*(d+2*l)+c):d<=m?(f=0,d=Math.min(Math.max(-o,-l),o),h=d*(d+2*l)+c):(f=Math.max(0,-(a*o+s)),d=f>0?o:Math.min(Math.max(-o,-l),o),h=-f*f+d*(d+2*l)+c);else d=a>0?-o:o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(VN).addScaledVector(M2,d),h}intersectSphere(e,n){vf.subVectors(e.center,this.origin);const r=vf.dot(this.direction),i=vf.dot(vf)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(o=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(o=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(s=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,vf)!==null}intersectTriangle(e,n,r,i,o){HN.subVectors(n,e),E2.subVectors(r,e),GN.crossVectors(HN,E2);let a=this.direction.dot(GN),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Zd.subVectors(this.origin,e);const l=s*this.direction.dot(E2.crossVectors(Zd,E2));if(l<0)return null;const c=s*this.direction.dot(HN.cross(Zd));if(c<0||l+c>a)return null;const u=-s*Zd.dot(GN);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dn{constructor(e,n,r,i,o,a,s,l,c,u,f,d,h,m,v,y){dn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,u,f,d,h,m,v,y)}set(e,n,r,i,o,a,s,l,c,u,f,d,h,m,v,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=o,g[5]=a,g[9]=s,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=d,g[3]=h,g[7]=m,g[11]=v,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Wv.setFromMatrixColumn(e,0).length(),o=1/Wv.setFromMatrixColumn(e,1).length(),a=1/Wv.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const d=a*u,h=a*f,m=s*u,v=s*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=h+m*c,n[5]=d-v*c,n[9]=-s*l,n[2]=v-d*c,n[6]=m+h*c,n[10]=a*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,m=c*u,v=c*f;n[0]=d+v*s,n[4]=m*s-h,n[8]=a*c,n[1]=a*f,n[5]=a*u,n[9]=-s,n[2]=h*s-m,n[6]=v+d*s,n[10]=a*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,m=c*u,v=c*f;n[0]=d-v*s,n[4]=-a*f,n[8]=m+h*s,n[1]=h+m*s,n[5]=a*u,n[9]=v-d*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const d=a*u,h=a*f,m=s*u,v=s*f;n[0]=l*u,n[4]=m*c-h,n[8]=d*c+v,n[1]=l*f,n[5]=v*c+d,n[9]=h*c-m,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const d=a*l,h=a*c,m=s*l,v=s*c;n[0]=l*u,n[4]=v-d*f,n[8]=m*f+h,n[1]=f,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=h*f+m,n[10]=d-v*f}else if(e.order==="XZY"){const d=a*l,h=a*c,m=s*l,v=s*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+v,n[5]=a*u,n[9]=h*f-m,n[2]=m*f-h,n[6]=s*u,n[10]=v*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fht,e,dht)}lookAt(e,n,r){const i=this.elements;return ks.subVectors(e,n),ks.lengthSq()===0&&(ks.z=1),ks.normalize(),Jd.crossVectors(r,ks),Jd.lengthSq()===0&&(Math.abs(r.z)===1?ks.x+=1e-4:ks.z+=1e-4,ks.normalize(),Jd.crossVectors(r,ks)),Jd.normalize(),T2.crossVectors(ks,Jd),i[0]=Jd.x,i[4]=T2.x,i[8]=ks.x,i[1]=Jd.y,i[5]=T2.y,i[9]=ks.y,i[2]=Jd.z,i[6]=T2.z,i[10]=ks.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],h=r[13],m=r[2],v=r[6],y=r[10],g=r[14],b=r[3],x=r[7],_=r[11],T=r[15],C=i[0],P=i[4],I=i[8],O=i[12],N=i[1],D=i[5],U=i[9],V=i[13],z=i[2],F=i[6],W=i[10],X=i[14],B=i[3],G=i[7],q=i[11],te=i[15];return o[0]=a*C+s*N+l*z+c*B,o[4]=a*P+s*D+l*F+c*G,o[8]=a*I+s*U+l*W+c*q,o[12]=a*O+s*V+l*X+c*te,o[1]=u*C+f*N+d*z+h*B,o[5]=u*P+f*D+d*F+h*G,o[9]=u*I+f*U+d*W+h*q,o[13]=u*O+f*V+d*X+h*te,o[2]=m*C+v*N+y*z+g*B,o[6]=m*P+v*D+y*F+g*G,o[10]=m*I+v*U+y*W+g*q,o[14]=m*O+v*V+y*X+g*te,o[3]=b*C+x*N+_*z+T*B,o[7]=b*P+x*D+_*F+T*G,o[11]=b*I+x*U+_*W+T*q,o[15]=b*O+x*V+_*X+T*te,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],m=e[3],v=e[7],y=e[11],g=e[15];return m*(+o*l*f-i*c*f-o*s*d+r*c*d+i*s*h-r*l*h)+v*(+n*l*h-n*c*d+o*a*d-i*a*h+i*c*u-o*l*u)+y*(+n*c*f-n*s*h-o*a*f+r*a*h+o*s*u-r*c*u)+g*(-i*s*u-n*l*f+n*s*d+i*a*f-r*a*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],m=e[12],v=e[13],y=e[14],g=e[15],b=f*y*c-v*d*c+v*l*h-s*y*h-f*l*g+s*d*g,x=m*d*c-u*y*c-m*l*h+a*y*h+u*l*g-a*d*g,_=u*v*c-m*f*c+m*s*h-a*v*h-u*s*g+a*f*g,T=m*f*l-u*v*l-m*s*d+a*v*d+u*s*y-a*f*y,C=n*b+r*x+i*_+o*T;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=b*P,e[1]=(v*d*o-f*y*o-v*i*h+r*y*h+f*i*g-r*d*g)*P,e[2]=(s*y*o-v*l*o+v*i*c-r*y*c-s*i*g+r*l*g)*P,e[3]=(f*l*o-s*d*o-f*i*c+r*d*c+s*i*h-r*l*h)*P,e[4]=x*P,e[5]=(u*y*o-m*d*o+m*i*h-n*y*h-u*i*g+n*d*g)*P,e[6]=(m*l*o-a*y*o-m*i*c+n*y*c+a*i*g-n*l*g)*P,e[7]=(a*d*o-u*l*o+u*i*c-n*d*c-a*i*h+n*l*h)*P,e[8]=_*P,e[9]=(m*f*o-u*v*o-m*r*h+n*v*h+u*r*g-n*f*g)*P,e[10]=(a*v*o-m*s*o+m*r*c-n*v*c-a*r*g+n*s*g)*P,e[11]=(u*s*o-a*f*o-u*r*c+n*f*c+a*r*h-n*s*h)*P,e[12]=T*P,e[13]=(u*v*i-m*f*i+m*r*d-n*v*d-u*r*y+n*f*y)*P,e[14]=(m*s*i-a*v*i-m*r*l+n*v*l+a*r*y-n*s*y)*P,e[15]=(a*f*i-u*s*i+u*r*l-n*f*l-a*r*d+n*s*d)*P,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,u=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+r,u*l-i*a,0,c*l-i*s,u*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,u=a+a,f=s+s,d=o*c,h=o*u,m=o*f,v=a*u,y=a*f,g=s*f,b=l*c,x=l*u,_=l*f,T=r.x,C=r.y,P=r.z;return i[0]=(1-(v+g))*T,i[1]=(h+_)*T,i[2]=(m-x)*T,i[3]=0,i[4]=(h-_)*C,i[5]=(1-(d+g))*C,i[6]=(y+b)*C,i[7]=0,i[8]=(m+x)*P,i[9]=(y-b)*P,i[10]=(1-(d+v))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Wv.set(i[0],i[1],i[2]).length();const a=Wv.set(i[4],i[5],i[6]).length(),s=Wv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],sc.copy(this);const c=1/o,u=1/a,f=1/s;return sc.elements[0]*=c,sc.elements[1]*=c,sc.elements[2]*=c,sc.elements[4]*=u,sc.elements[5]*=u,sc.elements[6]*=u,sc.elements[8]*=f,sc.elements[9]*=f,sc.elements[10]*=f,n.setFromRotationMatrix(sc),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=Ac){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let h,m;if(s===Ac)h=-(a+o)/(a-o),m=-2*a*o/(a-o);else if(s===cx)h=-a/(a-o),m=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=Ac){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(a-o),d=(n+e)*c,h=(r+i)*u;let m,v;if(s===Ac)m=(a+o)*f,v=-2*f;else if(s===cx)m=o*f,v=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=v,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Wv=new he,sc=new dn,fht=new he(0,0,0),dht=new he(1,1,1),Jd=new he,T2=new he,ks=new he,VK=new dn,HK=new ya;class EM{constructor(e=0,n=0,r=0,i=EM.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Ai(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ai(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Ai(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Ai(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Ai(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-Ai(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return VK.makeRotationFromQuaternion(e),this.setFromRotationMatrix(VK,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return HK.setFromEuler(this),this.setFromQuaternion(HK,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}EM.DEFAULT_ORDER="XYZ";class lg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let hht=0;const GK=new he,Vv=new ya,yf=new dn,A2=new he,d_=new he,pht=new he,mht=new ya,XK=new he(1,0,0),qK=new he(0,1,0),YK=new he(0,0,1),ght={type:"added"},vht={type:"removed"};class fr extends wd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hht++}),this.uuid=Ys(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=fr.DEFAULT_UP.clone();const e=new he,n=new EM,r=new ya,i=new he(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new dn},normalMatrix:{value:new In}}),this.matrix=new dn,this.matrixWorld=new dn,this.matrixAutoUpdate=fr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=fr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new lg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Vv.setFromAxisAngle(e,n),this.quaternion.multiply(Vv),this}rotateOnWorldAxis(e,n){return Vv.setFromAxisAngle(e,n),this.quaternion.premultiply(Vv),this}rotateX(e){return this.rotateOnAxis(XK,e)}rotateY(e){return this.rotateOnAxis(qK,e)}rotateZ(e){return this.rotateOnAxis(YK,e)}translateOnAxis(e,n){return GK.copy(e).applyQuaternion(this.quaternion),this.position.add(GK.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(XK,e)}translateY(e){return this.translateOnAxis(qK,e)}translateZ(e){return this.translateOnAxis(YK,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yf.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?A2.copy(e):A2.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),d_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yf.lookAt(d_,A2,this.up):yf.lookAt(A2,d_,this.up),this.quaternion.setFromRotationMatrix(yf),i&&(yf.extractRotation(i.matrixWorld),Vv.setFromRotationMatrix(yf),this.quaternion.premultiply(Vv.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ght)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(vht)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),yf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yf.multiply(e.parent.matrixWorld)),e.applyMatrix4(yf),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(d_,e,pht),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(d_,mht,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),f=a(e.shapes),d=a(e.skeletons),h=a(e.animations),m=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),m.length>0&&(r.nodes=m)}return r.object=i,r;function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}fr.DEFAULT_UP=new he(0,1,0);fr.DEFAULT_MATRIX_AUTO_UPDATE=!0;fr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const lc=new he,xf=new he,XN=new he,bf=new he,Hv=new he,Gv=new he,KK=new he,qN=new he,YN=new he,KN=new he;let C2=!1;class hs{constructor(e=new he,n=new he,r=new he){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),lc.subVectors(e,n),i.cross(lc);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){lc.subVectors(i,n),xf.subVectors(r,n),XN.subVectors(e,n);const a=lc.dot(lc),s=lc.dot(xf),l=lc.dot(XN),c=xf.dot(xf),u=xf.dot(XN),f=a*c-s*s;if(f===0)return o.set(0,0,0),null;const d=1/f,h=(c*l-s*u)*d,m=(a*u-s*l)*d;return o.set(1-h-m,m,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,bf)===null?!1:bf.x>=0&&bf.y>=0&&bf.x+bf.y<=1}static getUV(e,n,r,i,o,a,s,l){return C2===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),C2=!0),this.getInterpolation(e,n,r,i,o,a,s,l)}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,bf)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,bf.x),l.addScaledVector(a,bf.y),l.addScaledVector(s,bf.z),l)}static isFrontFacing(e,n,r,i){return lc.subVectors(r,n),xf.subVectors(e,n),lc.cross(xf).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return lc.subVectors(this.c,this.b),xf.subVectors(this.a,this.b),lc.cross(xf).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return hs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return hs.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return C2===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),C2=!0),hs.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return hs.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return hs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return hs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;Hv.subVectors(i,r),Gv.subVectors(o,r),qN.subVectors(e,r);const l=Hv.dot(qN),c=Gv.dot(qN);if(l<=0&&c<=0)return n.copy(r);YN.subVectors(e,i);const u=Hv.dot(YN),f=Gv.dot(YN);if(u>=0&&f<=u)return n.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(Hv,a);KN.subVectors(e,o);const h=Hv.dot(KN),m=Gv.dot(KN);if(m>=0&&h<=m)return n.copy(o);const v=h*c-l*m;if(v<=0&&c>=0&&m<=0)return s=c/(c-m),n.copy(r).addScaledVector(Gv,s);const y=u*m-h*f;if(y<=0&&f-u>=0&&h-m>=0)return KK.subVectors(o,i),s=(f-u)/(f-u+(h-m)),n.copy(i).addScaledVector(KK,s);const g=1/(y+v+d);return a=v*g,s=d*g,n.copy(r).addScaledVector(Hv,a).addScaledVector(Gv,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const tme={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qd={h:0,s:0,l:0},P2={h:0,s:0,l:0};function ZN(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let zt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=fo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,xr.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=xr.workingColorSpace){return this.r=e,this.g=n,this.b=r,xr.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=xr.workingColorSpace){if(e=e6(e,1),n=Ai(n,0,1),r=Ai(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=ZN(a,o,e+1/3),this.g=ZN(a,o,e),this.b=ZN(a,o,e-1/3)}return xr.toWorkingColorSpace(this,i),this}setStyle(e,n=fo){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=fo){const r=tme[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=c0(e.r),this.g=c0(e.g),this.b=c0(e.b),this}copyLinearToSRGB(e){return this.r=zN(e.r),this.g=zN(e.g),this.b=zN(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fo){return xr.fromWorkingColorSpace(aa.copy(this),e),Math.round(Ai(aa.r*255,0,255))*65536+Math.round(Ai(aa.g*255,0,255))*256+Math.round(Ai(aa.b*255,0,255))}getHexString(e=fo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=xr.workingColorSpace){xr.fromWorkingColorSpace(aa.copy(this),n);const r=aa.r,i=aa.g,o=aa.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const u=(s+a)/2;if(s===a)l=0,c=0;else{const f=a-s;switch(c=u<=.5?f/(a+s):f/(2-a-s),a){case r:l=(i-o)/f+(i<o?6:0);break;case i:l=(o-r)/f+2;break;case o:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=xr.workingColorSpace){return xr.fromWorkingColorSpace(aa.copy(this),n),e.r=aa.r,e.g=aa.g,e.b=aa.b,e}getStyle(e=fo){xr.fromWorkingColorSpace(aa.copy(this),e);const n=aa.r,r=aa.g,i=aa.b;return e!==fo?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Qd),this.setHSL(Qd.h+e,Qd.s+n,Qd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Qd),e.getHSL(P2);const r=_1(Qd.h,P2.h,n),i=_1(Qd.s,P2.s,n),o=_1(Qd.l,P2.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const aa=new zt;zt.NAMES=tme;let yht=0;class Ma extends wd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:yht++}),this.uuid=Ys(),this.name="",this.type="Material",this.blending=ag,this.side=hd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=vP,this.blendDst=yP,this.blendEquation=vh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new zt(0,0,0),this.blendAlpha=0,this.depthFunc=rS,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=EB,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Sm,this.stencilZFail=Sm,this.stencilZPass=Sm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ag&&(r.blending=this.blending),this.side!==hd&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==vP&&(r.blendSrc=this.blendSrc),this.blendDst!==yP&&(r.blendDst=this.blendDst),this.blendEquation!==vh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==rS&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==EB&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Sm&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Sm&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Sm&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Pp extends Ma{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=SM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const kf=xht();function xht(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function ss(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Ai(t,-65504,65504),kf.floatView[0]=t;const e=kf.uint32View[0],n=e>>23&511;return kf.baseTable[n]+((e&8388607)>>kf.shiftTable[n])}function B_(t){const e=t>>10;return kf.uint32View[0]=kf.mantissaTable[kf.offsetTable[e]+(t&1023)]+kf.exponentTable[e],kf.floatView[0]}const bht={toHalfFloat:ss,fromHalfFloat:B_},Yi=new he,R2=new ft;class wr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=pS,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Tc,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)R2.fromBufferAttribute(this,n),R2.applyMatrix3(e),this.setXY(n,R2.x,R2.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Yi.fromBufferAttribute(this,n),Yi.applyMatrix3(e),this.setXYZ(n,Yi.x,Yi.y,Yi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Yi.fromBufferAttribute(this,n),Yi.applyMatrix4(e),this.setXYZ(n,Yi.x,Yi.y,Yi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Yi.fromBufferAttribute(this,n),Yi.applyNormalMatrix(e),this.setXYZ(n,Yi.x,Yi.y,Yi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Yi.fromBufferAttribute(this,n),Yi.transformDirection(e),this.setXYZ(n,Yi.x,Yi.y,Yi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ms(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Pn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ms(n,this.array)),n}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ms(n,this.array)),n}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ms(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ms(n,this.array)),n}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),o=Pn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==pS&&(e.usage=this.usage),e}}class _ht extends wr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class wht extends wr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Sht extends wr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Mht extends wr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class r6 extends wr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Eht extends wr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class i6 extends wr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Tht extends wr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=B_(this.array[e*this.itemSize]);return this.normalized&&(n=ms(n,this.array)),n}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize]=ss(n),this}getY(e){let n=B_(this.array[e*this.itemSize+1]);return this.normalized&&(n=ms(n,this.array)),n}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+1]=ss(n),this}getZ(e){let n=B_(this.array[e*this.itemSize+2]);return this.normalized&&(n=ms(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+2]=ss(n),this}getW(e){let n=B_(this.array[e*this.itemSize+3]);return this.normalized&&(n=ms(n,this.array)),n}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+3]=ss(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.array[e+0]=ss(n),this.array[e+1]=ss(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[e+0]=ss(n),this.array[e+1]=ss(r),this.array[e+2]=ss(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),o=Pn(o,this.array)),this.array[e+0]=ss(n),this.array[e+1]=ss(r),this.array[e+2]=ss(i),this.array[e+3]=ss(o),this}}class Gt extends wr{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Aht extends wr{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Cht=0;const xl=new dn,JN=new fr,Xv=new he,Ns=new Co,h_=new Co,wo=new he;class Dn extends wd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Cht++}),this.uuid=Ys(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Jpe(e)?i6:r6)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new In().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return xl.makeRotationFromQuaternion(e),this.applyMatrix4(xl),this}rotateX(e){return xl.makeRotationX(e),this.applyMatrix4(xl),this}rotateY(e){return xl.makeRotationY(e),this.applyMatrix4(xl),this}rotateZ(e){return xl.makeRotationZ(e),this.applyMatrix4(xl),this}translate(e,n,r){return xl.makeTranslation(e,n,r),this.applyMatrix4(xl),this}scale(e,n,r){return xl.makeScale(e,n,r),this.applyMatrix4(xl),this}lookAt(e){return JN.lookAt(e),JN.updateMatrix(),this.applyMatrix4(JN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xv).negate(),this.translate(Xv.x,Xv.y,Xv.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Gt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Co);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new he(-1/0,-1/0,-1/0),new he(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Ns.setFromBufferAttribute(o),this.morphTargetsRelative?(wo.addVectors(this.boundingBox.min,Ns.min),this.boundingBox.expandByPoint(wo),wo.addVectors(this.boundingBox.max,Ns.max),this.boundingBox.expandByPoint(wo)):(this.boundingBox.expandByPoint(Ns.min),this.boundingBox.expandByPoint(Ns.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Po);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new he,1/0);return}if(e){const r=this.boundingSphere.center;if(Ns.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];h_.setFromBufferAttribute(s),this.morphTargetsRelative?(wo.addVectors(Ns.min,h_.min),Ns.expandByPoint(wo),wo.addVectors(Ns.max,h_.max),Ns.expandByPoint(wo)):(Ns.expandByPoint(h_.min),Ns.expandByPoint(h_.max))}Ns.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)wo.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(wo));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)wo.fromBufferAttribute(s,c),l&&(Xv.fromBufferAttribute(e,c),wo.add(Xv)),i=Math.max(i,r.distanceToSquared(wo))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,a=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new wr(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let N=0;N<s;N++)c[N]=new he,u[N]=new he;const f=new he,d=new he,h=new he,m=new ft,v=new ft,y=new ft,g=new he,b=new he;function x(N,D,U){f.fromArray(i,N*3),d.fromArray(i,D*3),h.fromArray(i,U*3),m.fromArray(a,N*2),v.fromArray(a,D*2),y.fromArray(a,U*2),d.sub(f),h.sub(f),v.sub(m),y.sub(m);const V=1/(v.x*y.y-y.x*v.y);isFinite(V)&&(g.copy(d).multiplyScalar(y.y).addScaledVector(h,-v.y).multiplyScalar(V),b.copy(h).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(V),c[N].add(g),c[D].add(g),c[U].add(g),u[N].add(b),u[D].add(b),u[U].add(b))}let _=this.groups;_.length===0&&(_=[{start:0,count:r.length}]);for(let N=0,D=_.length;N<D;++N){const U=_[N],V=U.start,z=U.count;for(let F=V,W=V+z;F<W;F+=3)x(r[F+0],r[F+1],r[F+2])}const T=new he,C=new he,P=new he,I=new he;function O(N){P.fromArray(o,N*3),I.copy(P);const D=c[N];T.copy(D),T.sub(P.multiplyScalar(P.dot(D))).normalize(),C.crossVectors(I,D);const V=C.dot(u[N])<0?-1:1;l[N*4]=T.x,l[N*4+1]=T.y,l[N*4+2]=T.z,l[N*4+3]=V}for(let N=0,D=_.length;N<D;++N){const U=_[N],V=U.start,z=U.count;for(let F=V,W=V+z;F<W;F+=3)O(r[F+0]),O(r[F+1]),O(r[F+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new wr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new he,o=new he,a=new he,s=new he,l=new he,c=new he,u=new he,f=new he;if(e)for(let d=0,h=e.count;d<h;d+=3){const m=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(n,m),o.fromBufferAttribute(n,v),a.fromBufferAttribute(n,y),u.subVectors(a,o),f.subVectors(i,o),u.cross(f),s.fromBufferAttribute(r,m),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),s.add(u),l.add(u),c.add(u),r.setXYZ(m,s.x,s.y,s.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),a.fromBufferAttribute(n,d+2),u.subVectors(a,o),f.subVectors(i,o),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)wo.fromBufferAttribute(e,n),wo.normalize(),e.setXYZ(n,wo.x,wo.y,wo.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,f=s.normalized,d=new c.constructor(l.length*u);let h=0,m=0;for(let v=0,y=l.length;v<y;v++){s.isInterleavedBufferAttribute?h=l[v]*s.data.stride+s.offset:h=l[v]*u;for(let g=0;g<u;g++)d[m++]=c[h++]}return new wr(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Dn,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let u=0,f=c.length;u<f;u++){const d=c[u],h=e(d,r);l.push(h)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],f=o[c];for(let d=0,h=f.length;d<h;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ZK=new dn,am=new lv,O2=new Po,JK=new he,qv=new he,Yv=new he,Kv=new he,QN=new he,L2=new he,k2=new ft,N2=new ft,I2=new ft,QK=new he,eZ=new he,tZ=new he,D2=new he,j2=new he;class eo extends fr{constructor(e=new Dn,n=new Pp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){L2.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=s[l],f=o[l];u!==0&&(QN.fromBufferAttribute(f,e),a?L2.addScaledVector(QN,u):L2.addScaledVector(QN.sub(n),u))}n.add(L2)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),O2.copy(r.boundingSphere),O2.applyMatrix4(o),am.copy(e.ray).recast(e.near),!(O2.containsPoint(am.origin)===!1&&(am.intersectSphere(O2,JK)===null||am.origin.distanceToSquared(JK)>(e.far-e.near)**2))&&(ZK.copy(o).invert(),am.copy(e.ray).applyMatrix4(ZK),!(r.boundingBox!==null&&am.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,am)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,f=o.attributes.normal,d=o.groups,h=o.drawRange;if(s!==null)if(Array.isArray(a))for(let m=0,v=d.length;m<v;m++){const y=d[m],g=a[y.materialIndex],b=Math.max(y.start,h.start),x=Math.min(s.count,Math.min(y.start+y.count,h.start+h.count));for(let _=b,T=x;_<T;_+=3){const C=s.getX(_),P=s.getX(_+1),I=s.getX(_+2);i=B2(this,g,e,r,c,u,f,C,P,I),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),v=Math.min(s.count,h.start+h.count);for(let y=m,g=v;y<g;y+=3){const b=s.getX(y),x=s.getX(y+1),_=s.getX(y+2);i=B2(this,a,e,r,c,u,f,b,x,_),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let m=0,v=d.length;m<v;m++){const y=d[m],g=a[y.materialIndex],b=Math.max(y.start,h.start),x=Math.min(l.count,Math.min(y.start+y.count,h.start+h.count));for(let _=b,T=x;_<T;_+=3){const C=_,P=_+1,I=_+2;i=B2(this,g,e,r,c,u,f,C,P,I),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),v=Math.min(l.count,h.start+h.count);for(let y=m,g=v;y<g;y+=3){const b=y,x=y+1,_=y+2;i=B2(this,a,e,r,c,u,f,b,x,_),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function Pht(t,e,n,r,i,o,a,s){let l;if(e.side===Ga?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===hd,s),l===null)return null;j2.copy(s),j2.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(j2);return c<n.near||c>n.far?null:{distance:c,point:j2.clone(),object:t}}function B2(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,qv),t.getVertexPosition(l,Yv),t.getVertexPosition(c,Kv);const u=Pht(t,e,n,r,qv,Yv,Kv,D2);if(u){i&&(k2.fromBufferAttribute(i,s),N2.fromBufferAttribute(i,l),I2.fromBufferAttribute(i,c),u.uv=hs.getInterpolation(D2,qv,Yv,Kv,k2,N2,I2,new ft)),o&&(k2.fromBufferAttribute(o,s),N2.fromBufferAttribute(o,l),I2.fromBufferAttribute(o,c),u.uv1=hs.getInterpolation(D2,qv,Yv,Kv,k2,N2,I2,new ft),u.uv2=u.uv1),a&&(QK.fromBufferAttribute(a,s),eZ.fromBufferAttribute(a,l),tZ.fromBufferAttribute(a,c),u.normal=hs.getInterpolation(D2,qv,Yv,Kv,QK,eZ,tZ,new he),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:s,b:l,c,normal:new he,materialIndex:0};hs.getNormal(qv,Yv,Kv,f.normal),u.face=f}return u}class cv extends Dn{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],f=[];let d=0,h=0;m("z","y","x",-1,-1,r,n,e,a,o,0),m("z","y","x",1,-1,r,n,-e,a,o,1),m("x","z","y",1,1,e,r,n,i,a,2),m("x","z","y",1,-1,e,r,-n,i,a,3),m("x","y","z",1,-1,e,n,r,i,o,4),m("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Gt(c,3)),this.setAttribute("normal",new Gt(u,3)),this.setAttribute("uv",new Gt(f,2));function m(v,y,g,b,x,_,T,C,P,I,O){const N=_/P,D=T/I,U=_/2,V=T/2,z=C/2,F=P+1,W=I+1;let X=0,B=0;const G=new he;for(let q=0;q<W;q++){const te=q*D-V;for(let Y=0;Y<F;Y++){const J=Y*N-U;G[v]=J*b,G[y]=te*x,G[g]=z,c.push(G.x,G.y,G.z),G[v]=0,G[y]=0,G[g]=C>0?1:-1,u.push(G.x,G.y,G.z),f.push(Y/P),f.push(1-q/I),X+=1}}for(let q=0;q<I;q++)for(let te=0;te<P;te++){const Y=d+te+F*q,J=d+te+F*(q+1),re=d+(te+1)+F*(q+1),oe=d+(te+1)+F*q;l.push(Y,J,oe),l.push(J,re,oe),B+=6}s.addGroup(h,B,O),h+=B,d+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cv(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function fx(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Ia(t){const e={};for(let n=0;n<t.length;n++){const r=fx(t[n]);for(const i in r)e[i]=r[i]}return e}function Rht(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function nme(t){return t.getRenderTarget()===null?t.outputColorSpace:xr.workingColorSpace}const wP={clone:fx,merge:Ia};var Oht=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Lht=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class zc extends Ma{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Oht,this.fragmentShader=Lht,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=fx(e.uniforms),this.uniformsGroups=Rht(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class TM extends fr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dn,this.projectionMatrix=new dn,this.projectionMatrixInverse=new dn,this.coordinateSystem=Ac}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Bi extends TM{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=ux*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(sg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ux*2*Math.atan(Math.tan(sg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(sg*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Zv=-90,Jv=1;class rme extends fr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Bi(Zv,Jv,e,n);i.layers=this.layers,this.add(i);const o=new Bi(Zv,Jv,e,n);o.layers=this.layers,this.add(o);const a=new Bi(Zv,Jv,e,n);a.layers=this.layers,this.add(a);const s=new Bi(Zv,Jv,e,n);s.layers=this.layers,this.add(s);const l=new Bi(Zv,Jv,e,n);l.layers=this.layers,this.add(l);const c=new Bi(Zv,Jv,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===Ac)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===cx)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,u]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=v,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,d,h),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class AM extends Fi{constructor(e,n,r,i,o,a,s,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:pd,super(e,n,r,i,o,a,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ime extends Bc{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(w1("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Yh?fo:Fs),this.texture=new AM(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ji}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new cv(5,5,5),o=new zc({name:"CubemapFromEquirect",uniforms:fx(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ga,blending:Zf});o.uniforms.tEquirect.value=n;const a=new eo(i,o),s=n.minFilter;return n.minFilter===hp&&(n.minFilter=ji),new rme(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const eI=new he,kht=new he,Nht=new In;class Of{constructor(e=new he(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=eI.subVectors(r,n).cross(kht.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(eI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Nht.getNormalMatrix(e),i=this.coplanarPoint(eI).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const sm=new Po,z2=new he;class CM{constructor(e=new Of,n=new Of,r=new Of,i=new Of,o=new Of,a=new Of){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ac){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],m=i[9],v=i[10],y=i[11],g=i[12],b=i[13],x=i[14],_=i[15];if(r[0].setComponents(l-o,d-c,y-h,_-g).normalize(),r[1].setComponents(l+o,d+c,y+h,_+g).normalize(),r[2].setComponents(l+a,d+u,y+m,_+b).normalize(),r[3].setComponents(l-a,d-u,y-m,_-b).normalize(),r[4].setComponents(l-s,d-f,y-v,_-x).normalize(),n===Ac)r[5].setComponents(l+s,d+f,y+v,_+x).normalize();else if(n===cx)r[5].setComponents(s,f,v,x).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),sm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),sm.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(sm)}intersectsSprite(e){return sm.center.set(0,0,0),sm.radius=.7071067811865476,sm.applyMatrix4(e.matrixWorld),this.intersectsSphere(sm)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(z2.x=i.normal.x>0?e.max.x:e.min.x,z2.y=i.normal.y>0?e.max.y:e.min.y,z2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(z2)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ome(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Iht(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,h=f.byteLength,m=t.createBuffer();t.bindBuffer(u,m),t.bufferData(u,f,d),c.onUploadCallback();let v;if(f instanceof Float32Array)v=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)v=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=t.SHORT;else if(f instanceof Uint32Array)v=t.UNSIGNED_INT;else if(f instanceof Int32Array)v=t.INT;else if(f instanceof Int8Array)v=t.BYTE;else if(f instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:h}}function o(c,u,f){const d=u.array,h=u._updateRange,m=u.updateRanges;if(t.bindBuffer(f,c),h.count===-1&&m.length===0&&t.bufferSubData(f,0,d),m.length!==0){for(let v=0,y=m.length;v<y;v++){const g=m[v];n?t.bufferSubData(f,g.start*d.BYTES_PER_ELEMENT,d,g.start,g.count):t.bufferSubData(f,g.start*d.BYTES_PER_ELEMENT,d.subarray(g.start,g.start+g.count))}u.clearUpdateRanges()}h.count!==-1&&(n?t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count):t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1),u.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,i(c,u));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(f.buffer,c,u),f.version=c.version}}return{get:a,remove:s,update:l}}class PM extends Dn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,u=l+1,f=e/s,d=n/l,h=[],m=[],v=[],y=[];for(let g=0;g<u;g++){const b=g*d-a;for(let x=0;x<c;x++){const _=x*f-o;m.push(_,-b,0),v.push(0,0,1),y.push(x/s),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let b=0;b<s;b++){const x=b+c*g,_=b+c*(g+1),T=b+1+c*(g+1),C=b+1+c*g;h.push(x,_,C),h.push(_,T,C)}this.setIndex(h),this.setAttribute("position",new Gt(m,3)),this.setAttribute("normal",new Gt(v,3)),this.setAttribute("uv",new Gt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PM(e.width,e.height,e.widthSegments,e.heightSegments)}}var Dht=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,jht=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Bht=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,zht=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,$ht=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Fht=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Uht=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Wht=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Vht=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Hht=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Ght=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Xht=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,qht=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Yht=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Kht=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Zht=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Jht=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Qht=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ept=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,tpt=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,npt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,rpt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,ipt=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,opt=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,apt=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,spt=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,lpt=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,cpt=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,upt=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,fpt=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,dpt="gl_FragColor = linearToOutputTexel( gl_FragColor );",hpt=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,ppt=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,mpt=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,gpt=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,vpt=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ypt=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,xpt=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,bpt=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,_pt=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,wpt=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Spt=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Mpt=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Ept=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Tpt=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Apt=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Cpt=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Ppt=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Rpt=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Opt=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Lpt=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kpt=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Npt=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Ipt=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Dpt=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,jpt=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Bpt=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,zpt=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$pt=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fpt=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Upt=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Wpt=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Vpt=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Hpt=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Gpt=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Xpt=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,qpt=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ypt=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Kpt=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Zpt=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Jpt=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Qpt=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,emt=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,tmt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nmt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rmt=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,imt=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,omt=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,amt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,smt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,lmt=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,cmt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,umt=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,fmt=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,dmt=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,hmt=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,pmt=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,mmt=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,gmt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,vmt=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ymt=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,xmt=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,bmt=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,_mt=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,wmt=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Smt=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Mmt=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Emt=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Tmt=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Amt=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Cmt=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Pmt=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Rmt=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Omt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Lmt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kmt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Nmt=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Imt=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Dmt=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jmt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Bmt=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zmt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$mt=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fmt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Umt=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Wmt=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Vmt=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Hmt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Gmt=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Xmt=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qmt=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ymt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Kmt=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zmt=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jmt=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qmt=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,egt=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tgt=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ngt=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,rgt=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,igt=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ogt=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,agt=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sgt=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lgt=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cgt=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ugt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fgt=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dgt=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,hgt=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pgt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Cn={alphahash_fragment:Dht,alphahash_pars_fragment:jht,alphamap_fragment:Bht,alphamap_pars_fragment:zht,alphatest_fragment:$ht,alphatest_pars_fragment:Fht,aomap_fragment:Uht,aomap_pars_fragment:Wht,batching_pars_vertex:Vht,batching_vertex:Hht,begin_vertex:Ght,beginnormal_vertex:Xht,bsdfs:qht,iridescence_fragment:Yht,bumpmap_pars_fragment:Kht,clipping_planes_fragment:Zht,clipping_planes_pars_fragment:Jht,clipping_planes_pars_vertex:Qht,clipping_planes_vertex:ept,color_fragment:tpt,color_pars_fragment:npt,color_pars_vertex:rpt,color_vertex:ipt,common:opt,cube_uv_reflection_fragment:apt,defaultnormal_vertex:spt,displacementmap_pars_vertex:lpt,displacementmap_vertex:cpt,emissivemap_fragment:upt,emissivemap_pars_fragment:fpt,colorspace_fragment:dpt,colorspace_pars_fragment:hpt,envmap_fragment:ppt,envmap_common_pars_fragment:mpt,envmap_pars_fragment:gpt,envmap_pars_vertex:vpt,envmap_physical_pars_fragment:Ppt,envmap_vertex:ypt,fog_vertex:xpt,fog_pars_vertex:bpt,fog_fragment:_pt,fog_pars_fragment:wpt,gradientmap_pars_fragment:Spt,lightmap_fragment:Mpt,lightmap_pars_fragment:Ept,lights_lambert_fragment:Tpt,lights_lambert_pars_fragment:Apt,lights_pars_begin:Cpt,lights_toon_fragment:Rpt,lights_toon_pars_fragment:Opt,lights_phong_fragment:Lpt,lights_phong_pars_fragment:kpt,lights_physical_fragment:Npt,lights_physical_pars_fragment:Ipt,lights_fragment_begin:Dpt,lights_fragment_maps:jpt,lights_fragment_end:Bpt,logdepthbuf_fragment:zpt,logdepthbuf_pars_fragment:$pt,logdepthbuf_pars_vertex:Fpt,logdepthbuf_vertex:Upt,map_fragment:Wpt,map_pars_fragment:Vpt,map_particle_fragment:Hpt,map_particle_pars_fragment:Gpt,metalnessmap_fragment:Xpt,metalnessmap_pars_fragment:qpt,morphcolor_vertex:Ypt,morphnormal_vertex:Kpt,morphtarget_pars_vertex:Zpt,morphtarget_vertex:Jpt,normal_fragment_begin:Qpt,normal_fragment_maps:emt,normal_pars_fragment:tmt,normal_pars_vertex:nmt,normal_vertex:rmt,normalmap_pars_fragment:imt,clearcoat_normal_fragment_begin:omt,clearcoat_normal_fragment_maps:amt,clearcoat_pars_fragment:smt,iridescence_pars_fragment:lmt,opaque_fragment:cmt,packing:umt,premultiplied_alpha_fragment:fmt,project_vertex:dmt,dithering_fragment:hmt,dithering_pars_fragment:pmt,roughnessmap_fragment:mmt,roughnessmap_pars_fragment:gmt,shadowmap_pars_fragment:vmt,shadowmap_pars_vertex:ymt,shadowmap_vertex:xmt,shadowmask_pars_fragment:bmt,skinbase_vertex:_mt,skinning_pars_vertex:wmt,skinning_vertex:Smt,skinnormal_vertex:Mmt,specularmap_fragment:Emt,specularmap_pars_fragment:Tmt,tonemapping_fragment:Amt,tonemapping_pars_fragment:Cmt,transmission_fragment:Pmt,transmission_pars_fragment:Rmt,uv_pars_fragment:Omt,uv_pars_vertex:Lmt,uv_vertex:kmt,worldpos_vertex:Nmt,background_vert:Imt,background_frag:Dmt,backgroundCube_vert:jmt,backgroundCube_frag:Bmt,cube_vert:zmt,cube_frag:$mt,depth_vert:Fmt,depth_frag:Umt,distanceRGBA_vert:Wmt,distanceRGBA_frag:Vmt,equirect_vert:Hmt,equirect_frag:Gmt,linedashed_vert:Xmt,linedashed_frag:qmt,meshbasic_vert:Ymt,meshbasic_frag:Kmt,meshlambert_vert:Zmt,meshlambert_frag:Jmt,meshmatcap_vert:Qmt,meshmatcap_frag:egt,meshnormal_vert:tgt,meshnormal_frag:ngt,meshphong_vert:rgt,meshphong_frag:igt,meshphysical_vert:ogt,meshphysical_frag:agt,meshtoon_vert:sgt,meshtoon_frag:lgt,points_vert:cgt,points_frag:ugt,shadow_vert:fgt,shadow_frag:dgt,sprite_vert:hgt,sprite_frag:pgt},Ot={common:{diffuse:{value:new zt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new In},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new In}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new In}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new In}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new In},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new In},normalScale:{value:new ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new In},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new In}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new In}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new In}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0},uvTransform:{value:new In}},sprite:{diffuse:{value:new zt(16777215)},opacity:{value:1},center:{value:new ft(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new In},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0}}},_c={basic:{uniforms:Ia([Ot.common,Ot.specularmap,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.fog]),vertexShader:Cn.meshbasic_vert,fragmentShader:Cn.meshbasic_frag},lambert:{uniforms:Ia([Ot.common,Ot.specularmap,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.fog,Ot.lights,{emissive:{value:new zt(0)}}]),vertexShader:Cn.meshlambert_vert,fragmentShader:Cn.meshlambert_frag},phong:{uniforms:Ia([Ot.common,Ot.specularmap,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.fog,Ot.lights,{emissive:{value:new zt(0)},specular:{value:new zt(1118481)},shininess:{value:30}}]),vertexShader:Cn.meshphong_vert,fragmentShader:Cn.meshphong_frag},standard:{uniforms:Ia([Ot.common,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.roughnessmap,Ot.metalnessmap,Ot.fog,Ot.lights,{emissive:{value:new zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag},toon:{uniforms:Ia([Ot.common,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.gradientmap,Ot.fog,Ot.lights,{emissive:{value:new zt(0)}}]),vertexShader:Cn.meshtoon_vert,fragmentShader:Cn.meshtoon_frag},matcap:{uniforms:Ia([Ot.common,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.fog,{matcap:{value:null}}]),vertexShader:Cn.meshmatcap_vert,fragmentShader:Cn.meshmatcap_frag},points:{uniforms:Ia([Ot.points,Ot.fog]),vertexShader:Cn.points_vert,fragmentShader:Cn.points_frag},dashed:{uniforms:Ia([Ot.common,Ot.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cn.linedashed_vert,fragmentShader:Cn.linedashed_frag},depth:{uniforms:Ia([Ot.common,Ot.displacementmap]),vertexShader:Cn.depth_vert,fragmentShader:Cn.depth_frag},normal:{uniforms:Ia([Ot.common,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,{opacity:{value:1}}]),vertexShader:Cn.meshnormal_vert,fragmentShader:Cn.meshnormal_frag},sprite:{uniforms:Ia([Ot.sprite,Ot.fog]),vertexShader:Cn.sprite_vert,fragmentShader:Cn.sprite_frag},background:{uniforms:{uvTransform:{value:new In},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Cn.background_vert,fragmentShader:Cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Cn.backgroundCube_vert,fragmentShader:Cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Cn.cube_vert,fragmentShader:Cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Cn.equirect_vert,fragmentShader:Cn.equirect_frag},distanceRGBA:{uniforms:Ia([Ot.common,Ot.displacementmap,{referencePosition:{value:new he},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Cn.distanceRGBA_vert,fragmentShader:Cn.distanceRGBA_frag},shadow:{uniforms:Ia([Ot.lights,Ot.fog,{color:{value:new zt(0)},opacity:{value:1}}]),vertexShader:Cn.shadow_vert,fragmentShader:Cn.shadow_frag}};_c.physical={uniforms:Ia([_c.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new In},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new In},clearcoatNormalScale:{value:new ft(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new In},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new In},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new In},sheen:{value:0},sheenColor:{value:new zt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new In},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new In},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new In},transmissionSamplerSize:{value:new ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new In},attenuationDistance:{value:0},attenuationColor:{value:new zt(0)},specularColor:{value:new zt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new In},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new In},anisotropyVector:{value:new ft},anisotropyMap:{value:null},anisotropyMapTransform:{value:new In}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag};const $2={r:0,b:0,g:0};function mgt(t,e,n,r,i,o,a){const s=new zt(0);let l=o===!0?0:1,c,u,f=null,d=0,h=null;function m(y,g){let b=!1,x=g.isScene===!0?g.background:null;x&&x.isTexture&&(x=(g.backgroundBlurriness>0?n:e).get(x)),x===null?v(s,l):x&&x.isColor&&(v(x,1),b=!0);const _=t.xr.getEnvironmentBlendMode();_==="additive"?r.buffers.color.setClear(0,0,0,1,a):_==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||b)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),x&&(x.isCubeTexture||x.mapping===ab)?(u===void 0&&(u=new eo(new cv(1,1,1),new zc({name:"BackgroundCubeMaterial",uniforms:fx(_c.backgroundCube.uniforms),vertexShader:_c.backgroundCube.vertexShader,fragmentShader:_c.backgroundCube.fragmentShader,side:Ga,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,C,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=xr.getTransfer(x.colorSpace)!==Ur,(f!==x||d!==x.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=x,d=x.version,h=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new eo(new PM(2,2),new zc({name:"BackgroundMaterial",uniforms:fx(_c.background.uniforms),vertexShader:_c.background.vertexShader,fragmentShader:_c.background.fragmentShader,side:hd,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=xr.getTransfer(x.colorSpace)!==Ur,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(f!==x||d!==x.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=x,d=x.version,h=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function v(y,g){y.getRGB($2,nme(t)),r.buffers.color.setClear($2.r,$2.g,$2.b,g,a)}return{getClearColor:function(){return s},setClearColor:function(y,g=1){s.set(y),l=g,v(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(s,l)},render:m}}function ggt(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=y(null);let c=l,u=!1;function f(z,F,W,X,B){let G=!1;if(a){const q=v(X,W,F);c!==q&&(c=q,h(c.object)),G=g(z,X,W,B),G&&b(z,X,W,B)}else{const q=F.wireframe===!0;(c.geometry!==X.id||c.program!==W.id||c.wireframe!==q)&&(c.geometry=X.id,c.program=W.id,c.wireframe=q,G=!0)}B!==null&&n.update(B,t.ELEMENT_ARRAY_BUFFER),(G||u)&&(u=!1,I(z,F,W,X),B!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(B).buffer))}function d(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function h(z){return r.isWebGL2?t.bindVertexArray(z):o.bindVertexArrayOES(z)}function m(z){return r.isWebGL2?t.deleteVertexArray(z):o.deleteVertexArrayOES(z)}function v(z,F,W){const X=W.wireframe===!0;let B=s[z.id];B===void 0&&(B={},s[z.id]=B);let G=B[F.id];G===void 0&&(G={},B[F.id]=G);let q=G[X];return q===void 0&&(q=y(d()),G[X]=q),q}function y(z){const F=[],W=[],X=[];for(let B=0;B<i;B++)F[B]=0,W[B]=0,X[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:W,attributeDivisors:X,object:z,attributes:{},index:null}}function g(z,F,W,X){const B=c.attributes,G=F.attributes;let q=0;const te=W.getAttributes();for(const Y in te)if(te[Y].location>=0){const re=B[Y];let oe=G[Y];if(oe===void 0&&(Y==="instanceMatrix"&&z.instanceMatrix&&(oe=z.instanceMatrix),Y==="instanceColor"&&z.instanceColor&&(oe=z.instanceColor)),re===void 0||re.attribute!==oe||oe&&re.data!==oe.data)return!0;q++}return c.attributesNum!==q||c.index!==X}function b(z,F,W,X){const B={},G=F.attributes;let q=0;const te=W.getAttributes();for(const Y in te)if(te[Y].location>=0){let re=G[Y];re===void 0&&(Y==="instanceMatrix"&&z.instanceMatrix&&(re=z.instanceMatrix),Y==="instanceColor"&&z.instanceColor&&(re=z.instanceColor));const oe={};oe.attribute=re,re&&re.data&&(oe.data=re.data),B[Y]=oe,q++}c.attributes=B,c.attributesNum=q,c.index=X}function x(){const z=c.newAttributes;for(let F=0,W=z.length;F<W;F++)z[F]=0}function _(z){T(z,0)}function T(z,F){const W=c.newAttributes,X=c.enabledAttributes,B=c.attributeDivisors;W[z]=1,X[z]===0&&(t.enableVertexAttribArray(z),X[z]=1),B[z]!==F&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,F),B[z]=F)}function C(){const z=c.newAttributes,F=c.enabledAttributes;for(let W=0,X=F.length;W<X;W++)F[W]!==z[W]&&(t.disableVertexAttribArray(W),F[W]=0)}function P(z,F,W,X,B,G,q){q===!0?t.vertexAttribIPointer(z,F,W,B,G):t.vertexAttribPointer(z,F,W,X,B,G)}function I(z,F,W,X){if(r.isWebGL2===!1&&(z.isInstancedMesh||X.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const B=X.attributes,G=W.getAttributes(),q=F.defaultAttributeValues;for(const te in G){const Y=G[te];if(Y.location>=0){let J=B[te];if(J===void 0&&(te==="instanceMatrix"&&z.instanceMatrix&&(J=z.instanceMatrix),te==="instanceColor"&&z.instanceColor&&(J=z.instanceColor)),J!==void 0){const re=J.normalized,oe=J.itemSize,pe=n.get(J);if(pe===void 0)continue;const fe=pe.buffer,we=pe.type,ge=pe.bytesPerElement,xe=r.isWebGL2===!0&&(we===t.INT||we===t.UNSIGNED_INT||J.gpuType===V8);if(J.isInterleavedBufferAttribute){const Te=J.data,ee=Te.stride,Ce=J.offset;if(Te.isInstancedInterleavedBuffer){for(let ae=0;ae<Y.locationSize;ae++)T(Y.location+ae,Te.meshPerAttribute);z.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Te.meshPerAttribute*Te.count)}else for(let ae=0;ae<Y.locationSize;ae++)_(Y.location+ae);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let ae=0;ae<Y.locationSize;ae++)P(Y.location+ae,oe/Y.locationSize,we,re,ee*ge,(Ce+oe/Y.locationSize*ae)*ge,xe)}else{if(J.isInstancedBufferAttribute){for(let Te=0;Te<Y.locationSize;Te++)T(Y.location+Te,J.meshPerAttribute);z.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let Te=0;Te<Y.locationSize;Te++)_(Y.location+Te);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let Te=0;Te<Y.locationSize;Te++)P(Y.location+Te,oe/Y.locationSize,we,re,oe*ge,oe/Y.locationSize*Te*ge,xe)}}else if(q!==void 0){const re=q[te];if(re!==void 0)switch(re.length){case 2:t.vertexAttrib2fv(Y.location,re);break;case 3:t.vertexAttrib3fv(Y.location,re);break;case 4:t.vertexAttrib4fv(Y.location,re);break;default:t.vertexAttrib1fv(Y.location,re)}}}}C()}function O(){U();for(const z in s){const F=s[z];for(const W in F){const X=F[W];for(const B in X)m(X[B].object),delete X[B];delete F[W]}delete s[z]}}function N(z){if(s[z.id]===void 0)return;const F=s[z.id];for(const W in F){const X=F[W];for(const B in X)m(X[B].object),delete X[B];delete F[W]}delete s[z.id]}function D(z){for(const F in s){const W=s[F];if(W[z.id]===void 0)continue;const X=W[z.id];for(const B in X)m(X[B].object),delete X[B];delete W[z.id]}}function U(){V(),u=!0,c!==l&&(c=l,h(c.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:U,resetDefaultState:V,dispose:O,releaseStatesOfGeometry:N,releaseStatesOfProgram:D,initAttributes:x,enableAttribute:_,disableUnusedAttributes:C}}function vgt(t,e,n,r){const i=r.isWebGL2;let o;function a(u){o=u}function s(u,f){t.drawArrays(o,u,f),n.update(f,o,1)}function l(u,f,d){if(d===0)return;let h,m;if(i)h=t,m="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[m](o,u,f,d),n.update(f,o,d)}function c(u,f,d){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let m=0;m<d;m++)this.render(u[m],f[m]);else{h.multiDrawArraysWEBGL(o,u,0,f,0,d);let m=0;for(let v=0;v<d;v++)m+=f[v];n.update(m,o,1)}}this.setMode=a,this.render=s,this.renderInstances=l,this.renderMultiDraw=c}function ygt(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=a||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),x=d>0,_=a||e.has("OES_texture_float"),T=x&&_,C=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:m,maxAttributes:v,maxVertexUniforms:y,maxVaryings:g,maxFragmentUniforms:b,vertexTextures:x,floatFragmentTextures:_,floatVertexTextures:T,maxSamples:C}}function xgt(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Of,s=new In,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,h){const m=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,g=t.get(f);if(!i||m===null||m.length===0||o&&!y)o?u(null):c();else{const b=o?0:r,x=b*4;let _=g.clippingState||null;l.value=_,_=u(m,d,x,h);for(let T=0;T!==x;++T)_[T]=n[T];g.clippingState=_,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,h,m){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,m!==!0||y===null){const g=h+v*4,b=d.matrixWorldInverse;s.getNormalMatrix(b),(y===null||y.length<g)&&(y=new Float32Array(g));for(let x=0,_=h;x!==v;++x,_+=4)a.copy(f[x]).applyMatrix4(b,s),a.normal.toArray(y,_),y[_+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function bgt(t){let e=new WeakMap;function n(a,s){return s===iS?a.mapping=pd:s===oS&&(a.mapping=dp),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===iS||s===oS)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new ime(l.height/2);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Kh extends TM{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Uy=4,nZ=[.125,.215,.35,.446,.526,.582],Cm=20,tI=new Kh,rZ=new zt;let nI=null,rI=0,iI=0;const Mm=(1+Math.sqrt(5))/2,Qv=1/Mm,iZ=[new he(1,1,1),new he(-1,1,1),new he(1,1,-1),new he(-1,1,-1),new he(0,Mm,Qv),new he(0,Mm,-Qv),new he(Qv,0,Mm),new he(-Qv,0,Mm),new he(Mm,Qv,0),new he(-Mm,Qv,0)];class CB{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){nI=this._renderer.getRenderTarget(),rI=this._renderer.getActiveCubeFace(),iI=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sZ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=aZ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(nI,rI,iI),e.scissorTest=!1,F2(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===pd||e.mapping===dp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),nI=this._renderer.getRenderTarget(),rI=this._renderer.getActiveCubeFace(),iI=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ji,minFilter:ji,generateMipmaps:!1,type:lx,format:za,colorSpace:Uu,depthBuffer:!1},i=oZ(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=oZ(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_gt(o)),this._blurMaterial=wgt(o,e,n)}return i}_compileMaterial(e){const n=new eo(this._lodPlanes[0],e);this._renderer.compile(n,tI)}_sceneToCubeUV(e,n,r,i){const s=new Bi(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(rZ),u.toneMapping=Cu,u.autoClear=!1;const h=new Pp({name:"PMREM.Background",side:Ga,depthWrite:!1,depthTest:!1}),m=new eo(new cv,h);let v=!1;const y=e.background;y?y.isColor&&(h.color.copy(y),e.background=null,v=!0):(h.color.copy(rZ),v=!0);for(let g=0;g<6;g++){const b=g%3;b===0?(s.up.set(0,l[g],0),s.lookAt(c[g],0,0)):b===1?(s.up.set(0,0,l[g]),s.lookAt(0,c[g],0)):(s.up.set(0,l[g],0),s.lookAt(0,0,c[g]));const x=this._cubeSize;F2(i,b*x,g>2?x:0,x,x),u.setRenderTarget(i),v&&u.render(m,s),u.render(e,s)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===pd||e.mapping===dp;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=sZ()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=aZ());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new eo(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;F2(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,tI)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=iZ[(i-1)%iZ.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new eo(this._lodPlanes[i],c),d=c.uniforms,h=this._sizeLods[r]-1,m=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Cm-1),v=o/m,y=isFinite(o)?1+Math.floor(u*v):Cm;y>Cm&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Cm}`);const g=[];let b=0;for(let P=0;P<Cm;++P){const I=P/v,O=Math.exp(-I*I/2);g.push(O),P===0?b+=O:P<y&&(b+=2*O)}for(let P=0;P<g.length;P++)g[P]=g[P]/b;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=g,d.latitudinal.value=a==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:x}=this;d.dTheta.value=m,d.mipInt.value=x-r;const _=this._sizeLods[i],T=3*_*(i>x-Uy?i-x+Uy:0),C=4*(this._cubeSize-_);F2(n,T,C,3*_,2*_),l.setRenderTarget(n),l.render(f,tI)}}function _gt(t){const e=[],n=[],r=[];let i=t;const o=t-Uy+1+nZ.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-Uy?l=nZ[a-t+Uy-1]:a===0&&(l=0),r.push(l);const c=1/(s-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],h=6,m=6,v=3,y=2,g=1,b=new Float32Array(v*m*h),x=new Float32Array(y*m*h),_=new Float32Array(g*m*h);for(let C=0;C<h;C++){const P=C%3*2/3-1,I=C>2?0:-1,O=[P,I,0,P+2/3,I,0,P+2/3,I+1,0,P,I,0,P+2/3,I+1,0,P,I+1,0];b.set(O,v*m*C),x.set(d,y*m*C);const N=[C,C,C,C,C,C];_.set(N,g*m*C)}const T=new Dn;T.setAttribute("position",new wr(b,v)),T.setAttribute("uv",new wr(x,y)),T.setAttribute("faceIndex",new wr(_,g)),e.push(T),i>Uy&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function oZ(t,e,n){const r=new Bc(t,e,n);return r.texture.mapping=ab,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function F2(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function wgt(t,e,n){const r=new Float32Array(Cm),i=new he(0,1,0);return new zc({name:"SphericalGaussianBlur",defines:{n:Cm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:o6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Zf,depthTest:!1,depthWrite:!1})}function aZ(){return new zc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:o6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Zf,depthTest:!1,depthWrite:!1})}function sZ(){return new zc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:o6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Zf,depthTest:!1,depthWrite:!1})}function o6(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Sgt(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===iS||l===oS,u=l===pd||l===dp;if(c||u)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let f=e.get(s);return n===null&&(n=new CB(t)),f=c?n.fromEquirectangular(s,f):n.fromCubemap(s,f),e.set(s,f),f.texture}else{if(e.has(s))return e.get(s).texture;{const f=s.image;if(c&&f&&f.height>0||u&&f&&i(f)){n===null&&(n=new CB(t));const d=c?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,d),s.addEventListener("dispose",o),d.texture}else return null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Mgt(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Egt(t,e,n,r){const i={},o=new WeakMap;function a(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const m in d.attributes)e.remove(d.attributes[m]);for(const m in d.morphAttributes){const v=d.morphAttributes[m];for(let y=0,g=v.length;y<g;y++)e.remove(v[y])}d.removeEventListener("dispose",a),delete i[d.id];const h=o.get(d);h&&(e.remove(h),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(f,d){return i[d.id]===!0||(d.addEventListener("dispose",a),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const m in d)e.update(d[m],t.ARRAY_BUFFER);const h=f.morphAttributes;for(const m in h){const v=h[m];for(let y=0,g=v.length;y<g;y++)e.update(v[y],t.ARRAY_BUFFER)}}function c(f){const d=[],h=f.index,m=f.attributes.position;let v=0;if(h!==null){const b=h.array;v=h.version;for(let x=0,_=b.length;x<_;x+=3){const T=b[x+0],C=b[x+1],P=b[x+2];d.push(T,C,C,P,P,T)}}else if(m!==void 0){const b=m.array;v=m.version;for(let x=0,_=b.length/3-1;x<_;x+=3){const T=x+0,C=x+1,P=x+2;d.push(T,C,C,P,P,T)}}else return;const y=new(Jpe(d)?i6:r6)(d,1);y.version=v;const g=o.get(f);g&&e.remove(g),o.set(f,y)}function u(f){const d=o.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return o.get(f)}return{get:s,update:l,getWireframeAttribute:u}}function Tgt(t,e,n,r){const i=r.isWebGL2;let o;function a(h){o=h}let s,l;function c(h){s=h.type,l=h.bytesPerElement}function u(h,m){t.drawElements(o,m,s,h*l),n.update(m,o,1)}function f(h,m,v){if(v===0)return;let y,g;if(i)y=t,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](o,m,s,h*l,v),n.update(m,o,v)}function d(h,m,v){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<v;g++)this.render(h[g]/l,m[g]);else{y.multiDrawElementsWEBGL(o,m,0,s,h,0,v);let g=0;for(let b=0;b<v;b++)g+=m[b];n.update(g,o,1)}}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=f,this.renderMultiDraw=d}function Agt(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Cgt(t,e){return t[0]-e[0]}function Pgt(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Rgt(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new Jn,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,u,f){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let y=o.get(u);if(y===void 0||y.count!==v){let F=function(){V.dispose(),o.delete(u),u.removeEventListener("dispose",F)};var h=F;y!==void 0&&y.texture.dispose();const x=u.morphAttributes.position!==void 0,_=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,C=u.morphAttributes.position||[],P=u.morphAttributes.normal||[],I=u.morphAttributes.color||[];let O=0;x===!0&&(O=1),_===!0&&(O=2),T===!0&&(O=3);let N=u.attributes.position.count*O,D=1;N>e.maxTextureSize&&(D=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const U=new Float32Array(N*D*4*v),V=new DL(U,N,D,v);V.type=Tc,V.needsUpdate=!0;const z=O*4;for(let W=0;W<v;W++){const X=C[W],B=P[W],G=I[W],q=N*D*4*W;for(let te=0;te<X.count;te++){const Y=te*z;x===!0&&(a.fromBufferAttribute(X,te),U[q+Y+0]=a.x,U[q+Y+1]=a.y,U[q+Y+2]=a.z,U[q+Y+3]=0),_===!0&&(a.fromBufferAttribute(B,te),U[q+Y+4]=a.x,U[q+Y+5]=a.y,U[q+Y+6]=a.z,U[q+Y+7]=0),T===!0&&(a.fromBufferAttribute(G,te),U[q+Y+8]=a.x,U[q+Y+9]=a.y,U[q+Y+10]=a.z,U[q+Y+11]=G.itemSize===4?a.w:1)}}y={count:v,texture:V,size:new ft(N,D)},o.set(u,y),u.addEventListener("dispose",F)}let g=0;for(let x=0;x<d.length;x++)g+=d[x];const b=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(t,"morphTargetBaseInfluence",b),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const m=d===void 0?0:d.length;let v=r[u.id];if(v===void 0||v.length!==m){v=[];for(let _=0;_<m;_++)v[_]=[_,0];r[u.id]=v}for(let _=0;_<m;_++){const T=v[_];T[0]=_,T[1]=d[_]}v.sort(Pgt);for(let _=0;_<8;_++)_<m&&v[_][1]?(s[_][0]=v[_][0],s[_][1]=v[_][1]):(s[_][0]=Number.MAX_SAFE_INTEGER,s[_][1]=0);s.sort(Cgt);const y=u.morphAttributes.position,g=u.morphAttributes.normal;let b=0;for(let _=0;_<8;_++){const T=s[_],C=T[0],P=T[1];C!==Number.MAX_SAFE_INTEGER&&P?(y&&u.getAttribute("morphTarget"+_)!==y[C]&&u.setAttribute("morphTarget"+_,y[C]),g&&u.getAttribute("morphNormal"+_)!==g[C]&&u.setAttribute("morphNormal"+_,g[C]),i[_]=P,b+=P):(y&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),g&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),i[_]=0)}const x=u.morphTargetsRelative?1:1-b;f.getUniforms().setValue(t,"morphTargetBaseInfluence",x),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Ogt(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}class a6 extends Fi{constructor(e,n,r,i,o,a,s,l,c,u){if(u=u!==void 0?u:qh,u!==qh&&u!==Ig)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===qh&&(r=zf),r===void 0&&u===Ig&&(r=Xh),super(null,i,o,a,s,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Ii,this.minFilter=l!==void 0?l:Ii,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const ame=new Fi,sme=new a6(1,1);sme.compareFunction=Q8;const lme=new DL,cme=new n6,ume=new AM,lZ=[],cZ=[],uZ=new Float32Array(16),fZ=new Float32Array(9),dZ=new Float32Array(4);function sb(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=lZ[i];if(o===void 0&&(o=new Float32Array(i),lZ[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function mo(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function go(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function jL(t,e){let n=cZ[e];n===void 0&&(n=new Int32Array(e),cZ[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Lgt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function kgt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mo(n,e))return;t.uniform2fv(this.addr,e),go(n,e)}}function Ngt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(mo(n,e))return;t.uniform3fv(this.addr,e),go(n,e)}}function Igt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mo(n,e))return;t.uniform4fv(this.addr,e),go(n,e)}}function Dgt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mo(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),go(n,e)}else{if(mo(n,r))return;dZ.set(r),t.uniformMatrix2fv(this.addr,!1,dZ),go(n,r)}}function jgt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mo(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),go(n,e)}else{if(mo(n,r))return;fZ.set(r),t.uniformMatrix3fv(this.addr,!1,fZ),go(n,r)}}function Bgt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mo(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),go(n,e)}else{if(mo(n,r))return;uZ.set(r),t.uniformMatrix4fv(this.addr,!1,uZ),go(n,r)}}function zgt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function $gt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mo(n,e))return;t.uniform2iv(this.addr,e),go(n,e)}}function Fgt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mo(n,e))return;t.uniform3iv(this.addr,e),go(n,e)}}function Ugt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mo(n,e))return;t.uniform4iv(this.addr,e),go(n,e)}}function Wgt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Vgt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mo(n,e))return;t.uniform2uiv(this.addr,e),go(n,e)}}function Hgt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mo(n,e))return;t.uniform3uiv(this.addr,e),go(n,e)}}function Ggt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mo(n,e))return;t.uniform4uiv(this.addr,e),go(n,e)}}function Xgt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?sme:ame;n.setTexture2D(e||o,i)}function qgt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||cme,i)}function Ygt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||ume,i)}function Kgt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||lme,i)}function Zgt(t){switch(t){case 5126:return Lgt;case 35664:return kgt;case 35665:return Ngt;case 35666:return Igt;case 35674:return Dgt;case 35675:return jgt;case 35676:return Bgt;case 5124:case 35670:return zgt;case 35667:case 35671:return $gt;case 35668:case 35672:return Fgt;case 35669:case 35673:return Ugt;case 5125:return Wgt;case 36294:return Vgt;case 36295:return Hgt;case 36296:return Ggt;case 35678:case 36198:case 36298:case 36306:case 35682:return Xgt;case 35679:case 36299:case 36307:return qgt;case 35680:case 36300:case 36308:case 36293:return Ygt;case 36289:case 36303:case 36311:case 36292:return Kgt}}function Jgt(t,e){t.uniform1fv(this.addr,e)}function Qgt(t,e){const n=sb(e,this.size,2);t.uniform2fv(this.addr,n)}function evt(t,e){const n=sb(e,this.size,3);t.uniform3fv(this.addr,n)}function tvt(t,e){const n=sb(e,this.size,4);t.uniform4fv(this.addr,n)}function nvt(t,e){const n=sb(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function rvt(t,e){const n=sb(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function ivt(t,e){const n=sb(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ovt(t,e){t.uniform1iv(this.addr,e)}function avt(t,e){t.uniform2iv(this.addr,e)}function svt(t,e){t.uniform3iv(this.addr,e)}function lvt(t,e){t.uniform4iv(this.addr,e)}function cvt(t,e){t.uniform1uiv(this.addr,e)}function uvt(t,e){t.uniform2uiv(this.addr,e)}function fvt(t,e){t.uniform3uiv(this.addr,e)}function dvt(t,e){t.uniform4uiv(this.addr,e)}function hvt(t,e,n){const r=this.cache,i=e.length,o=jL(n,i);mo(r,o)||(t.uniform1iv(this.addr,o),go(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||ame,o[a])}function pvt(t,e,n){const r=this.cache,i=e.length,o=jL(n,i);mo(r,o)||(t.uniform1iv(this.addr,o),go(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||cme,o[a])}function mvt(t,e,n){const r=this.cache,i=e.length,o=jL(n,i);mo(r,o)||(t.uniform1iv(this.addr,o),go(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||ume,o[a])}function gvt(t,e,n){const r=this.cache,i=e.length,o=jL(n,i);mo(r,o)||(t.uniform1iv(this.addr,o),go(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||lme,o[a])}function vvt(t){switch(t){case 5126:return Jgt;case 35664:return Qgt;case 35665:return evt;case 35666:return tvt;case 35674:return nvt;case 35675:return rvt;case 35676:return ivt;case 5124:case 35670:return ovt;case 35667:case 35671:return avt;case 35668:case 35672:return svt;case 35669:case 35673:return lvt;case 5125:return cvt;case 36294:return uvt;case 36295:return fvt;case 36296:return dvt;case 35678:case 36198:case 36298:case 36306:case 35682:return hvt;case 35679:case 36299:case 36307:return pvt;case 35680:case 36300:case 36308:case 36293:return mvt;case 36289:case 36303:case 36311:case 36292:return gvt}}class yvt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Zgt(n.type)}}class xvt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=vvt(n.type)}}class bvt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const oI=/(\w+)(\])?(\[|\.)?/g;function hZ(t,e){t.seq.push(e),t.map[e.id]=e}function _vt(t,e,n){const r=t.name,i=r.length;for(oI.lastIndex=0;;){const o=oI.exec(r),a=oI.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){hZ(n,c===void 0?new yvt(s,t,e):new xvt(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new bvt(s),hZ(n,f)),n=f}}}class sA{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);_vt(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function pZ(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const wvt=37297;let Svt=0;function Mvt(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function Evt(t){const e=xr.getPrimaries(xr.workingColorSpace),n=xr.getPrimaries(t);let r;switch(e===n?r="":e===hS&&n===dS?r="LinearDisplayP3ToLinearSRGB":e===dS&&n===hS&&(r="LinearSRGBToLinearDisplayP3"),t){case Uu:case MM:return[r,"LinearTransferOETF"];case fo:case IL:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function mZ(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Mvt(t.getShaderSource(e),a)}else return i}function Tvt(t,e){const n=Evt(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Avt(t,e){let n;switch(e){case Mpe:n="Linear";break;case Epe:n="Reinhard";break;case Tpe:n="OptimizedCineon";break;case U8:n="ACESFilmic";break;case Cpe:n="AgX";break;case Ape:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Cvt(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wy).join(`
`)}function Pvt(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Wy).join(`
`)}function Rvt(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Ovt(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function Wy(t){return t!==""}function gZ(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function vZ(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Lvt=/^[ \t]*#include +<([\w\d./]+)>/gm;function PB(t){return t.replace(Lvt,Nvt)}const kvt=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Nvt(t,e){let n=Cn[e];if(n===void 0){const r=kvt.get(e);if(r!==void 0)n=Cn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return PB(n)}const Ivt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yZ(t){return t.replace(Ivt,Dvt)}function Dvt(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function xZ(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function jvt(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===OL?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===x1?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===pc&&(e="SHADOWMAP_TYPE_VSM"),e}function Bvt(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case pd:case dp:e="ENVMAP_TYPE_CUBE";break;case ab:e="ENVMAP_TYPE_CUBE_UV";break}return e}function zvt(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case dp:e="ENVMAP_MODE_REFRACTION";break}return e}function $vt(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case SM:e="ENVMAP_BLENDING_MULTIPLY";break;case wpe:e="ENVMAP_BLENDING_MIX";break;case Spe:e="ENVMAP_BLENDING_ADD";break}return e}function Fvt(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Uvt(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=jvt(n),c=Bvt(n),u=zvt(n),f=$vt(n),d=Fvt(n),h=n.isWebGL2?"":Cvt(n),m=Pvt(n),v=Rvt(o),y=i.createProgram();let g,b,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Wy).join(`
`),g.length>0&&(g+=`
`),b=[h,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Wy).join(`
`),b.length>0&&(b+=`
`)):(g=[xZ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Wy).join(`
`),b=[h,xZ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Cu?"#define TONE_MAPPING":"",n.toneMapping!==Cu?Cn.tonemapping_pars_fragment:"",n.toneMapping!==Cu?Avt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Cn.colorspace_pars_fragment,Tvt("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Wy).join(`
`)),a=PB(a),a=gZ(a,n),a=vZ(a,n),s=PB(s),s=gZ(s,n),s=vZ(s,n),a=yZ(a),s=yZ(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,g=[m,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,b=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===TB?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===TB?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const _=x+g+a,T=x+b+s,C=pZ(i,i.VERTEX_SHADER,_),P=pZ(i,i.FRAGMENT_SHADER,T);i.attachShader(y,C),i.attachShader(y,P),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function I(U){if(t.debug.checkShaderErrors){const V=i.getProgramInfoLog(y).trim(),z=i.getShaderInfoLog(C).trim(),F=i.getShaderInfoLog(P).trim();let W=!0,X=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(W=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,C,P);else{const B=mZ(i,C,"vertex"),G=mZ(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+V+`
`+B+`
`+G)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(z===""||F==="")&&(X=!1);X&&(U.diagnostics={runnable:W,programLog:V,vertexShader:{log:z,prefix:g},fragmentShader:{log:F,prefix:b}})}i.deleteShader(C),i.deleteShader(P),O=new sA(i,y),N=Ovt(i,y)}let O;this.getUniforms=function(){return O===void 0&&I(this),O};let N;this.getAttributes=function(){return N===void 0&&I(this),N};let D=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=i.getProgramParameter(y,wvt)),D},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Svt++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=P,this}let Wvt=0;class Vvt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Hvt(e),n.set(e,r)),r}}class Hvt{constructor(e){this.id=Wvt++,this.code=e,this.usedTimes=0}}function Gvt(t,e,n,r,i,o,a){const s=new lg,l=new Vvt,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(O){return O===0?"uv":`uv${O}`}function y(O,N,D,U,V){const z=U.fog,F=V.geometry,W=O.isMeshStandardMaterial?U.environment:null,X=(O.isMeshStandardMaterial?n:e).get(O.envMap||W),B=X&&X.mapping===ab?X.image.height:null,G=m[O.type];O.precision!==null&&(h=i.getMaxPrecision(O.precision),h!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",h,"instead."));const q=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,te=q!==void 0?q.length:0;let Y=0;F.morphAttributes.position!==void 0&&(Y=1),F.morphAttributes.normal!==void 0&&(Y=2),F.morphAttributes.color!==void 0&&(Y=3);let J,re,oe,pe;if(G){const it=_c[G];J=it.vertexShader,re=it.fragmentShader}else J=O.vertexShader,re=O.fragmentShader,l.update(O),oe=l.getVertexShaderID(O),pe=l.getFragmentShaderID(O);const fe=t.getRenderTarget(),we=V.isInstancedMesh===!0,ge=V.isBatchedMesh===!0,xe=!!O.map,Te=!!O.matcap,ee=!!X,Ce=!!O.aoMap,ae=!!O.lightMap,be=!!O.bumpMap,_e=!!O.normalMap,He=!!O.displacementMap,Ve=!!O.emissiveMap,ne=!!O.metalnessMap,Q=!!O.roughnessMap,ve=O.anisotropy>0,Se=O.clearcoat>0,Le=O.iridescence>0,Ie=O.sheen>0,Ke=O.transmission>0,Ne=ve&&!!O.anisotropyMap,Ye=Se&&!!O.clearcoatMap,et=Se&&!!O.clearcoatNormalMap,vt=Se&&!!O.clearcoatRoughnessMap,ke=Le&&!!O.iridescenceMap,Ze=Le&&!!O.iridescenceThicknessMap,at=Ie&&!!O.sheenColorMap,pt=Ie&&!!O.sheenRoughnessMap,me=!!O.specularMap,Ae=!!O.specularColorMap,le=!!O.specularIntensityMap,Ee=Ke&&!!O.transmissionMap,Ue=Ke&&!!O.thicknessMap,We=!!O.gradientMap,ze=!!O.alphaMap,ce=O.alphaTest>0,Re=!!O.alphaHash,Xe=!!O.extensions,ct=!!F.attributes.uv1,De=!!F.attributes.uv2,st=!!F.attributes.uv3;let mt=Cu;return O.toneMapped&&(fe===null||fe.isXRRenderTarget===!0)&&(mt=t.toneMapping),{isWebGL2:u,shaderID:G,shaderType:O.type,shaderName:O.name,vertexShader:J,fragmentShader:re,defines:O.defines,customVertexShaderID:oe,customFragmentShaderID:pe,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:h,batching:ge,instancing:we,instancingColor:we&&V.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:fe===null?t.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:Uu,map:xe,matcap:Te,envMap:ee,envMapMode:ee&&X.mapping,envMapCubeUVHeight:B,aoMap:Ce,lightMap:ae,bumpMap:be,normalMap:_e,displacementMap:d&&He,emissiveMap:Ve,normalMapObjectSpace:_e&&O.normalMapType===Wpe,normalMapTangentSpace:_e&&O.normalMapType===Cp,metalnessMap:ne,roughnessMap:Q,anisotropy:ve,anisotropyMap:Ne,clearcoat:Se,clearcoatMap:Ye,clearcoatNormalMap:et,clearcoatRoughnessMap:vt,iridescence:Le,iridescenceMap:ke,iridescenceThicknessMap:Ze,sheen:Ie,sheenColorMap:at,sheenRoughnessMap:pt,specularMap:me,specularColorMap:Ae,specularIntensityMap:le,transmission:Ke,transmissionMap:Ee,thicknessMap:Ue,gradientMap:We,opaque:O.transparent===!1&&O.blending===ag,alphaMap:ze,alphaTest:ce,alphaHash:Re,combine:O.combine,mapUv:xe&&v(O.map.channel),aoMapUv:Ce&&v(O.aoMap.channel),lightMapUv:ae&&v(O.lightMap.channel),bumpMapUv:be&&v(O.bumpMap.channel),normalMapUv:_e&&v(O.normalMap.channel),displacementMapUv:He&&v(O.displacementMap.channel),emissiveMapUv:Ve&&v(O.emissiveMap.channel),metalnessMapUv:ne&&v(O.metalnessMap.channel),roughnessMapUv:Q&&v(O.roughnessMap.channel),anisotropyMapUv:Ne&&v(O.anisotropyMap.channel),clearcoatMapUv:Ye&&v(O.clearcoatMap.channel),clearcoatNormalMapUv:et&&v(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:vt&&v(O.clearcoatRoughnessMap.channel),iridescenceMapUv:ke&&v(O.iridescenceMap.channel),iridescenceThicknessMapUv:Ze&&v(O.iridescenceThicknessMap.channel),sheenColorMapUv:at&&v(O.sheenColorMap.channel),sheenRoughnessMapUv:pt&&v(O.sheenRoughnessMap.channel),specularMapUv:me&&v(O.specularMap.channel),specularColorMapUv:Ae&&v(O.specularColorMap.channel),specularIntensityMapUv:le&&v(O.specularIntensityMap.channel),transmissionMapUv:Ee&&v(O.transmissionMap.channel),thicknessMapUv:Ue&&v(O.thicknessMap.channel),alphaMapUv:ze&&v(O.alphaMap.channel),vertexTangents:!!F.attributes.tangent&&(_e||ve),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUv1s:ct,vertexUv2s:De,vertexUv3s:st,pointsUvs:V.isPoints===!0&&!!F.attributes.uv&&(xe||ze),fog:!!z,useFog:O.fog===!0,fogExp2:z&&z.isFogExp2,flatShading:O.flatShading===!0,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:V.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:Y,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:O.dithering,shadowMapEnabled:t.shadowMap.enabled&&D.length>0,shadowMapType:t.shadowMap.type,toneMapping:mt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:xe&&O.map.isVideoTexture===!0&&xr.getTransfer(O.map.colorSpace)===Ur,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===fu,flipSided:O.side===Ga,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionDerivatives:Xe&&O.extensions.derivatives===!0,extensionFragDepth:Xe&&O.extensions.fragDepth===!0,extensionDrawBuffers:Xe&&O.extensions.drawBuffers===!0,extensionShaderTextureLOD:Xe&&O.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Xe&&O.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()}}function g(O){const N=[];if(O.shaderID?N.push(O.shaderID):(N.push(O.customVertexShaderID),N.push(O.customFragmentShaderID)),O.defines!==void 0)for(const D in O.defines)N.push(D),N.push(O.defines[D]);return O.isRawShaderMaterial===!1&&(b(N,O),x(N,O),N.push(t.outputColorSpace)),N.push(O.customProgramCacheKey),N.join()}function b(O,N){O.push(N.precision),O.push(N.outputColorSpace),O.push(N.envMapMode),O.push(N.envMapCubeUVHeight),O.push(N.mapUv),O.push(N.alphaMapUv),O.push(N.lightMapUv),O.push(N.aoMapUv),O.push(N.bumpMapUv),O.push(N.normalMapUv),O.push(N.displacementMapUv),O.push(N.emissiveMapUv),O.push(N.metalnessMapUv),O.push(N.roughnessMapUv),O.push(N.anisotropyMapUv),O.push(N.clearcoatMapUv),O.push(N.clearcoatNormalMapUv),O.push(N.clearcoatRoughnessMapUv),O.push(N.iridescenceMapUv),O.push(N.iridescenceThicknessMapUv),O.push(N.sheenColorMapUv),O.push(N.sheenRoughnessMapUv),O.push(N.specularMapUv),O.push(N.specularColorMapUv),O.push(N.specularIntensityMapUv),O.push(N.transmissionMapUv),O.push(N.thicknessMapUv),O.push(N.combine),O.push(N.fogExp2),O.push(N.sizeAttenuation),O.push(N.morphTargetsCount),O.push(N.morphAttributeCount),O.push(N.numDirLights),O.push(N.numPointLights),O.push(N.numSpotLights),O.push(N.numSpotLightMaps),O.push(N.numHemiLights),O.push(N.numRectAreaLights),O.push(N.numDirLightShadows),O.push(N.numPointLightShadows),O.push(N.numSpotLightShadows),O.push(N.numSpotLightShadowsWithMaps),O.push(N.numLightProbes),O.push(N.shadowMapType),O.push(N.toneMapping),O.push(N.numClippingPlanes),O.push(N.numClipIntersection),O.push(N.depthPacking)}function x(O,N){s.disableAll(),N.isWebGL2&&s.enable(0),N.supportsVertexTextures&&s.enable(1),N.instancing&&s.enable(2),N.instancingColor&&s.enable(3),N.matcap&&s.enable(4),N.envMap&&s.enable(5),N.normalMapObjectSpace&&s.enable(6),N.normalMapTangentSpace&&s.enable(7),N.clearcoat&&s.enable(8),N.iridescence&&s.enable(9),N.alphaTest&&s.enable(10),N.vertexColors&&s.enable(11),N.vertexAlphas&&s.enable(12),N.vertexUv1s&&s.enable(13),N.vertexUv2s&&s.enable(14),N.vertexUv3s&&s.enable(15),N.vertexTangents&&s.enable(16),N.anisotropy&&s.enable(17),N.alphaHash&&s.enable(18),N.batching&&s.enable(19),O.push(s.mask),s.disableAll(),N.fog&&s.enable(0),N.useFog&&s.enable(1),N.flatShading&&s.enable(2),N.logarithmicDepthBuffer&&s.enable(3),N.skinning&&s.enable(4),N.morphTargets&&s.enable(5),N.morphNormals&&s.enable(6),N.morphColors&&s.enable(7),N.premultipliedAlpha&&s.enable(8),N.shadowMapEnabled&&s.enable(9),N.useLegacyLights&&s.enable(10),N.doubleSided&&s.enable(11),N.flipSided&&s.enable(12),N.useDepthPacking&&s.enable(13),N.dithering&&s.enable(14),N.transmission&&s.enable(15),N.sheen&&s.enable(16),N.opaque&&s.enable(17),N.pointsUvs&&s.enable(18),N.decodeVideoTexture&&s.enable(19),O.push(s.mask)}function _(O){const N=m[O.type];let D;if(N){const U=_c[N];D=wP.clone(U.uniforms)}else D=O.uniforms;return D}function T(O,N){let D;for(let U=0,V=c.length;U<V;U++){const z=c[U];if(z.cacheKey===N){D=z,++D.usedTimes;break}}return D===void 0&&(D=new Uvt(t,N,O,o),c.push(D)),D}function C(O){if(--O.usedTimes===0){const N=c.indexOf(O);c[N]=c[c.length-1],c.pop(),O.destroy()}}function P(O){l.remove(O)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:_,acquireProgram:T,releaseProgram:C,releaseShaderCache:P,programs:c,dispose:I}}function Xvt(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function qvt(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function bZ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function _Z(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(f,d,h,m,v,y){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:d,material:h,groupOrder:m,renderOrder:f.renderOrder,z:v,group:y},t[e]=g):(g.id=f.id,g.object=f,g.geometry=d,g.material=h,g.groupOrder=m,g.renderOrder=f.renderOrder,g.z=v,g.group=y),e++,g}function s(f,d,h,m,v,y){const g=a(f,d,h,m,v,y);h.transmission>0?r.push(g):h.transparent===!0?i.push(g):n.push(g)}function l(f,d,h,m,v,y){const g=a(f,d,h,m,v,y);h.transmission>0?r.unshift(g):h.transparent===!0?i.unshift(g):n.unshift(g)}function c(f,d){n.length>1&&n.sort(f||qvt),r.length>1&&r.sort(d||bZ),i.length>1&&i.sort(d||bZ)}function u(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:u,sort:c}}function Yvt(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new _Z,t.set(r,[a])):i>=o.length?(a=new _Z,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function Kvt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new he,color:new zt};break;case"SpotLight":n={position:new he,direction:new he,color:new zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new he,color:new zt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new he,skyColor:new zt,groundColor:new zt};break;case"RectAreaLight":n={color:new zt,position:new he,halfWidth:new he,halfHeight:new he};break}return t[e.id]=n,n}}}function Zvt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Jvt=0;function Qvt(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function eyt(t,e){const n=new Kvt,r=Zvt(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new he);const o=new he,a=new dn,s=new dn;function l(u,f){let d=0,h=0,m=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let v=0,y=0,g=0,b=0,x=0,_=0,T=0,C=0,P=0,I=0,O=0;u.sort(Qvt);const N=f===!0?Math.PI:1;for(let U=0,V=u.length;U<V;U++){const z=u[U],F=z.color,W=z.intensity,X=z.distance,B=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)d+=F.r*W*N,h+=F.g*W*N,m+=F.b*W*N;else if(z.isLightProbe){for(let G=0;G<9;G++)i.probe[G].addScaledVector(z.sh.coefficients[G],W);O++}else if(z.isDirectionalLight){const G=n.get(z);if(G.color.copy(z.color).multiplyScalar(z.intensity*N),z.castShadow){const q=z.shadow,te=r.get(z);te.shadowBias=q.bias,te.shadowNormalBias=q.normalBias,te.shadowRadius=q.radius,te.shadowMapSize=q.mapSize,i.directionalShadow[v]=te,i.directionalShadowMap[v]=B,i.directionalShadowMatrix[v]=z.shadow.matrix,_++}i.directional[v]=G,v++}else if(z.isSpotLight){const G=n.get(z);G.position.setFromMatrixPosition(z.matrixWorld),G.color.copy(F).multiplyScalar(W*N),G.distance=X,G.coneCos=Math.cos(z.angle),G.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),G.decay=z.decay,i.spot[g]=G;const q=z.shadow;if(z.map&&(i.spotLightMap[P]=z.map,P++,q.updateMatrices(z),z.castShadow&&I++),i.spotLightMatrix[g]=q.matrix,z.castShadow){const te=r.get(z);te.shadowBias=q.bias,te.shadowNormalBias=q.normalBias,te.shadowRadius=q.radius,te.shadowMapSize=q.mapSize,i.spotShadow[g]=te,i.spotShadowMap[g]=B,C++}g++}else if(z.isRectAreaLight){const G=n.get(z);G.color.copy(F).multiplyScalar(W),G.halfWidth.set(z.width*.5,0,0),G.halfHeight.set(0,z.height*.5,0),i.rectArea[b]=G,b++}else if(z.isPointLight){const G=n.get(z);if(G.color.copy(z.color).multiplyScalar(z.intensity*N),G.distance=z.distance,G.decay=z.decay,z.castShadow){const q=z.shadow,te=r.get(z);te.shadowBias=q.bias,te.shadowNormalBias=q.normalBias,te.shadowRadius=q.radius,te.shadowMapSize=q.mapSize,te.shadowCameraNear=q.camera.near,te.shadowCameraFar=q.camera.far,i.pointShadow[y]=te,i.pointShadowMap[y]=B,i.pointShadowMatrix[y]=z.shadow.matrix,T++}i.point[y]=G,y++}else if(z.isHemisphereLight){const G=n.get(z);G.skyColor.copy(z.color).multiplyScalar(W*N),G.groundColor.copy(z.groundColor).multiplyScalar(W*N),i.hemi[x]=G,x++}}b>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ot.LTC_FLOAT_1,i.rectAreaLTC2=Ot.LTC_FLOAT_2):(i.rectAreaLTC1=Ot.LTC_HALF_1,i.rectAreaLTC2=Ot.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ot.LTC_FLOAT_1,i.rectAreaLTC2=Ot.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ot.LTC_HALF_1,i.rectAreaLTC2=Ot.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=m;const D=i.hash;(D.directionalLength!==v||D.pointLength!==y||D.spotLength!==g||D.rectAreaLength!==b||D.hemiLength!==x||D.numDirectionalShadows!==_||D.numPointShadows!==T||D.numSpotShadows!==C||D.numSpotMaps!==P||D.numLightProbes!==O)&&(i.directional.length=v,i.spot.length=g,i.rectArea.length=b,i.point.length=y,i.hemi.length=x,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=C+P-I,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=O,D.directionalLength=v,D.pointLength=y,D.spotLength=g,D.rectAreaLength=b,D.hemiLength=x,D.numDirectionalShadows=_,D.numPointShadows=T,D.numSpotShadows=C,D.numSpotMaps=P,D.numLightProbes=O,i.version=Jvt++)}function c(u,f){let d=0,h=0,m=0,v=0,y=0;const g=f.matrixWorldInverse;for(let b=0,x=u.length;b<x;b++){const _=u[b];if(_.isDirectionalLight){const T=i.directional[d];T.direction.setFromMatrixPosition(_.matrixWorld),o.setFromMatrixPosition(_.target.matrixWorld),T.direction.sub(o),T.direction.transformDirection(g),d++}else if(_.isSpotLight){const T=i.spot[m];T.position.setFromMatrixPosition(_.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(_.matrixWorld),o.setFromMatrixPosition(_.target.matrixWorld),T.direction.sub(o),T.direction.transformDirection(g),m++}else if(_.isRectAreaLight){const T=i.rectArea[v];T.position.setFromMatrixPosition(_.matrixWorld),T.position.applyMatrix4(g),s.identity(),a.copy(_.matrixWorld),a.premultiply(g),s.extractRotation(a),T.halfWidth.set(_.width*.5,0,0),T.halfHeight.set(0,_.height*.5,0),T.halfWidth.applyMatrix4(s),T.halfHeight.applyMatrix4(s),v++}else if(_.isPointLight){const T=i.point[h];T.position.setFromMatrixPosition(_.matrixWorld),T.position.applyMatrix4(g),h++}else if(_.isHemisphereLight){const T=i.hemi[y];T.direction.setFromMatrixPosition(_.matrixWorld),T.direction.transformDirection(g),y++}}}return{setup:l,setupView:c,state:i}}function wZ(t,e){const n=new eyt(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(f){r.push(f)}function s(f){i.push(f)}function l(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function tyt(t,e){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let l;return s===void 0?(l=new wZ(t,e),n.set(o,[l])):a>=s.length?(l=new wZ(t,e),s.push(l)):l=s[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class s6 extends Ma{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Fpe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class l6 extends Ma{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const nyt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,ryt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function iyt(t,e,n){let r=new CM;const i=new ft,o=new ft,a=new Jn,s=new s6({depthPacking:Upe}),l=new l6,c={},u=n.maxTextureSize,f={[hd]:Ga,[Ga]:hd,[fu]:fu},d=new zc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ft},radius:{value:4}},vertexShader:nyt,fragmentShader:ryt}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const m=new Dn;m.setAttribute("position",new wr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new eo(m,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=OL;let g=this.type;this.render=function(C,P,I){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||C.length===0)return;const O=t.getRenderTarget(),N=t.getActiveCubeFace(),D=t.getActiveMipmapLevel(),U=t.state;U.setBlending(Zf),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const V=g!==pc&&this.type===pc,z=g===pc&&this.type!==pc;for(let F=0,W=C.length;F<W;F++){const X=C[F],B=X.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const G=B.getFrameExtents();if(i.multiply(G),o.copy(B.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/G.x),i.x=o.x*G.x,B.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/G.y),i.y=o.y*G.y,B.mapSize.y=o.y)),B.map===null||V===!0||z===!0){const te=this.type!==pc?{minFilter:Ii,magFilter:Ii}:{};B.map!==null&&B.map.dispose(),B.map=new Bc(i.x,i.y,te),B.map.texture.name=X.name+".shadowMap",B.camera.updateProjectionMatrix()}t.setRenderTarget(B.map),t.clear();const q=B.getViewportCount();for(let te=0;te<q;te++){const Y=B.getViewport(te);a.set(o.x*Y.x,o.y*Y.y,o.x*Y.z,o.y*Y.w),U.viewport(a),B.updateMatrices(X,te),r=B.getFrustum(),_(P,I,B.camera,X,this.type)}B.isPointLightShadow!==!0&&this.type===pc&&b(B,I),B.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(O,N,D)};function b(C,P){const I=e.update(v);d.defines.VSM_SAMPLES!==C.blurSamples&&(d.defines.VSM_SAMPLES=C.blurSamples,h.defines.VSM_SAMPLES=C.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Bc(i.x,i.y)),d.uniforms.shadow_pass.value=C.map.texture,d.uniforms.resolution.value=C.mapSize,d.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(P,null,I,d,v,null),h.uniforms.shadow_pass.value=C.mapPass.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(P,null,I,h,v,null)}function x(C,P,I,O){let N=null;const D=I.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(D!==void 0)N=D;else if(N=I.isPointLight===!0?l:s,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const U=N.uuid,V=P.uuid;let z=c[U];z===void 0&&(z={},c[U]=z);let F=z[V];F===void 0&&(F=N.clone(),z[V]=F,P.addEventListener("dispose",T)),N=F}if(N.visible=P.visible,N.wireframe=P.wireframe,O===pc?N.side=P.shadowSide!==null?P.shadowSide:P.side:N.side=P.shadowSide!==null?P.shadowSide:f[P.side],N.alphaMap=P.alphaMap,N.alphaTest=P.alphaTest,N.map=P.map,N.clipShadows=P.clipShadows,N.clippingPlanes=P.clippingPlanes,N.clipIntersection=P.clipIntersection,N.displacementMap=P.displacementMap,N.displacementScale=P.displacementScale,N.displacementBias=P.displacementBias,N.wireframeLinewidth=P.wireframeLinewidth,N.linewidth=P.linewidth,I.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const U=t.properties.get(N);U.light=I}return N}function _(C,P,I,O,N){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&N===pc)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,C.matrixWorld);const V=e.update(C),z=C.material;if(Array.isArray(z)){const F=V.groups;for(let W=0,X=F.length;W<X;W++){const B=F[W],G=z[B.materialIndex];if(G&&G.visible){const q=x(C,G,O,N);C.onBeforeShadow(t,C,P,I,V,q,B),t.renderBufferDirect(I,null,V,q,C,B),C.onAfterShadow(t,C,P,I,V,q,B)}}}else if(z.visible){const F=x(C,z,O,N);C.onBeforeShadow(t,C,P,I,V,F,null),t.renderBufferDirect(I,null,V,F,C,null),C.onAfterShadow(t,C,P,I,V,F,null)}}const U=C.children;for(let V=0,z=U.length;V<z;V++)_(U[V],P,I,O,N)}function T(C){C.target.removeEventListener("dispose",T);for(const I in c){const O=c[I],N=C.target.uuid;N in O&&(O[N].dispose(),delete O[N])}}}function oyt(t,e,n){const r=n.isWebGL2;function i(){let ce=!1;const Re=new Jn;let Xe=null;const ct=new Jn(0,0,0,0);return{setMask:function(De){Xe!==De&&!ce&&(t.colorMask(De,De,De,De),Xe=De)},setLocked:function(De){ce=De},setClear:function(De,st,mt,rt,it){it===!0&&(De*=rt,st*=rt,mt*=rt),Re.set(De,st,mt,rt),ct.equals(Re)===!1&&(t.clearColor(De,st,mt,rt),ct.copy(Re))},reset:function(){ce=!1,Xe=null,ct.set(-1,0,0,0)}}}function o(){let ce=!1,Re=null,Xe=null,ct=null;return{setTest:function(De){De?ge(t.DEPTH_TEST):xe(t.DEPTH_TEST)},setMask:function(De){Re!==De&&!ce&&(t.depthMask(De),Re=De)},setFunc:function(De){if(Xe!==De){switch(De){case mpe:t.depthFunc(t.NEVER);break;case gpe:t.depthFunc(t.ALWAYS);break;case vpe:t.depthFunc(t.LESS);break;case rS:t.depthFunc(t.LEQUAL);break;case ype:t.depthFunc(t.EQUAL);break;case xpe:t.depthFunc(t.GEQUAL);break;case bpe:t.depthFunc(t.GREATER);break;case _pe:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Xe=De}},setLocked:function(De){ce=De},setClear:function(De){ct!==De&&(t.clearDepth(De),ct=De)},reset:function(){ce=!1,Re=null,Xe=null,ct=null}}}function a(){let ce=!1,Re=null,Xe=null,ct=null,De=null,st=null,mt=null,rt=null,it=null;return{setTest:function(nt){ce||(nt?ge(t.STENCIL_TEST):xe(t.STENCIL_TEST))},setMask:function(nt){Re!==nt&&!ce&&(t.stencilMask(nt),Re=nt)},setFunc:function(nt,Pt,Rt){(Xe!==nt||ct!==Pt||De!==Rt)&&(t.stencilFunc(nt,Pt,Rt),Xe=nt,ct=Pt,De=Rt)},setOp:function(nt,Pt,Rt){(st!==nt||mt!==Pt||rt!==Rt)&&(t.stencilOp(nt,Pt,Rt),st=nt,mt=Pt,rt=Rt)},setLocked:function(nt){ce=nt},setClear:function(nt){it!==nt&&(t.clearStencil(nt),it=nt)},reset:function(){ce=!1,Re=null,Xe=null,ct=null,De=null,st=null,mt=null,rt=null,it=null}}}const s=new i,l=new o,c=new a,u=new WeakMap,f=new WeakMap;let d={},h={},m=new WeakMap,v=[],y=null,g=!1,b=null,x=null,_=null,T=null,C=null,P=null,I=null,O=new zt(0,0,0),N=0,D=!1,U=null,V=null,z=null,F=null,W=null;const X=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,G=0;const q=t.getParameter(t.VERSION);q.indexOf("WebGL")!==-1?(G=parseFloat(/^WebGL (\d)/.exec(q)[1]),B=G>=1):q.indexOf("OpenGL ES")!==-1&&(G=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),B=G>=2);let te=null,Y={};const J=t.getParameter(t.SCISSOR_BOX),re=t.getParameter(t.VIEWPORT),oe=new Jn().fromArray(J),pe=new Jn().fromArray(re);function fe(ce,Re,Xe,ct){const De=new Uint8Array(4),st=t.createTexture();t.bindTexture(ce,st),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let mt=0;mt<Xe;mt++)r&&(ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY)?t.texImage3D(Re,0,t.RGBA,1,1,ct,0,t.RGBA,t.UNSIGNED_BYTE,De):t.texImage2D(Re+mt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,De);return st}const we={};we[t.TEXTURE_2D]=fe(t.TEXTURE_2D,t.TEXTURE_2D,1),we[t.TEXTURE_CUBE_MAP]=fe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(we[t.TEXTURE_2D_ARRAY]=fe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),we[t.TEXTURE_3D]=fe(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ge(t.DEPTH_TEST),l.setFunc(rS),Ve(!1),ne(Xj),ge(t.CULL_FACE),_e(Zf);function ge(ce){d[ce]!==!0&&(t.enable(ce),d[ce]=!0)}function xe(ce){d[ce]!==!1&&(t.disable(ce),d[ce]=!1)}function Te(ce,Re){return h[ce]!==Re?(t.bindFramebuffer(ce,Re),h[ce]=Re,r&&(ce===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Re),ce===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Re)),!0):!1}function ee(ce,Re){let Xe=v,ct=!1;if(ce)if(Xe=m.get(Re),Xe===void 0&&(Xe=[],m.set(Re,Xe)),ce.isWebGLMultipleRenderTargets){const De=ce.texture;if(Xe.length!==De.length||Xe[0]!==t.COLOR_ATTACHMENT0){for(let st=0,mt=De.length;st<mt;st++)Xe[st]=t.COLOR_ATTACHMENT0+st;Xe.length=De.length,ct=!0}}else Xe[0]!==t.COLOR_ATTACHMENT0&&(Xe[0]=t.COLOR_ATTACHMENT0,ct=!0);else Xe[0]!==t.BACK&&(Xe[0]=t.BACK,ct=!0);ct&&(n.isWebGL2?t.drawBuffers(Xe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Xe))}function Ce(ce){return y!==ce?(t.useProgram(ce),y=ce,!0):!1}const ae={[vh]:t.FUNC_ADD,[epe]:t.FUNC_SUBTRACT,[tpe]:t.FUNC_REVERSE_SUBTRACT};if(r)ae[Zj]=t.MIN,ae[Jj]=t.MAX;else{const ce=e.get("EXT_blend_minmax");ce!==null&&(ae[Zj]=ce.MIN_EXT,ae[Jj]=ce.MAX_EXT)}const be={[npe]:t.ZERO,[rpe]:t.ONE,[ipe]:t.SRC_COLOR,[vP]:t.SRC_ALPHA,[upe]:t.SRC_ALPHA_SATURATE,[lpe]:t.DST_COLOR,[ape]:t.DST_ALPHA,[ope]:t.ONE_MINUS_SRC_COLOR,[yP]:t.ONE_MINUS_SRC_ALPHA,[cpe]:t.ONE_MINUS_DST_COLOR,[spe]:t.ONE_MINUS_DST_ALPHA,[fpe]:t.CONSTANT_COLOR,[dpe]:t.ONE_MINUS_CONSTANT_COLOR,[hpe]:t.CONSTANT_ALPHA,[ppe]:t.ONE_MINUS_CONSTANT_ALPHA};function _e(ce,Re,Xe,ct,De,st,mt,rt,it,nt){if(ce===Zf){g===!0&&(xe(t.BLEND),g=!1);return}if(g===!1&&(ge(t.BLEND),g=!0),ce!==Qhe){if(ce!==b||nt!==D){if((x!==vh||C!==vh)&&(t.blendEquation(t.FUNC_ADD),x=vh,C=vh),nt)switch(ce){case ag:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qj:t.blendFunc(t.ONE,t.ONE);break;case Yj:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Kj:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case ag:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qj:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Yj:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Kj:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}_=null,T=null,P=null,I=null,O.set(0,0,0),N=0,b=ce,D=nt}return}De=De||Re,st=st||Xe,mt=mt||ct,(Re!==x||De!==C)&&(t.blendEquationSeparate(ae[Re],ae[De]),x=Re,C=De),(Xe!==_||ct!==T||st!==P||mt!==I)&&(t.blendFuncSeparate(be[Xe],be[ct],be[st],be[mt]),_=Xe,T=ct,P=st,I=mt),(rt.equals(O)===!1||it!==N)&&(t.blendColor(rt.r,rt.g,rt.b,it),O.copy(rt),N=it),b=ce,D=!1}function He(ce,Re){ce.side===fu?xe(t.CULL_FACE):ge(t.CULL_FACE);let Xe=ce.side===Ga;Re&&(Xe=!Xe),Ve(Xe),ce.blending===ag&&ce.transparent===!1?_e(Zf):_e(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),l.setFunc(ce.depthFunc),l.setTest(ce.depthTest),l.setMask(ce.depthWrite),s.setMask(ce.colorWrite);const ct=ce.stencilWrite;c.setTest(ct),ct&&(c.setMask(ce.stencilWriteMask),c.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),c.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),ve(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?ge(t.SAMPLE_ALPHA_TO_COVERAGE):xe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ve(ce){U!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),U=ce)}function ne(ce){ce!==Khe?(ge(t.CULL_FACE),ce!==V&&(ce===Xj?t.cullFace(t.BACK):ce===Zhe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):xe(t.CULL_FACE),V=ce}function Q(ce){ce!==z&&(B&&t.lineWidth(ce),z=ce)}function ve(ce,Re,Xe){ce?(ge(t.POLYGON_OFFSET_FILL),(F!==Re||W!==Xe)&&(t.polygonOffset(Re,Xe),F=Re,W=Xe)):xe(t.POLYGON_OFFSET_FILL)}function Se(ce){ce?ge(t.SCISSOR_TEST):xe(t.SCISSOR_TEST)}function Le(ce){ce===void 0&&(ce=t.TEXTURE0+X-1),te!==ce&&(t.activeTexture(ce),te=ce)}function Ie(ce,Re,Xe){Xe===void 0&&(te===null?Xe=t.TEXTURE0+X-1:Xe=te);let ct=Y[Xe];ct===void 0&&(ct={type:void 0,texture:void 0},Y[Xe]=ct),(ct.type!==ce||ct.texture!==Re)&&(te!==Xe&&(t.activeTexture(Xe),te=Xe),t.bindTexture(ce,Re||we[ce]),ct.type=ce,ct.texture=Re)}function Ke(){const ce=Y[te];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Ne(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ye(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function et(){try{t.texSubImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function vt(){try{t.texSubImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ke(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ze(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function at(){try{t.texStorage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function pt(){try{t.texStorage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function me(){try{t.texImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ae(){try{t.texImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function le(ce){oe.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),oe.copy(ce))}function Ee(ce){pe.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),pe.copy(ce))}function Ue(ce,Re){let Xe=f.get(Re);Xe===void 0&&(Xe=new WeakMap,f.set(Re,Xe));let ct=Xe.get(ce);ct===void 0&&(ct=t.getUniformBlockIndex(Re,ce.name),Xe.set(ce,ct))}function We(ce,Re){const ct=f.get(Re).get(ce);u.get(Re)!==ct&&(t.uniformBlockBinding(Re,ct,ce.__bindingPointIndex),u.set(Re,ct))}function ze(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},te=null,Y={},h={},m=new WeakMap,v=[],y=null,g=!1,b=null,x=null,_=null,T=null,C=null,P=null,I=null,O=new zt(0,0,0),N=0,D=!1,U=null,V=null,z=null,F=null,W=null,oe.set(0,0,t.canvas.width,t.canvas.height),pe.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:ge,disable:xe,bindFramebuffer:Te,drawBuffers:ee,useProgram:Ce,setBlending:_e,setMaterial:He,setFlipSided:Ve,setCullFace:ne,setLineWidth:Q,setPolygonOffset:ve,setScissorTest:Se,activeTexture:Le,bindTexture:Ie,unbindTexture:Ke,compressedTexImage2D:Ne,compressedTexImage3D:Ye,texImage2D:me,texImage3D:Ae,updateUBOMapping:Ue,uniformBlockBinding:We,texStorage2D:at,texStorage3D:pt,texSubImage2D:et,texSubImage3D:vt,compressedTexSubImage2D:ke,compressedTexSubImage3D:Ze,scissor:le,viewport:Ee,reset:ze}}function ayt(t,e,n,r,i,o,a){const s=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(ne,Q){return h?new OffscreenCanvas(ne,Q):mS("canvas")}function v(ne,Q,ve,Se){let Le=1;if((ne.width>Se||ne.height>Se)&&(Le=Se/Math.max(ne.width,ne.height)),Le<1||Q===!0)if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap){const Ie=Q?_P:Math.floor,Ke=Ie(Le*ne.width),Ne=Ie(Le*ne.height);f===void 0&&(f=m(Ke,Ne));const Ye=ve?m(Ke,Ne):f;return Ye.width=Ke,Ye.height=Ne,Ye.getContext("2d").drawImage(ne,0,0,Ke,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+Ke+"x"+Ne+")."),Ye}else return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),ne;return ne}function y(ne){return AB(ne.width)&&AB(ne.height)}function g(ne){return s?!1:ne.wrapS!==pa||ne.wrapT!==pa||ne.minFilter!==Ii&&ne.minFilter!==ji}function b(ne,Q){return ne.generateMipmaps&&Q&&ne.minFilter!==Ii&&ne.minFilter!==ji}function x(ne){t.generateMipmap(ne)}function _(ne,Q,ve,Se,Le=!1){if(s===!1)return Q;if(ne!==null){if(t[ne]!==void 0)return t[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let Ie=Q;if(Q===t.RED&&(ve===t.FLOAT&&(Ie=t.R32F),ve===t.HALF_FLOAT&&(Ie=t.R16F),ve===t.UNSIGNED_BYTE&&(Ie=t.R8)),Q===t.RED_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Ie=t.R8UI),ve===t.UNSIGNED_SHORT&&(Ie=t.R16UI),ve===t.UNSIGNED_INT&&(Ie=t.R32UI),ve===t.BYTE&&(Ie=t.R8I),ve===t.SHORT&&(Ie=t.R16I),ve===t.INT&&(Ie=t.R32I)),Q===t.RG&&(ve===t.FLOAT&&(Ie=t.RG32F),ve===t.HALF_FLOAT&&(Ie=t.RG16F),ve===t.UNSIGNED_BYTE&&(Ie=t.RG8)),Q===t.RGBA){const Ke=Le?fS:xr.getTransfer(Se);ve===t.FLOAT&&(Ie=t.RGBA32F),ve===t.HALF_FLOAT&&(Ie=t.RGBA16F),ve===t.UNSIGNED_BYTE&&(Ie=Ke===Ur?t.SRGB8_ALPHA8:t.RGBA8),ve===t.UNSIGNED_SHORT_4_4_4_4&&(Ie=t.RGBA4),ve===t.UNSIGNED_SHORT_5_5_5_1&&(Ie=t.RGB5_A1)}return(Ie===t.R16F||Ie===t.R32F||Ie===t.RG16F||Ie===t.RG32F||Ie===t.RGBA16F||Ie===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function T(ne,Q,ve){return b(ne,ve)===!0||ne.isFramebufferTexture&&ne.minFilter!==Ii&&ne.minFilter!==ji?Math.log2(Math.max(Q.width,Q.height))+1:ne.mipmaps!==void 0&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?Q.mipmaps.length:1}function C(ne){return ne===Ii||ne===xP||ne===b1?t.NEAREST:t.LINEAR}function P(ne){const Q=ne.target;Q.removeEventListener("dispose",P),O(Q),Q.isVideoTexture&&u.delete(Q)}function I(ne){const Q=ne.target;Q.removeEventListener("dispose",I),D(Q)}function O(ne){const Q=r.get(ne);if(Q.__webglInit===void 0)return;const ve=ne.source,Se=d.get(ve);if(Se){const Le=Se[Q.__cacheKey];Le.usedTimes--,Le.usedTimes===0&&N(ne),Object.keys(Se).length===0&&d.delete(ve)}r.remove(ne)}function N(ne){const Q=r.get(ne);t.deleteTexture(Q.__webglTexture);const ve=ne.source,Se=d.get(ve);delete Se[Q.__cacheKey],a.memory.textures--}function D(ne){const Q=ne.texture,ve=r.get(ne),Se=r.get(Q);if(Se.__webglTexture!==void 0&&(t.deleteTexture(Se.__webglTexture),a.memory.textures--),ne.depthTexture&&ne.depthTexture.dispose(),ne.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++){if(Array.isArray(ve.__webglFramebuffer[Le]))for(let Ie=0;Ie<ve.__webglFramebuffer[Le].length;Ie++)t.deleteFramebuffer(ve.__webglFramebuffer[Le][Ie]);else t.deleteFramebuffer(ve.__webglFramebuffer[Le]);ve.__webglDepthbuffer&&t.deleteRenderbuffer(ve.__webglDepthbuffer[Le])}else{if(Array.isArray(ve.__webglFramebuffer))for(let Le=0;Le<ve.__webglFramebuffer.length;Le++)t.deleteFramebuffer(ve.__webglFramebuffer[Le]);else t.deleteFramebuffer(ve.__webglFramebuffer);if(ve.__webglDepthbuffer&&t.deleteRenderbuffer(ve.__webglDepthbuffer),ve.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ve.__webglMultisampledFramebuffer),ve.__webglColorRenderbuffer)for(let Le=0;Le<ve.__webglColorRenderbuffer.length;Le++)ve.__webglColorRenderbuffer[Le]&&t.deleteRenderbuffer(ve.__webglColorRenderbuffer[Le]);ve.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ve.__webglDepthRenderbuffer)}if(ne.isWebGLMultipleRenderTargets)for(let Le=0,Ie=Q.length;Le<Ie;Le++){const Ke=r.get(Q[Le]);Ke.__webglTexture&&(t.deleteTexture(Ke.__webglTexture),a.memory.textures--),r.remove(Q[Le])}r.remove(Q),r.remove(ne)}let U=0;function V(){U=0}function z(){const ne=U;return ne>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+i.maxTextures),U+=1,ne}function F(ne){const Q=[];return Q.push(ne.wrapS),Q.push(ne.wrapT),Q.push(ne.wrapR||0),Q.push(ne.magFilter),Q.push(ne.minFilter),Q.push(ne.anisotropy),Q.push(ne.internalFormat),Q.push(ne.format),Q.push(ne.type),Q.push(ne.generateMipmaps),Q.push(ne.premultiplyAlpha),Q.push(ne.flipY),Q.push(ne.unpackAlignment),Q.push(ne.colorSpace),Q.join()}function W(ne,Q){const ve=r.get(ne);if(ne.isVideoTexture&&He(ne),ne.isRenderTargetTexture===!1&&ne.version>0&&ve.__version!==ne.version){const Se=ne.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{oe(ve,ne,Q);return}}n.bindTexture(t.TEXTURE_2D,ve.__webglTexture,t.TEXTURE0+Q)}function X(ne,Q){const ve=r.get(ne);if(ne.version>0&&ve.__version!==ne.version){oe(ve,ne,Q);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ve.__webglTexture,t.TEXTURE0+Q)}function B(ne,Q){const ve=r.get(ne);if(ne.version>0&&ve.__version!==ne.version){oe(ve,ne,Q);return}n.bindTexture(t.TEXTURE_3D,ve.__webglTexture,t.TEXTURE0+Q)}function G(ne,Q){const ve=r.get(ne);if(ne.version>0&&ve.__version!==ne.version){pe(ve,ne,Q);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ve.__webglTexture,t.TEXTURE0+Q)}const q={[aS]:t.REPEAT,[pa]:t.CLAMP_TO_EDGE,[sS]:t.MIRRORED_REPEAT},te={[Ii]:t.NEAREST,[xP]:t.NEAREST_MIPMAP_NEAREST,[b1]:t.NEAREST_MIPMAP_LINEAR,[ji]:t.LINEAR,[W8]:t.LINEAR_MIPMAP_NEAREST,[hp]:t.LINEAR_MIPMAP_LINEAR},Y={[Vpe]:t.NEVER,[Kpe]:t.ALWAYS,[Hpe]:t.LESS,[Q8]:t.LEQUAL,[Gpe]:t.EQUAL,[Ype]:t.GEQUAL,[Xpe]:t.GREATER,[qpe]:t.NOTEQUAL};function J(ne,Q,ve){if(ve?(t.texParameteri(ne,t.TEXTURE_WRAP_S,q[Q.wrapS]),t.texParameteri(ne,t.TEXTURE_WRAP_T,q[Q.wrapT]),(ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ne,t.TEXTURE_WRAP_R,q[Q.wrapR]),t.texParameteri(ne,t.TEXTURE_MAG_FILTER,te[Q.magFilter]),t.texParameteri(ne,t.TEXTURE_MIN_FILTER,te[Q.minFilter])):(t.texParameteri(ne,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(ne,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ne,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(Q.wrapS!==pa||Q.wrapT!==pa)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(ne,t.TEXTURE_MAG_FILTER,C(Q.magFilter)),t.texParameteri(ne,t.TEXTURE_MIN_FILTER,C(Q.minFilter)),Q.minFilter!==Ii&&Q.minFilter!==ji&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Q.compareFunction&&(t.texParameteri(ne,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ne,t.TEXTURE_COMPARE_FUNC,Y[Q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Se=e.get("EXT_texture_filter_anisotropic");if(Q.magFilter===Ii||Q.minFilter!==b1&&Q.minFilter!==hp||Q.type===Tc&&e.has("OES_texture_float_linear")===!1||s===!1&&Q.type===lx&&e.has("OES_texture_half_float_linear")===!1)return;(Q.anisotropy>1||r.get(Q).__currentAnisotropy)&&(t.texParameterf(ne,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Q.anisotropy,i.getMaxAnisotropy())),r.get(Q).__currentAnisotropy=Q.anisotropy)}}function re(ne,Q){let ve=!1;ne.__webglInit===void 0&&(ne.__webglInit=!0,Q.addEventListener("dispose",P));const Se=Q.source;let Le=d.get(Se);Le===void 0&&(Le={},d.set(Se,Le));const Ie=F(Q);if(Ie!==ne.__cacheKey){Le[Ie]===void 0&&(Le[Ie]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ve=!0),Le[Ie].usedTimes++;const Ke=Le[ne.__cacheKey];Ke!==void 0&&(Le[ne.__cacheKey].usedTimes--,Ke.usedTimes===0&&N(Q)),ne.__cacheKey=Ie,ne.__webglTexture=Le[Ie].texture}return ve}function oe(ne,Q,ve){let Se=t.TEXTURE_2D;(Q.isDataArrayTexture||Q.isCompressedArrayTexture)&&(Se=t.TEXTURE_2D_ARRAY),Q.isData3DTexture&&(Se=t.TEXTURE_3D);const Le=re(ne,Q),Ie=Q.source;n.bindTexture(Se,ne.__webglTexture,t.TEXTURE0+ve);const Ke=r.get(Ie);if(Ie.version!==Ke.__version||Le===!0){n.activeTexture(t.TEXTURE0+ve);const Ne=xr.getPrimaries(xr.workingColorSpace),Ye=Q.colorSpace===Fs?null:xr.getPrimaries(Q.colorSpace),et=Q.colorSpace===Fs||Ne===Ye?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,et);const vt=g(Q)&&y(Q.image)===!1;let ke=v(Q.image,vt,!1,i.maxTextureSize);ke=Ve(Q,ke);const Ze=y(ke)||s,at=o.convert(Q.format,Q.colorSpace);let pt=o.convert(Q.type),me=_(Q.internalFormat,at,pt,Q.colorSpace,Q.isVideoTexture);J(Se,Q,Ze);let Ae;const le=Q.mipmaps,Ee=s&&Q.isVideoTexture!==!0&&me!==K8,Ue=Ke.__version===void 0||Le===!0,We=T(Q,ke,Ze);if(Q.isDepthTexture)me=t.DEPTH_COMPONENT,s?Q.type===Tc?me=t.DEPTH_COMPONENT32F:Q.type===zf?me=t.DEPTH_COMPONENT24:Q.type===Xh?me=t.DEPTH24_STENCIL8:me=t.DEPTH_COMPONENT16:Q.type===Tc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Q.format===qh&&me===t.DEPTH_COMPONENT&&Q.type!==kL&&Q.type!==zf&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Q.type=zf,pt=o.convert(Q.type)),Q.format===Ig&&me===t.DEPTH_COMPONENT&&(me=t.DEPTH_STENCIL,Q.type!==Xh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Q.type=Xh,pt=o.convert(Q.type))),Ue&&(Ee?n.texStorage2D(t.TEXTURE_2D,1,me,ke.width,ke.height):n.texImage2D(t.TEXTURE_2D,0,me,ke.width,ke.height,0,at,pt,null));else if(Q.isDataTexture)if(le.length>0&&Ze){Ee&&Ue&&n.texStorage2D(t.TEXTURE_2D,We,me,le[0].width,le[0].height);for(let ze=0,ce=le.length;ze<ce;ze++)Ae=le[ze],Ee?n.texSubImage2D(t.TEXTURE_2D,ze,0,0,Ae.width,Ae.height,at,pt,Ae.data):n.texImage2D(t.TEXTURE_2D,ze,me,Ae.width,Ae.height,0,at,pt,Ae.data);Q.generateMipmaps=!1}else Ee?(Ue&&n.texStorage2D(t.TEXTURE_2D,We,me,ke.width,ke.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ke.width,ke.height,at,pt,ke.data)):n.texImage2D(t.TEXTURE_2D,0,me,ke.width,ke.height,0,at,pt,ke.data);else if(Q.isCompressedTexture)if(Q.isCompressedArrayTexture){Ee&&Ue&&n.texStorage3D(t.TEXTURE_2D_ARRAY,We,me,le[0].width,le[0].height,ke.depth);for(let ze=0,ce=le.length;ze<ce;ze++)Ae=le[ze],Q.format!==za?at!==null?Ee?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ze,0,0,0,Ae.width,Ae.height,ke.depth,at,Ae.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ze,me,Ae.width,Ae.height,ke.depth,0,Ae.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ee?n.texSubImage3D(t.TEXTURE_2D_ARRAY,ze,0,0,0,Ae.width,Ae.height,ke.depth,at,pt,Ae.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ze,me,Ae.width,Ae.height,ke.depth,0,at,pt,Ae.data)}else{Ee&&Ue&&n.texStorage2D(t.TEXTURE_2D,We,me,le[0].width,le[0].height);for(let ze=0,ce=le.length;ze<ce;ze++)Ae=le[ze],Q.format!==za?at!==null?Ee?n.compressedTexSubImage2D(t.TEXTURE_2D,ze,0,0,Ae.width,Ae.height,at,Ae.data):n.compressedTexImage2D(t.TEXTURE_2D,ze,me,Ae.width,Ae.height,0,Ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ee?n.texSubImage2D(t.TEXTURE_2D,ze,0,0,Ae.width,Ae.height,at,pt,Ae.data):n.texImage2D(t.TEXTURE_2D,ze,me,Ae.width,Ae.height,0,at,pt,Ae.data)}else if(Q.isDataArrayTexture)Ee?(Ue&&n.texStorage3D(t.TEXTURE_2D_ARRAY,We,me,ke.width,ke.height,ke.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ke.width,ke.height,ke.depth,at,pt,ke.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,me,ke.width,ke.height,ke.depth,0,at,pt,ke.data);else if(Q.isData3DTexture)Ee?(Ue&&n.texStorage3D(t.TEXTURE_3D,We,me,ke.width,ke.height,ke.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ke.width,ke.height,ke.depth,at,pt,ke.data)):n.texImage3D(t.TEXTURE_3D,0,me,ke.width,ke.height,ke.depth,0,at,pt,ke.data);else if(Q.isFramebufferTexture){if(Ue)if(Ee)n.texStorage2D(t.TEXTURE_2D,We,me,ke.width,ke.height);else{let ze=ke.width,ce=ke.height;for(let Re=0;Re<We;Re++)n.texImage2D(t.TEXTURE_2D,Re,me,ze,ce,0,at,pt,null),ze>>=1,ce>>=1}}else if(le.length>0&&Ze){Ee&&Ue&&n.texStorage2D(t.TEXTURE_2D,We,me,le[0].width,le[0].height);for(let ze=0,ce=le.length;ze<ce;ze++)Ae=le[ze],Ee?n.texSubImage2D(t.TEXTURE_2D,ze,0,0,at,pt,Ae):n.texImage2D(t.TEXTURE_2D,ze,me,at,pt,Ae);Q.generateMipmaps=!1}else Ee?(Ue&&n.texStorage2D(t.TEXTURE_2D,We,me,ke.width,ke.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,at,pt,ke)):n.texImage2D(t.TEXTURE_2D,0,me,at,pt,ke);b(Q,Ze)&&x(Se),Ke.__version=Ie.version,Q.onUpdate&&Q.onUpdate(Q)}ne.__version=Q.version}function pe(ne,Q,ve){if(Q.image.length!==6)return;const Se=re(ne,Q),Le=Q.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture,t.TEXTURE0+ve);const Ie=r.get(Le);if(Le.version!==Ie.__version||Se===!0){n.activeTexture(t.TEXTURE0+ve);const Ke=xr.getPrimaries(xr.workingColorSpace),Ne=Q.colorSpace===Fs?null:xr.getPrimaries(Q.colorSpace),Ye=Q.colorSpace===Fs||Ke===Ne?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ye);const et=Q.isCompressedTexture||Q.image[0].isCompressedTexture,vt=Q.image[0]&&Q.image[0].isDataTexture,ke=[];for(let ze=0;ze<6;ze++)!et&&!vt?ke[ze]=v(Q.image[ze],!1,!0,i.maxCubemapSize):ke[ze]=vt?Q.image[ze].image:Q.image[ze],ke[ze]=Ve(Q,ke[ze]);const Ze=ke[0],at=y(Ze)||s,pt=o.convert(Q.format,Q.colorSpace),me=o.convert(Q.type),Ae=_(Q.internalFormat,pt,me,Q.colorSpace),le=s&&Q.isVideoTexture!==!0,Ee=Ie.__version===void 0||Se===!0;let Ue=T(Q,Ze,at);J(t.TEXTURE_CUBE_MAP,Q,at);let We;if(et){le&&Ee&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ue,Ae,Ze.width,Ze.height);for(let ze=0;ze<6;ze++){We=ke[ze].mipmaps;for(let ce=0;ce<We.length;ce++){const Re=We[ce];Q.format!==za?pt!==null?le?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,ce,0,0,Re.width,Re.height,pt,Re.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,ce,Ae,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,ce,0,0,Re.width,Re.height,pt,me,Re.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,ce,Ae,Re.width,Re.height,0,pt,me,Re.data)}}}else{We=Q.mipmaps,le&&Ee&&(We.length>0&&Ue++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Ue,Ae,ke[0].width,ke[0].height));for(let ze=0;ze<6;ze++)if(vt){le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,ke[ze].width,ke[ze].height,pt,me,ke[ze].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,Ae,ke[ze].width,ke[ze].height,0,pt,me,ke[ze].data);for(let ce=0;ce<We.length;ce++){const Xe=We[ce].image[ze].image;le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,ce+1,0,0,Xe.width,Xe.height,pt,me,Xe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,ce+1,Ae,Xe.width,Xe.height,0,pt,me,Xe.data)}}else{le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,pt,me,ke[ze]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,Ae,pt,me,ke[ze]);for(let ce=0;ce<We.length;ce++){const Re=We[ce];le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,ce+1,0,0,pt,me,Re.image[ze]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,ce+1,Ae,pt,me,Re.image[ze])}}}b(Q,at)&&x(t.TEXTURE_CUBE_MAP),Ie.__version=Le.version,Q.onUpdate&&Q.onUpdate(Q)}ne.__version=Q.version}function fe(ne,Q,ve,Se,Le,Ie){const Ke=o.convert(ve.format,ve.colorSpace),Ne=o.convert(ve.type),Ye=_(ve.internalFormat,Ke,Ne,ve.colorSpace);if(!r.get(Q).__hasExternalTextures){const vt=Math.max(1,Q.width>>Ie),ke=Math.max(1,Q.height>>Ie);Le===t.TEXTURE_3D||Le===t.TEXTURE_2D_ARRAY?n.texImage3D(Le,Ie,Ye,vt,ke,Q.depth,0,Ke,Ne,null):n.texImage2D(Le,Ie,Ye,vt,ke,0,Ke,Ne,null)}n.bindFramebuffer(t.FRAMEBUFFER,ne),_e(Q)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Se,Le,r.get(ve).__webglTexture,0,be(Q)):(Le===t.TEXTURE_2D||Le>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Le<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Se,Le,r.get(ve).__webglTexture,Ie),n.bindFramebuffer(t.FRAMEBUFFER,null)}function we(ne,Q,ve){if(t.bindRenderbuffer(t.RENDERBUFFER,ne),Q.depthBuffer&&!Q.stencilBuffer){let Se=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ve||_e(Q)){const Le=Q.depthTexture;Le&&Le.isDepthTexture&&(Le.type===Tc?Se=t.DEPTH_COMPONENT32F:Le.type===zf&&(Se=t.DEPTH_COMPONENT24));const Ie=be(Q);_e(Q)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ie,Se,Q.width,Q.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ie,Se,Q.width,Q.height)}else t.renderbufferStorage(t.RENDERBUFFER,Se,Q.width,Q.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,ne)}else if(Q.depthBuffer&&Q.stencilBuffer){const Se=be(Q);ve&&_e(Q)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Se,t.DEPTH24_STENCIL8,Q.width,Q.height):_e(Q)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Se,t.DEPTH24_STENCIL8,Q.width,Q.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,ne)}else{const Se=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Le=0;Le<Se.length;Le++){const Ie=Se[Le],Ke=o.convert(Ie.format,Ie.colorSpace),Ne=o.convert(Ie.type),Ye=_(Ie.internalFormat,Ke,Ne,Ie.colorSpace),et=be(Q);ve&&_e(Q)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,et,Ye,Q.width,Q.height):_e(Q)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,et,Ye,Q.width,Q.height):t.renderbufferStorage(t.RENDERBUFFER,Ye,Q.width,Q.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ge(ne,Q){if(Q&&Q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ne),!(Q.depthTexture&&Q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Q.depthTexture).__webglTexture||Q.depthTexture.image.width!==Q.width||Q.depthTexture.image.height!==Q.height)&&(Q.depthTexture.image.width=Q.width,Q.depthTexture.image.height=Q.height,Q.depthTexture.needsUpdate=!0),W(Q.depthTexture,0);const Se=r.get(Q.depthTexture).__webglTexture,Le=be(Q);if(Q.depthTexture.format===qh)_e(Q)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0,Le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0);else if(Q.depthTexture.format===Ig)_e(Q)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0,Le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0);else throw new Error("Unknown depthTexture format")}function xe(ne){const Q=r.get(ne),ve=ne.isWebGLCubeRenderTarget===!0;if(ne.depthTexture&&!Q.__autoAllocateDepthBuffer){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");ge(Q.__webglFramebuffer,ne)}else if(ve){Q.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglFramebuffer[Se]),Q.__webglDepthbuffer[Se]=t.createRenderbuffer(),we(Q.__webglDepthbuffer[Se],ne,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglFramebuffer),Q.__webglDepthbuffer=t.createRenderbuffer(),we(Q.__webglDepthbuffer,ne,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(ne,Q,ve){const Se=r.get(ne);Q!==void 0&&fe(Se.__webglFramebuffer,ne,ne.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ve!==void 0&&xe(ne)}function ee(ne){const Q=ne.texture,ve=r.get(ne),Se=r.get(Q);ne.addEventListener("dispose",I),ne.isWebGLMultipleRenderTargets!==!0&&(Se.__webglTexture===void 0&&(Se.__webglTexture=t.createTexture()),Se.__version=Q.version,a.memory.textures++);const Le=ne.isWebGLCubeRenderTarget===!0,Ie=ne.isWebGLMultipleRenderTargets===!0,Ke=y(ne)||s;if(Le){ve.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)if(s&&Q.mipmaps&&Q.mipmaps.length>0){ve.__webglFramebuffer[Ne]=[];for(let Ye=0;Ye<Q.mipmaps.length;Ye++)ve.__webglFramebuffer[Ne][Ye]=t.createFramebuffer()}else ve.__webglFramebuffer[Ne]=t.createFramebuffer()}else{if(s&&Q.mipmaps&&Q.mipmaps.length>0){ve.__webglFramebuffer=[];for(let Ne=0;Ne<Q.mipmaps.length;Ne++)ve.__webglFramebuffer[Ne]=t.createFramebuffer()}else ve.__webglFramebuffer=t.createFramebuffer();if(Ie)if(i.drawBuffers){const Ne=ne.texture;for(let Ye=0,et=Ne.length;Ye<et;Ye++){const vt=r.get(Ne[Ye]);vt.__webglTexture===void 0&&(vt.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&ne.samples>0&&_e(ne)===!1){const Ne=Ie?Q:[Q];ve.__webglMultisampledFramebuffer=t.createFramebuffer(),ve.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer);for(let Ye=0;Ye<Ne.length;Ye++){const et=Ne[Ye];ve.__webglColorRenderbuffer[Ye]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ve.__webglColorRenderbuffer[Ye]);const vt=o.convert(et.format,et.colorSpace),ke=o.convert(et.type),Ze=_(et.internalFormat,vt,ke,et.colorSpace,ne.isXRRenderTarget===!0),at=be(ne);t.renderbufferStorageMultisample(t.RENDERBUFFER,at,Ze,ne.width,ne.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.RENDERBUFFER,ve.__webglColorRenderbuffer[Ye])}t.bindRenderbuffer(t.RENDERBUFFER,null),ne.depthBuffer&&(ve.__webglDepthRenderbuffer=t.createRenderbuffer(),we(ve.__webglDepthRenderbuffer,ne,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Le){n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture),J(t.TEXTURE_CUBE_MAP,Q,Ke);for(let Ne=0;Ne<6;Ne++)if(s&&Q.mipmaps&&Q.mipmaps.length>0)for(let Ye=0;Ye<Q.mipmaps.length;Ye++)fe(ve.__webglFramebuffer[Ne][Ye],ne,Q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,Ye);else fe(ve.__webglFramebuffer[Ne],ne,Q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0);b(Q,Ke)&&x(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ie){const Ne=ne.texture;for(let Ye=0,et=Ne.length;Ye<et;Ye++){const vt=Ne[Ye],ke=r.get(vt);n.bindTexture(t.TEXTURE_2D,ke.__webglTexture),J(t.TEXTURE_2D,vt,Ke),fe(ve.__webglFramebuffer,ne,vt,t.COLOR_ATTACHMENT0+Ye,t.TEXTURE_2D,0),b(vt,Ke)&&x(t.TEXTURE_2D)}n.unbindTexture()}else{let Ne=t.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(s?Ne=ne.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ne,Se.__webglTexture),J(Ne,Q,Ke),s&&Q.mipmaps&&Q.mipmaps.length>0)for(let Ye=0;Ye<Q.mipmaps.length;Ye++)fe(ve.__webglFramebuffer[Ye],ne,Q,t.COLOR_ATTACHMENT0,Ne,Ye);else fe(ve.__webglFramebuffer,ne,Q,t.COLOR_ATTACHMENT0,Ne,0);b(Q,Ke)&&x(Ne),n.unbindTexture()}ne.depthBuffer&&xe(ne)}function Ce(ne){const Q=y(ne)||s,ve=ne.isWebGLMultipleRenderTargets===!0?ne.texture:[ne.texture];for(let Se=0,Le=ve.length;Se<Le;Se++){const Ie=ve[Se];if(b(Ie,Q)){const Ke=ne.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ne=r.get(Ie).__webglTexture;n.bindTexture(Ke,Ne),x(Ke),n.unbindTexture()}}}function ae(ne){if(s&&ne.samples>0&&_e(ne)===!1){const Q=ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture],ve=ne.width,Se=ne.height;let Le=t.COLOR_BUFFER_BIT;const Ie=[],Ke=ne.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ne=r.get(ne),Ye=ne.isWebGLMultipleRenderTargets===!0;if(Ye)for(let et=0;et<Q.length;et++)n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ne.__webglFramebuffer);for(let et=0;et<Q.length;et++){Ie.push(t.COLOR_ATTACHMENT0+et),ne.depthBuffer&&Ie.push(Ke);const vt=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;if(vt===!1&&(ne.depthBuffer&&(Le|=t.DEPTH_BUFFER_BIT),ne.stencilBuffer&&(Le|=t.STENCIL_BUFFER_BIT)),Ye&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ne.__webglColorRenderbuffer[et]),vt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Ke]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ke])),Ye){const ke=r.get(Q[et]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ke,0)}t.blitFramebuffer(0,0,ve,Se,0,0,ve,Se,Le,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ie)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ye)for(let et=0;et<Q.length;et++){n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.RENDERBUFFER,Ne.__webglColorRenderbuffer[et]);const vt=r.get(Q[et]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.TEXTURE_2D,vt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer)}}function be(ne){return Math.min(i.maxSamples,ne.samples)}function _e(ne){const Q=r.get(ne);return s&&ne.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Q.__useRenderToTexture!==!1}function He(ne){const Q=a.render.frame;u.get(ne)!==Q&&(u.set(ne,Q),ne.update())}function Ve(ne,Q){const ve=ne.colorSpace,Se=ne.format,Le=ne.type;return ne.isCompressedTexture===!0||ne.isVideoTexture===!0||ne.format===bP||ve!==Uu&&ve!==Fs&&(xr.getTransfer(ve)===Ur?s===!1?e.has("EXT_sRGB")===!0&&Se===za?(ne.format=bP,ne.minFilter=ji,ne.generateMipmaps=!1):Q=t6.sRGBToLinear(Q):(Se!==za||Le!==Pu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ve)),Q}this.allocateTextureUnit=z,this.resetTextureUnits=V,this.setTexture2D=W,this.setTexture2DArray=X,this.setTexture3D=B,this.setTextureCube=G,this.rebindTextures=Te,this.setupRenderTarget=ee,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=ae,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=fe,this.useMultisampledRTT=_e}function fme(t,e,n){const r=n.isWebGL2;function i(o,a=Fs){let s;const l=xr.getTransfer(a);if(o===Pu)return t.UNSIGNED_BYTE;if(o===H8)return t.UNSIGNED_SHORT_4_4_4_4;if(o===G8)return t.UNSIGNED_SHORT_5_5_5_1;if(o===Rpe)return t.BYTE;if(o===Ope)return t.SHORT;if(o===kL)return t.UNSIGNED_SHORT;if(o===V8)return t.INT;if(o===zf)return t.UNSIGNED_INT;if(o===Tc)return t.FLOAT;if(o===lx)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===Lpe)return t.ALPHA;if(o===za)return t.RGBA;if(o===kpe)return t.LUMINANCE;if(o===Npe)return t.LUMINANCE_ALPHA;if(o===qh)return t.DEPTH_COMPONENT;if(o===Ig)return t.DEPTH_STENCIL;if(o===bP)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===Ipe)return t.RED;if(o===X8)return t.RED_INTEGER;if(o===Dpe)return t.RG;if(o===q8)return t.RG_INTEGER;if(o===Y8)return t.RGBA_INTEGER;if(o===tA||o===nA||o===rA||o===iA)if(l===Ur)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===tA)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===nA)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===rA)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===iA)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===tA)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===nA)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===rA)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===iA)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===eB||o===tB||o===nB||o===rB)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===eB)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===tB)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===nB)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===rB)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===K8)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===iB||o===oB)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===iB)return l===Ur?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===oB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===aB||o===sB||o===lB||o===cB||o===uB||o===fB||o===dB||o===hB||o===pB||o===mB||o===gB||o===vB||o===yB||o===xB)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===aB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===sB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===lB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===cB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===uB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===fB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===dB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===hB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===pB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===mB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===gB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===vB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===yB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===xB)return l===Ur?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===oA||o===bB||o===_B)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===oA)return l===Ur?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===bB)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===_B)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===jpe||o===wB||o===SB||o===MB)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(o===oA)return s.COMPRESSED_RED_RGTC1_EXT;if(o===wB)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===SB)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===MB)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Xh?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class dme extends Bi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Vy extends fr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const syt={type:"move"};class aI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vy,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new he,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new he),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new he,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new he),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r),g=this._getHandJoint(c,v);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),h=.02,m=.005;c.inputState.pinching&&d>h+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(syt)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Vy;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class lyt extends wd{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,u=null,f=null,d=null,h=null,m=null;const v=n.getContextAttributes();let y=null,g=null;const b=[],x=[],_=new ft;let T=null;const C=new Bi;C.layers.enable(1),C.viewport=new Jn;const P=new Bi;P.layers.enable(2),P.viewport=new Jn;const I=[C,P],O=new dme;O.layers.enable(1),O.layers.enable(2);let N=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let re=b[J];return re===void 0&&(re=new aI,b[J]=re),re.getTargetRaySpace()},this.getControllerGrip=function(J){let re=b[J];return re===void 0&&(re=new aI,b[J]=re),re.getGripSpace()},this.getHand=function(J){let re=b[J];return re===void 0&&(re=new aI,b[J]=re),re.getHandSpace()};function U(J){const re=x.indexOf(J.inputSource);if(re===-1)return;const oe=b[re];oe!==void 0&&(oe.update(J.inputSource,J.frame,c||a),oe.dispatchEvent({type:J.type,data:J.inputSource}))}function V(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",z);for(let J=0;J<b.length;J++){const re=x[J];re!==null&&(x[J]=null,b[J].disconnect(re))}N=null,D=null,e.setRenderTarget(y),h=null,d=null,f=null,i=null,g=null,Y.stop(),r.isPresenting=!1,e.setPixelRatio(T),e.setSize(_.width,_.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){o=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){s=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",V),i.addEventListener("inputsourceschange",z),v.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(_),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const re={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,re),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),g=new Bc(h.framebufferWidth,h.framebufferHeight,{format:za,type:Pu,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let re=null,oe=null,pe=null;v.depth&&(pe=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,re=v.stencil?Ig:qh,oe=v.stencil?Xh:zf);const fe={colorFormat:n.RGBA8,depthFormat:pe,scaleFactor:o};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(fe),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),g=new Bc(d.textureWidth,d.textureHeight,{format:za,type:Pu,depthTexture:new a6(d.textureWidth,d.textureHeight,oe,void 0,void 0,void 0,void 0,void 0,void 0,re),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0});const we=e.properties.get(g);we.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),Y.setContext(i),Y.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function z(J){for(let re=0;re<J.removed.length;re++){const oe=J.removed[re],pe=x.indexOf(oe);pe>=0&&(x[pe]=null,b[pe].disconnect(oe))}for(let re=0;re<J.added.length;re++){const oe=J.added[re];let pe=x.indexOf(oe);if(pe===-1){for(let we=0;we<b.length;we++)if(we>=x.length){x.push(oe),pe=we;break}else if(x[we]===null){x[we]=oe,pe=we;break}if(pe===-1)break}const fe=b[pe];fe&&fe.connect(oe)}}const F=new he,W=new he;function X(J,re,oe){F.setFromMatrixPosition(re.matrixWorld),W.setFromMatrixPosition(oe.matrixWorld);const pe=F.distanceTo(W),fe=re.projectionMatrix.elements,we=oe.projectionMatrix.elements,ge=fe[14]/(fe[10]-1),xe=fe[14]/(fe[10]+1),Te=(fe[9]+1)/fe[5],ee=(fe[9]-1)/fe[5],Ce=(fe[8]-1)/fe[0],ae=(we[8]+1)/we[0],be=ge*Ce,_e=ge*ae,He=pe/(-Ce+ae),Ve=He*-Ce;re.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Ve),J.translateZ(He),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert();const ne=ge+He,Q=xe+He,ve=be-Ve,Se=_e+(pe-Ve),Le=Te*xe/Q*ne,Ie=ee*xe/Q*ne;J.projectionMatrix.makePerspective(ve,Se,Le,Ie,ne,Q),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}function B(J,re){re===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(re.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;O.near=P.near=C.near=J.near,O.far=P.far=C.far=J.far,(N!==O.near||D!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),N=O.near,D=O.far);const re=J.parent,oe=O.cameras;B(O,re);for(let pe=0;pe<oe.length;pe++)B(oe[pe],re);oe.length===2?X(O,C,P):O.projectionMatrix.copy(C.projectionMatrix),G(J,O,re)};function G(J,re,oe){oe===null?J.matrix.copy(re.matrixWorld):(J.matrix.copy(oe.matrixWorld),J.matrix.invert(),J.matrix.multiply(re.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(re.projectionMatrix),J.projectionMatrixInverse.copy(re.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=ux*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(J){l=J,d!==null&&(d.fixedFoveation=J),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=J)};let q=null;function te(J,re){if(u=re.getViewerPose(c||a),m=re,u!==null){const oe=u.views;h!==null&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let pe=!1;oe.length!==O.cameras.length&&(O.cameras.length=0,pe=!0);for(let fe=0;fe<oe.length;fe++){const we=oe[fe];let ge=null;if(h!==null)ge=h.getViewport(we);else{const Te=f.getViewSubImage(d,we);ge=Te.viewport,fe===0&&(e.setRenderTargetTextures(g,Te.colorTexture,d.ignoreDepthValues?void 0:Te.depthStencilTexture),e.setRenderTarget(g))}let xe=I[fe];xe===void 0&&(xe=new Bi,xe.layers.enable(fe),xe.viewport=new Jn,I[fe]=xe),xe.matrix.fromArray(we.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(we.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(ge.x,ge.y,ge.width,ge.height),fe===0&&(O.matrix.copy(xe.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),pe===!0&&O.cameras.push(xe)}}for(let oe=0;oe<b.length;oe++){const pe=x[oe],fe=b[oe];pe!==null&&fe!==void 0&&fe.update(pe,re,c||a)}q&&q(J,re),re.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:re}),m=null}const Y=new ome;Y.setAnimationLoop(te),this.setAnimationLoop=function(J){q=J},this.dispose=function(){}}}function cyt(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,nme(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,b,x,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(y,g):g.isMeshToonMaterial?(o(y,g),f(y,g)):g.isMeshPhongMaterial?(o(y,g),u(y,g)):g.isMeshStandardMaterial?(o(y,g),d(y,g),g.isMeshPhysicalMaterial&&h(y,g,_)):g.isMeshMatcapMaterial?(o(y,g),m(y,g)):g.isMeshDepthMaterial?o(y,g):g.isMeshDistanceMaterial?(o(y,g),v(y,g)):g.isMeshNormalMaterial?o(y,g):g.isLineBasicMaterial?(a(y,g),g.isLineDashedMaterial&&s(y,g)):g.isPointsMaterial?l(y,g,b,x):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===Ga&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===Ga&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const b=e.get(g).envMap;if(b&&(y.envMap.value=b,y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap){y.lightMap.value=g.lightMap;const x=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=g.lightMapIntensity*x,n(g.lightMap,y.lightMapTransform)}g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function a(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function s(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,b,x){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*b,y.scale.value=x*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function f(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function d(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),e.get(g).envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function h(y,g,b){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ga&&y.clearcoatNormalScale.value.negate())),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function m(y,g){g.matcap&&(y.matcap.value=g.matcap)}function v(y,g){const b=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(b.matrixWorld),y.nearDistance.value=b.shadow.camera.near,y.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function uyt(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(b,x){const _=x.program;r.uniformBlockBinding(b,_)}function c(b,x){let _=i[b.id];_===void 0&&(m(b),_=u(b),i[b.id]=_,b.addEventListener("dispose",y));const T=x.program;r.updateUBOMapping(b,T);const C=e.render.frame;o[b.id]!==C&&(d(b),o[b.id]=C)}function u(b){const x=f();b.__bindingPointIndex=x;const _=t.createBuffer(),T=b.__size,C=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,_),t.bufferData(t.UNIFORM_BUFFER,T,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,x,_),_}function f(){for(let b=0;b<s;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(b){const x=i[b.id],_=b.uniforms,T=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,x);for(let C=0,P=_.length;C<P;C++){const I=Array.isArray(_[C])?_[C]:[_[C]];for(let O=0,N=I.length;O<N;O++){const D=I[O];if(h(D,C,O,T)===!0){const U=D.__offset,V=Array.isArray(D.value)?D.value:[D.value];let z=0;for(let F=0;F<V.length;F++){const W=V[F],X=v(W);typeof W=="number"||typeof W=="boolean"?(D.__data[0]=W,t.bufferSubData(t.UNIFORM_BUFFER,U+z,D.__data)):W.isMatrix3?(D.__data[0]=W.elements[0],D.__data[1]=W.elements[1],D.__data[2]=W.elements[2],D.__data[3]=0,D.__data[4]=W.elements[3],D.__data[5]=W.elements[4],D.__data[6]=W.elements[5],D.__data[7]=0,D.__data[8]=W.elements[6],D.__data[9]=W.elements[7],D.__data[10]=W.elements[8],D.__data[11]=0):(W.toArray(D.__data,z),z+=X.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,U,D.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(b,x,_,T){const C=b.value,P=x+"_"+_;if(T[P]===void 0)return typeof C=="number"||typeof C=="boolean"?T[P]=C:T[P]=C.clone(),!0;{const I=T[P];if(typeof C=="number"||typeof C=="boolean"){if(I!==C)return T[P]=C,!0}else if(I.equals(C)===!1)return I.copy(C),!0}return!1}function m(b){const x=b.uniforms;let _=0;const T=16;for(let P=0,I=x.length;P<I;P++){const O=Array.isArray(x[P])?x[P]:[x[P]];for(let N=0,D=O.length;N<D;N++){const U=O[N],V=Array.isArray(U.value)?U.value:[U.value];for(let z=0,F=V.length;z<F;z++){const W=V[z],X=v(W),B=_%T;B!==0&&T-B<X.boundary&&(_+=T-B),U.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=_,_+=X.storage}}}const C=_%T;return C>0&&(_+=T-C),b.__size=_,b.__cache={},this}function v(b){const x={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(x.boundary=4,x.storage=4):b.isVector2?(x.boundary=8,x.storage=8):b.isVector3||b.isColor?(x.boundary=16,x.storage=12):b.isVector4?(x.boundary=16,x.storage=16):b.isMatrix3?(x.boundary=48,x.storage=48):b.isMatrix4?(x.boundary=64,x.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),x}function y(b){const x=b.target;x.removeEventListener("dispose",y);const _=a.indexOf(x.__bindingPointIndex);a.splice(_,1),t.deleteBuffer(i[x.id]),delete i[x.id],delete o[x.id]}function g(){for(const b in i)t.deleteBuffer(i[b]);a=[],i={},o={}}return{bind:l,update:c,dispose:g}}class c6{constructor(e={}){const{canvas:n=Qpe(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=a;const h=new Uint32Array(4),m=new Int32Array(4);let v=null,y=null;const g=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=fo,this._useLegacyLights=!1,this.toneMapping=Cu,this.toneMappingExposure=1;const x=this;let _=!1,T=0,C=0,P=null,I=-1,O=null;const N=new Jn,D=new Jn;let U=null;const V=new zt(0);let z=0,F=n.width,W=n.height,X=1,B=null,G=null;const q=new Jn(0,0,F,W),te=new Jn(0,0,F,W);let Y=!1;const J=new CM;let re=!1,oe=!1,pe=null;const fe=new dn,we=new ft,ge=new he,xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Te(){return P===null?X:1}let ee=r;function Ce(se,Pe){for(let Oe=0;Oe<se.length;Oe++){const je=se[Oe],$e=n.getContext(je,Pe);if($e!==null)return $e}return null}try{const se={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${wM}`),n.addEventListener("webglcontextlost",ze,!1),n.addEventListener("webglcontextrestored",ce,!1),n.addEventListener("webglcontextcreationerror",Re,!1),ee===null){const Pe=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&Pe.shift(),ee=Ce(Pe,se),ee===null)throw Ce(Pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ee instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ee.getShaderPrecisionFormat===void 0&&(ee.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(se){throw console.error("THREE.WebGLRenderer: "+se.message),se}let ae,be,_e,He,Ve,ne,Q,ve,Se,Le,Ie,Ke,Ne,Ye,et,vt,ke,Ze,at,pt,me,Ae,le,Ee;function Ue(){ae=new Mgt(ee),be=new ygt(ee,ae,e),ae.init(be),Ae=new fme(ee,ae,be),_e=new oyt(ee,ae,be),He=new Agt(ee),Ve=new Xvt,ne=new ayt(ee,ae,_e,Ve,be,Ae,He),Q=new bgt(x),ve=new Sgt(x),Se=new Iht(ee,be),le=new ggt(ee,ae,Se,be),Le=new Egt(ee,Se,He,le),Ie=new Ogt(ee,Le,Se,He),at=new Rgt(ee,be,ne),vt=new xgt(Ve),Ke=new Gvt(x,Q,ve,ae,be,le,vt),Ne=new cyt(x,Ve),Ye=new Yvt,et=new tyt(ae,be),Ze=new mgt(x,Q,ve,_e,Ie,d,l),ke=new iyt(x,Ie,be),Ee=new uyt(ee,He,be,_e),pt=new vgt(ee,ae,He,be),me=new Tgt(ee,ae,He,be),He.programs=Ke.programs,x.capabilities=be,x.extensions=ae,x.properties=Ve,x.renderLists=Ye,x.shadowMap=ke,x.state=_e,x.info=He}Ue();const We=new lyt(x,ee);this.xr=We,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const se=ae.get("WEBGL_lose_context");se&&se.loseContext()},this.forceContextRestore=function(){const se=ae.get("WEBGL_lose_context");se&&se.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(se){se!==void 0&&(X=se,this.setSize(F,W,!1))},this.getSize=function(se){return se.set(F,W)},this.setSize=function(se,Pe,Oe=!0){if(We.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=se,W=Pe,n.width=Math.floor(se*X),n.height=Math.floor(Pe*X),Oe===!0&&(n.style.width=se+"px",n.style.height=Pe+"px"),this.setViewport(0,0,se,Pe)},this.getDrawingBufferSize=function(se){return se.set(F*X,W*X).floor()},this.setDrawingBufferSize=function(se,Pe,Oe){F=se,W=Pe,X=Oe,n.width=Math.floor(se*Oe),n.height=Math.floor(Pe*Oe),this.setViewport(0,0,se,Pe)},this.getCurrentViewport=function(se){return se.copy(N)},this.getViewport=function(se){return se.copy(q)},this.setViewport=function(se,Pe,Oe,je){se.isVector4?q.set(se.x,se.y,se.z,se.w):q.set(se,Pe,Oe,je),_e.viewport(N.copy(q).multiplyScalar(X).floor())},this.getScissor=function(se){return se.copy(te)},this.setScissor=function(se,Pe,Oe,je){se.isVector4?te.set(se.x,se.y,se.z,se.w):te.set(se,Pe,Oe,je),_e.scissor(D.copy(te).multiplyScalar(X).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(se){_e.setScissorTest(Y=se)},this.setOpaqueSort=function(se){B=se},this.setTransparentSort=function(se){G=se},this.getClearColor=function(se){return se.copy(Ze.getClearColor())},this.setClearColor=function(){Ze.setClearColor.apply(Ze,arguments)},this.getClearAlpha=function(){return Ze.getClearAlpha()},this.setClearAlpha=function(){Ze.setClearAlpha.apply(Ze,arguments)},this.clear=function(se=!0,Pe=!0,Oe=!0){let je=0;if(se){let $e=!1;if(P!==null){const _t=P.texture.format;$e=_t===Y8||_t===q8||_t===X8}if($e){const _t=P.texture.type,Et=_t===Pu||_t===zf||_t===kL||_t===Xh||_t===H8||_t===G8,Bt=Ze.getClearColor(),$t=Ze.getClearAlpha(),Kt=Bt.r,It=Bt.g,Wt=Bt.b;Et?(h[0]=Kt,h[1]=It,h[2]=Wt,h[3]=$t,ee.clearBufferuiv(ee.COLOR,0,h)):(m[0]=Kt,m[1]=It,m[2]=Wt,m[3]=$t,ee.clearBufferiv(ee.COLOR,0,m))}else je|=ee.COLOR_BUFFER_BIT}Pe&&(je|=ee.DEPTH_BUFFER_BIT),Oe&&(je|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ze,!1),n.removeEventListener("webglcontextrestored",ce,!1),n.removeEventListener("webglcontextcreationerror",Re,!1),Ye.dispose(),et.dispose(),Ve.dispose(),Q.dispose(),ve.dispose(),Ie.dispose(),le.dispose(),Ee.dispose(),Ke.dispose(),We.dispose(),We.removeEventListener("sessionstart",it),We.removeEventListener("sessionend",nt),pe&&(pe.dispose(),pe=null),Pt.stop()};function ze(se){se.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const se=He.autoReset,Pe=ke.enabled,Oe=ke.autoUpdate,je=ke.needsUpdate,$e=ke.type;Ue(),He.autoReset=se,ke.enabled=Pe,ke.autoUpdate=Oe,ke.needsUpdate=je,ke.type=$e}function Re(se){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",se.statusMessage)}function Xe(se){const Pe=se.target;Pe.removeEventListener("dispose",Xe),ct(Pe)}function ct(se){De(se),Ve.remove(se)}function De(se){const Pe=Ve.get(se).programs;Pe!==void 0&&(Pe.forEach(function(Oe){Ke.releaseProgram(Oe)}),se.isShaderMaterial&&Ke.releaseShaderCache(se))}this.renderBufferDirect=function(se,Pe,Oe,je,$e,_t){Pe===null&&(Pe=xe);const Et=$e.isMesh&&$e.matrixWorld.determinant()<0,Bt=At(se,Pe,Oe,je,$e);_e.setMaterial(je,Et);let $t=Oe.index,Kt=1;if(je.wireframe===!0){if($t=Le.getWireframeAttribute(Oe),$t===void 0)return;Kt=2}const It=Oe.drawRange,Wt=Oe.attributes.position;let Vn=It.start*Kt,or=(It.start+It.count)*Kt;_t!==null&&(Vn=Math.max(Vn,_t.start*Kt),or=Math.min(or,(_t.start+_t.count)*Kt)),$t!==null?(Vn=Math.max(Vn,0),or=Math.min(or,$t.count)):Wt!=null&&(Vn=Math.max(Vn,0),or=Math.min(or,Wt.count));const nn=or-Vn;if(nn<0||nn===1/0)return;le.setup($e,je,Bt,Oe,$t);let hr,gt=pt;if($t!==null&&(hr=Se.get($t),gt=me,gt.setIndex(hr)),$e.isMesh)je.wireframe===!0?(_e.setLineWidth(je.wireframeLinewidth*Te()),gt.setMode(ee.LINES)):gt.setMode(ee.TRIANGLES);else if($e.isLine){let Ct=je.linewidth;Ct===void 0&&(Ct=1),_e.setLineWidth(Ct*Te()),$e.isLineSegments?gt.setMode(ee.LINES):$e.isLineLoop?gt.setMode(ee.LINE_LOOP):gt.setMode(ee.LINE_STRIP)}else $e.isPoints?gt.setMode(ee.POINTS):$e.isSprite&&gt.setMode(ee.TRIANGLES);if($e.isBatchedMesh)gt.renderMultiDraw($e._multiDrawStarts,$e._multiDrawCounts,$e._multiDrawCount);else if($e.isInstancedMesh)gt.renderInstances(Vn,nn,$e.count);else if(Oe.isInstancedBufferGeometry){const Ct=Oe._maxInstanceCount!==void 0?Oe._maxInstanceCount:1/0,tn=Math.min(Oe.instanceCount,Ct);gt.renderInstances(Vn,nn,tn)}else gt.render(Vn,nn)};function st(se,Pe,Oe){se.transparent===!0&&se.side===fu&&se.forceSinglePass===!1?(se.side=Ga,se.needsUpdate=!0,Yt(se,Pe,Oe),se.side=hd,se.needsUpdate=!0,Yt(se,Pe,Oe),se.side=fu):Yt(se,Pe,Oe)}this.compile=function(se,Pe,Oe=null){Oe===null&&(Oe=se),y=et.get(Oe),y.init(),b.push(y),Oe.traverseVisible(function($e){$e.isLight&&$e.layers.test(Pe.layers)&&(y.pushLight($e),$e.castShadow&&y.pushShadow($e))}),se!==Oe&&se.traverseVisible(function($e){$e.isLight&&$e.layers.test(Pe.layers)&&(y.pushLight($e),$e.castShadow&&y.pushShadow($e))}),y.setupLights(x._useLegacyLights);const je=new Set;return se.traverse(function($e){const _t=$e.material;if(_t)if(Array.isArray(_t))for(let Et=0;Et<_t.length;Et++){const Bt=_t[Et];st(Bt,Oe,$e),je.add(Bt)}else st(_t,Oe,$e),je.add(_t)}),b.pop(),y=null,je},this.compileAsync=function(se,Pe,Oe=null){const je=this.compile(se,Pe,Oe);return new Promise($e=>{function _t(){if(je.forEach(function(Et){Ve.get(Et).currentProgram.isReady()&&je.delete(Et)}),je.size===0){$e(se);return}setTimeout(_t,10)}ae.get("KHR_parallel_shader_compile")!==null?_t():setTimeout(_t,10)})};let mt=null;function rt(se){mt&&mt(se)}function it(){Pt.stop()}function nt(){Pt.start()}const Pt=new ome;Pt.setAnimationLoop(rt),typeof self<"u"&&Pt.setContext(self),this.setAnimationLoop=function(se){mt=se,We.setAnimationLoop(se),se===null?Pt.stop():Pt.start()},We.addEventListener("sessionstart",it),We.addEventListener("sessionend",nt),this.render=function(se,Pe){if(Pe!==void 0&&Pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),Pe.parent===null&&Pe.matrixWorldAutoUpdate===!0&&Pe.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(We.cameraAutoUpdate===!0&&We.updateCamera(Pe),Pe=We.getCamera()),se.isScene===!0&&se.onBeforeRender(x,se,Pe,P),y=et.get(se,b.length),y.init(),b.push(y),fe.multiplyMatrices(Pe.projectionMatrix,Pe.matrixWorldInverse),J.setFromProjectionMatrix(fe),oe=this.localClippingEnabled,re=vt.init(this.clippingPlanes,oe),v=Ye.get(se,g.length),v.init(),g.push(v),Rt(se,Pe,0,x.sortObjects),v.finish(),x.sortObjects===!0&&v.sort(B,G),this.info.render.frame++,re===!0&&vt.beginShadows();const Oe=y.state.shadowsArray;if(ke.render(Oe,se,Pe),re===!0&&vt.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ze.render(v,se),y.setupLights(x._useLegacyLights),Pe.isArrayCamera){const je=Pe.cameras;for(let $e=0,_t=je.length;$e<_t;$e++){const Et=je[$e];Xt(v,se,Et,Et.viewport)}}else Xt(v,se,Pe);P!==null&&(ne.updateMultisampleRenderTarget(P),ne.updateRenderTargetMipmap(P)),se.isScene===!0&&se.onAfterRender(x,se,Pe),le.resetDefaultState(),I=-1,O=null,b.pop(),b.length>0?y=b[b.length-1]:y=null,g.pop(),g.length>0?v=g[g.length-1]:v=null};function Rt(se,Pe,Oe,je){if(se.visible===!1)return;if(se.layers.test(Pe.layers)){if(se.isGroup)Oe=se.renderOrder;else if(se.isLOD)se.autoUpdate===!0&&se.update(Pe);else if(se.isLight)y.pushLight(se),se.castShadow&&y.pushShadow(se);else if(se.isSprite){if(!se.frustumCulled||J.intersectsSprite(se)){je&&ge.setFromMatrixPosition(se.matrixWorld).applyMatrix4(fe);const Et=Ie.update(se),Bt=se.material;Bt.visible&&v.push(se,Et,Bt,Oe,ge.z,null)}}else if((se.isMesh||se.isLine||se.isPoints)&&(!se.frustumCulled||J.intersectsObject(se))){const Et=Ie.update(se),Bt=se.material;if(je&&(se.boundingSphere!==void 0?(se.boundingSphere===null&&se.computeBoundingSphere(),ge.copy(se.boundingSphere.center)):(Et.boundingSphere===null&&Et.computeBoundingSphere(),ge.copy(Et.boundingSphere.center)),ge.applyMatrix4(se.matrixWorld).applyMatrix4(fe)),Array.isArray(Bt)){const $t=Et.groups;for(let Kt=0,It=$t.length;Kt<It;Kt++){const Wt=$t[Kt],Vn=Bt[Wt.materialIndex];Vn&&Vn.visible&&v.push(se,Et,Vn,Oe,ge.z,Wt)}}else Bt.visible&&v.push(se,Et,Bt,Oe,ge.z,null)}}const _t=se.children;for(let Et=0,Bt=_t.length;Et<Bt;Et++)Rt(_t[Et],Pe,Oe,je)}function Xt(se,Pe,Oe,je){const $e=se.opaque,_t=se.transmissive,Et=se.transparent;y.setupLightsView(Oe),re===!0&&vt.setGlobalState(x.clippingPlanes,Oe),_t.length>0&&sn($e,_t,Pe,Oe),je&&_e.viewport(N.copy(je)),$e.length>0&&bt($e,Pe,Oe),_t.length>0&&bt(_t,Pe,Oe),Et.length>0&&bt(Et,Pe,Oe),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function sn(se,Pe,Oe,je){if((Oe.isScene===!0?Oe.overrideMaterial:null)!==null)return;const _t=be.isWebGL2;pe===null&&(pe=new Bc(1,1,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?lx:Pu,minFilter:hp,samples:_t?4:0})),x.getDrawingBufferSize(we),_t?pe.setSize(we.x,we.y):pe.setSize(_P(we.x),_P(we.y));const Et=x.getRenderTarget();x.setRenderTarget(pe),x.getClearColor(V),z=x.getClearAlpha(),z<1&&x.setClearColor(16777215,.5),x.clear();const Bt=x.toneMapping;x.toneMapping=Cu,bt(se,Oe,je),ne.updateMultisampleRenderTarget(pe),ne.updateRenderTargetMipmap(pe);let $t=!1;for(let Kt=0,It=Pe.length;Kt<It;Kt++){const Wt=Pe[Kt],Vn=Wt.object,or=Wt.geometry,nn=Wt.material,hr=Wt.group;if(nn.side===fu&&Vn.layers.test(je.layers)){const gt=nn.side;nn.side=Ga,nn.needsUpdate=!0,yt(Vn,Oe,je,or,nn,hr),nn.side=gt,nn.needsUpdate=!0,$t=!0}}$t===!0&&(ne.updateMultisampleRenderTarget(pe),ne.updateRenderTargetMipmap(pe)),x.setRenderTarget(Et),x.setClearColor(V,z),x.toneMapping=Bt}function bt(se,Pe,Oe){const je=Pe.isScene===!0?Pe.overrideMaterial:null;for(let $e=0,_t=se.length;$e<_t;$e++){const Et=se[$e],Bt=Et.object,$t=Et.geometry,Kt=je===null?Et.material:je,It=Et.group;Bt.layers.test(Oe.layers)&&yt(Bt,Pe,Oe,$t,Kt,It)}}function yt(se,Pe,Oe,je,$e,_t){se.onBeforeRender(x,Pe,Oe,je,$e,_t),se.modelViewMatrix.multiplyMatrices(Oe.matrixWorldInverse,se.matrixWorld),se.normalMatrix.getNormalMatrix(se.modelViewMatrix),$e.onBeforeRender(x,Pe,Oe,je,se,_t),$e.transparent===!0&&$e.side===fu&&$e.forceSinglePass===!1?($e.side=Ga,$e.needsUpdate=!0,x.renderBufferDirect(Oe,Pe,je,$e,se,_t),$e.side=hd,$e.needsUpdate=!0,x.renderBufferDirect(Oe,Pe,je,$e,se,_t),$e.side=fu):x.renderBufferDirect(Oe,Pe,je,$e,se,_t),se.onAfterRender(x,Pe,Oe,je,$e,_t)}function Yt(se,Pe,Oe){Pe.isScene!==!0&&(Pe=xe);const je=Ve.get(se),$e=y.state.lights,_t=y.state.shadowsArray,Et=$e.state.version,Bt=Ke.getParameters(se,$e.state,_t,Pe,Oe),$t=Ke.getProgramCacheKey(Bt);let Kt=je.programs;je.environment=se.isMeshStandardMaterial?Pe.environment:null,je.fog=Pe.fog,je.envMap=(se.isMeshStandardMaterial?ve:Q).get(se.envMap||je.environment),Kt===void 0&&(se.addEventListener("dispose",Xe),Kt=new Map,je.programs=Kt);let It=Kt.get($t);if(It!==void 0){if(je.currentProgram===It&&je.lightsStateVersion===Et)return Zt(se,Bt),It}else Bt.uniforms=Ke.getUniforms(se),se.onBuild(Oe,Bt,x),se.onBeforeCompile(Bt,x),It=Ke.acquireProgram(Bt,$t),Kt.set($t,It),je.uniforms=Bt.uniforms;const Wt=je.uniforms;return(!se.isShaderMaterial&&!se.isRawShaderMaterial||se.clipping===!0)&&(Wt.clippingPlanes=vt.uniform),Zt(se,Bt),je.needsLights=gn(se),je.lightsStateVersion=Et,je.needsLights&&(Wt.ambientLightColor.value=$e.state.ambient,Wt.lightProbe.value=$e.state.probe,Wt.directionalLights.value=$e.state.directional,Wt.directionalLightShadows.value=$e.state.directionalShadow,Wt.spotLights.value=$e.state.spot,Wt.spotLightShadows.value=$e.state.spotShadow,Wt.rectAreaLights.value=$e.state.rectArea,Wt.ltc_1.value=$e.state.rectAreaLTC1,Wt.ltc_2.value=$e.state.rectAreaLTC2,Wt.pointLights.value=$e.state.point,Wt.pointLightShadows.value=$e.state.pointShadow,Wt.hemisphereLights.value=$e.state.hemi,Wt.directionalShadowMap.value=$e.state.directionalShadowMap,Wt.directionalShadowMatrix.value=$e.state.directionalShadowMatrix,Wt.spotShadowMap.value=$e.state.spotShadowMap,Wt.spotLightMatrix.value=$e.state.spotLightMatrix,Wt.spotLightMap.value=$e.state.spotLightMap,Wt.pointShadowMap.value=$e.state.pointShadowMap,Wt.pointShadowMatrix.value=$e.state.pointShadowMatrix),je.currentProgram=It,je.uniformsList=null,It}function nr(se){if(se.uniformsList===null){const Pe=se.currentProgram.getUniforms();se.uniformsList=sA.seqWithValue(Pe.seq,se.uniforms)}return se.uniformsList}function Zt(se,Pe){const Oe=Ve.get(se);Oe.outputColorSpace=Pe.outputColorSpace,Oe.batching=Pe.batching,Oe.instancing=Pe.instancing,Oe.instancingColor=Pe.instancingColor,Oe.skinning=Pe.skinning,Oe.morphTargets=Pe.morphTargets,Oe.morphNormals=Pe.morphNormals,Oe.morphColors=Pe.morphColors,Oe.morphTargetsCount=Pe.morphTargetsCount,Oe.numClippingPlanes=Pe.numClippingPlanes,Oe.numIntersection=Pe.numClipIntersection,Oe.vertexAlphas=Pe.vertexAlphas,Oe.vertexTangents=Pe.vertexTangents,Oe.toneMapping=Pe.toneMapping}function At(se,Pe,Oe,je,$e){Pe.isScene!==!0&&(Pe=xe),ne.resetTextureUnits();const _t=Pe.fog,Et=je.isMeshStandardMaterial?Pe.environment:null,Bt=P===null?x.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:Uu,$t=(je.isMeshStandardMaterial?ve:Q).get(je.envMap||Et),Kt=je.vertexColors===!0&&!!Oe.attributes.color&&Oe.attributes.color.itemSize===4,It=!!Oe.attributes.tangent&&(!!je.normalMap||je.anisotropy>0),Wt=!!Oe.morphAttributes.position,Vn=!!Oe.morphAttributes.normal,or=!!Oe.morphAttributes.color;let nn=Cu;je.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(nn=x.toneMapping);const hr=Oe.morphAttributes.position||Oe.morphAttributes.normal||Oe.morphAttributes.color,gt=hr!==void 0?hr.length:0,Ct=Ve.get(je),tn=y.state.lights;if(re===!0&&(oe===!0||se!==O)){const Xn=se===O&&je.id===I;vt.setState(je,se,Xn)}let Dt=!1;je.version===Ct.__version?(Ct.needsLights&&Ct.lightsStateVersion!==tn.state.version||Ct.outputColorSpace!==Bt||$e.isBatchedMesh&&Ct.batching===!1||!$e.isBatchedMesh&&Ct.batching===!0||$e.isInstancedMesh&&Ct.instancing===!1||!$e.isInstancedMesh&&Ct.instancing===!0||$e.isSkinnedMesh&&Ct.skinning===!1||!$e.isSkinnedMesh&&Ct.skinning===!0||$e.isInstancedMesh&&Ct.instancingColor===!0&&$e.instanceColor===null||$e.isInstancedMesh&&Ct.instancingColor===!1&&$e.instanceColor!==null||Ct.envMap!==$t||je.fog===!0&&Ct.fog!==_t||Ct.numClippingPlanes!==void 0&&(Ct.numClippingPlanes!==vt.numPlanes||Ct.numIntersection!==vt.numIntersection)||Ct.vertexAlphas!==Kt||Ct.vertexTangents!==It||Ct.morphTargets!==Wt||Ct.morphNormals!==Vn||Ct.morphColors!==or||Ct.toneMapping!==nn||be.isWebGL2===!0&&Ct.morphTargetsCount!==gt)&&(Dt=!0):(Dt=!0,Ct.__version=je.version);let Tn=Ct.currentProgram;Dt===!0&&(Tn=Yt(je,Pe,$e));let Er=!1,Tr=!1,On=!1;const Lt=Tn.getUniforms(),pn=Ct.uniforms;if(_e.useProgram(Tn.program)&&(Er=!0,Tr=!0,On=!0),je.id!==I&&(I=je.id,Tr=!0),Er||O!==se){Lt.setValue(ee,"projectionMatrix",se.projectionMatrix),Lt.setValue(ee,"viewMatrix",se.matrixWorldInverse);const Xn=Lt.map.cameraPosition;Xn!==void 0&&Xn.setValue(ee,ge.setFromMatrixPosition(se.matrixWorld)),be.logarithmicDepthBuffer&&Lt.setValue(ee,"logDepthBufFC",2/(Math.log(se.far+1)/Math.LN2)),(je.isMeshPhongMaterial||je.isMeshToonMaterial||je.isMeshLambertMaterial||je.isMeshBasicMaterial||je.isMeshStandardMaterial||je.isShaderMaterial)&&Lt.setValue(ee,"isOrthographic",se.isOrthographicCamera===!0),O!==se&&(O=se,Tr=!0,On=!0)}if($e.isSkinnedMesh){Lt.setOptional(ee,$e,"bindMatrix"),Lt.setOptional(ee,$e,"bindMatrixInverse");const Xn=$e.skeleton;Xn&&(be.floatVertexTextures?(Xn.boneTexture===null&&Xn.computeBoneTexture(),Lt.setValue(ee,"boneTexture",Xn.boneTexture,ne)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}$e.isBatchedMesh&&(Lt.setOptional(ee,$e,"batchingTexture"),Lt.setValue(ee,"batchingTexture",$e._matricesTexture,ne));const Or=Oe.morphAttributes;if((Or.position!==void 0||Or.normal!==void 0||Or.color!==void 0&&be.isWebGL2===!0)&&at.update($e,Oe,Tn),(Tr||Ct.receiveShadow!==$e.receiveShadow)&&(Ct.receiveShadow=$e.receiveShadow,Lt.setValue(ee,"receiveShadow",$e.receiveShadow)),je.isMeshGouraudMaterial&&je.envMap!==null&&(pn.envMap.value=$t,pn.flipEnvMap.value=$t.isCubeTexture&&$t.isRenderTargetTexture===!1?-1:1),Tr&&(Lt.setValue(ee,"toneMappingExposure",x.toneMappingExposure),Ct.needsLights&&qt(pn,On),_t&&je.fog===!0&&Ne.refreshFogUniforms(pn,_t),Ne.refreshMaterialUniforms(pn,je,X,W,pe),sA.upload(ee,nr(Ct),pn,ne)),je.isShaderMaterial&&je.uniformsNeedUpdate===!0&&(sA.upload(ee,nr(Ct),pn,ne),je.uniformsNeedUpdate=!1),je.isSpriteMaterial&&Lt.setValue(ee,"center",$e.center),Lt.setValue(ee,"modelViewMatrix",$e.modelViewMatrix),Lt.setValue(ee,"normalMatrix",$e.normalMatrix),Lt.setValue(ee,"modelMatrix",$e.matrixWorld),je.isShaderMaterial||je.isRawShaderMaterial){const Xn=je.uniformsGroups;for(let Ln=0,mr=Xn.length;Ln<mr;Ln++)if(be.isWebGL2){const Vr=Xn[Ln];Ee.update(Vr,Tn),Ee.bind(Vr,Tn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Tn}function qt(se,Pe){se.ambientLightColor.needsUpdate=Pe,se.lightProbe.needsUpdate=Pe,se.directionalLights.needsUpdate=Pe,se.directionalLightShadows.needsUpdate=Pe,se.pointLights.needsUpdate=Pe,se.pointLightShadows.needsUpdate=Pe,se.spotLights.needsUpdate=Pe,se.spotLightShadows.needsUpdate=Pe,se.rectAreaLights.needsUpdate=Pe,se.hemisphereLights.needsUpdate=Pe}function gn(se){return se.isMeshLambertMaterial||se.isMeshToonMaterial||se.isMeshPhongMaterial||se.isMeshStandardMaterial||se.isShadowMaterial||se.isShaderMaterial&&se.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(se,Pe,Oe){Ve.get(se.texture).__webglTexture=Pe,Ve.get(se.depthTexture).__webglTexture=Oe;const je=Ve.get(se);je.__hasExternalTextures=!0,je.__hasExternalTextures&&(je.__autoAllocateDepthBuffer=Oe===void 0,je.__autoAllocateDepthBuffer||ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),je.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(se,Pe){const Oe=Ve.get(se);Oe.__webglFramebuffer=Pe,Oe.__useDefaultFramebuffer=Pe===void 0},this.setRenderTarget=function(se,Pe=0,Oe=0){P=se,T=Pe,C=Oe;let je=!0,$e=null,_t=!1,Et=!1;if(se){const $t=Ve.get(se);$t.__useDefaultFramebuffer!==void 0?(_e.bindFramebuffer(ee.FRAMEBUFFER,null),je=!1):$t.__webglFramebuffer===void 0?ne.setupRenderTarget(se):$t.__hasExternalTextures&&ne.rebindTextures(se,Ve.get(se.texture).__webglTexture,Ve.get(se.depthTexture).__webglTexture);const Kt=se.texture;(Kt.isData3DTexture||Kt.isDataArrayTexture||Kt.isCompressedArrayTexture)&&(Et=!0);const It=Ve.get(se).__webglFramebuffer;se.isWebGLCubeRenderTarget?(Array.isArray(It[Pe])?$e=It[Pe][Oe]:$e=It[Pe],_t=!0):be.isWebGL2&&se.samples>0&&ne.useMultisampledRTT(se)===!1?$e=Ve.get(se).__webglMultisampledFramebuffer:Array.isArray(It)?$e=It[Oe]:$e=It,N.copy(se.viewport),D.copy(se.scissor),U=se.scissorTest}else N.copy(q).multiplyScalar(X).floor(),D.copy(te).multiplyScalar(X).floor(),U=Y;if(_e.bindFramebuffer(ee.FRAMEBUFFER,$e)&&be.drawBuffers&&je&&_e.drawBuffers(se,$e),_e.viewport(N),_e.scissor(D),_e.setScissorTest(U),_t){const $t=Ve.get(se.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,$t.__webglTexture,Oe)}else if(Et){const $t=Ve.get(se.texture),Kt=Pe||0;ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,$t.__webglTexture,Oe||0,Kt)}I=-1},this.readRenderTargetPixels=function(se,Pe,Oe,je,$e,_t,Et){if(!(se&&se.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Bt=Ve.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&Et!==void 0&&(Bt=Bt[Et]),Bt){_e.bindFramebuffer(ee.FRAMEBUFFER,Bt);try{const $t=se.texture,Kt=$t.format,It=$t.type;if(Kt!==za&&Ae.convert(Kt)!==ee.getParameter(ee.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Wt=It===lx&&(ae.has("EXT_color_buffer_half_float")||be.isWebGL2&&ae.has("EXT_color_buffer_float"));if(It!==Pu&&Ae.convert(It)!==ee.getParameter(ee.IMPLEMENTATION_COLOR_READ_TYPE)&&!(It===Tc&&(be.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float")))&&!Wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Pe>=0&&Pe<=se.width-je&&Oe>=0&&Oe<=se.height-$e&&ee.readPixels(Pe,Oe,je,$e,Ae.convert(Kt),Ae.convert(It),_t)}finally{const $t=P!==null?Ve.get(P).__webglFramebuffer:null;_e.bindFramebuffer(ee.FRAMEBUFFER,$t)}}},this.copyFramebufferToTexture=function(se,Pe,Oe=0){const je=Math.pow(2,-Oe),$e=Math.floor(Pe.image.width*je),_t=Math.floor(Pe.image.height*je);ne.setTexture2D(Pe,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,Oe,0,0,se.x,se.y,$e,_t),_e.unbindTexture()},this.copyTextureToTexture=function(se,Pe,Oe,je=0){const $e=Pe.image.width,_t=Pe.image.height,Et=Ae.convert(Oe.format),Bt=Ae.convert(Oe.type);ne.setTexture2D(Oe,0),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,Oe.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Oe.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,Oe.unpackAlignment),Pe.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,je,se.x,se.y,$e,_t,Et,Bt,Pe.image.data):Pe.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,je,se.x,se.y,Pe.mipmaps[0].width,Pe.mipmaps[0].height,Et,Pe.mipmaps[0].data):ee.texSubImage2D(ee.TEXTURE_2D,je,se.x,se.y,Et,Bt,Pe.image),je===0&&Oe.generateMipmaps&&ee.generateMipmap(ee.TEXTURE_2D),_e.unbindTexture()},this.copyTextureToTexture3D=function(se,Pe,Oe,je,$e=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const _t=se.max.x-se.min.x+1,Et=se.max.y-se.min.y+1,Bt=se.max.z-se.min.z+1,$t=Ae.convert(je.format),Kt=Ae.convert(je.type);let It;if(je.isData3DTexture)ne.setTexture3D(je,0),It=ee.TEXTURE_3D;else if(je.isDataArrayTexture||je.isCompressedArrayTexture)ne.setTexture2DArray(je,0),It=ee.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,je.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,je.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,je.unpackAlignment);const Wt=ee.getParameter(ee.UNPACK_ROW_LENGTH),Vn=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),or=ee.getParameter(ee.UNPACK_SKIP_PIXELS),nn=ee.getParameter(ee.UNPACK_SKIP_ROWS),hr=ee.getParameter(ee.UNPACK_SKIP_IMAGES),gt=Oe.isCompressedTexture?Oe.mipmaps[$e]:Oe.image;ee.pixelStorei(ee.UNPACK_ROW_LENGTH,gt.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,gt.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,se.min.x),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,se.min.y),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,se.min.z),Oe.isDataTexture||Oe.isData3DTexture?ee.texSubImage3D(It,$e,Pe.x,Pe.y,Pe.z,_t,Et,Bt,$t,Kt,gt.data):Oe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ee.compressedTexSubImage3D(It,$e,Pe.x,Pe.y,Pe.z,_t,Et,Bt,$t,gt.data)):ee.texSubImage3D(It,$e,Pe.x,Pe.y,Pe.z,_t,Et,Bt,$t,Kt,gt),ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Wt),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Vn),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,or),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,nn),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,hr),$e===0&&je.generateMipmaps&&ee.generateMipmap(It),_e.unbindTexture()},this.initTexture=function(se){se.isCubeTexture?ne.setTextureCube(se,0):se.isData3DTexture?ne.setTexture3D(se,0):se.isDataArrayTexture||se.isCompressedArrayTexture?ne.setTexture2DArray(se,0):ne.setTexture2D(se,0),_e.unbindTexture()},this.resetState=function(){T=0,C=0,P=null,_e.reset(),le.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ac}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===IL?"display-p3":"srgb",n.unpackColorSpace=xr.workingColorSpace===MM?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===fo?Yh:J8}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Yh?fo:Uu}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class hme extends c6{}hme.prototype.isWebGL1Renderer=!0;class BL{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new zt(e),this.density=n}clone(){return new BL(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class zL{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new zt(e),this.near=n,this.far=r}clone(){return new zL(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class u6 extends fr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class $L{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=pS,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ys()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ys()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ys()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Na=new he;class Ws{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Na.fromBufferAttribute(this,n),Na.applyMatrix4(e),this.setXYZ(n,Na.x,Na.y,Na.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Na.fromBufferAttribute(this,n),Na.applyNormalMatrix(e),this.setXYZ(n,Na.x,Na.y,Na.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Na.fromBufferAttribute(this,n),Na.transformDirection(e),this.setXYZ(n,Na.x,Na.y,Na.z);return this}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ms(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ms(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ms(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ms(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),o=Pn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new wr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ws(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class f6 extends Ma{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ey;const p_=new he,ty=new he,ny=new he,ry=new ft,m_=new ft,pme=new dn,U2=new he,g_=new he,W2=new he,SZ=new ft,sI=new ft,MZ=new ft;class mme extends fr{constructor(e=new f6){if(super(),this.isSprite=!0,this.type="Sprite",ey===void 0){ey=new Dn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new $L(n,5);ey.setIndex([0,1,2,0,2,3]),ey.setAttribute("position",new Ws(r,3,0,!1)),ey.setAttribute("uv",new Ws(r,2,3,!1))}this.geometry=ey,this.material=e,this.center=new ft(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ty.setFromMatrixScale(this.matrixWorld),pme.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ny.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ty.multiplyScalar(-ny.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;V2(U2.set(-.5,-.5,0),ny,a,ty,i,o),V2(g_.set(.5,-.5,0),ny,a,ty,i,o),V2(W2.set(.5,.5,0),ny,a,ty,i,o),SZ.set(0,0),sI.set(1,0),MZ.set(1,1);let s=e.ray.intersectTriangle(U2,g_,W2,!1,p_);if(s===null&&(V2(g_.set(-.5,.5,0),ny,a,ty,i,o),sI.set(0,1),s=e.ray.intersectTriangle(U2,W2,g_,!1,p_),s===null))return;const l=e.ray.origin.distanceTo(p_);l<e.near||l>e.far||n.push({distance:l,point:p_.clone(),uv:hs.getInterpolation(p_,U2,g_,W2,SZ,sI,MZ,new ft),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function V2(t,e,n,r,i,o){ry.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(m_.x=o*ry.x-i*ry.y,m_.y=i*ry.x+o*ry.y):m_.copy(ry),t.copy(e),t.x+=m_.x,t.y+=m_.y,t.applyMatrix4(pme)}const H2=new he,EZ=new he;class gme extends fr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){H2.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(H2);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){H2.setFromMatrixPosition(e.matrixWorld),EZ.setFromMatrixPosition(this.matrixWorld);const r=H2.distanceTo(EZ)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const TZ=new he,AZ=new Jn,CZ=new Jn,fyt=new he,PZ=new dn,G2=new he,lI=new Po,RZ=new dn,cI=new lv;class vme extends eo{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Qj,this.bindMatrix=new dn,this.bindMatrixInverse=new dn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Co),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,G2),this.boundingBox.expandByPoint(G2)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Po),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,G2),this.boundingSphere.expandByPoint(G2)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),lI.copy(this.boundingSphere),lI.applyMatrix4(i),e.ray.intersectsSphere(lI)!==!1&&(RZ.copy(i).invert(),cI.copy(e.ray).applyMatrix4(RZ),!(this.boundingBox!==null&&cI.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,cI)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Jn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Qj?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Ppe?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;AZ.fromBufferAttribute(i.attributes.skinIndex,e),CZ.fromBufferAttribute(i.attributes.skinWeight,e),TZ.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=CZ.getComponent(o);if(a!==0){const s=AZ.getComponent(o);PZ.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(fyt.copy(TZ).applyMatrix4(PZ),a)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class d6 extends fr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class cg extends Fi{constructor(e=null,n=1,r=1,i,o,a,s,l,c=Ii,u=Ii,f,d){super(null,a,s,l,c,u,i,o,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const OZ=new dn,dyt=new dn;class FL{constructor(e=[],n=[]){this.uuid=Ys(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new dn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new dn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:dyt;OZ.multiplyMatrices(s,n[o]),OZ.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new FL(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new cg(n,e,e,za,Tc);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new d6),this.bones.push(a),this.boneInverses.push(new dn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class dx extends wr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const iy=new dn,LZ=new dn,X2=[],kZ=new Co,hyt=new dn,v_=new eo,y_=new Po;class yme extends eo{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new dx(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,hyt)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Co),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,iy),kZ.copy(e.boundingBox).applyMatrix4(iy),this.boundingBox.union(kZ)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Po),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,iy),y_.copy(e.boundingSphere).applyMatrix4(iy),this.boundingSphere.union(y_)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(v_.geometry=this.geometry,v_.material=this.material,v_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),y_.copy(this.boundingSphere),y_.applyMatrix4(r),e.ray.intersectsSphere(y_)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,iy),LZ.multiplyMatrices(r,iy),v_.matrixWorld=LZ,v_.raycast(e,X2);for(let a=0,s=X2.length;a<s;a++){const l=X2[a];l.instanceId=o,l.object=this,n.push(l)}X2.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new dx(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function pyt(t,e){return t.z-e.z}function myt(t,e){return e.z-t.z}class gyt{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const oy="batchId",eh=new dn,NZ=new dn,vyt=new dn,IZ=new dn,uI=new CM,q2=new Co,lm=new Po,x_=new he,fI=new gyt,sa=new eo,Y2=[];function yyt(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class xme extends eo{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Dn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new cg(n,e,e,za,Tc);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:c,itemSize:u,normalized:f}=l,d=new c.constructor(r*u),h=new l.constructor(d,u,f);h.setUsage(l.usage),n.setAttribute(s,h)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new wr(s,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(oy,new wr(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(oy))throw new Error(`BatchedMesh: Geometry cannot use attribute "${oy}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===oy)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Co);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,eh),this.getBoundingBoxAt(i,q2).applyMatrix4(eh),n.union(q2))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Po);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,eh),this.getBoundingSphereAt(i,lm).applyMatrix4(eh),n.union(lm))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const a=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,d=this._active,h=this._matricesTexture,m=this._matricesTexture.image.data;f.push(!0),d.push(!0);const v=this._geometryCount;this._geometryCount++,vyt.toArray(m,v*16),h.needsUpdate=!0,a.push(i),s.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Co,sphereInitialized:!1,sphere:new Po});const y=this.geometry.getAttribute(oy);for(let g=0;g<i.vertexCount;g++)y.setX(i.vertexStart+g,v);return y.needsUpdate=!0,this.setGeometryAt(v,e),v}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._reservedRanges[e];if(i&&a.count>s.indexCount||n.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.vertexCount;for(const h in r.attributes){if(h===oy)continue;const m=n.getAttribute(h),v=r.getAttribute(h);yyt(m,v,l);const y=m.itemSize;for(let g=m.count,b=c;g<b;g++){const x=l+g;for(let _=0;_<y;_++)v.setComponent(x,_,0)}v.needsUpdate=!0}if(i){const h=s.indexStart;for(let m=0;m<a.count;m++)o.setX(h+m,l+a.getX(m));for(let m=a.count,v=s.indexCount;m<v;m++)o.setX(h+m,l);o.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const f=this._drawRanges[e],d=n.getAttribute("position");return f.count=i?a.count:d.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.box,a=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const s=a.index,l=a.attributes.position,c=this._drawRanges[e];for(let u=c.start,f=c.start+c.count;u<f;u++){let d=u;s&&(d=s.getX(d)),o.expandByPoint(x_.fromBufferAttribute(l,d))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,q2),q2.getCenter(o.center);const s=a.index,l=a.attributes.position,c=this._drawRanges[e];let u=0;for(let f=c.start,d=c.start+c.count;f<d;f++){let h=f;s&&(h=s.getX(h)),x_.fromBufferAttribute(l,h),u=Math.max(u,o.center.distanceToSquared(x_))}o.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,a=this._geometryCount,s=this.matrixWorld,l=this.geometry;sa.material=this.material,sa.geometry.index=l.index,sa.geometry.attributes=l.attributes,sa.geometry.boundingBox===null&&(sa.geometry.boundingBox=new Co),sa.geometry.boundingSphere===null&&(sa.geometry.boundingSphere=new Po);for(let c=0;c<a;c++){if(!r[c]||!i[c])continue;const u=o[c];sa.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,sa.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,sa.geometry.boundingBox),this.getBoundingSphereAt(c,sa.geometry.boundingSphere),sa.raycast(e,Y2);for(let f=0,d=Y2.length;f<d;f++){const h=Y2[f];h.object=this,h.batchId=c,n.push(h)}Y2.length=0}sa.material=null,sa.geometry.index=null,sa.geometry.attributes={},sa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._drawRanges,d=this.perObjectFrustumCulled;d&&(IZ.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),uI.setFromProjectionMatrix(IZ,e.isWebGPURenderer?cx:Ac));let h=0;if(this.sortObjects){NZ.copy(this.matrixWorld).invert(),x_.setFromMatrixPosition(r.matrixWorld).applyMatrix4(NZ);for(let y=0,g=l.length;y<g;y++)if(l[y]){this.getMatrixAt(y,eh),this.getBoundingSphereAt(y,lm).applyMatrix4(eh);let b=!1;if(d&&(b=!uI.intersectsSphere(lm)),!b){const x=x_.distanceTo(lm.center);fI.push(f[y],x)}}const m=fI.list,v=this.customSort;v===null?m.sort(o.transparent?myt:pyt):v.call(this,m,r);for(let y=0,g=m.length;y<g;y++){const b=m[y];c[h]=b.start*s,u[h]=b.count,h++}fI.reset()}else for(let m=0,v=l.length;m<v;m++)if(l[m]){let y=!1;if(d&&(this.getMatrixAt(m,eh),this.getBoundingSphereAt(m,lm).applyMatrix4(eh),y=!uI.intersectsSphere(lm)),!y){const g=f[m];c[h]=g.start*s,u[h]=g.count,h++}}this._multiDrawCount=h,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class Ka extends Ma{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new zt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const DZ=new he,jZ=new he,BZ=new dn,dI=new lv,K2=new Po;let pp=class extends fr{constructor(e=new Dn,n=new Ka){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)DZ.fromBufferAttribute(n,i-1),jZ.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=DZ.distanceTo(jZ);e.setAttribute("lineDistance",new Gt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),K2.copy(r.boundingSphere),K2.applyMatrix4(i),K2.radius+=o,e.ray.intersectsSphere(K2)===!1)return;BZ.copy(i).invert(),dI.copy(e.ray).applyMatrix4(BZ);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=new he,u=new he,f=new he,d=new he,h=this.isLineSegments?2:1,m=r.index,y=r.attributes.position;if(m!==null){const g=Math.max(0,a.start),b=Math.min(m.count,a.start+a.count);for(let x=g,_=b-1;x<_;x+=h){const T=m.getX(x),C=m.getX(x+1);if(c.fromBufferAttribute(y,T),u.fromBufferAttribute(y,C),dI.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(d);I<e.near||I>e.far||n.push({distance:I,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,a.start),b=Math.min(y.count,a.start+a.count);for(let x=g,_=b-1;x<_;x+=h){if(c.fromBufferAttribute(y,x),u.fromBufferAttribute(y,x+1),dI.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||n.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}};const zZ=new he,$Z=new he;class Zu extends pp{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)zZ.fromBufferAttribute(n,i),$Z.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+zZ.distanceTo($Z);e.setAttribute("lineDistance",new Gt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class bme extends pp{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class h6 extends Ma{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const FZ=new dn,RB=new lv,Z2=new Po,J2=new he;class _me extends fr{constructor(e=new Dn,n=new h6){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Z2.copy(r.boundingSphere),Z2.applyMatrix4(i),Z2.radius+=o,e.ray.intersectsSphere(Z2)===!1)return;FZ.copy(i).invert(),RB.copy(e.ray).applyMatrix4(FZ);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let m=d,v=h;m<v;m++){const y=c.getX(m);J2.fromBufferAttribute(f,y),UZ(J2,y,l,i,e,n,this)}}else{const d=Math.max(0,a.start),h=Math.min(f.count,a.start+a.count);for(let m=d,v=h;m<v;m++)J2.fromBufferAttribute(f,m),UZ(J2,m,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function UZ(t,e,n,r,i,o,a){const s=RB.distanceSqToPoint(t);if(s<n){const l=new he;RB.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class xyt extends Fi{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:ji,this.magFilter=o!==void 0?o:ji,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class byt extends Fi{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Ii,this.minFilter=Ii,this.generateMipmaps=!1,this.needsUpdate=!0}}class UL extends Fi{constructor(e,n,r,i,o,a,s,l,c,u,f,d){super(null,a,s,l,c,u,i,o,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class _yt extends UL{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=pa}}class wyt extends UL{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,pd),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Syt extends Fi{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Fc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const u=r[i],d=r[i+1]-u,h=(a-u)/d;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new ft:new he);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new he,i=[],o=[],a=[],s=new he,l=new dn;for(let h=0;h<=e;h++){const m=h/e;i[h]=this.getTangentAt(m,new he)}o[0]=new he,a[0]=new he;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),a[h]=a[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const m=Math.acos(Ai(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(s,m))}a[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(Ai(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(h=-h);for(let m=1;m<=e;m++)o[m].applyMatrix4(l.makeRotationAxis(i[m],h*m)),a[m].crossVectors(i[m],o[m])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class WL extends Fc{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n){const r=n||new ft,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,h=c-this.aY;l=d*u-h*f+this.aX,c=d*f+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class wme extends WL{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function p6(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,u,f){let d=(a-o)/c-(s-o)/(c+u)+(s-a)/u,h=(s-a)/u-(l-a)/(u+f)+(l-s)/f;d*=u,h*=u,i(a,s,d,h)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const Q2=new he,hI=new p6,pI=new p6,mI=new p6;class Sme extends Fc{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new he){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,u;this.closed||s>0?c=i[(s-1)%o]:(Q2.subVectors(i[0],i[1]).add(i[0]),c=Q2);const f=i[s%o],d=i[(s+1)%o];if(this.closed||s+2<o?u=i[(s+2)%o]:(Q2.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=Q2),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(d),h),y=Math.pow(d.distanceToSquared(u),h);v<1e-4&&(v=1),m<1e-4&&(m=v),y<1e-4&&(y=v),hI.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,m,v,y),pI.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,m,v,y),mI.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,m,v,y)}else this.curveType==="catmullrom"&&(hI.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),pI.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),mI.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(hI.calc(l),pI.calc(l),mI.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new he().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function WZ(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function Myt(t,e){const n=1-t;return n*n*e}function Eyt(t,e){return 2*(1-t)*t*e}function Tyt(t,e){return t*t*e}function S1(t,e,n,r){return Myt(t,e)+Eyt(t,n)+Tyt(t,r)}function Ayt(t,e){const n=1-t;return n*n*n*e}function Cyt(t,e){const n=1-t;return 3*n*n*t*e}function Pyt(t,e){return 3*(1-t)*t*t*e}function Ryt(t,e){return t*t*t*e}function M1(t,e,n,r,i){return Ayt(t,e)+Cyt(t,n)+Pyt(t,r)+Ryt(t,i)}class m6 extends Fc{constructor(e=new ft,n=new ft,r=new ft,i=new ft){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ft){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(M1(e,i.x,o.x,a.x,s.x),M1(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Mme extends Fc{constructor(e=new he,n=new he,r=new he,i=new he){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new he){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(M1(e,i.x,o.x,a.x,s.x),M1(e,i.y,o.y,a.y,s.y),M1(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class g6 extends Fc{constructor(e=new ft,n=new ft){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ft){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ft){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Eme extends Fc{constructor(e=new he,n=new he){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new he){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new he){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class v6 extends Fc{constructor(e=new ft,n=new ft,r=new ft){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ft){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(S1(e,i.x,o.x,a.x),S1(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class y6 extends Fc{constructor(e=new he,n=new he,r=new he){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new he){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(S1(e,i.x,o.x,a.x),S1(e,i.y,o.y,a.y),S1(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class x6 extends Fc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ft){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(WZ(s,l.x,c.x,u.x,f.x),WZ(s,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ft().fromArray(i))}return this}}var SP=Object.freeze({__proto__:null,ArcCurve:wme,CatmullRomCurve3:Sme,CubicBezierCurve:m6,CubicBezierCurve3:Mme,EllipseCurve:WL,LineCurve:g6,LineCurve3:Eme,QuadraticBezierCurve:v6,QuadraticBezierCurve3:y6,SplineCurve:x6});class Tme extends Fc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new SP[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new SP[i.type]().fromJSON(i))}return this}}let gS=class extends Tme{constructor(e){super(),this.type="Path",this.currentPoint=new ft,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new g6(this.currentPoint.clone(),new ft(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new v6(this.currentPoint.clone(),new ft(e,n),new ft(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new m6(this.currentPoint.clone(),new ft(e,n),new ft(r,i),new ft(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new x6(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new WL(e,n,r,i,o,a,s,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class RM extends Dn{constructor(e=[new ft(0,-.5),new ft(.5,0),new ft(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Ai(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],u=1/n,f=new he,d=new ft,h=new he,m=new he,v=new he;let y=0,g=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:y=e[b+1].x-e[b].x,g=e[b+1].y-e[b].y,h.x=g*1,h.y=-y,h.z=g*0,v.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[b+1].x-e[b].x,g=e[b+1].y-e[b].y,h.x=g*1,h.y=-y,h.z=g*0,m.copy(h),h.x+=v.x,h.y+=v.y,h.z+=v.z,h.normalize(),l.push(h.x,h.y,h.z),v.copy(m)}for(let b=0;b<=n;b++){const x=r+b*u*i,_=Math.sin(x),T=Math.cos(x);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*_,f.y=e[C].y,f.z=e[C].x*T,a.push(f.x,f.y,f.z),d.x=b/n,d.y=C/(e.length-1),s.push(d.x,d.y);const P=l[3*C+0]*_,I=l[3*C+1],O=l[3*C+0]*T;c.push(P,I,O)}}for(let b=0;b<n;b++)for(let x=0;x<e.length-1;x++){const _=x+b*e.length,T=_,C=_+e.length,P=_+e.length+1,I=_+1;o.push(T,C,I),o.push(P,I,C)}this.setIndex(o),this.setAttribute("position",new Gt(a,3)),this.setAttribute("uv",new Gt(s,2)),this.setAttribute("normal",new Gt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RM(e.points,e.segments,e.phiStart,e.phiLength)}}class VL extends RM{constructor(e=1,n=1,r=4,i=8){const o=new gS;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new VL(e.radius,e.length,e.capSegments,e.radialSegments)}}class HL extends Dn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new he,u=new ft;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const h=r+f/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[d]/e+1)/2,u.y=(a[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new Gt(a,3)),this.setAttribute("normal",new Gt(s,3)),this.setAttribute("uv",new Gt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new HL(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class lb extends Dn{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],f=[],d=[],h=[];let m=0;const v=[],y=r/2;let g=0;b(),a===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new Gt(f,3)),this.setAttribute("normal",new Gt(d,3)),this.setAttribute("uv",new Gt(h,2));function b(){const _=new he,T=new he;let C=0;const P=(n-e)/r;for(let I=0;I<=o;I++){const O=[],N=I/o,D=N*(n-e)+e;for(let U=0;U<=i;U++){const V=U/i,z=V*l+s,F=Math.sin(z),W=Math.cos(z);T.x=D*F,T.y=-N*r+y,T.z=D*W,f.push(T.x,T.y,T.z),_.set(F,P,W).normalize(),d.push(_.x,_.y,_.z),h.push(V,1-N),O.push(m++)}v.push(O)}for(let I=0;I<i;I++)for(let O=0;O<o;O++){const N=v[O][I],D=v[O+1][I],U=v[O+1][I+1],V=v[O][I+1];u.push(N,D,V),u.push(D,U,V),C+=6}c.addGroup(g,C,0),g+=C}function x(_){const T=m,C=new ft,P=new he;let I=0;const O=_===!0?e:n,N=_===!0?1:-1;for(let U=1;U<=i;U++)f.push(0,y*N,0),d.push(0,N,0),h.push(.5,.5),m++;const D=m;for(let U=0;U<=i;U++){const z=U/i*l+s,F=Math.cos(z),W=Math.sin(z);P.x=O*W,P.y=y*N,P.z=O*F,f.push(P.x,P.y,P.z),d.push(0,N,0),C.x=F*.5+.5,C.y=W*.5*N+.5,h.push(C.x,C.y),m++}for(let U=0;U<i;U++){const V=T+U,z=D+U;_===!0?u.push(z,z+1,V):u.push(z+1,z,V),I+=3}c.addGroup(g,I,_===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lb(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class GL extends lb{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new GL(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Rp extends Dn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),c(r),u(),this.setAttribute("position",new Gt(o,3)),this.setAttribute("normal",new Gt(o.slice(),3)),this.setAttribute("uv",new Gt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(b){const x=new he,_=new he,T=new he;for(let C=0;C<n.length;C+=3)h(n[C+0],x),h(n[C+1],_),h(n[C+2],T),l(x,_,T,b)}function l(b,x,_,T){const C=T+1,P=[];for(let I=0;I<=C;I++){P[I]=[];const O=b.clone().lerp(_,I/C),N=x.clone().lerp(_,I/C),D=C-I;for(let U=0;U<=D;U++)U===0&&I===C?P[I][U]=O:P[I][U]=O.clone().lerp(N,U/D)}for(let I=0;I<C;I++)for(let O=0;O<2*(C-I)-1;O++){const N=Math.floor(O/2);O%2===0?(d(P[I][N+1]),d(P[I+1][N]),d(P[I][N])):(d(P[I][N+1]),d(P[I+1][N+1]),d(P[I+1][N]))}}function c(b){const x=new he;for(let _=0;_<o.length;_+=3)x.x=o[_+0],x.y=o[_+1],x.z=o[_+2],x.normalize().multiplyScalar(b),o[_+0]=x.x,o[_+1]=x.y,o[_+2]=x.z}function u(){const b=new he;for(let x=0;x<o.length;x+=3){b.x=o[x+0],b.y=o[x+1],b.z=o[x+2];const _=y(b)/2/Math.PI+.5,T=g(b)/Math.PI+.5;a.push(_,1-T)}m(),f()}function f(){for(let b=0;b<a.length;b+=6){const x=a[b+0],_=a[b+2],T=a[b+4],C=Math.max(x,_,T),P=Math.min(x,_,T);C>.9&&P<.1&&(x<.2&&(a[b+0]+=1),_<.2&&(a[b+2]+=1),T<.2&&(a[b+4]+=1))}}function d(b){o.push(b.x,b.y,b.z)}function h(b,x){const _=b*3;x.x=e[_+0],x.y=e[_+1],x.z=e[_+2]}function m(){const b=new he,x=new he,_=new he,T=new he,C=new ft,P=new ft,I=new ft;for(let O=0,N=0;O<o.length;O+=9,N+=6){b.set(o[O+0],o[O+1],o[O+2]),x.set(o[O+3],o[O+4],o[O+5]),_.set(o[O+6],o[O+7],o[O+8]),C.set(a[N+0],a[N+1]),P.set(a[N+2],a[N+3]),I.set(a[N+4],a[N+5]),T.copy(b).add(x).add(_).divideScalar(3);const D=y(T);v(C,N+0,b,D),v(P,N+2,x,D),v(I,N+4,_,D)}}function v(b,x,_,T){T<0&&b.x===1&&(a[x]=b.x-1),_.x===0&&_.z===0&&(a[x]=T/2/Math.PI+.5)}function y(b){return Math.atan2(b.z,-b.x)}function g(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.vertices,e.indices,e.radius,e.details)}}class XL extends Rp{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new XL(e.radius,e.detail)}}const eT=new he,tT=new he,gI=new he,nT=new hs;class Ame extends Dn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(sg*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},h=[];for(let m=0;m<l;m+=3){a?(c[0]=a.getX(m),c[1]=a.getX(m+1),c[2]=a.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:v,b:y,c:g}=nT;if(v.fromBufferAttribute(s,c[0]),y.fromBufferAttribute(s,c[1]),g.fromBufferAttribute(s,c[2]),nT.getNormal(gI),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let b=0;b<3;b++){const x=(b+1)%3,_=f[b],T=f[x],C=nT[u[b]],P=nT[u[x]],I=`${_}_${T}`,O=`${T}_${_}`;O in d&&d[O]?(gI.dot(d[O].normal)<=o&&(h.push(C.x,C.y,C.z),h.push(P.x,P.y,P.z)),d[O]=null):I in d||(d[I]={index0:c[b],index1:c[x],normal:gI.clone()})}}for(const m in d)if(d[m]){const{index0:v,index1:y}=d[m];eT.fromBufferAttribute(s,v),tT.fromBufferAttribute(s,y),h.push(eT.x,eT.y,eT.z),h.push(tT.x,tT.y,tT.z)}this.setAttribute("position",new Gt(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ug extends gS{constructor(e){super(e),this.uuid=Ys(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new gS().fromJSON(i))}return this}}const Oyt={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=Cme(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,f,d,h;if(r&&(o=Dyt(t,e,o,n)),t.length>80*n){s=c=t[0],l=u=t[1];for(let m=n;m<i;m+=n)f=t[m],d=t[m+1],f<s&&(s=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);h=Math.max(c-s,u-l),h=h!==0?32767/h:0}return vS(o,a,n,s,l,h,0),a}};function Cme(t,e,n,r,i){let o,a;if(i===Xyt(t,e,n,r)>0)for(o=e;o<n;o+=r)a=VZ(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=VZ(o,t[o],t[o+1],a);return a&&qL(a,a.next)&&(xS(a),a=a.next),a}function Dg(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(qL(n,n.next)||hi(n.prev,n,n.next)===0)){if(xS(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function vS(t,e,n,r,i,o,a){if(!t)return;!a&&o&&Fyt(t,r,i,o);let s=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?kyt(t,r,i,o):Lyt(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),xS(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=Nyt(Dg(t),e,n),vS(t,e,n,r,i,o,2)):a===2&&Iyt(t,e,n,r,i,o):vS(Dg(t),e,n,r,i,o,1);break}}}function Lyt(t){const e=t.prev,n=t,r=t.next;if(hi(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,f=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,h=s>l?s>c?s:c:l>c?l:c;let m=r.next;for(;m!==e;){if(m.x>=u&&m.x<=d&&m.y>=f&&m.y<=h&&Hy(i,s,o,l,a,c,m.x,m.y)&&hi(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function kyt(t,e,n,r){const i=t.prev,o=t,a=t.next;if(hi(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,f=o.y,d=a.y,h=s<l?s<c?s:c:l<c?l:c,m=u<f?u<d?u:d:f<d?f:d,v=s>l?s>c?s:c:l>c?l:c,y=u>f?u>d?u:d:f>d?f:d,g=OB(h,m,e,n,r),b=OB(v,y,e,n,r);let x=t.prevZ,_=t.nextZ;for(;x&&x.z>=g&&_&&_.z<=b;){if(x.x>=h&&x.x<=v&&x.y>=m&&x.y<=y&&x!==i&&x!==a&&Hy(s,u,l,f,c,d,x.x,x.y)&&hi(x.prev,x,x.next)>=0||(x=x.prevZ,_.x>=h&&_.x<=v&&_.y>=m&&_.y<=y&&_!==i&&_!==a&&Hy(s,u,l,f,c,d,_.x,_.y)&&hi(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;x&&x.z>=g;){if(x.x>=h&&x.x<=v&&x.y>=m&&x.y<=y&&x!==i&&x!==a&&Hy(s,u,l,f,c,d,x.x,x.y)&&hi(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;_&&_.z<=b;){if(_.x>=h&&_.x<=v&&_.y>=m&&_.y<=y&&_!==i&&_!==a&&Hy(s,u,l,f,c,d,_.x,_.y)&&hi(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function Nyt(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!qL(i,o)&&Pme(i,r,r.next,o)&&yS(i,o)&&yS(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),xS(r),xS(r.next),r=t=o),r=r.next}while(r!==t);return Dg(r)}function Iyt(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&Vyt(a,s)){let l=Rme(a,s);a=Dg(a,a.next),l=Dg(l,l.next),vS(a,e,n,r,i,o,0),vS(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function Dyt(t,e,n,r){const i=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=Cme(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Wyt(c));for(i.sort(jyt),o=0;o<i.length;o++)n=Byt(i[o],n);return n}function jyt(t,e){return t.x-e.x}function Byt(t,e){const n=zyt(t,e);if(!n)return e;const r=Rme(n,t);return Dg(r,r.next),Dg(n,n.next)}function zyt(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const d=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=o&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,c=i.y;let u=1/0,f;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&Hy(a<c?o:r,a,l,c,a<c?r:o,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(o-n.x),yS(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&$yt(i,n)))&&(i=n,u=f)),n=n.next;while(n!==s);return i}function $yt(t,e){return hi(t.prev,t,e.prev)<0&&hi(e.next,t,t.next)<0}function Fyt(t,e,n,r){let i=t;do i.z===0&&(i.z=OB(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Uyt(i)}function Uyt(t){let e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function OB(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Wyt(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Hy(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Vyt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Hyt(t,e)&&(yS(t,e)&&yS(e,t)&&Gyt(t,e)&&(hi(t.prev,t,e.prev)||hi(t,e.prev,e))||qL(t,e)&&hi(t.prev,t,t.next)>0&&hi(e.prev,e,e.next)>0)}function hi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function qL(t,e){return t.x===e.x&&t.y===e.y}function Pme(t,e,n,r){const i=iT(hi(t,e,n)),o=iT(hi(t,e,r)),a=iT(hi(n,r,t)),s=iT(hi(n,r,e));return!!(i!==o&&a!==s||i===0&&rT(t,n,e)||o===0&&rT(t,r,e)||a===0&&rT(n,t,r)||s===0&&rT(n,e,r))}function rT(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function iT(t){return t>0?1:t<0?-1:0}function Hyt(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Pme(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function yS(t,e){return hi(t.prev,t,t.next)<0?hi(t,e,t.next)>=0&&hi(t,t.prev,e)>=0:hi(t,e,t.prev)<0||hi(t,t.next,e)<0}function Gyt(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Rme(t,e){const n=new LB(t.i,t.x,t.y),r=new LB(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function VZ(t,e,n,r){const i=new LB(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function xS(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function LB(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Xyt(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class Ru{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ru.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];HZ(e),GZ(r,e);let a=e.length;n.forEach(HZ);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,GZ(r,n[l]);const s=Oyt.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function HZ(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function GZ(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class YL extends Dn{constructor(e=new ug([new ft(.5,.5),new ft(-.5,.5),new ft(-.5,-.5),new ft(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new Gt(i,3)),this.setAttribute("uv",new Gt(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:h-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:qyt;let x,_=!1,T,C,P,I;g&&(x=g.getSpacedPoints(u),_=!0,d=!1,T=g.computeFrenetFrames(u,!1),C=new he,P=new he,I=new he),d||(y=0,h=0,m=0,v=0);const O=s.extractPoints(c);let N=O.shape;const D=O.holes;if(!Ru.isClockWise(N)){N=N.reverse();for(let ee=0,Ce=D.length;ee<Ce;ee++){const ae=D[ee];Ru.isClockWise(ae)&&(D[ee]=ae.reverse())}}const V=Ru.triangulateShape(N,D),z=N;for(let ee=0,Ce=D.length;ee<Ce;ee++){const ae=D[ee];N=N.concat(ae)}function F(ee,Ce,ae){return Ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),ee.clone().addScaledVector(Ce,ae)}const W=N.length,X=V.length;function B(ee,Ce,ae){let be,_e,He;const Ve=ee.x-Ce.x,ne=ee.y-Ce.y,Q=ae.x-ee.x,ve=ae.y-ee.y,Se=Ve*Ve+ne*ne,Le=Ve*ve-ne*Q;if(Math.abs(Le)>Number.EPSILON){const Ie=Math.sqrt(Se),Ke=Math.sqrt(Q*Q+ve*ve),Ne=Ce.x-ne/Ie,Ye=Ce.y+Ve/Ie,et=ae.x-ve/Ke,vt=ae.y+Q/Ke,ke=((et-Ne)*ve-(vt-Ye)*Q)/(Ve*ve-ne*Q);be=Ne+Ve*ke-ee.x,_e=Ye+ne*ke-ee.y;const Ze=be*be+_e*_e;if(Ze<=2)return new ft(be,_e);He=Math.sqrt(Ze/2)}else{let Ie=!1;Ve>Number.EPSILON?Q>Number.EPSILON&&(Ie=!0):Ve<-Number.EPSILON?Q<-Number.EPSILON&&(Ie=!0):Math.sign(ne)===Math.sign(ve)&&(Ie=!0),Ie?(be=-ne,_e=Ve,He=Math.sqrt(Se)):(be=Ve,_e=ne,He=Math.sqrt(Se/2))}return new ft(be/He,_e/He)}const G=[];for(let ee=0,Ce=z.length,ae=Ce-1,be=ee+1;ee<Ce;ee++,ae++,be++)ae===Ce&&(ae=0),be===Ce&&(be=0),G[ee]=B(z[ee],z[ae],z[be]);const q=[];let te,Y=G.concat();for(let ee=0,Ce=D.length;ee<Ce;ee++){const ae=D[ee];te=[];for(let be=0,_e=ae.length,He=_e-1,Ve=be+1;be<_e;be++,He++,Ve++)He===_e&&(He=0),Ve===_e&&(Ve=0),te[be]=B(ae[be],ae[He],ae[Ve]);q.push(te),Y=Y.concat(te)}for(let ee=0;ee<y;ee++){const Ce=ee/y,ae=h*Math.cos(Ce*Math.PI/2),be=m*Math.sin(Ce*Math.PI/2)+v;for(let _e=0,He=z.length;_e<He;_e++){const Ve=F(z[_e],G[_e],be);fe(Ve.x,Ve.y,-ae)}for(let _e=0,He=D.length;_e<He;_e++){const Ve=D[_e];te=q[_e];for(let ne=0,Q=Ve.length;ne<Q;ne++){const ve=F(Ve[ne],te[ne],be);fe(ve.x,ve.y,-ae)}}}const J=m+v;for(let ee=0;ee<W;ee++){const Ce=d?F(N[ee],Y[ee],J):N[ee];_?(P.copy(T.normals[0]).multiplyScalar(Ce.x),C.copy(T.binormals[0]).multiplyScalar(Ce.y),I.copy(x[0]).add(P).add(C),fe(I.x,I.y,I.z)):fe(Ce.x,Ce.y,0)}for(let ee=1;ee<=u;ee++)for(let Ce=0;Ce<W;Ce++){const ae=d?F(N[Ce],Y[Ce],J):N[Ce];_?(P.copy(T.normals[ee]).multiplyScalar(ae.x),C.copy(T.binormals[ee]).multiplyScalar(ae.y),I.copy(x[ee]).add(P).add(C),fe(I.x,I.y,I.z)):fe(ae.x,ae.y,f/u*ee)}for(let ee=y-1;ee>=0;ee--){const Ce=ee/y,ae=h*Math.cos(Ce*Math.PI/2),be=m*Math.sin(Ce*Math.PI/2)+v;for(let _e=0,He=z.length;_e<He;_e++){const Ve=F(z[_e],G[_e],be);fe(Ve.x,Ve.y,f+ae)}for(let _e=0,He=D.length;_e<He;_e++){const Ve=D[_e];te=q[_e];for(let ne=0,Q=Ve.length;ne<Q;ne++){const ve=F(Ve[ne],te[ne],be);_?fe(ve.x,ve.y+x[u-1].y,x[u-1].x+ae):fe(ve.x,ve.y,f+ae)}}}re(),oe();function re(){const ee=i.length/3;if(d){let Ce=0,ae=W*Ce;for(let be=0;be<X;be++){const _e=V[be];we(_e[2]+ae,_e[1]+ae,_e[0]+ae)}Ce=u+y*2,ae=W*Ce;for(let be=0;be<X;be++){const _e=V[be];we(_e[0]+ae,_e[1]+ae,_e[2]+ae)}}else{for(let Ce=0;Ce<X;Ce++){const ae=V[Ce];we(ae[2],ae[1],ae[0])}for(let Ce=0;Ce<X;Ce++){const ae=V[Ce];we(ae[0]+W*u,ae[1]+W*u,ae[2]+W*u)}}r.addGroup(ee,i.length/3-ee,0)}function oe(){const ee=i.length/3;let Ce=0;pe(z,Ce),Ce+=z.length;for(let ae=0,be=D.length;ae<be;ae++){const _e=D[ae];pe(_e,Ce),Ce+=_e.length}r.addGroup(ee,i.length/3-ee,1)}function pe(ee,Ce){let ae=ee.length;for(;--ae>=0;){const be=ae;let _e=ae-1;_e<0&&(_e=ee.length-1);for(let He=0,Ve=u+y*2;He<Ve;He++){const ne=W*He,Q=W*(He+1),ve=Ce+be+ne,Se=Ce+_e+ne,Le=Ce+_e+Q,Ie=Ce+be+Q;ge(ve,Se,Le,Ie)}}}function fe(ee,Ce,ae){l.push(ee),l.push(Ce),l.push(ae)}function we(ee,Ce,ae){xe(ee),xe(Ce),xe(ae);const be=i.length/3,_e=b.generateTopUV(r,i,be-3,be-2,be-1);Te(_e[0]),Te(_e[1]),Te(_e[2])}function ge(ee,Ce,ae,be){xe(ee),xe(Ce),xe(be),xe(Ce),xe(ae),xe(be);const _e=i.length/3,He=b.generateSideWallUV(r,i,_e-6,_e-3,_e-2,_e-1);Te(He[0]),Te(He[1]),Te(He[3]),Te(He[1]),Te(He[2]),Te(He[3])}function xe(ee){i.push(l[ee*3+0]),i.push(l[ee*3+1]),i.push(l[ee*3+2])}function Te(ee){o.push(ee.x),o.push(ee.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Yyt(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new SP[i.type]().fromJSON(i)),new YL(r,e.options)}}const qyt={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new ft(o,a),new ft(s,l),new ft(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],h=e[i*3+1],m=e[i*3+2],v=e[o*3],y=e[o*3+1],g=e[o*3+2];return Math.abs(s-u)<Math.abs(a-c)?[new ft(a,1-l),new ft(c,1-f),new ft(d,1-m),new ft(v,1-g)]:[new ft(s,1-l),new ft(u,1-f),new ft(h,1-m),new ft(y,1-g)]}};function Yyt(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class KL extends Rp{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new KL(e.radius,e.detail)}}class OM extends Rp{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OM(e.radius,e.detail)}}class ZL extends Dn{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],u=[];let f=e;const d=(n-e)/i,h=new he,m=new ft;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const g=o+y/r*a;h.x=f*Math.cos(g),h.y=f*Math.sin(g),l.push(h.x,h.y,h.z),c.push(0,0,1),m.x=(h.x/n+1)/2,m.y=(h.y/n+1)/2,u.push(m.x,m.y)}f+=d}for(let v=0;v<i;v++){const y=v*(r+1);for(let g=0;g<r;g++){const b=g+y,x=b,_=b+r+1,T=b+r+2,C=b+1;s.push(x,_,C),s.push(_,T,C)}}this.setIndex(s),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZL(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class JL extends Dn{constructor(e=new ug([new ft(0,.5),new ft(-.5,-.5),new ft(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Gt(i,3)),this.setAttribute("normal",new Gt(o,3)),this.setAttribute("uv",new Gt(a,2));function c(u){const f=i.length/3,d=u.extractPoints(n);let h=d.shape;const m=d.holes;Ru.isClockWise(h)===!1&&(h=h.reverse());for(let y=0,g=m.length;y<g;y++){const b=m[y];Ru.isClockWise(b)===!0&&(m[y]=b.reverse())}const v=Ru.triangulateShape(h,m);for(let y=0,g=m.length;y<g;y++){const b=m[y];h=h.concat(b)}for(let y=0,g=h.length;y<g;y++){const b=h[y];i.push(b.x,b.y,0),o.push(0,0,1),a.push(b.x,b.y)}for(let y=0,g=v.length;y<g;y++){const b=v[y],x=b[0]+f,_=b[1]+f,T=b[2]+f;r.push(x,_,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Kyt(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new JL(r,e.curveSegments)}}function Kyt(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class LM extends Dn{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const u=[],f=new he,d=new he,h=[],m=[],v=[],y=[];for(let g=0;g<=r;g++){const b=[],x=g/r;let _=0;g===0&&a===0?_=.5/n:g===r&&l===Math.PI&&(_=-.5/n);for(let T=0;T<=n;T++){const C=T/n;f.x=-e*Math.cos(i+C*o)*Math.sin(a+x*s),f.y=e*Math.cos(a+x*s),f.z=e*Math.sin(i+C*o)*Math.sin(a+x*s),m.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),y.push(C+_,1-x),b.push(c++)}u.push(b)}for(let g=0;g<r;g++)for(let b=0;b<n;b++){const x=u[g][b+1],_=u[g][b],T=u[g+1][b],C=u[g+1][b+1];(g!==0||a>0)&&h.push(x,_,C),(g!==r-1||l<Math.PI)&&h.push(_,T,C)}this.setIndex(h),this.setAttribute("position",new Gt(m,3)),this.setAttribute("normal",new Gt(v,3)),this.setAttribute("uv",new Gt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class QL extends Rp{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new QL(e.radius,e.detail)}}class e3 extends Dn{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],c=[],u=new he,f=new he,d=new he;for(let h=0;h<=r;h++)for(let m=0;m<=i;m++){const v=m/i*o,y=h/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(v),f.y=(e+n*Math.cos(y))*Math.sin(v),f.z=n*Math.sin(y),s.push(f.x,f.y,f.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(m/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let m=1;m<=i;m++){const v=(i+1)*h+m-1,y=(i+1)*(h-1)+m-1,g=(i+1)*(h-1)+m,b=(i+1)*h+m;a.push(v,y,b),a.push(y,g,b)}this.setIndex(a),this.setAttribute("position",new Gt(s,3)),this.setAttribute("normal",new Gt(l,3)),this.setAttribute("uv",new Gt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e3(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class t3 extends Dn{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],u=[],f=new he,d=new he,h=new he,m=new he,v=new he,y=new he,g=new he;for(let x=0;x<=r;++x){const _=x/r*o*Math.PI*2;b(_,o,a,e,h),b(_+.01,o,a,e,m),y.subVectors(m,h),g.addVectors(m,h),v.crossVectors(y,g),g.crossVectors(v,y),v.normalize(),g.normalize();for(let T=0;T<=i;++T){const C=T/i*Math.PI*2,P=-n*Math.cos(C),I=n*Math.sin(C);f.x=h.x+(P*g.x+I*v.x),f.y=h.y+(P*g.y+I*v.y),f.z=h.z+(P*g.z+I*v.z),l.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),c.push(d.x,d.y,d.z),u.push(x/r),u.push(T/i)}}for(let x=1;x<=r;x++)for(let _=1;_<=i;_++){const T=(i+1)*(x-1)+(_-1),C=(i+1)*x+(_-1),P=(i+1)*x+_,I=(i+1)*(x-1)+_;s.push(T,C,I),s.push(C,P,I)}this.setIndex(s),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(u,2));function b(x,_,T,C,P){const I=Math.cos(x),O=Math.sin(x),N=T/_*x,D=Math.cos(N);P.x=C*(2+D)*.5*I,P.y=C*(2+D)*O*.5,P.z=C*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t3(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class n3 extends Dn{constructor(e=new y6(new he(-1,-1,0),new he(-1,1,0),new he(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new he,l=new he,c=new ft;let u=new he;const f=[],d=[],h=[],m=[];v(),this.setIndex(m),this.setAttribute("position",new Gt(f,3)),this.setAttribute("normal",new Gt(d,3)),this.setAttribute("uv",new Gt(h,2));function v(){for(let x=0;x<n;x++)y(x);y(o===!1?n:0),b(),g()}function y(x){u=e.getPointAt(x/n,u);const _=a.normals[x],T=a.binormals[x];for(let C=0;C<=i;C++){const P=C/i*Math.PI*2,I=Math.sin(P),O=-Math.cos(P);l.x=O*_.x+I*T.x,l.y=O*_.y+I*T.y,l.z=O*_.z+I*T.z,l.normalize(),d.push(l.x,l.y,l.z),s.x=u.x+r*l.x,s.y=u.y+r*l.y,s.z=u.z+r*l.z,f.push(s.x,s.y,s.z)}}function g(){for(let x=1;x<=n;x++)for(let _=1;_<=i;_++){const T=(i+1)*(x-1)+(_-1),C=(i+1)*x+(_-1),P=(i+1)*x+_,I=(i+1)*(x-1)+_;m.push(T,C,I),m.push(C,P,I)}}function b(){for(let x=0;x<=n;x++)for(let _=0;_<=i;_++)c.x=x/n,c.y=_/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new n3(new SP[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class b6 extends Dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new he,o=new he;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,h=f.count;for(let m=d,v=d+h;m<v;m+=3)for(let y=0;y<3;y++){const g=s.getX(m+y),b=s.getX(m+(y+1)%3);i.fromBufferAttribute(a,g),o.fromBufferAttribute(a,b),XZ(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c,f=3*s+(c+1)%3;i.fromBufferAttribute(a,u),o.fromBufferAttribute(a,f),XZ(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Gt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function XZ(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var qZ=Object.freeze({__proto__:null,BoxGeometry:cv,CapsuleGeometry:VL,CircleGeometry:HL,ConeGeometry:GL,CylinderGeometry:lb,DodecahedronGeometry:XL,EdgesGeometry:Ame,ExtrudeGeometry:YL,IcosahedronGeometry:KL,LatheGeometry:RM,OctahedronGeometry:OM,PlaneGeometry:PM,PolyhedronGeometry:Rp,RingGeometry:ZL,ShapeGeometry:JL,SphereGeometry:LM,TetrahedronGeometry:QL,TorusGeometry:e3,TorusKnotGeometry:t3,TubeGeometry:n3,WireframeGeometry:b6});class Ome extends Ma{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new zt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Lme extends zc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class _6 extends Ma{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new zt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cp,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kme extends _6{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ai(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new zt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new zt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new zt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Nme extends Ma{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new zt(16777215),this.specular=new zt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cp,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=SM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ime extends Ma{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cp,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Dme extends Ma{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cp,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class jme extends Ma{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cp,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=SM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Bme extends Ma{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cp,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zme extends Ka{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Vm(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function $me(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fme(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function kB(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function w6(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function Zyt(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),f=[],d=[];for(let h=0;h<c.times.length;++h){const m=c.times[h]*i;if(!(m<n||m>=r)){f.push(c.times[h]);for(let v=0;v<u;++v)d.push(c.values[h*u+v])}}f.length!==0&&(c.times=Vm(f,c.times.constructor),c.values=Vm(d,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function Jyt(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===s.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const m=s.times.length-1;let v;if(o<=s.times[0]){const g=u,b=f-u;v=s.values.slice(g,b)}else if(o>=s.times[m]){const g=m*f+u,b=g+f-u;v=s.values.slice(g,b)}else{const g=s.createInterpolant(),b=u,x=f-u;g.evaluate(o),v=g.resultBuffer.slice(b,x)}l==="quaternion"&&new ya().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let g=0;g<y;++g){const b=g*h+d;if(l==="quaternion")ya.multiplyQuaternionsFlat(c.values,b,v,0,c.values,b);else{const x=h-d*2;for(let _=0;_<x;++_)c.values[b+_]-=v[_]}}}return t.blendMode=Z8,t}const Qyt={convertArray:Vm,isTypedArray:$me,getKeyframeOrder:Fme,sortedArray:kB,flattenJSON:w6,subclip:Zyt,makeClipAdditive:Jyt};class kM{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Ume extends kM{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Fm,endingEnd:Fm}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Um:o=e,s=2*n-r;break;case uS:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Um:a=e,l=2*r-n;break;case uS:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=a*u}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,m=(r-n)/(i-n),v=m*m,y=v*m,g=-d*y+2*d*v-d*m,b=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*m+1,x=(-1-h)*y+(1.5+h)*v+.5*m,_=h*y-h*v;for(let T=0;T!==s;++T)o[T]=g*a[u+T]+b*a[c+T]+x*a[l+T]+_*a[f+T];return o}}class S6 extends kM{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=(r-n)/(i-n),f=1-u;for(let d=0;d!==s;++d)o[d]=a[c+d]*f+a[l+d]*u;return o}}class Wme extends kM{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Uc{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Vm(n,this.TimeBufferType),this.values=Vm(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Vm(e.times,Array),values:Vm(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Wme(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new S6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Ume(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case lS:n=this.InterpolantFactoryMethodDiscrete;break;case cS:n=this.InterpolantFactoryMethodLinear;break;case aA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return lS;case this.InterpolantFactoryMethodLinear:return cS;case this.InterpolantFactoryMethodSmooth:return aA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&$me(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===aA,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],u=e[s+1];if(c!==u&&(s!==1||c!==e[0]))if(i)l=!0;else{const f=s*r,d=f-r,h=f+r;for(let m=0;m!==r;++m){const v=n[f+m];if(v!==n[d+m]||v!==n[h+m]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const f=s*r,d=a*r;for(let h=0;h!==r;++h)n[d+h]=n[f+h]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Uc.prototype.TimeBufferType=Float32Array;Uc.prototype.ValueBufferType=Float32Array;Uc.prototype.DefaultInterpolation=cS;class uv extends Uc{}uv.prototype.ValueTypeName="bool";uv.prototype.ValueBufferType=Array;uv.prototype.DefaultInterpolation=lS;uv.prototype.InterpolantFactoryMethodLinear=void 0;uv.prototype.InterpolantFactoryMethodSmooth=void 0;class M6 extends Uc{}M6.prototype.ValueTypeName="color";class bS extends Uc{}bS.prototype.ValueTypeName="number";class Vme extends kM{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let c=e*s;for(let u=c+s;c!==u;c+=4)ya.slerpFlat(o,0,a,c-s,a,c,l);return o}}class cb extends Uc{InterpolantFactoryMethodLinear(e){return new Vme(this.times,this.values,this.getValueSize(),e)}}cb.prototype.ValueTypeName="quaternion";cb.prototype.DefaultInterpolation=cS;cb.prototype.InterpolantFactoryMethodSmooth=void 0;class fv extends Uc{}fv.prototype.ValueTypeName="string";fv.prototype.ValueBufferType=Array;fv.prototype.DefaultInterpolation=lS;fv.prototype.InterpolantFactoryMethodLinear=void 0;fv.prototype.InterpolantFactoryMethodSmooth=void 0;class _S extends Uc{}_S.prototype.ValueTypeName="vector";class wS{constructor(e,n=-1,r,i=NL){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ys(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(t0t(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(Uc.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const u=Fme(l);l=kB(l,1,u),c=kB(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new bS(".morphTargetInfluences["+n[s].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],u=c.name.match(o);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,h,m,v){if(h.length!==0){const y=[],g=[];w6(h,y,g,m),y.length!==0&&v.push(new f(d,y,g))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let m;for(m=0;m<d.length;m++)if(d[m].morphTargets)for(let v=0;v<d[m].morphTargets.length;v++)h[d[m].morphTargets[v]]=-1;for(const v in h){const y=[],g=[];for(let b=0;b!==d[m].morphTargets.length;++b){const x=d[m];y.push(x.time),g.push(x.morphTarget===v?1:0)}i.push(new bS(".morphTargetInfluence["+v+"]",y,g))}l=h.length*a}else{const h=".bones["+n[f].name+"]";r(_S,h+".position",d,"pos",i),r(cb,h+".quaternion",d,"rot",i),r(_S,h+".scale",d,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function e0t(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bS;case"vector":case"vector2":case"vector3":case"vector4":return _S;case"color":return M6;case"quaternion":return cb;case"bool":case"boolean":return uv;case"string":return fv}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function t0t(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=e0t(t.type);if(t.times===void 0){const n=[],r=[];w6(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const $f={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class E6{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){s++,o===!1&&i.onStart!==void 0&&i.onStart(u,a,s),o=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const h=c[f],m=c[f+1];if(h.global&&(h.lastIndex=0),h.test(u))return m}return null}}}const Hme=new E6;class Es{constructor(e){this.manager=e!==void 0?e:Hme,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Es.DEFAULT_MATERIAL_NAME="__DEFAULT";const _f={};class n0t extends Error{constructor(e,n){super(e),this.response=n}}class md extends Es{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=$f.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(_f[e]!==void 0){_f[e].push({onLoad:n,onProgress:r,onError:i});return}_f[e]=[],_f[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=_f[e],f=c.body.getReader(),d=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),h=d?parseInt(d):0,m=h!==0;let v=0;const y=new ReadableStream({start(g){b();function b(){f.read().then(({done:x,value:_})=>{if(x)g.close();else{v+=_.byteLength;const T=new ProgressEvent("progress",{lengthComputable:m,loaded:v,total:h});for(let C=0,P=u.length;C<P;C++){const I=u[C];I.onProgress&&I.onProgress(T)}g.enqueue(_),b()}})}}});return new Response(y)}else throw new n0t(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,s));case"json":return c.json();default:if(s===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return c.arrayBuffer().then(m=>h.decode(m))}}}).then(c=>{$f.add(e,c);const u=_f[e];delete _f[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=_f[e];if(u===void 0)throw this.manager.itemError(e),c;delete _f[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class r0t extends Es{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new md(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=wS.parse(e[r]);n.push(i)}return n}}class i0t extends Es{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new UL,l=new md(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const h=o.parse(d,!0);a[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(s.minFilter=ji),s.image=a,s.format=h.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=o.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let m=0;m<h;m++){a[m]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)a[m].mipmaps.push(d.mipmaps[m*d.mipmapCount+v]),a[m].format=d.format,a[m].width=d.width,a[m].height=d.height}s.image=a}else s.image.width=d.width,s.image.height=d.height,s.mipmaps=d.mipmaps;d.mipmapCount===1&&(s.minFilter=ji),s.format=d.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class SS extends Es{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=$f.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=mS("img");function l(){u(),$f.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(f){u(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class o0t extends Es{constructor(e){super(e)}load(e,n,r,i){const o=new AM;o.colorSpace=fo;const a=new SS(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(u){o.images[c]=u,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class a0t extends Es{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new cg,s=new md(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:pa,a.wrapT=c.wrapT!==void 0?c.wrapT:pa,a.magFilter=c.magFilter!==void 0?c.magFilter:ji,a.minFilter=c.minFilter!==void 0?c.minFilter:ji,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?a.colorSpace=c.colorSpace:c.encoding!==void 0&&(a.encoding=c.encoding),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=hp),c.mipmapCount===1&&(a.minFilter=ji),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class s0t extends Es{constructor(e){super(e)}load(e,n,r,i){const o=new Fi,a=new SS(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Op extends fr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new zt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Gme extends Op{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(fr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new zt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const vI=new dn,YZ=new he,KZ=new he;class T6{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ft(512,512),this.map=null,this.mapPass=null,this.matrix=new dn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new CM,this._frameExtents=new ft(1,1),this._viewportCount=1,this._viewports=[new Jn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;YZ.setFromMatrixPosition(e.matrixWorld),n.position.copy(YZ),KZ.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(KZ),n.updateMatrixWorld(),vI.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vI),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(vI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class l0t extends T6{constructor(){super(new Bi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=ux*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Xme extends Op{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(fr.DEFAULT_UP),this.updateMatrix(),this.target=new fr,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new l0t}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ZZ=new dn,b_=new he,yI=new he;class c0t extends T6{constructor(){super(new Bi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ft(4,2),this._viewportCount=6,this._viewports=[new Jn(2,1,1,1),new Jn(0,1,1,1),new Jn(3,1,1,1),new Jn(1,1,1,1),new Jn(3,0,1,1),new Jn(1,0,1,1)],this._cubeDirections=[new he(1,0,0),new he(-1,0,0),new he(0,0,1),new he(0,0,-1),new he(0,1,0),new he(0,-1,0)],this._cubeUps=[new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,0,1),new he(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),b_.setFromMatrixPosition(e.matrixWorld),r.position.copy(b_),yI.copy(r.position),yI.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(yI),r.updateMatrixWorld(),i.makeTranslation(-b_.x,-b_.y,-b_.z),ZZ.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ZZ)}}class qme extends Op{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new c0t}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class u0t extends T6{constructor(){super(new Kh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Yme extends Op{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(fr.DEFAULT_UP),this.updateMatrix(),this.target=new fr,this.shadow=new u0t}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Kme extends Op{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Zme extends Op{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Jme{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new he)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class Qme extends Op{constructor(e=new Jme,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class r3 extends Es{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new md(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=r3.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new zt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new zt().setHex(a.value);break;case"v2":i.uniforms[o].value=new ft().fromArray(a.value);break;case"v3":i.uniforms[o].value=new he().fromArray(a.value);break;case"v4":i.uniforms[o].value=new Jn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new In().fromArray(a.value);break;case"m4":i.uniforms[o].value=new dn().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new ft().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ft().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:Ome,SpriteMaterial:f6,RawShaderMaterial:Lme,ShaderMaterial:zc,PointsMaterial:h6,MeshPhysicalMaterial:kme,MeshStandardMaterial:_6,MeshPhongMaterial:Nme,MeshToonMaterial:Ime,MeshNormalMaterial:Dme,MeshLambertMaterial:jme,MeshDepthMaterial:s6,MeshDistanceMaterial:l6,MeshBasicMaterial:Pp,MeshMatcapMaterial:Bme,LineDashedMaterial:zme,LineBasicMaterial:Ka,Material:Ma};return new n[e]}}class NB{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class A6 extends Dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class ege extends Es{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new md(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,m){if(n[m]!==void 0)return n[m];const y=h.interleavedBuffers[m],g=o(h,y.buffer),b=Fy(y.type,g),x=new $L(b,y.stride);return x.uuid=y.uuid,n[m]=x,x}function o(h,m){if(r[m]!==void 0)return r[m];const y=h.arrayBuffers[m],g=new Uint32Array(y).buffer;return r[m]=g,g}const a=e.isInstancedBufferGeometry?new A6:new Dn,s=e.data.index;if(s!==void 0){const h=Fy(s.type,s.array);a.setIndex(new wr(h,1))}const l=e.data.attributes;for(const h in l){const m=l[h];let v;if(m.isInterleavedBufferAttribute){const y=i(e.data,m.data);v=new Ws(y,m.itemSize,m.offset,m.normalized)}else{const y=Fy(m.type,m.array),g=m.isInstancedBufferAttribute?dx:wr;v=new g(y,m.itemSize,m.normalized)}m.name!==void 0&&(v.name=m.name),m.usage!==void 0&&v.setUsage(m.usage),a.setAttribute(h,v)}const c=e.data.morphAttributes;if(c)for(const h in c){const m=c[h],v=[];for(let y=0,g=m.length;y<g;y++){const b=m[y];let x;if(b.isInterleavedBufferAttribute){const _=i(e.data,b.data);x=new Ws(_,b.itemSize,b.offset,b.normalized)}else{const _=Fy(b.type,b.array);x=new wr(_,b.itemSize,b.normalized)}b.name!==void 0&&(x.name=b.name),v.push(x)}a.morphAttributes[h]=v}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,m=f.length;h!==m;++h){const v=f[h];a.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const h=new he;d.center!==void 0&&h.fromArray(d.center),a.boundingSphere=new Po(h,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class f0t extends Es{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?NB.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new md(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?NB.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new md(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let f=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new ug().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new FL().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new ege;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in qZ?s=qZ[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new r3;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=wS.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:Fy(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new E6(n);o=new SS(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const h=[];for(let m=0,v=d.length;m<v;m++){const y=d[m],g=s(y);g!==null&&(g instanceof HTMLImageElement?h.push(g):h.push(new cg(g.data,g.width,g.height)))}i[f.uuid]=new Wm(h)}else{const h=s(f.url);i[f.uuid]=new Wm(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:Fy(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new SS(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f],m=await o(h);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new cg(m.data,m.width,m.height)))}r[l.uuid]=new Wm(u)}else{const u=await o(l.url);r[l.uuid]=new Wm(u)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],c=l.data;let u;Array.isArray(c)?(u=new AM,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new cg:u=new Fi,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=s.uuid,s.name!==void 0&&(u.name=s.name),s.mapping!==void 0&&(u.mapping=r(s.mapping,d0t)),s.channel!==void 0&&(u.channel=s.channel),s.offset!==void 0&&u.offset.fromArray(s.offset),s.repeat!==void 0&&u.repeat.fromArray(s.repeat),s.center!==void 0&&u.center.fromArray(s.center),s.rotation!==void 0&&(u.rotation=s.rotation),s.wrap!==void 0&&(u.wrapS=r(s.wrap[0],JZ),u.wrapT=r(s.wrap[1],JZ)),s.format!==void 0&&(u.format=s.format),s.internalFormat!==void 0&&(u.internalFormat=s.internalFormat),s.type!==void 0&&(u.type=s.type),s.colorSpace!==void 0&&(u.colorSpace=s.colorSpace),s.encoding!==void 0&&(u.encoding=s.encoding),s.minFilter!==void 0&&(u.minFilter=r(s.minFilter,QZ)),s.magFilter!==void 0&&(u.magFilter=r(s.magFilter,QZ)),s.anisotropy!==void 0&&(u.anisotropy=s.anisotropy),s.flipY!==void 0&&(u.flipY=s.flipY),s.generateMipmaps!==void 0&&(u.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(u.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(u.compareFunction=s.compareFunction),s.userData!==void 0&&(u.userData=s.userData),i[s.uuid]=u}return i}parseObject(e,n,r,i,o){let a;function s(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let m=0,v=d.length;m<v;m++){const y=d[m];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),h.push(r[y])}return h}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":a=new u6,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new zt(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new zL(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new BL(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new Bi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Kh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Kme(e.color,e.intensity);break;case"DirectionalLight":a=new Yme(e.color,e.intensity);break;case"PointLight":a=new qme(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Zme(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Xme(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Gme(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Qme().fromJSON(e);break;case"SkinnedMesh":u=s(e.geometry),f=l(e.material),a=new vme(u,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=s(e.geometry),f=l(e.material),a=new eo(u,f);break;case"InstancedMesh":u=s(e.geometry),f=l(e.material);const d=e.count,h=e.instanceMatrix,m=e.instanceColor;a=new yme(u,f,d),a.instanceMatrix=new dx(new Float32Array(h.array),16),m!==void 0&&(a.instanceColor=new dx(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":u=s(e.geometry),f=l(e.material),a=new xme(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(v=>{const y=new Co;y.min.fromArray(v.boxMin),y.max.fromArray(v.boxMax);const g=new Po;return g.radius=v.sphereRadius,g.center.fromArray(v.sphereCenter),{boxInitialized:v.boxInitialized,box:y,sphereInitialized:v.sphereInitialized,sphere:g}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":a=new gme;break;case"Line":a=new pp(s(e.geometry),l(e.material));break;case"LineLoop":a=new bme(s(e.geometry),l(e.material));break;case"LineSegments":a=new Zu(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new _me(s(e.geometry),l(e.material));break;case"Sprite":a=new mme(l(e.material));break;case"Group":a=new Vy;break;case"Bone":a=new d6;break;default:a=new fr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)a.add(this.parseObject(d[h],n,r,i,o))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const m=d[h];a.animations.push(o[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const m=d[h],v=a.getObjectByProperty("uuid",m.object);v!==void 0&&a.addLevel(v,m.distance,m.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const d0t={UVMapping:LL,CubeReflectionMapping:pd,CubeRefractionMapping:dp,EquirectangularReflectionMapping:iS,EquirectangularRefractionMapping:oS,CubeUVReflectionMapping:ab},JZ={RepeatWrapping:aS,ClampToEdgeWrapping:pa,MirroredRepeatWrapping:sS},QZ={NearestFilter:Ii,NearestMipmapNearestFilter:xP,NearestMipmapLinearFilter:b1,LinearFilter:ji,LinearMipmapNearestFilter:W8,LinearMipmapLinearFilter:hp};class h0t extends Es{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=$f.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return $f.add(e,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),$f.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});$f.add(e,l),o.manager.itemStart(e)}}let oT;class C6{static getContext(){return oT===void 0&&(oT=new(window.AudioContext||window.webkitAudioContext)),oT}static setContext(e){oT=e}}class p0t extends Es{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new md(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);C6.getContext().decodeAudioData(c,function(f){n(f)}).catch(s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const eJ=new dn,tJ=new dn,cm=new dn;class m0t{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Bi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Bi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,cm.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(sg*n.fov*.5)/n.zoom;let s,l;tJ.elements[12]=-i,eJ.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,cm.elements[0]=2*n.near/(l-s),cm.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(cm),s=-a*n.aspect-o,l=a*n.aspect-o,cm.elements[0]=2*n.near/(l-s),cm.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(cm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(tJ),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(eJ)}}class P6{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=nJ(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=nJ();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function nJ(){return(typeof performance>"u"?Date:performance).now()}const um=new he,rJ=new ya,g0t=new he,fm=new he;class v0t extends fr{constructor(){super(),this.type="AudioListener",this.context=C6.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new P6}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(um,rJ,g0t),fm.set(0,0,-1).applyQuaternion(rJ),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(um.x,i),n.positionY.linearRampToValueAtTime(um.y,i),n.positionZ.linearRampToValueAtTime(um.z,i),n.forwardX.linearRampToValueAtTime(fm.x,i),n.forwardY.linearRampToValueAtTime(fm.y,i),n.forwardZ.linearRampToValueAtTime(fm.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(um.x,um.y,um.z),n.setOrientation(fm.x,fm.y,fm.z,r.x,r.y,r.z)}}class tge extends fr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const dm=new he,iJ=new ya,y0t=new he,hm=new he;class x0t extends tge{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(dm,iJ,y0t),hm.set(0,0,1).applyQuaternion(iJ);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(dm.x,r),n.positionY.linearRampToValueAtTime(dm.y,r),n.positionZ.linearRampToValueAtTime(dm.z,r),n.orientationX.linearRampToValueAtTime(hm.x,r),n.orientationY.linearRampToValueAtTime(hm.y,r),n.orientationZ.linearRampToValueAtTime(hm.z,r)}else n.setPosition(dm.x,dm.y,dm.z),n.setOrientation(hm.x,hm.y,hm.z)}}class b0t{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class nge{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){ya.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;ya.multiplyQuaternionsFlat(e,a,e,n,e,r),ya.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const R6="\\[\\]\\.:\\/",_0t=new RegExp("["+R6+"]","g"),O6="[^"+R6+"]",w0t="[^"+R6.replace("\\.","")+"]",S0t=/((?:WC+[\/:])*)/.source.replace("WC",O6),M0t=/(WCOD+)?/.source.replace("WCOD",w0t),E0t=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",O6),T0t=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",O6),A0t=new RegExp("^"+S0t+M0t+E0t+T0t+"$"),C0t=["material","materials","bones","map"];class P0t{constructor(e,n,r){const i=r||rr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class rr{constructor(e,n,r){this.path=n,this.parsedPath=r||rr.parseTrackName(n),this.node=rr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new rr.Composite(e,n,r):new rr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_0t,"")}static parseTrackName(e){const n=A0t.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);C0t.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=rr.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}rr.Composite=P0t;rr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};rr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};rr.prototype.GetterByBindingType=[rr.prototype._getValue_direct,rr.prototype._getValue_array,rr.prototype._getValue_arrayElement,rr.prototype._getValue_toArray];rr.prototype.SetterByBindingTypeAndVersioning=[[rr.prototype._setValue_direct,rr.prototype._setValue_direct_setNeedsUpdate,rr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[rr.prototype._setValue_array,rr.prototype._setValue_array_setNeedsUpdate,rr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[rr.prototype._setValue_arrayElement,rr.prototype._setValue_arrayElement_setNeedsUpdate,rr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[rr.prototype._setValue_fromArray,rr.prototype._setValue_fromArray_setNeedsUpdate,rr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class R0t{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ys(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],h=d.uuid;let m=n[h];if(m===void 0){m=l++,n[h]=m,e.push(d);for(let v=0,y=a;v!==y;++v)o[v].push(new rr(d,r[v],i[v]))}else if(m<c){s=e[m];const v=--c,y=e[v];n[y.uuid]=m,e[m]=y,n[h]=v,e[v]=d;for(let g=0,b=a;g!==b;++g){const x=o[g],_=x[v];let T=x[m];x[m]=_,T===void 0&&(T=new rr(d,r[g],i[g])),x[v]=T}}else e[m]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const f=o++,d=e[f];n[d.uuid]=u,e[u]=d,n[c]=f,e[f]=l;for(let h=0,m=i;h!==m;++h){const v=r[h],y=v[f],g=v[u];v[u]=y,v[f]=g}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<o){const d=--o,h=e[d],m=--a,v=e[m];n[h.uuid]=f,e[f]=h,n[v.uuid]=d,e[d]=v,e.pop();for(let y=0,g=i;y!==g;++y){const b=r[y],x=b[d],_=b[m];b[f]=x,b[d]=_,b.pop()}}else{const d=--a,h=e[d];d>0&&(n[h.uuid]=f),e[f]=h,e.pop();for(let m=0,v=i;m!==v;++m){const y=r[m];y[f]=y[d],y.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(f);for(let d=u,h=l.length;d!==h;++d){const m=l[d];f[d]=new rr(m,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];n[c]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class rge{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:Fm,endingEnd:Fm};for(let c=0;c!==a;++c){const u=o[c].createInterpolant(null);s[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=zpe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Z8:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulateAdditive(s);break;case NL:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===$pe;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===Bpe){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Um,i.endingEnd=Um):(e?i.endingStart=this.zeroSlopeAtStart?Um:Fm:i.endingStart=uS,n?i.endingEnd=this.zeroSlopeAtEnd?Um:Fm:i.endingEnd=uS)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const O0t=new Float32Array(1);class L0t extends wd{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==o;++f){const d=i[f],h=d.name;let m=u[h];if(m!==void 0)++m.referenceCount,a[f]=m;else{if(m=a[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,h));continue}const v=n&&n._propertyBindings[f].binding.parsedPath;m=new nge(rr.create(r,h,v),d.ValueTypeName,d.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,h),a[f]=m}s[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new S6(new Float32Array(2),new Float32Array(2),1,O0t),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?wS.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=NL),l!==void 0){const f=l.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new rge(this,a,n,r);return this._bindAction(u,c),this._addInactiveAction(u,s,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?wS.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class L6{constructor(e){this.value=e}clone(){return new L6(this.value.clone===void 0?this.value:this.value.clone())}}let k0t=0;class N0t extends wd{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:k0t++}),this.name="",this.usage=pS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class MP extends $L{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class I0t{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class ige{constructor(e,n,r=0,i=1/0){this.ray=new lv(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new lg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return IB(e,this,r,n),r.sort(oJ),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)IB(e[i],this,r,n);return r.sort(oJ),r}}function oJ(t,e){return t.distance-e.distance}function IB(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)IB(i[o],e,n,!0)}}class DB{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ai(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class D0t{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const aJ=new ft;class j0t{constructor(e=new ft(1/0,1/0),n=new ft(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=aJ.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,aJ).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const sJ=new he,aT=new he;class oge{constructor(e=new he,n=new he){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){sJ.subVectors(e,this.start),aT.subVectors(this.end,this.start);const r=aT.dot(aT);let o=aT.dot(sJ)/r;return n&&(o=Ai(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const lJ=new he;class B0t extends fr{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Dn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,u=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Gt(i,3));const o=new Ka({fog:!1,toneMapped:!1});this.cone=new Zu(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),lJ.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(lJ),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const th=new he,sT=new dn,xI=new dn;class z0t extends Zu{constructor(e){const n=age(e),r=new Dn,i=[],o=[],a=new zt(0,0,1),s=new zt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new Gt(i,3)),r.setAttribute("color",new Gt(o,3));const l=new Ka({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");xI.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(sT.multiplyMatrices(xI,s.matrixWorld),th.setFromMatrixPosition(sT),i.setXYZ(a,th.x,th.y,th.z),sT.multiplyMatrices(xI,s.parent.matrixWorld),th.setFromMatrixPosition(sT),i.setXYZ(a+1,th.x,th.y,th.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function age(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,age(t.children[n]));return e}class $0t extends eo{constructor(e,n,r){const i=new LM(n,4,2),o=new Pp({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const F0t=new he,cJ=new zt,uJ=new zt;class U0t extends fr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new OM(n);i.rotateY(Math.PI*.5),this.material=new Pp({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new wr(a,3)),this.add(new eo(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");cJ.copy(this.light.color),uJ.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?cJ:uJ;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(F0t.setFromMatrixPosition(this.light.matrixWorld).negate())}}class W0t extends Zu{constructor(e=10,n=10,r=4473924,i=8947848){r=new zt(r),i=new zt(i);const o=n/2,a=e/n,s=e/2,l=[],c=[];for(let d=0,h=0,m=-s;d<=n;d++,m+=a){l.push(-s,0,m,s,0,m),l.push(m,0,-s,m,0,s);const v=d===o?r:i;v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3}const u=new Dn;u.setAttribute("position",new Gt(l,3)),u.setAttribute("color",new Gt(c,3));const f=new Ka({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class V0t extends Zu{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new zt(o),a=new zt(a);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),h=Math.sin(d)*e,m=Math.cos(d)*e;s.push(0,0,0),s.push(h,0,m);const v=f&1?o:a;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const d=f&1?o:a,h=e-e/r*f;for(let m=0;m<i;m++){let v=m/i*(Math.PI*2),y=Math.sin(v)*h,g=Math.cos(v)*h;s.push(y,0,g),l.push(d.r,d.g,d.b),v=(m+1)/i*(Math.PI*2),y=Math.sin(v)*h,g=Math.cos(v)*h,s.push(y,0,g),l.push(d.r,d.g,d.b)}}const c=new Dn;c.setAttribute("position",new Gt(s,3)),c.setAttribute("color",new Gt(l,3));const u=new Ka({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const fJ=new he,lT=new he,dJ=new he;class H0t extends fr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Dn;i.setAttribute("position",new Gt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Ka({fog:!1,toneMapped:!1});this.lightPlane=new pp(i,o),this.add(this.lightPlane),i=new Dn,i.setAttribute("position",new Gt([0,0,0,0,0,1],3)),this.targetLine=new pp(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),fJ.setFromMatrixPosition(this.light.matrixWorld),lT.setFromMatrixPosition(this.light.target.matrixWorld),dJ.subVectors(lT,fJ),this.lightPlane.lookAt(lT),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(lT),this.targetLine.scale.z=dJ.length()}}const cT=new he,yi=new TM;class G0t extends Zu{constructor(e){const n=new Dn,r=new Ka({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(m,v){l(m),l(v)}function l(m){i.push(0,0,0),o.push(0,0,0),a[m]===void 0&&(a[m]=[]),a[m].push(i.length/3-1)}n.setAttribute("position",new Gt(i,3)),n.setAttribute("color",new Gt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new zt(16755200),u=new zt(16711680),f=new zt(43775),d=new zt(16777215),h=new zt(3355443);this.setColors(c,u,f,d,h)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;yi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Li("c",n,e,yi,0,0,-1),Li("t",n,e,yi,0,0,1),Li("n1",n,e,yi,-r,-i,-1),Li("n2",n,e,yi,r,-i,-1),Li("n3",n,e,yi,-r,i,-1),Li("n4",n,e,yi,r,i,-1),Li("f1",n,e,yi,-r,-i,1),Li("f2",n,e,yi,r,-i,1),Li("f3",n,e,yi,-r,i,1),Li("f4",n,e,yi,r,i,1),Li("u1",n,e,yi,r*.7,i*1.1,-1),Li("u2",n,e,yi,-r*.7,i*1.1,-1),Li("u3",n,e,yi,0,i*2,-1),Li("cf1",n,e,yi,-r,0,1),Li("cf2",n,e,yi,r,0,1),Li("cf3",n,e,yi,0,-i,1),Li("cf4",n,e,yi,0,i,1),Li("cn1",n,e,yi,-r,0,-1),Li("cn2",n,e,yi,r,0,-1),Li("cn3",n,e,yi,0,-i,-1),Li("cn4",n,e,yi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Li(t,e,n,r,i,o,a){cT.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],cT.x,cT.y,cT.z)}}const uT=new Co;class X0t extends Zu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Dn;o.setIndex(new wr(r,1)),o.setAttribute("position",new wr(i,3)),super(o,new Ka({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&uT.setFromObject(this.object),uT.isEmpty())return;const n=uT.min,r=uT.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class q0t extends Zu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Dn;o.setIndex(new wr(r,1)),o.setAttribute("position",new Gt(i,3)),super(o,new Ka({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Y0t extends pp{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Dn;a.setAttribute("position",new Gt(o,3)),a.computeBoundingSphere(),super(a,new Ka({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Dn;l.setAttribute("position",new Gt(s,3)),l.computeBoundingSphere(),this.add(new eo(l,new Pp({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const hJ=new he;let fT,bI;class K0t extends fr{constructor(e=new he(0,0,1),n=new he(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",fT===void 0&&(fT=new Dn,fT.setAttribute("position",new Gt([0,0,0,0,1,0],3)),bI=new lb(0,.5,1,5,1),bI.translate(0,-.5,0)),this.position.copy(n),this.line=new pp(fT,new Ka({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new eo(bI,new Pp({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{hJ.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(hJ,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Z0t extends Zu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Dn;i.setAttribute("position",new Gt(n,3)),i.setAttribute("color",new Gt(r,3));const o=new Ka({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new zt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class J0t{constructor(){this.type="ShapePath",this.color=new zt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new gS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const b=[];for(let x=0,_=g.length;x<_;x++){const T=g[x],C=new ug;C.curves=T.curves,b.push(C)}return b}function r(g,b){const x=b.length;let _=!1;for(let T=x-1,C=0;C<x;T=C++){let P=b[T],I=b[C],O=I.x-P.x,N=I.y-P.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(P=b[C],O=-O,I=b[T],N=-N),g.y<P.y||g.y>I.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const D=N*(g.x-P.x)-O*(g.y-P.y);if(D===0)return!0;if(D<0)continue;_=!_}}else{if(g.y!==P.y)continue;if(I.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=I.x)return!0}}return _}const i=Ru.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new ug,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const f=[],d=[];let h=[],m=0,v;d[m]=void 0,h[m]=[];for(let g=0,b=o.length;g<b;g++)s=o[g],v=s.getPoints(),a=i(v),a=e?!a:a,a?(!u&&d[m]&&m++,d[m]={s:new ug,p:v},d[m].s.curves=s.curves,u&&m++,h[m]=[]):h[m].push({h:s,p:v[0]});if(!d[0])return n(o);if(d.length>1){let g=!1,b=0;for(let x=0,_=d.length;x<_;x++)f[x]=[];for(let x=0,_=d.length;x<_;x++){const T=h[x];for(let C=0;C<T.length;C++){const P=T[C];let I=!0;for(let O=0;O<d.length;O++)r(P.p,d[O].p)&&(x!==O&&b++,I?(I=!1,f[O].push(P)):g=!0);I&&f[x].push(P)}}b>0&&g===!1&&(h=f)}let y;for(let g=0,b=d.length;g<b;g++){l=d[g].s,c.push(l),y=h[g];for(let x=0,_=y.length;x<_;x++)l.holes.push(y[x].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:wM}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=wM);const Q0t=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:U8,AddEquation:vh,AddOperation:Spe,AdditiveAnimationBlendMode:Z8,AdditiveBlending:qj,AgXToneMapping:Cpe,AlphaFormat:Lpe,AlwaysCompare:Kpe,AlwaysDepth:gpe,AlwaysStencilFunc:EB,AmbientLight:Kme,AnimationAction:rge,AnimationClip:wS,AnimationLoader:r0t,AnimationMixer:L0t,AnimationObjectGroup:R0t,AnimationUtils:Qyt,ArcCurve:wme,ArrayCamera:dme,ArrowHelper:K0t,AttachedBindMode:Qj,Audio:tge,AudioAnalyser:b0t,AudioContext:C6,AudioListener:v0t,AudioLoader:p0t,AxesHelper:Z0t,BackSide:Ga,BasicDepthPacking:Fpe,BasicShadowMap:Jhe,BatchedMesh:xme,Bone:d6,BooleanKeyframeTrack:uv,Box2:j0t,Box3:Co,Box3Helper:q0t,BoxGeometry:cv,BoxHelper:X0t,BufferAttribute:wr,BufferGeometry:Dn,BufferGeometryLoader:ege,ByteType:Rpe,Cache:$f,Camera:TM,CameraHelper:G0t,CanvasTexture:Syt,CapsuleGeometry:VL,CatmullRomCurve3:Sme,CineonToneMapping:Tpe,CircleGeometry:HL,ClampToEdgeWrapping:pa,Clock:P6,Color:zt,ColorKeyframeTrack:M6,ColorManagement:xr,CompressedArrayTexture:_yt,CompressedCubeTexture:wyt,CompressedTexture:UL,CompressedTextureLoader:i0t,ConeGeometry:GL,ConstantAlphaFactor:hpe,ConstantColorFactor:fpe,CubeCamera:rme,CubeReflectionMapping:pd,CubeRefractionMapping:dp,CubeTexture:AM,CubeTextureLoader:o0t,CubeUVReflectionMapping:ab,CubicBezierCurve:m6,CubicBezierCurve3:Mme,CubicInterpolant:Ume,CullFaceBack:Xj,CullFaceFront:Zhe,CullFaceFrontBack:fdt,CullFaceNone:Khe,Curve:Fc,CurvePath:Tme,CustomBlending:Qhe,CustomToneMapping:Ape,CylinderGeometry:lb,Cylindrical:D0t,Data3DTexture:n6,DataArrayTexture:DL,DataTexture:cg,DataTextureLoader:a0t,DataUtils:bht,DecrementStencilOp:Sdt,DecrementWrapStencilOp:Edt,DefaultLoadingManager:Hme,DepthFormat:qh,DepthStencilFormat:Ig,DepthTexture:a6,DetachedBindMode:Ppe,DirectionalLight:Yme,DirectionalLightHelper:H0t,DiscreteInterpolant:Wme,DisplayP3ColorSpace:IL,DodecahedronGeometry:XL,DoubleSide:fu,DstAlphaFactor:ape,DstColorFactor:lpe,DynamicCopyUsage:$dt,DynamicDrawUsage:Ndt,DynamicReadUsage:jdt,EdgesGeometry:Ame,EllipseCurve:WL,EqualCompare:Gpe,EqualDepth:ype,EqualStencilFunc:Pdt,EquirectangularReflectionMapping:iS,EquirectangularRefractionMapping:oS,Euler:EM,EventDispatcher:wd,ExtrudeGeometry:YL,FileLoader:md,Float16BufferAttribute:Tht,Float32BufferAttribute:Gt,Float64BufferAttribute:Aht,FloatType:Tc,Fog:zL,FogExp2:BL,FramebufferTexture:byt,FrontSide:hd,Frustum:CM,GLBufferAttribute:I0t,GLSL1:Udt,GLSL3:TB,GreaterCompare:Xpe,GreaterDepth:bpe,GreaterEqualCompare:Ype,GreaterEqualDepth:xpe,GreaterEqualStencilFunc:kdt,GreaterStencilFunc:Odt,GridHelper:W0t,Group:Vy,HalfFloatType:lx,HemisphereLight:Gme,HemisphereLightHelper:U0t,IcosahedronGeometry:KL,ImageBitmapLoader:h0t,ImageLoader:SS,ImageUtils:t6,IncrementStencilOp:wdt,IncrementWrapStencilOp:Mdt,InstancedBufferAttribute:dx,InstancedBufferGeometry:A6,InstancedInterleavedBuffer:MP,InstancedMesh:yme,Int16BufferAttribute:Mht,Int32BufferAttribute:Eht,Int8BufferAttribute:_ht,IntType:V8,InterleavedBuffer:$L,InterleavedBufferAttribute:Ws,Interpolant:kM,InterpolateDiscrete:lS,InterpolateLinear:cS,InterpolateSmooth:aA,InvertStencilOp:Tdt,KeepStencilOp:Sm,KeyframeTrack:Uc,LOD:gme,LatheGeometry:RM,Layers:lg,LessCompare:Hpe,LessDepth:vpe,LessEqualCompare:Q8,LessEqualDepth:rS,LessEqualStencilFunc:Rdt,LessStencilFunc:Cdt,Light:Op,LightProbe:Qme,Line:pp,Line3:oge,LineBasicMaterial:Ka,LineCurve:g6,LineCurve3:Eme,LineDashedMaterial:zme,LineLoop:bme,LineSegments:Zu,LinearDisplayP3ColorSpace:MM,LinearEncoding:J8,LinearFilter:ji,LinearInterpolant:S6,LinearMipMapLinearFilter:gdt,LinearMipMapNearestFilter:mdt,LinearMipmapLinearFilter:hp,LinearMipmapNearestFilter:W8,LinearSRGBColorSpace:Uu,LinearToneMapping:Mpe,LinearTransfer:fS,Loader:Es,LoaderUtils:NB,LoadingManager:E6,LoopOnce:Bpe,LoopPingPong:$pe,LoopRepeat:zpe,LuminanceAlphaFormat:Npe,LuminanceFormat:kpe,MOUSE:_m,Material:Ma,MaterialLoader:r3,MathUtils:Zpe,Matrix3:In,Matrix4:dn,MaxEquation:Jj,Mesh:eo,MeshBasicMaterial:Pp,MeshDepthMaterial:s6,MeshDistanceMaterial:l6,MeshLambertMaterial:jme,MeshMatcapMaterial:Bme,MeshNormalMaterial:Dme,MeshPhongMaterial:Nme,MeshPhysicalMaterial:kme,MeshStandardMaterial:_6,MeshToonMaterial:Ime,MinEquation:Zj,MirroredRepeatWrapping:sS,MixOperation:wpe,MultiplyBlending:Kj,MultiplyOperation:SM,NearestFilter:Ii,NearestMipMapLinearFilter:pdt,NearestMipMapNearestFilter:hdt,NearestMipmapLinearFilter:b1,NearestMipmapNearestFilter:xP,NeverCompare:Vpe,NeverDepth:mpe,NeverStencilFunc:Adt,NoBlending:Zf,NoColorSpace:Fs,NoToneMapping:Cu,NormalAnimationBlendMode:NL,NormalBlending:ag,NotEqualCompare:qpe,NotEqualDepth:_pe,NotEqualStencilFunc:Ldt,NumberKeyframeTrack:bS,Object3D:fr,ObjectLoader:f0t,ObjectSpaceNormalMap:Wpe,OctahedronGeometry:OM,OneFactor:rpe,OneMinusConstantAlphaFactor:ppe,OneMinusConstantColorFactor:dpe,OneMinusDstAlphaFactor:spe,OneMinusDstColorFactor:cpe,OneMinusSrcAlphaFactor:yP,OneMinusSrcColorFactor:ope,OrthographicCamera:Kh,P3Primaries:hS,PCFShadowMap:OL,PCFSoftShadowMap:x1,PMREMGenerator:CB,Path:gS,PerspectiveCamera:Bi,Plane:Of,PlaneGeometry:PM,PlaneHelper:Y0t,PointLight:qme,PointLightHelper:$0t,Points:_me,PointsMaterial:h6,PolarGridHelper:V0t,PolyhedronGeometry:Rp,PositionalAudio:x0t,PropertyBinding:rr,PropertyMixer:nge,QuadraticBezierCurve:v6,QuadraticBezierCurve3:y6,Quaternion:ya,QuaternionKeyframeTrack:cb,QuaternionLinearInterpolant:Vme,RED_GREEN_RGTC2_Format:SB,RED_RGTC1_Format:jpe,REVISION:wM,RGBADepthPacking:Upe,RGBAFormat:za,RGBAIntegerFormat:Y8,RGBA_ASTC_10x10_Format:vB,RGBA_ASTC_10x5_Format:pB,RGBA_ASTC_10x6_Format:mB,RGBA_ASTC_10x8_Format:gB,RGBA_ASTC_12x10_Format:yB,RGBA_ASTC_12x12_Format:xB,RGBA_ASTC_4x4_Format:aB,RGBA_ASTC_5x4_Format:sB,RGBA_ASTC_5x5_Format:lB,RGBA_ASTC_6x5_Format:cB,RGBA_ASTC_6x6_Format:uB,RGBA_ASTC_8x5_Format:fB,RGBA_ASTC_8x6_Format:dB,RGBA_ASTC_8x8_Format:hB,RGBA_BPTC_Format:oA,RGBA_ETC2_EAC_Format:oB,RGBA_PVRTC_2BPPV1_Format:rB,RGBA_PVRTC_4BPPV1_Format:nB,RGBA_S3TC_DXT1_Format:nA,RGBA_S3TC_DXT3_Format:rA,RGBA_S3TC_DXT5_Format:iA,RGB_BPTC_SIGNED_Format:bB,RGB_BPTC_UNSIGNED_Format:_B,RGB_ETC1_Format:K8,RGB_ETC2_Format:iB,RGB_PVRTC_2BPPV1_Format:tB,RGB_PVRTC_4BPPV1_Format:eB,RGB_S3TC_DXT1_Format:tA,RGFormat:Dpe,RGIntegerFormat:q8,RawShaderMaterial:Lme,Ray:lv,Raycaster:ige,Rec709Primaries:dS,RectAreaLight:Zme,RedFormat:Ipe,RedIntegerFormat:X8,ReinhardToneMapping:Epe,RenderTarget:eme,RepeatWrapping:aS,ReplaceStencilOp:_dt,ReverseSubtractEquation:tpe,RingGeometry:ZL,SIGNED_RED_GREEN_RGTC2_Format:MB,SIGNED_RED_RGTC1_Format:wB,SRGBColorSpace:fo,SRGBTransfer:Ur,Scene:u6,ShaderChunk:Cn,ShaderLib:_c,ShaderMaterial:zc,ShadowMaterial:Ome,Shape:ug,ShapeGeometry:JL,ShapePath:J0t,ShapeUtils:Ru,ShortType:Ope,Skeleton:FL,SkeletonHelper:z0t,SkinnedMesh:vme,Source:Wm,Sphere:Po,SphereGeometry:LM,Spherical:DB,SphericalHarmonics3:Jme,SplineCurve:x6,SpotLight:Xme,SpotLightHelper:B0t,Sprite:mme,SpriteMaterial:f6,SrcAlphaFactor:vP,SrcAlphaSaturateFactor:upe,SrcColorFactor:ipe,StaticCopyUsage:zdt,StaticDrawUsage:pS,StaticReadUsage:Ddt,StereoCamera:m0t,StreamCopyUsage:Fdt,StreamDrawUsage:Idt,StreamReadUsage:Bdt,StringKeyframeTrack:fv,SubtractEquation:epe,SubtractiveBlending:Yj,TOUCH:wm,TangentSpaceNormalMap:Cp,TetrahedronGeometry:QL,Texture:Fi,TextureLoader:s0t,TorusGeometry:e3,TorusKnotGeometry:t3,Triangle:hs,TriangleFanDrawMode:xdt,TriangleStripDrawMode:ydt,TrianglesDrawMode:vdt,TubeGeometry:n3,TwoPassDoubleSide:ddt,UVMapping:LL,Uint16BufferAttribute:r6,Uint32BufferAttribute:i6,Uint8BufferAttribute:wht,Uint8ClampedBufferAttribute:Sht,Uniform:L6,UniformsGroup:N0t,UniformsLib:Ot,UniformsUtils:wP,UnsignedByteType:Pu,UnsignedInt248Type:Xh,UnsignedIntType:zf,UnsignedShort4444Type:H8,UnsignedShort5551Type:G8,UnsignedShortType:kL,VSMShadowMap:pc,Vector2:ft,Vector3:he,Vector4:Jn,VectorKeyframeTrack:_S,VideoTexture:xyt,WebGL1Renderer:hme,WebGL3DRenderTarget:lht,WebGLArrayRenderTarget:sht,WebGLCoordinateSystem:Ac,WebGLCubeRenderTarget:ime,WebGLMultipleRenderTargets:cht,WebGLRenderTarget:Bc,WebGLRenderer:c6,WebGLUtils:fme,WebGPUCoordinateSystem:cx,WireframeGeometry:b6,WrapAroundEnding:uS,ZeroCurvatureEnding:Fm,ZeroFactor:npe,ZeroSlopeEnding:Um,ZeroStencilOp:bdt,_SRGBAFormat:bP,createCanvasElement:Qpe,sRGBEncoding:Yh},Symbol.toStringTag,{value:"Module"}));var sge={exports:{}},dv={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */dv.ConcurrentRoot=1;dv.ContinuousEventPriority=4;dv.DefaultEventPriority=16;dv.DiscreteEventPriority=1;dv.IdleEventPriority=536870912;dv.LegacyRoot=0;sge.exports=dv;var Gy=sge.exports;function ext(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,o=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function h(){const m=u(e);if(!f(d,m)){const v=d;c(d=m,v)}}return n.add(h),()=>n.delete(h)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?o(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const txt=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),pJ=txt?A.useEffect:A.useLayoutEffect;function nxt(t){const e=typeof t=="function"?ext(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=A.useReducer(y=>y+1,0),a=e.getState(),s=A.useRef(a),l=A.useRef(r),c=A.useRef(i),u=A.useRef(!1),f=A.useRef();f.current===void 0&&(f.current=r(a));let d,h=!1;(s.current!==a||l.current!==r||c.current!==i||u.current)&&(d=r(a),h=!i(f.current,d)),pJ(()=>{h&&(f.current=d),s.current=a,l.current=r,c.current=i,u.current=!1});const m=A.useRef(a);pJ(()=>{const y=()=>{try{const b=e.getState(),x=l.current(b);c.current(f.current,x)||(s.current=b,f.current=x,o())}catch{u.current=!0,o()}},g=e.subscribe(y);return e.getState()!==m.current&&y(),g},[]);const v=h?d:f.current;return A.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var lge={exports:{}},cge={exports:{}},uge={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var q=B.length;B.push(G);e:for(;0<q;){var te=q-1>>>1,Y=B[te];if(0<i(Y,G))B[te]=G,B[q]=Y,q=te;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],q=B.pop();if(q!==G){B[0]=q;e:for(var te=0,Y=B.length,J=Y>>>1;te<J;){var re=2*(te+1)-1,oe=B[re],pe=re+1,fe=B[pe];if(0>i(oe,q))pe<Y&&0>i(fe,oe)?(B[te]=fe,B[pe]=q,te=pe):(B[te]=oe,B[re]=q,te=re);else if(pe<Y&&0>i(fe,q))B[te]=fe,B[pe]=q,te=pe;else break e}}return G}function i(B,G){var q=B.sortIndex-G.sortIndex;return q!==0?q:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=B)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function _(B){if(v=!1,x(B),!m)if(n(l)!==null)m=!0,W(T);else{var G=n(c);G!==null&&X(_,G.startTime-B)}}function T(B,G){m=!1,v&&(v=!1,g(I),I=-1),h=!0;var q=d;try{for(x(G),f=n(l);f!==null&&(!(f.expirationTime>G)||B&&!D());){var te=f.callback;if(typeof te=="function"){f.callback=null,d=f.priorityLevel;var Y=te(f.expirationTime<=G);G=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),x(G)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var re=n(c);re!==null&&X(_,re.startTime-G),J=!1}return J}finally{f=null,d=q,h=!1}}var C=!1,P=null,I=-1,O=5,N=-1;function D(){return!(t.unstable_now()-N<O)}function U(){if(P!==null){var B=t.unstable_now();N=B;var G=!0;try{G=P(!0,B)}finally{G?V():(C=!1,P=null)}}else C=!1}var V;if(typeof b=="function")V=function(){b(U)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=U,V=function(){F.postMessage(null)}}else V=function(){y(U,0)};function W(B){P=B,C||(C=!0,V())}function X(B,G){I=y(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,W(T))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var q=d;d=G;try{return B()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=d;d=B;try{return G()}finally{d=q}},t.unstable_scheduleCallback=function(B,G,q){var te=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,B){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,B={id:u++,callback:G,priorityLevel:B,startTime:q,expirationTime:Y,sortIndex:-1},q>te?(B.sortIndex=q,e(c,B),n(l)===null&&B===n(c)&&(v?(g(I),I=-1):v=!0,X(_,q-te))):(B.sortIndex=Y,e(l,B),m||h||(m=!0,W(T))),B},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(B){var G=d;return function(){var q=d;d=G;try{return B.apply(this,arguments)}finally{d=q}}}})(uge);cge.exports=uge;var jB=cge.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rxt=function(e){var n={},r=A,i=jB,o=Object.assign;function a(w){for(var M="https://reactjs.org/docs/error-decoder.html?invariant="+w,k=1;k<arguments.length;k++)M+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+w+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}function P(w){if(w==null)return null;if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w;switch(w){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof w=="object")switch(w.$$typeof){case m:return(w.displayName||"Context")+".Consumer";case h:return(w._context.displayName||"Context")+".Provider";case v:var M=w.render;return w=w.displayName,w||(w=M.displayName||M.name||"",w=w!==""?"ForwardRef("+w+")":"ForwardRef"),w;case b:return M=w.displayName||null,M!==null?M:P(w.type)||"Memo";case x:M=w._payload,w=w._init;try{return P(w(M))}catch{}}return null}function I(w){var M=w.type;switch(w.tag){case 24:return"Cache";case 9:return(M.displayName||"Context")+".Consumer";case 10:return(M._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return w=M.render,w=w.displayName||w.name||"",M.displayName||(w!==""?"ForwardRef("+w+")":"ForwardRef");case 7:return"Fragment";case 5:return M;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(M);case 8:return M===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof M=="function")return M.displayName||M.name||null;if(typeof M=="string")return M}return null}function O(w){var M=w,k=w;if(w.alternate)for(;M.return;)M=M.return;else{w=M;do M=w,M.flags&4098&&(k=M.return),w=M.return;while(w)}return M.tag===3?k:null}function N(w){if(O(w)!==w)throw Error(a(188))}function D(w){var M=w.alternate;if(!M){if(M=O(w),M===null)throw Error(a(188));return M!==w?null:w}for(var k=w,j=M;;){var H=k.return;if(H===null)break;var Z=H.alternate;if(Z===null){if(j=H.return,j!==null){k=j;continue}break}if(H.child===Z.child){for(Z=H.child;Z;){if(Z===k)return N(H),w;if(Z===j)return N(H),M;Z=Z.sibling}throw Error(a(188))}if(k.return!==j.return)k=H,j=Z;else{for(var ye=!1,Be=H.child;Be;){if(Be===k){ye=!0,k=H,j=Z;break}if(Be===j){ye=!0,j=H,k=Z;break}Be=Be.sibling}if(!ye){for(Be=Z.child;Be;){if(Be===k){ye=!0,k=Z,j=H;break}if(Be===j){ye=!0,j=Z,k=H;break}Be=Be.sibling}if(!ye)throw Error(a(189))}}if(k.alternate!==j)throw Error(a(190))}if(k.tag!==3)throw Error(a(188));return k.stateNode.current===k?w:M}function U(w){return w=D(w),w!==null?V(w):null}function V(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){var M=V(w);if(M!==null)return M;w=w.sibling}return null}function z(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){if(w.tag!==4){var M=z(w);if(M!==null)return M}w=w.sibling}return null}var F=Array.isArray,W=e.getPublicInstance,X=e.getRootHostContext,B=e.getChildHostContext,G=e.prepareForCommit,q=e.resetAfterCommit,te=e.createInstance,Y=e.appendInitialChild,J=e.finalizeInitialChildren,re=e.prepareUpdate,oe=e.shouldSetTextContent,pe=e.createTextInstance,fe=e.scheduleTimeout,we=e.cancelTimeout,ge=e.noTimeout,xe=e.isPrimaryRenderer,Te=e.supportsMutation,ee=e.supportsPersistence,Ce=e.supportsHydration,ae=e.getInstanceFromNode,be=e.preparePortalMount,_e=e.getCurrentEventPriority,He=e.detachDeletedInstance,Ve=e.supportsMicrotasks,ne=e.scheduleMicrotask,Q=e.supportsTestSelectors,ve=e.findFiberRoot,Se=e.getBoundingRect,Le=e.getTextContent,Ie=e.isHiddenSubtree,Ke=e.matchAccessibilityRole,Ne=e.setFocusIfFocusable,Ye=e.setupIntersectionObserver,et=e.appendChild,vt=e.appendChildToContainer,ke=e.commitTextUpdate,Ze=e.commitMount,at=e.commitUpdate,pt=e.insertBefore,me=e.insertInContainerBefore,Ae=e.removeChild,le=e.removeChildFromContainer,Ee=e.resetTextContent,Ue=e.hideInstance,We=e.hideTextInstance,ze=e.unhideInstance,ce=e.unhideTextInstance,Re=e.clearContainer,Xe=e.cloneInstance,ct=e.createContainerChildSet,De=e.appendChildToContainerChildSet,st=e.finalizeContainerChildren,mt=e.replaceContainerChildren,rt=e.cloneHiddenInstance,it=e.cloneHiddenTextInstance,nt=e.canHydrateInstance,Pt=e.canHydrateTextInstance,Rt=e.canHydrateSuspenseInstance,Xt=e.isSuspenseInstancePending,sn=e.isSuspenseInstanceFallback,bt=e.registerSuspenseInstanceRetry,yt=e.getNextHydratableSibling,Yt=e.getFirstHydratableChild,nr=e.getFirstHydratableChildWithinContainer,Zt=e.getFirstHydratableChildWithinSuspenseInstance,At=e.hydrateInstance,qt=e.hydrateTextInstance,gn=e.hydrateSuspenseInstance,se=e.getNextHydratableInstanceAfterSuspenseInstance,Pe=e.commitHydratedContainer,Oe=e.commitHydratedSuspenseInstance,je=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,_t=e.shouldDeleteUnhydratedTailInstances,Et=e.didNotMatchHydratedContainerTextInstance,Bt=e.didNotMatchHydratedTextInstance,$t;function Kt(w){if($t===void 0)try{throw Error()}catch(k){var M=k.stack.trim().match(/\n( *(at )?)/);$t=M&&M[1]||""}return`
`+$t+w}var It=!1;function Wt(w,M){if(!w||It)return"";It=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(M)if(M=function(){throw Error()},Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(Mt){var j=Mt}Reflect.construct(w,[],M)}else{try{M.call()}catch(Mt){j=Mt}w.call(M.prototype)}else{try{throw Error()}catch(Mt){j=Mt}w()}}catch(Mt){if(Mt&&j&&typeof Mt.stack=="string"){for(var H=Mt.stack.split(`
`),Z=j.stack.split(`
`),ye=H.length-1,Be=Z.length-1;1<=ye&&0<=Be&&H[ye]!==Z[Be];)Be--;for(;1<=ye&&0<=Be;ye--,Be--)if(H[ye]!==Z[Be]){if(ye!==1||Be!==1)do if(ye--,Be--,0>Be||H[ye]!==Z[Be]){var ot=`
`+H[ye].replace(" at new "," at ");return w.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",w.displayName)),ot}while(1<=ye&&0<=Be);break}}}finally{It=!1,Error.prepareStackTrace=k}return(w=w?w.displayName||w.name:"")?Kt(w):""}var Vn=Object.prototype.hasOwnProperty,or=[],nn=-1;function hr(w){return{current:w}}function gt(w){0>nn||(w.current=or[nn],or[nn]=null,nn--)}function Ct(w,M){nn++,or[nn]=w.current,w.current=M}var tn={},Dt=hr(tn),Tn=hr(!1),Er=tn;function Tr(w,M){var k=w.type.contextTypes;if(!k)return tn;var j=w.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===M)return j.__reactInternalMemoizedMaskedChildContext;var H={},Z;for(Z in k)H[Z]=M[Z];return j&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=M,w.__reactInternalMemoizedMaskedChildContext=H),H}function On(w){return w=w.childContextTypes,w!=null}function Lt(){gt(Tn),gt(Dt)}function pn(w,M,k){if(Dt.current!==tn)throw Error(a(168));Ct(Dt,M),Ct(Tn,k)}function Or(w,M,k){var j=w.stateNode;if(M=M.childContextTypes,typeof j.getChildContext!="function")return k;j=j.getChildContext();for(var H in j)if(!(H in M))throw Error(a(108,I(w)||"Unknown",H));return o({},k,j)}function Xn(w){return w=(w=w.stateNode)&&w.__reactInternalMemoizedMergedChildContext||tn,Er=Dt.current,Ct(Dt,w),Ct(Tn,Tn.current),!0}function Ln(w,M,k){var j=w.stateNode;if(!j)throw Error(a(169));k?(w=Or(w,M,Er),j.__reactInternalMemoizedMergedChildContext=w,gt(Tn),gt(Dt),Ct(Dt,w)):gt(Tn),Ct(Tn,k)}var mr=Math.clz32?Math.clz32:zr,Vr=Math.log,Ts=Math.LN2;function zr(w){return w>>>=0,w===0?32:31-(Vr(w)/Ts|0)|0}var Hr=64,Pi=4194304;function Ja(w){switch(w&-w){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return w&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return w}}function qo(w,M){var k=w.pendingLanes;if(k===0)return 0;var j=0,H=w.suspendedLanes,Z=w.pingedLanes,ye=k&268435455;if(ye!==0){var Be=ye&~H;Be!==0?j=Ja(Be):(Z&=ye,Z!==0&&(j=Ja(Z)))}else ye=k&~H,ye!==0?j=Ja(ye):Z!==0&&(j=Ja(Z));if(j===0)return 0;if(M!==0&&M!==j&&!(M&H)&&(H=j&-j,Z=M&-M,H>=Z||H===16&&(Z&4194240)!==0))return M;if(j&4&&(j|=k&16),M=w.entangledLanes,M!==0)for(w=w.entanglements,M&=j;0<M;)k=31-mr(M),H=1<<k,j|=w[k],M&=~H;return j}function Qu(w,M){switch(w){case 1:case 2:case 4:return M+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return M+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(w,M){for(var k=w.suspendedLanes,j=w.pingedLanes,H=w.expirationTimes,Z=w.pendingLanes;0<Z;){var ye=31-mr(Z),Be=1<<ye,ot=H[ye];ot===-1?(!(Be&k)||Be&j)&&(H[ye]=Qu(Be,M)):ot<=M&&(w.expiredLanes|=Be),Z&=~Be}}function ef(w){return w=w.pendingLanes&-1073741825,w!==0?w:w&1073741824?1073741824:0}function Gc(w){for(var M=[],k=0;31>k;k++)M.push(w);return M}function ql(w,M,k){w.pendingLanes|=M,M!==536870912&&(w.suspendedLanes=0,w.pingedLanes=0),w=w.eventTimes,M=31-mr(M),w[M]=k}function Ip(w,M){var k=w.pendingLanes&~M;w.pendingLanes=M,w.suspendedLanes=0,w.pingedLanes=0,w.expiredLanes&=M,w.mutableReadLanes&=M,w.entangledLanes&=M,M=w.entanglements;var j=w.eventTimes;for(w=w.expirationTimes;0<k;){var H=31-mr(k),Z=1<<H;M[H]=0,j[H]=-1,w[H]=-1,k&=~Z}}function Yl(w,M){var k=w.entangledLanes|=M;for(w=w.entanglements;k;){var j=31-mr(k),H=1<<j;H&M|w[j]&M&&(w[j]|=M),k&=~H}}var _n=0;function Md(w){return w&=-w,1<w?4<w?w&268435455?16:536870912:4:1}var Ed=i.unstable_scheduleCallback,hn=i.unstable_cancelCallback,Yo=i.unstable_shouldYield,pr=i.unstable_requestPaint,oi=i.unstable_now,tf=i.unstable_ImmediatePriority,Td=i.unstable_UserBlockingPriority,nf=i.unstable_NormalPriority,Qa=i.unstable_IdlePriority,Xc=null,Ui=null;function Ri(w){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(Xc,w,void 0,(w.current.flags&128)===128)}catch{}}function Kl(w,M){return w===M&&(w!==0||1/w===1/M)||w!==w&&M!==M}var ue=typeof Object.is=="function"?Object.is:Kl,qe=null,dt=!1,Vt=!1;function ti(w){qe===null?qe=[w]:qe.push(w)}function yo(w){dt=!0,ti(w)}function ai(){if(!Vt&&qe!==null){Vt=!0;var w=0,M=_n;try{var k=qe;for(_n=1;w<k.length;w++){var j=k[w];do j=j(!0);while(j!==null)}qe=null,dt=!1}catch(H){throw qe!==null&&(qe=qe.slice(w+1)),Ed(tf,ai),H}finally{_n=M,Vt=!1}}return null}var ln=s.ReactCurrentBatchConfig;function rf(w,M){if(ue(w,M))return!0;if(typeof w!="object"||w===null||typeof M!="object"||M===null)return!1;var k=Object.keys(w),j=Object.keys(M);if(k.length!==j.length)return!1;for(j=0;j<k.length;j++){var H=k[j];if(!Vn.call(M,H)||!ue(w[H],M[H]))return!1}return!0}function Wi(w){switch(w.tag){case 5:return Kt(w.type);case 16:return Kt("Lazy");case 13:return Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 2:case 15:return w=Wt(w.type,!1),w;case 11:return w=Wt(w.type.render,!1),w;case 1:return w=Wt(w.type,!0),w;default:return""}}function Vi(w,M){if(w&&w.defaultProps){M=o({},M),w=w.defaultProps;for(var k in w)M[k]===void 0&&(M[k]=w[k]);return M}return M}var qc=hr(null),of=null,es=null,Yc=null;function pv(){Yc=es=of=null}function WM(w,M,k){xe?(Ct(qc,M._currentValue),M._currentValue=k):(Ct(qc,M._currentValue2),M._currentValue2=k)}function db(w){var M=qc.current;gt(qc),xe?w._currentValue=M:w._currentValue2=M}function Dp(w,M,k){for(;w!==null;){var j=w.alternate;if((w.childLanes&M)!==M?(w.childLanes|=M,j!==null&&(j.childLanes|=M)):j!==null&&(j.childLanes&M)!==M&&(j.childLanes|=M),w===k)break;w=w.return}}function Ad(w,M){of=w,Yc=es=null,w=w.dependencies,w!==null&&w.firstContext!==null&&(w.lanes&M&&(Rs=!0),w.firstContext=null)}function si(w){var M=xe?w._currentValue:w._currentValue2;if(Yc!==w)if(w={context:w,memoizedValue:M,next:null},es===null){if(of===null)throw Error(a(308));es=w,of.dependencies={lanes:0,firstContext:w}}else es=es.next=w;return M}var ol=null,Zl=!1;function al(w){w.updateQueue={baseState:w.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hb(w,M){w=w.updateQueue,M.updateQueue===w&&(M.updateQueue={baseState:w.baseState,firstBaseUpdate:w.firstBaseUpdate,lastBaseUpdate:w.lastBaseUpdate,shared:w.shared,effects:w.effects})}function sl(w,M){return{eventTime:w,lane:M,tag:0,payload:null,callback:null,next:null}}function ll(w,M){var k=w.updateQueue;k!==null&&(k=k.shared,Gi!==null&&w.mode&1&&!(zn&2)?(w=k.interleaved,w===null?(M.next=M,ol===null?ol=[k]:ol.push(k)):(M.next=w.next,w.next=M),k.interleaved=M):(w=k.pending,w===null?M.next=M:(M.next=w.next,w.next=M),k.pending=M))}function mv(w,M,k){if(M=M.updateQueue,M!==null&&(M=M.shared,(k&4194240)!==0)){var j=M.lanes;j&=w.pendingLanes,k|=j,M.lanes=k,Yl(w,k)}}function pb(w,M){var k=w.updateQueue,j=w.alternate;if(j!==null&&(j=j.updateQueue,k===j)){var H=null,Z=null;if(k=k.firstBaseUpdate,k!==null){do{var ye={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};Z===null?H=Z=ye:Z=Z.next=ye,k=k.next}while(k!==null);Z===null?H=Z=M:Z=Z.next=M}else H=Z=M;k={baseState:j.baseState,firstBaseUpdate:H,lastBaseUpdate:Z,shared:j.shared,effects:j.effects},w.updateQueue=k;return}w=k.lastBaseUpdate,w===null?k.firstBaseUpdate=M:w.next=M,k.lastBaseUpdate=M}function jp(w,M,k,j){var H=w.updateQueue;Zl=!1;var Z=H.firstBaseUpdate,ye=H.lastBaseUpdate,Be=H.shared.pending;if(Be!==null){H.shared.pending=null;var ot=Be,Mt=ot.next;ot.next=null,ye===null?Z=Mt:ye.next=Mt,ye=ot;var Ht=w.alternate;Ht!==null&&(Ht=Ht.updateQueue,Be=Ht.lastBaseUpdate,Be!==ye&&(Be===null?Ht.firstBaseUpdate=Mt:Be.next=Mt,Ht.lastBaseUpdate=ot))}if(Z!==null){var wn=H.baseState;ye=0,Ht=Mt=ot=null,Be=Z;do{var on=Be.lane,kr=Be.eventTime;if((j&on)===on){Ht!==null&&(Ht=Ht.next={eventTime:kr,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var en=w,Qo=Be;switch(on=M,kr=k,Qo.tag){case 1:if(en=Qo.payload,typeof en=="function"){wn=en.call(kr,wn,on);break e}wn=en;break e;case 3:en.flags=en.flags&-65537|128;case 0:if(en=Qo.payload,on=typeof en=="function"?en.call(kr,wn,on):en,on==null)break e;wn=o({},wn,on);break e;case 2:Zl=!0}}Be.callback!==null&&Be.lane!==0&&(w.flags|=64,on=H.effects,on===null?H.effects=[Be]:on.push(Be))}else kr={eventTime:kr,lane:on,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},Ht===null?(Mt=Ht=kr,ot=wn):Ht=Ht.next=kr,ye|=on;if(Be=Be.next,Be===null){if(Be=H.shared.pending,Be===null)break;on=Be,Be=on.next,on.next=null,H.lastBaseUpdate=on,H.shared.pending=null}}while(!0);if(Ht===null&&(ot=wn),H.baseState=ot,H.firstBaseUpdate=Mt,H.lastBaseUpdate=Ht,M=H.shared.interleaved,M!==null){H=M;do ye|=H.lane,H=H.next;while(H!==M)}else Z===null&&(H.shared.lanes=0);Tv|=ye,w.lanes=ye,w.memoizedState=wn}}function VM(w,M,k){if(w=M.effects,M.effects=null,w!==null)for(M=0;M<w.length;M++){var j=w[M],H=j.callback;if(H!==null){if(j.callback=null,j=k,typeof H!="function")throw Error(a(191,H));H.call(j)}}}var HM=new r.Component().refs;function Bp(w,M,k,j){M=w.memoizedState,k=k(j,M),k=k==null?M:o({},M,k),w.memoizedState=k,w.lanes===0&&(w.updateQueue.baseState=k)}var gv={isMounted:function(w){return(w=w._reactInternals)?O(w)===w:!1},enqueueSetState:function(w,M,k){w=w._reactInternals;var j=La(),H=Fd(w),Z=sl(j,H);Z.payload=M,k!=null&&(Z.callback=k),ll(w,Z),M=dl(w,H,j),M!==null&&mv(M,w,H)},enqueueReplaceState:function(w,M,k){w=w._reactInternals;var j=La(),H=Fd(w),Z=sl(j,H);Z.tag=1,Z.payload=M,k!=null&&(Z.callback=k),ll(w,Z),M=dl(w,H,j),M!==null&&mv(M,w,H)},enqueueForceUpdate:function(w,M){w=w._reactInternals;var k=La(),j=Fd(w),H=sl(k,j);H.tag=2,M!=null&&(H.callback=M),ll(w,H),M=dl(w,j,k),M!==null&&mv(M,w,j)}};function mb(w,M,k,j,H,Z,ye){return w=w.stateNode,typeof w.shouldComponentUpdate=="function"?w.shouldComponentUpdate(j,Z,ye):M.prototype&&M.prototype.isPureReactComponent?!rf(k,j)||!rf(H,Z):!0}function gb(w,M,k){var j=!1,H=tn,Z=M.contextType;return typeof Z=="object"&&Z!==null?Z=si(Z):(H=On(M)?Er:Dt.current,j=M.contextTypes,Z=(j=j!=null)?Tr(w,H):tn),M=new M(k,Z),w.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=gv,w.stateNode=M,M._reactInternals=w,j&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=H,w.__reactInternalMemoizedMaskedChildContext=Z),M}function zp(w,M,k,j){w=M.state,typeof M.componentWillReceiveProps=="function"&&M.componentWillReceiveProps(k,j),typeof M.UNSAFE_componentWillReceiveProps=="function"&&M.UNSAFE_componentWillReceiveProps(k,j),M.state!==w&&gv.enqueueReplaceState(M,M.state,null)}function Jl(w,M,k,j){var H=w.stateNode;H.props=k,H.state=w.memoizedState,H.refs=HM,al(w);var Z=M.contextType;typeof Z=="object"&&Z!==null?H.context=si(Z):(Z=On(M)?Er:Dt.current,H.context=Tr(w,Z)),H.state=w.memoizedState,Z=M.getDerivedStateFromProps,typeof Z=="function"&&(Bp(w,M,Z,k),H.state=w.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(M=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),M!==H.state&&gv.enqueueReplaceState(H,H.state,null),jp(w,k,H,j),H.state=w.memoizedState),typeof H.componentDidMount=="function"&&(w.flags|=4194308)}var Cd=[],cl=0,Lo=null,$p=0,Ea=[],ts=0,Ql=null,As=1,ec="";function af(w,M){Cd[cl++]=$p,Cd[cl++]=Lo,Lo=w,$p=M}function vb(w,M,k){Ea[ts++]=As,Ea[ts++]=ec,Ea[ts++]=Ql,Ql=w;var j=As;w=ec;var H=32-mr(j)-1;j&=~(1<<H),k+=1;var Z=32-mr(M)+H;if(30<Z){var ye=H-H%5;Z=(j&(1<<ye)-1).toString(32),j>>=ye,H-=ye,As=1<<32-mr(M)+H|k<<H|j,ec=Z+w}else As=1<<Z|k<<H|j,ec=w}function yb(w){w.return!==null&&(af(w,1),vb(w,1,0))}function Ta(w){for(;w===Lo;)Lo=Cd[--cl],Cd[cl]=null,$p=Cd[--cl],Cd[cl]=null;for(;w===Ql;)Ql=Ea[--ts],Ea[ts]=null,ec=Ea[--ts],Ea[ts]=null,As=Ea[--ts],Ea[ts]=null}var Hi=null,Aa=null,tr=!1,Fp=!1,xo=null;function GM(w,M){var k=hl(5,null,null,0);k.elementType="DELETED",k.stateNode=M,k.return=w,M=w.deletions,M===null?(w.deletions=[k],w.flags|=16):M.push(k)}function Pd(w,M){switch(w.tag){case 5:return M=nt(M,w.type,w.pendingProps),M!==null?(w.stateNode=M,Hi=w,Aa=Yt(M),!0):!1;case 6:return M=Pt(M,w.pendingProps),M!==null?(w.stateNode=M,Hi=w,Aa=null,!0):!1;case 13:if(M=Rt(M),M!==null){var k=Ql!==null?{id:As,overflow:ec}:null;return w.memoizedState={dehydrated:M,treeContext:k,retryLane:1073741824},k=hl(18,null,null,0),k.stateNode=M,k.return=w,w.child=k,Hi=w,Aa=null,!0}return!1;default:return!1}}function vv(w){return(w.mode&1)!==0&&(w.flags&128)===0}function Rd(w){if(tr){var M=Aa;if(M){var k=M;if(!Pd(w,M)){if(vv(w))throw Error(a(418));M=yt(k);var j=Hi;M&&Pd(w,M)?GM(j,k):(w.flags=w.flags&-4097|2,tr=!1,Hi=w)}}else{if(vv(w))throw Error(a(418));w.flags=w.flags&-4097|2,tr=!1,Hi=w}}}function XM(w){for(w=w.return;w!==null&&w.tag!==5&&w.tag!==3&&w.tag!==13;)w=w.return;Hi=w}function ns(w){if(!Ce||w!==Hi)return!1;if(!tr)return XM(w),tr=!0,!1;if(w.tag!==3&&(w.tag!==5||_t(w.type)&&!oe(w.type,w.memoizedProps))){var M=Aa;if(M){if(vv(w)){for(w=Aa;w;)w=yt(w);throw Error(a(418))}for(;M;)GM(w,M),M=yt(M)}}if(XM(w),w.tag===13){if(!Ce)throw Error(a(316));if(w=w.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(a(317));Aa=se(w)}else Aa=Hi?yt(w.stateNode):null;return!0}function tc(){Ce&&(Aa=Hi=null,Fp=tr=!1)}function xb(w){xo===null?xo=[w]:xo.push(w)}function sf(w,M,k){if(w=k.ref,w!==null&&typeof w!="function"&&typeof w!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(a(309));var j=k.stateNode}if(!j)throw Error(a(147,w));var H=j,Z=""+w;return M!==null&&M.ref!==null&&typeof M.ref=="function"&&M.ref._stringRef===Z?M.ref:(M=function(ye){var Be=H.refs;Be===HM&&(Be=H.refs={}),ye===null?delete Be[Z]:Be[Z]=ye},M._stringRef=Z,M)}if(typeof w!="string")throw Error(a(284));if(!k._owner)throw Error(a(290,w))}return w}function yv(w,M){throw w=Object.prototype.toString.call(M),Error(a(31,w==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":w))}function ul(w){var M=w._init;return M(w._payload)}function qM(w){function M(Je,Fe){if(w){var tt=Je.deletions;tt===null?(Je.deletions=[Fe],Je.flags|=16):tt.push(Fe)}}function k(Je,Fe){if(!w)return null;for(;Fe!==null;)M(Je,Fe),Fe=Fe.sibling;return null}function j(Je,Fe){for(Je=new Map;Fe!==null;)Fe.key!==null?Je.set(Fe.key,Fe):Je.set(Fe.index,Fe),Fe=Fe.sibling;return Je}function H(Je,Fe){return Je=Wd(Je,Fe),Je.index=0,Je.sibling=null,Je}function Z(Je,Fe,tt){return Je.index=tt,w?(tt=Je.alternate,tt!==null?(tt=tt.index,tt<Fe?(Je.flags|=2,Fe):tt):(Je.flags|=2,Fe)):(Je.flags|=1048576,Fe)}function ye(Je){return w&&Je.alternate===null&&(Je.flags|=2),Je}function Be(Je,Fe,tt,jt){return Fe===null||Fe.tag!==6?(Fe=q3(tt,Je.mode,jt),Fe.return=Je,Fe):(Fe=H(Fe,tt),Fe.return=Je,Fe)}function ot(Je,Fe,tt,jt){var Jt=tt.type;return Jt===u?Ht(Je,Fe,tt.props.children,jt,tt.key):Fe!==null&&(Fe.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===x&&ul(Jt)===Fe.type)?(jt=H(Fe,tt.props),jt.ref=sf(Je,Fe,tt),jt.return=Je,jt):(jt=SE(tt.type,tt.key,tt.props,null,Je.mode,jt),jt.ref=sf(Je,Fe,tt),jt.return=Je,jt)}function Mt(Je,Fe,tt,jt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==tt.containerInfo||Fe.stateNode.implementation!==tt.implementation?(Fe=Y3(tt,Je.mode,jt),Fe.return=Je,Fe):(Fe=H(Fe,tt.children||[]),Fe.return=Je,Fe)}function Ht(Je,Fe,tt,jt,Jt){return Fe===null||Fe.tag!==7?(Fe=Qp(tt,Je.mode,jt,Jt),Fe.return=Je,Fe):(Fe=H(Fe,tt),Fe.return=Je,Fe)}function wn(Je,Fe,tt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Fe=q3(""+Fe,Je.mode,tt),Fe.return=Je,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return tt=SE(Fe.type,Fe.key,Fe.props,null,Je.mode,tt),tt.ref=sf(Je,null,Fe),tt.return=Je,tt;case c:return Fe=Y3(Fe,Je.mode,tt),Fe.return=Je,Fe;case x:var jt=Fe._init;return wn(Je,jt(Fe._payload),tt)}if(F(Fe)||C(Fe))return Fe=Qp(Fe,Je.mode,tt,null),Fe.return=Je,Fe;yv(Je,Fe)}return null}function on(Je,Fe,tt,jt){var Jt=Fe!==null?Fe.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number")return Jt!==null?null:Be(Je,Fe,""+tt,jt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case l:return tt.key===Jt?ot(Je,Fe,tt,jt):null;case c:return tt.key===Jt?Mt(Je,Fe,tt,jt):null;case x:return Jt=tt._init,on(Je,Fe,Jt(tt._payload),jt)}if(F(tt)||C(tt))return Jt!==null?null:Ht(Je,Fe,tt,jt,null);yv(Je,tt)}return null}function kr(Je,Fe,tt,jt,Jt){if(typeof jt=="string"&&jt!==""||typeof jt=="number")return Je=Je.get(tt)||null,Be(Fe,Je,""+jt,Jt);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case l:return Je=Je.get(jt.key===null?tt:jt.key)||null,ot(Fe,Je,jt,Jt);case c:return Je=Je.get(jt.key===null?tt:jt.key)||null,Mt(Fe,Je,jt,Jt);case x:var Nn=jt._init;return kr(Je,Fe,tt,Nn(jt._payload),Jt)}if(F(jt)||C(jt))return Je=Je.get(tt)||null,Ht(Fe,Je,jt,Jt,null);yv(Fe,jt)}return null}function en(Je,Fe,tt,jt){for(var Jt=null,Nn=null,Sn=Fe,ar=Fe=0,_o=null;Sn!==null&&ar<tt.length;ar++){Sn.index>ar?(_o=Sn,Sn=null):_o=Sn.sibling;var sr=on(Je,Sn,tt[ar],jt);if(sr===null){Sn===null&&(Sn=_o);break}w&&Sn&&sr.alternate===null&&M(Je,Sn),Fe=Z(sr,Fe,ar),Nn===null?Jt=sr:Nn.sibling=sr,Nn=sr,Sn=_o}if(ar===tt.length)return k(Je,Sn),tr&&af(Je,ar),Jt;if(Sn===null){for(;ar<tt.length;ar++)Sn=wn(Je,tt[ar],jt),Sn!==null&&(Fe=Z(Sn,Fe,ar),Nn===null?Jt=Sn:Nn.sibling=Sn,Nn=Sn);return tr&&af(Je,ar),Jt}for(Sn=j(Je,Sn);ar<tt.length;ar++)_o=kr(Sn,Je,ar,tt[ar],jt),_o!==null&&(w&&_o.alternate!==null&&Sn.delete(_o.key===null?ar:_o.key),Fe=Z(_o,Fe,ar),Nn===null?Jt=_o:Nn.sibling=_o,Nn=_o);return w&&Sn.forEach(function(Vd){return M(Je,Vd)}),tr&&af(Je,ar),Jt}function Qo(Je,Fe,tt,jt){var Jt=C(tt);if(typeof Jt!="function")throw Error(a(150));if(tt=Jt.call(tt),tt==null)throw Error(a(151));for(var Nn=Jt=null,Sn=Fe,ar=Fe=0,_o=null,sr=tt.next();Sn!==null&&!sr.done;ar++,sr=tt.next()){Sn.index>ar?(_o=Sn,Sn=null):_o=Sn.sibling;var Vd=on(Je,Sn,sr.value,jt);if(Vd===null){Sn===null&&(Sn=_o);break}w&&Sn&&Vd.alternate===null&&M(Je,Sn),Fe=Z(Vd,Fe,ar),Nn===null?Jt=Vd:Nn.sibling=Vd,Nn=Vd,Sn=_o}if(sr.done)return k(Je,Sn),tr&&af(Je,ar),Jt;if(Sn===null){for(;!sr.done;ar++,sr=tt.next())sr=wn(Je,sr.value,jt),sr!==null&&(Fe=Z(sr,Fe,ar),Nn===null?Jt=sr:Nn.sibling=sr,Nn=sr);return tr&&af(Je,ar),Jt}for(Sn=j(Je,Sn);!sr.done;ar++,sr=tt.next())sr=kr(Sn,Je,ar,sr.value,jt),sr!==null&&(w&&sr.alternate!==null&&Sn.delete(sr.key===null?ar:sr.key),Fe=Z(sr,Fe,ar),Nn===null?Jt=sr:Nn.sibling=sr,Nn=sr);return w&&Sn.forEach(function(G0e){return M(Je,G0e)}),tr&&af(Je,ar),Jt}function pl(Je,Fe,tt,jt){if(typeof tt=="object"&&tt!==null&&tt.type===u&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case l:e:{for(var Jt=tt.key,Nn=Fe;Nn!==null;){if(Nn.key===Jt){if(Jt=tt.type,Jt===u){if(Nn.tag===7){k(Je,Nn.sibling),Fe=H(Nn,tt.props.children),Fe.return=Je,Je=Fe;break e}}else if(Nn.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===x&&ul(Jt)===Nn.type){k(Je,Nn.sibling),Fe=H(Nn,tt.props),Fe.ref=sf(Je,Nn,tt),Fe.return=Je,Je=Fe;break e}k(Je,Nn);break}else M(Je,Nn);Nn=Nn.sibling}tt.type===u?(Fe=Qp(tt.props.children,Je.mode,jt,tt.key),Fe.return=Je,Je=Fe):(jt=SE(tt.type,tt.key,tt.props,null,Je.mode,jt),jt.ref=sf(Je,Fe,tt),jt.return=Je,Je=jt)}return ye(Je);case c:e:{for(Nn=tt.key;Fe!==null;){if(Fe.key===Nn)if(Fe.tag===4&&Fe.stateNode.containerInfo===tt.containerInfo&&Fe.stateNode.implementation===tt.implementation){k(Je,Fe.sibling),Fe=H(Fe,tt.children||[]),Fe.return=Je,Je=Fe;break e}else{k(Je,Fe);break}else M(Je,Fe);Fe=Fe.sibling}Fe=Y3(tt,Je.mode,jt),Fe.return=Je,Je=Fe}return ye(Je);case x:return Nn=tt._init,pl(Je,Fe,Nn(tt._payload),jt)}if(F(tt))return en(Je,Fe,tt,jt);if(C(tt))return Qo(Je,Fe,tt,jt);yv(Je,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"?(tt=""+tt,Fe!==null&&Fe.tag===6?(k(Je,Fe.sibling),Fe=H(Fe,tt),Fe.return=Je,Je=Fe):(k(Je,Fe),Fe=q3(tt,Je.mode,jt),Fe.return=Je,Je=Fe),ye(Je)):k(Je,Fe)}return pl}var Cs=qM(!0),YM=qM(!1),Ca={},ko=hr(Ca),Od=hr(Ca),Kc=hr(Ca);function Pa(w){if(w===Ca)throw Error(a(174));return w}function Up(w,M){Ct(Kc,M),Ct(Od,w),Ct(ko,Ca),w=X(M),gt(ko),Ct(ko,w)}function nc(){gt(ko),gt(Od),gt(Kc)}function lf(w){var M=Pa(Kc.current),k=Pa(ko.current);M=B(k,w.type,M),k!==M&&(Ct(Od,w),Ct(ko,M))}function Ld(w){Od.current===w&&(gt(ko),gt(Od))}var Lr=hr(0);function Wp(w){for(var M=w;M!==null;){if(M.tag===13){var k=M.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||Xt(k)||sn(k)))return M}else if(M.tag===19&&M.memoizedProps.revealOrder!==void 0){if(M.flags&128)return M}else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===w)break;for(;M.sibling===null;){if(M.return===null||M.return===w)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}return null}var bb=[];function kd(){for(var w=0;w<bb.length;w++){var M=bb[w];xe?M._workInProgressVersionPrimary=null:M._workInProgressVersionSecondary=null}bb.length=0}var xv=s.ReactCurrentDispatcher,Ra=s.ReactCurrentBatchConfig,Nd=0,Gr=null,bo=null,yr=null,cf=!1,Vp=!1,Zc=0,w3=0;function io(){throw Error(a(321))}function _b(w,M){if(M===null)return!1;for(var k=0;k<M.length&&k<w.length;k++)if(!ue(w[k],M[k]))return!1;return!0}function uf(w,M,k,j,H,Z){if(Nd=Z,Gr=M,M.memoizedState=null,M.updateQueue=null,M.lanes=0,xv.current=w===null||w.memoizedState===null?cn:kn,w=k(j,H),Vp){Z=0;do{if(Vp=!1,Zc=0,25<=Z)throw Error(a(301));Z+=1,yr=bo=null,M.updateQueue=null,xv.current=No,w=k(j,H)}while(Vp)}if(xv.current=kt,M=bo!==null&&bo.next!==null,Nd=0,yr=bo=Gr=null,cf=!1,M)throw Error(a(300));return w}function wb(){var w=Zc!==0;return Zc=0,w}function Ko(){var w={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Gr.memoizedState=yr=w:yr=yr.next=w,yr}function Ps(){if(bo===null){var w=Gr.alternate;w=w!==null?w.memoizedState:null}else w=bo.next;var M=yr===null?Gr.memoizedState:yr.next;if(M!==null)yr=M,bo=w;else{if(w===null)throw Error(a(310));bo=w,w={memoizedState:bo.memoizedState,baseState:bo.baseState,baseQueue:bo.baseQueue,queue:bo.queue,next:null},yr===null?Gr.memoizedState=yr=w:yr=yr.next=w}return yr}function Jc(w,M){return typeof M=="function"?M(w):M}function bv(w){var M=Ps(),k=M.queue;if(k===null)throw Error(a(311));k.lastRenderedReducer=w;var j=bo,H=j.baseQueue,Z=k.pending;if(Z!==null){if(H!==null){var ye=H.next;H.next=Z.next,Z.next=ye}j.baseQueue=H=Z,k.pending=null}if(H!==null){Z=H.next,j=j.baseState;var Be=ye=null,ot=null,Mt=Z;do{var Ht=Mt.lane;if((Nd&Ht)===Ht)ot!==null&&(ot=ot.next={lane:0,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),j=Mt.hasEagerState?Mt.eagerState:w(j,Mt.action);else{var wn={lane:Ht,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null};ot===null?(Be=ot=wn,ye=j):ot=ot.next=wn,Gr.lanes|=Ht,Tv|=Ht}Mt=Mt.next}while(Mt!==null&&Mt!==Z);ot===null?ye=j:ot.next=Be,ue(j,M.memoizedState)||(Rs=!0),M.memoizedState=j,M.baseState=ye,M.baseQueue=ot,k.lastRenderedState=j}if(w=k.interleaved,w!==null){H=w;do Z=H.lane,Gr.lanes|=Z,Tv|=Z,H=H.next;while(H!==w)}else H===null&&(k.lanes=0);return[M.memoizedState,k.dispatch]}function rs(w){var M=Ps(),k=M.queue;if(k===null)throw Error(a(311));k.lastRenderedReducer=w;var j=k.dispatch,H=k.pending,Z=M.memoizedState;if(H!==null){k.pending=null;var ye=H=H.next;do Z=w(Z,ye.action),ye=ye.next;while(ye!==H);ue(Z,M.memoizedState)||(Rs=!0),M.memoizedState=Z,M.baseQueue===null&&(M.baseState=Z),k.lastRenderedState=Z}return[Z,j]}function Sb(){}function Mb(w,M){var k=Gr,j=Ps(),H=M(),Z=!ue(j.memoizedState,H);if(Z&&(j.memoizedState=H,Rs=!0),j=j.queue,Bd(Hp.bind(null,k,j,w),[w]),j.getSnapshot!==M||Z||yr!==null&&yr.memoizedState.tag&1){if(k.flags|=2048,jd(9,KM.bind(null,k,j,H,M),void 0,null),Gi===null)throw Error(a(349));Nd&30||Id(k,M,H)}return H}function Id(w,M,k){w.flags|=16384,w={getSnapshot:M,value:k},M=Gr.updateQueue,M===null?(M={lastEffect:null,stores:null},Gr.updateQueue=M,M.stores=[w]):(k=M.stores,k===null?M.stores=[w]:k.push(w))}function KM(w,M,k,j){M.value=k,M.getSnapshot=j,Dd(M)&&dl(w,1,-1)}function Hp(w,M,k){return k(function(){Dd(M)&&dl(w,1,-1)})}function Dd(w){var M=w.getSnapshot;w=w.value;try{var k=M();return!ue(w,k)}catch{return!0}}function _v(w){var M=Ko();return typeof w=="function"&&(w=w()),M.memoizedState=M.baseState=w,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:w},M.queue=w,w=w.dispatch=ie.bind(null,Gr,w),[M.memoizedState,w]}function jd(w,M,k,j){return w={tag:w,create:M,destroy:k,deps:j,next:null},M=Gr.updateQueue,M===null?(M={lastEffect:null,stores:null},Gr.updateQueue=M,M.lastEffect=w.next=w):(k=M.lastEffect,k===null?M.lastEffect=w.next=w:(j=k.next,k.next=w,w.next=j,M.lastEffect=w)),w}function ZM(){return Ps().memoizedState}function Gp(w,M,k,j){var H=Ko();Gr.flags|=w,H.memoizedState=jd(1|M,k,void 0,j===void 0?null:j)}function Xp(w,M,k,j){var H=Ps();j=j===void 0?null:j;var Z=void 0;if(bo!==null){var ye=bo.memoizedState;if(Z=ye.destroy,j!==null&&_b(j,ye.deps)){H.memoizedState=jd(M,k,Z,j);return}}Gr.flags|=w,H.memoizedState=jd(1|M,k,Z,j)}function wv(w,M){return Gp(8390656,8,w,M)}function Bd(w,M){return Xp(2048,8,w,M)}function Eb(w,M){return Xp(4,2,w,M)}function JM(w,M){return Xp(4,4,w,M)}function Tb(w,M){if(typeof M=="function")return w=w(),M(w),function(){M(null)};if(M!=null)return w=w(),M.current=w,function(){M.current=null}}function Ab(w,M,k){return k=k!=null?k.concat([w]):null,Xp(4,4,Tb.bind(null,M,w),k)}function Cb(){}function p(w,M){var k=Ps();M=M===void 0?null:M;var j=k.memoizedState;return j!==null&&M!==null&&_b(M,j[1])?j[0]:(k.memoizedState=[w,M],w)}function E(w,M){var k=Ps();M=M===void 0?null:M;var j=k.memoizedState;return j!==null&&M!==null&&_b(M,j[1])?j[0]:(w=w(),k.memoizedState=[w,M],w)}function R(w,M){var k=_n;_n=k!==0&&4>k?k:4,w(!0);var j=Ra.transition;Ra.transition={};try{w(!1),M()}finally{_n=k,Ra.transition=j}}function $(){return Ps().memoizedState}function K(w,M,k){var j=Fd(w);k={lane:j,action:k,hasEagerState:!1,eagerState:null,next:null},Me(w)?Ge(M,k):(Qe(w,M,k),k=La(),w=dl(w,j,k),w!==null&&xt(w,M,j))}function ie(w,M,k){var j=Fd(w),H={lane:j,action:k,hasEagerState:!1,eagerState:null,next:null};if(Me(w))Ge(M,H);else{Qe(w,M,H);var Z=w.alternate;if(w.lanes===0&&(Z===null||Z.lanes===0)&&(Z=M.lastRenderedReducer,Z!==null))try{var ye=M.lastRenderedState,Be=Z(ye,k);if(H.hasEagerState=!0,H.eagerState=Be,ue(Be,ye))return}catch{}finally{}k=La(),w=dl(w,j,k),w!==null&&xt(w,M,j)}}function Me(w){var M=w.alternate;return w===Gr||M!==null&&M===Gr}function Ge(w,M){Vp=cf=!0;var k=w.pending;k===null?M.next=M:(M.next=k.next,k.next=M),w.pending=M}function Qe(w,M,k){Gi!==null&&w.mode&1&&!(zn&2)?(w=M.interleaved,w===null?(k.next=k,ol===null?ol=[M]:ol.push(M)):(k.next=w.next,w.next=k),M.interleaved=k):(w=M.pending,w===null?k.next=k:(k.next=w.next,w.next=k),M.pending=k)}function xt(w,M,k){if(k&4194240){var j=M.lanes;j&=w.pendingLanes,k|=j,M.lanes=k,Yl(w,k)}}var kt={readContext:si,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useInsertionEffect:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useSyncExternalStore:io,useId:io,unstable_isNewReconciler:!1},cn={readContext:si,useCallback:function(w,M){return Ko().memoizedState=[w,M===void 0?null:M],w},useContext:si,useEffect:wv,useImperativeHandle:function(w,M,k){return k=k!=null?k.concat([w]):null,Gp(4194308,4,Tb.bind(null,M,w),k)},useLayoutEffect:function(w,M){return Gp(4194308,4,w,M)},useInsertionEffect:function(w,M){return Gp(4,2,w,M)},useMemo:function(w,M){var k=Ko();return M=M===void 0?null:M,w=w(),k.memoizedState=[w,M],w},useReducer:function(w,M,k){var j=Ko();return M=k!==void 0?k(M):M,j.memoizedState=j.baseState=M,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:w,lastRenderedState:M},j.queue=w,w=w.dispatch=K.bind(null,Gr,w),[j.memoizedState,w]},useRef:function(w){var M=Ko();return w={current:w},M.memoizedState=w},useState:_v,useDebugValue:Cb,useDeferredValue:function(w){var M=_v(w),k=M[0],j=M[1];return wv(function(){var H=Ra.transition;Ra.transition={};try{j(w)}finally{Ra.transition=H}},[w]),k},useTransition:function(){var w=_v(!1),M=w[0];return w=R.bind(null,w[1]),Ko().memoizedState=w,[M,w]},useMutableSource:function(){},useSyncExternalStore:function(w,M,k){var j=Gr,H=Ko();if(tr){if(k===void 0)throw Error(a(407));k=k()}else{if(k=M(),Gi===null)throw Error(a(349));Nd&30||Id(j,M,k)}H.memoizedState=k;var Z={value:k,getSnapshot:M};return H.queue=Z,wv(Hp.bind(null,j,Z,w),[w]),j.flags|=2048,jd(9,KM.bind(null,j,Z,k,M),void 0,null),k},useId:function(){var w=Ko(),M=Gi.identifierPrefix;if(tr){var k=ec,j=As;k=(j&~(1<<32-mr(j)-1)).toString(32)+k,M=":"+M+"R"+k,k=Zc++,0<k&&(M+="H"+k.toString(32)),M+=":"}else k=w3++,M=":"+M+"r"+k.toString(32)+":";return w.memoizedState=M},unstable_isNewReconciler:!1},kn={readContext:si,useCallback:p,useContext:si,useEffect:Bd,useImperativeHandle:Ab,useInsertionEffect:Eb,useLayoutEffect:JM,useMemo:E,useReducer:bv,useRef:ZM,useState:function(){return bv(Jc)},useDebugValue:Cb,useDeferredValue:function(w){var M=bv(Jc),k=M[0],j=M[1];return Bd(function(){var H=Ra.transition;Ra.transition={};try{j(w)}finally{Ra.transition=H}},[w]),k},useTransition:function(){var w=bv(Jc)[0],M=Ps().memoizedState;return[w,M]},useMutableSource:Sb,useSyncExternalStore:Mb,useId:$,unstable_isNewReconciler:!1},No={readContext:si,useCallback:p,useContext:si,useEffect:Bd,useImperativeHandle:Ab,useInsertionEffect:Eb,useLayoutEffect:JM,useMemo:E,useReducer:rs,useRef:ZM,useState:function(){return rs(Jc)},useDebugValue:Cb,useDeferredValue:function(w){var M=rs(Jc),k=M[0],j=M[1];return Bd(function(){var H=Ra.transition;Ra.transition={};try{j(w)}finally{Ra.transition=H}},[w]),k},useTransition:function(){var w=rs(Jc)[0],M=Ps().memoizedState;return[w,M]},useMutableSource:Sb,useSyncExternalStore:Mb,useId:$,unstable_isNewReconciler:!1};function vi(w,M){try{var k="",j=M;do k+=Wi(j),j=j.return;while(j);var H=k}catch(Z){H=`
Error generating stack: `+Z.message+`
`+Z.stack}return{value:w,source:M,stack:H}}function Zo(w,M){try{console.error(M.value)}catch(k){setTimeout(function(){throw k})}}var Jo=typeof WeakMap=="function"?WeakMap:Map;function ff(w,M,k){k=sl(-1,k),k.tag=3,k.payload={element:null};var j=M.value;return k.callback=function(){gE||(gE=!0,F3=j),Zo(w,M)},k}function QM(w,M,k){k=sl(-1,k),k.tag=3;var j=w.type.getDerivedStateFromError;if(typeof j=="function"){var H=M.value;k.payload=function(){return j(H)},k.callback=function(){Zo(w,M)}}var Z=w.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(k.callback=function(){Zo(w,M),typeof j!="function"&&(zd===null?zd=new Set([this]):zd.add(this));var ye=M.stack;this.componentDidCatch(M.value,{componentStack:ye!==null?ye:""})}),k}function eE(w,M,k){var j=w.pingCache;if(j===null){j=w.pingCache=new Jo;var H=new Set;j.set(M,H)}else H=j.get(M),H===void 0&&(H=new Set,j.set(M,H));H.has(k)||(H.add(k),w=B0e.bind(null,w,M,k),M.then(w,w))}function tE(w){do{var M;if((M=w.tag===13)&&(M=w.memoizedState,M=M!==null?M.dehydrated!==null:!0),M)return w;w=w.return}while(w!==null);return null}function Pb(w,M,k,j,H){return w.mode&1?(w.flags|=65536,w.lanes=H,w):(w===M?w.flags|=65536:(w.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(M=sl(-1,1),M.tag=2,ll(k,M))),k.lanes|=1),w)}function fl(w){w.flags|=4}function Rb(w,M){if(w!==null&&w.child===M.child)return!0;if(M.flags&16)return!1;for(w=M.child;w!==null;){if(w.flags&12854||w.subtreeFlags&12854)return!1;w=w.sibling}return!0}var $r,Qc,Sv,Mv;if(Te)$r=function(w,M){for(var k=M.child;k!==null;){if(k.tag===5||k.tag===6)Y(w,k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===M)break;for(;k.sibling===null;){if(k.return===null||k.return===M)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},Qc=function(){},Sv=function(w,M,k,j,H){if(w=w.memoizedProps,w!==j){var Z=M.stateNode,ye=Pa(ko.current);k=re(Z,k,w,j,H,ye),(M.updateQueue=k)&&fl(M)}},Mv=function(w,M,k,j){k!==j&&fl(M)};else if(ee){$r=function(w,M,k,j){for(var H=M.child;H!==null;){if(H.tag===5){var Z=H.stateNode;k&&j&&(Z=rt(Z,H.type,H.memoizedProps,H)),Y(w,Z)}else if(H.tag===6)Z=H.stateNode,k&&j&&(Z=it(Z,H.memoizedProps,H)),Y(w,Z);else if(H.tag!==4){if(H.tag===22&&H.memoizedState!==null)Z=H.child,Z!==null&&(Z.return=H),$r(w,H,!0,!0);else if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===M)break;for(;H.sibling===null;){if(H.return===null||H.return===M)return;H=H.return}H.sibling.return=H.return,H=H.sibling}};var nE=function(w,M,k,j){for(var H=M.child;H!==null;){if(H.tag===5){var Z=H.stateNode;k&&j&&(Z=rt(Z,H.type,H.memoizedProps,H)),De(w,Z)}else if(H.tag===6)Z=H.stateNode,k&&j&&(Z=it(Z,H.memoizedProps,H)),De(w,Z);else if(H.tag!==4){if(H.tag===22&&H.memoizedState!==null)Z=H.child,Z!==null&&(Z.return=H),nE(w,H,!0,!0);else if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===M)break;for(;H.sibling===null;){if(H.return===null||H.return===M)return;H=H.return}H.sibling.return=H.return,H=H.sibling}};Qc=function(w,M){var k=M.stateNode;if(!Rb(w,M)){w=k.containerInfo;var j=ct(w);nE(j,M,!1,!1),k.pendingChildren=j,fl(M),st(w,j)}},Sv=function(w,M,k,j,H){var Z=w.stateNode,ye=w.memoizedProps;if((w=Rb(w,M))&&ye===j)M.stateNode=Z;else{var Be=M.stateNode,ot=Pa(ko.current),Mt=null;ye!==j&&(Mt=re(Be,k,ye,j,H,ot)),w&&Mt===null?M.stateNode=Z:(Z=Xe(Z,Mt,k,ye,j,M,w,Be),J(Z,k,j,H,ot)&&fl(M),M.stateNode=Z,w?fl(M):$r(Z,M,!1,!1))}},Mv=function(w,M,k,j){k!==j?(w=Pa(Kc.current),k=Pa(ko.current),M.stateNode=pe(j,w,k,M),fl(M)):M.stateNode=w.stateNode}}else Qc=function(){},Sv=function(){},Mv=function(){};function df(w,M){if(!tr)switch(w.tailMode){case"hidden":M=w.tail;for(var k=null;M!==null;)M.alternate!==null&&(k=M),M=M.sibling;k===null?w.tail=null:k.sibling=null;break;case"collapsed":k=w.tail;for(var j=null;k!==null;)k.alternate!==null&&(j=k),k=k.sibling;j===null?M||w.tail===null?w.tail=null:w.tail.sibling=null:j.sibling=null}}function oo(w){var M=w.alternate!==null&&w.alternate.child===w.child,k=0,j=0;if(M)for(var H=w.child;H!==null;)k|=H.lanes|H.childLanes,j|=H.subtreeFlags&14680064,j|=H.flags&14680064,H.return=w,H=H.sibling;else for(H=w.child;H!==null;)k|=H.lanes|H.childLanes,j|=H.subtreeFlags,j|=H.flags,H.return=w,H=H.sibling;return w.subtreeFlags|=j,w.childLanes=k,M}function S3(w,M,k){var j=M.pendingProps;switch(Ta(M),M.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(M),null;case 1:return On(M.type)&&Lt(),oo(M),null;case 3:return j=M.stateNode,nc(),gt(Tn),gt(Dt),kd(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(w===null||w.child===null)&&(ns(M)?fl(M):w===null||w.memoizedState.isDehydrated&&!(M.flags&256)||(M.flags|=1024,xo!==null&&(V3(xo),xo=null))),Qc(w,M),oo(M),null;case 5:Ld(M),k=Pa(Kc.current);var H=M.type;if(w!==null&&M.stateNode!=null)Sv(w,M,H,j,k),w.ref!==M.ref&&(M.flags|=512,M.flags|=2097152);else{if(!j){if(M.stateNode===null)throw Error(a(166));return oo(M),null}if(w=Pa(ko.current),ns(M)){if(!Ce)throw Error(a(175));w=At(M.stateNode,M.type,M.memoizedProps,k,w,M,!Fp),M.updateQueue=w,w!==null&&fl(M)}else{var Z=te(H,j,k,w,M);$r(Z,M,!1,!1),M.stateNode=Z,J(Z,H,j,k,w)&&fl(M)}M.ref!==null&&(M.flags|=512,M.flags|=2097152)}return oo(M),null;case 6:if(w&&M.stateNode!=null)Mv(w,M,w.memoizedProps,j);else{if(typeof j!="string"&&M.stateNode===null)throw Error(a(166));if(w=Pa(Kc.current),k=Pa(ko.current),ns(M)){if(!Ce)throw Error(a(176));if(w=M.stateNode,j=M.memoizedProps,(k=qt(w,j,M,!Fp))&&(H=Hi,H!==null))switch(Z=(H.mode&1)!==0,H.tag){case 3:Et(H.stateNode.containerInfo,w,j,Z);break;case 5:Bt(H.type,H.memoizedProps,H.stateNode,w,j,Z)}k&&fl(M)}else M.stateNode=pe(j,w,k,M)}return oo(M),null;case 13:if(gt(Lr),j=M.memoizedState,tr&&Aa!==null&&M.mode&1&&!(M.flags&128)){for(w=Aa;w;)w=yt(w);return tc(),M.flags|=98560,M}if(j!==null&&j.dehydrated!==null){if(j=ns(M),w===null){if(!j)throw Error(a(318));if(!Ce)throw Error(a(344));if(w=M.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(a(317));gn(w,M)}else tc(),!(M.flags&128)&&(M.memoizedState=null),M.flags|=4;return oo(M),null}return xo!==null&&(V3(xo),xo=null),M.flags&128?(M.lanes=k,M):(j=j!==null,k=!1,w===null?ns(M):k=w.memoizedState!==null,j&&!k&&(M.child.flags|=8192,M.mode&1&&(w===null||Lr.current&1?ao===0&&(ao=3):G3())),M.updateQueue!==null&&(M.flags|=4),oo(M),null);case 4:return nc(),Qc(w,M),w===null&&be(M.stateNode.containerInfo),oo(M),null;case 10:return db(M.type._context),oo(M),null;case 17:return On(M.type)&&Lt(),oo(M),null;case 19:if(gt(Lr),H=M.memoizedState,H===null)return oo(M),null;if(j=(M.flags&128)!==0,Z=H.rendering,Z===null)if(j)df(H,!1);else{if(ao!==0||w!==null&&w.flags&128)for(w=M.child;w!==null;){if(Z=Wp(w),Z!==null){for(M.flags|=128,df(H,!1),w=Z.updateQueue,w!==null&&(M.updateQueue=w,M.flags|=4),M.subtreeFlags=0,w=k,j=M.child;j!==null;)k=j,H=w,k.flags&=14680066,Z=k.alternate,Z===null?(k.childLanes=0,k.lanes=H,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=Z.childLanes,k.lanes=Z.lanes,k.child=Z.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=Z.memoizedProps,k.memoizedState=Z.memoizedState,k.updateQueue=Z.updateQueue,k.type=Z.type,H=Z.dependencies,k.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext}),j=j.sibling;return Ct(Lr,Lr.current&1|2),M.child}w=w.sibling}H.tail!==null&&oi()>$3&&(M.flags|=128,j=!0,df(H,!1),M.lanes=4194304)}else{if(!j)if(w=Wp(Z),w!==null){if(M.flags|=128,j=!0,w=w.updateQueue,w!==null&&(M.updateQueue=w,M.flags|=4),df(H,!0),H.tail===null&&H.tailMode==="hidden"&&!Z.alternate&&!tr)return oo(M),null}else 2*oi()-H.renderingStartTime>$3&&k!==1073741824&&(M.flags|=128,j=!0,df(H,!1),M.lanes=4194304);H.isBackwards?(Z.sibling=M.child,M.child=Z):(w=H.last,w!==null?w.sibling=Z:M.child=Z,H.last=Z)}return H.tail!==null?(M=H.tail,H.rendering=M,H.tail=M.sibling,H.renderingStartTime=oi(),M.sibling=null,w=Lr.current,Ct(Lr,j?w&1|2:w&1),M):(oo(M),null);case 22:case 23:return H3(),j=M.memoizedState!==null,w!==null&&w.memoizedState!==null!==j&&(M.flags|=8192),j&&M.mode&1?Os&1073741824&&(oo(M),Te&&M.subtreeFlags&6&&(M.flags|=8192)):oo(M),null;case 24:return null;case 25:return null}throw Error(a(156,M.tag))}var T0e=s.ReactCurrentOwner,Rs=!1;function Oa(w,M,k,j){M.child=w===null?YM(M,null,k,j):Cs(M,w.child,k,j)}function T9(w,M,k,j,H){k=k.render;var Z=M.ref;return Ad(M,H),j=uf(w,M,k,j,Z,H),k=wb(),w!==null&&!Rs?(M.updateQueue=w.updateQueue,M.flags&=-2053,w.lanes&=~H,hf(w,M,H)):(tr&&k&&yb(M),M.flags|=1,Oa(w,M,j,H),M.child)}function A9(w,M,k,j,H){if(w===null){var Z=k.type;return typeof Z=="function"&&!X3(Z)&&Z.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(M.tag=15,M.type=Z,C9(w,M,Z,j,H)):(w=SE(k.type,null,j,M,M.mode,H),w.ref=M.ref,w.return=M,M.child=w)}if(Z=w.child,!(w.lanes&H)){var ye=Z.memoizedProps;if(k=k.compare,k=k!==null?k:rf,k(ye,j)&&w.ref===M.ref)return hf(w,M,H)}return M.flags|=1,w=Wd(Z,j),w.ref=M.ref,w.return=M,M.child=w}function C9(w,M,k,j,H){if(w!==null&&rf(w.memoizedProps,j)&&w.ref===M.ref)if(Rs=!1,(w.lanes&H)!==0)w.flags&131072&&(Rs=!0);else return M.lanes=w.lanes,hf(w,M,H);return M3(w,M,k,j,H)}function P9(w,M,k){var j=M.pendingProps,H=j.children,Z=w!==null?w.memoizedState:null;if(j.mode==="hidden")if(!(M.mode&1))M.memoizedState={baseLanes:0,cachePool:null},Ct(Ev,Os),Os|=k;else if(k&1073741824)M.memoizedState={baseLanes:0,cachePool:null},j=Z!==null?Z.baseLanes:k,Ct(Ev,Os),Os|=j;else return w=Z!==null?Z.baseLanes|k:k,M.lanes=M.childLanes=1073741824,M.memoizedState={baseLanes:w,cachePool:null},M.updateQueue=null,Ct(Ev,Os),Os|=w,null;else Z!==null?(j=Z.baseLanes|k,M.memoizedState=null):j=k,Ct(Ev,Os),Os|=j;return Oa(w,M,H,k),M.child}function R9(w,M){var k=M.ref;(w===null&&k!==null||w!==null&&w.ref!==k)&&(M.flags|=512,M.flags|=2097152)}function M3(w,M,k,j,H){var Z=On(k)?Er:Dt.current;return Z=Tr(M,Z),Ad(M,H),k=uf(w,M,k,j,Z,H),j=wb(),w!==null&&!Rs?(M.updateQueue=w.updateQueue,M.flags&=-2053,w.lanes&=~H,hf(w,M,H)):(tr&&j&&yb(M),M.flags|=1,Oa(w,M,k,H),M.child)}function O9(w,M,k,j,H){if(On(k)){var Z=!0;Xn(M)}else Z=!1;if(Ad(M,H),M.stateNode===null)w!==null&&(w.alternate=null,M.alternate=null,M.flags|=2),gb(M,k,j),Jl(M,k,j,H),j=!0;else if(w===null){var ye=M.stateNode,Be=M.memoizedProps;ye.props=Be;var ot=ye.context,Mt=k.contextType;typeof Mt=="object"&&Mt!==null?Mt=si(Mt):(Mt=On(k)?Er:Dt.current,Mt=Tr(M,Mt));var Ht=k.getDerivedStateFromProps,wn=typeof Ht=="function"||typeof ye.getSnapshotBeforeUpdate=="function";wn||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Be!==j||ot!==Mt)&&zp(M,ye,j,Mt),Zl=!1;var on=M.memoizedState;ye.state=on,jp(M,j,ye,H),ot=M.memoizedState,Be!==j||on!==ot||Tn.current||Zl?(typeof Ht=="function"&&(Bp(M,k,Ht,j),ot=M.memoizedState),(Be=Zl||mb(M,k,Be,j,on,ot,Mt))?(wn||typeof ye.UNSAFE_componentWillMount!="function"&&typeof ye.componentWillMount!="function"||(typeof ye.componentWillMount=="function"&&ye.componentWillMount(),typeof ye.UNSAFE_componentWillMount=="function"&&ye.UNSAFE_componentWillMount()),typeof ye.componentDidMount=="function"&&(M.flags|=4194308)):(typeof ye.componentDidMount=="function"&&(M.flags|=4194308),M.memoizedProps=j,M.memoizedState=ot),ye.props=j,ye.state=ot,ye.context=Mt,j=Be):(typeof ye.componentDidMount=="function"&&(M.flags|=4194308),j=!1)}else{ye=M.stateNode,hb(w,M),Be=M.memoizedProps,Mt=M.type===M.elementType?Be:Vi(M.type,Be),ye.props=Mt,wn=M.pendingProps,on=ye.context,ot=k.contextType,typeof ot=="object"&&ot!==null?ot=si(ot):(ot=On(k)?Er:Dt.current,ot=Tr(M,ot));var kr=k.getDerivedStateFromProps;(Ht=typeof kr=="function"||typeof ye.getSnapshotBeforeUpdate=="function")||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Be!==wn||on!==ot)&&zp(M,ye,j,ot),Zl=!1,on=M.memoizedState,ye.state=on,jp(M,j,ye,H);var en=M.memoizedState;Be!==wn||on!==en||Tn.current||Zl?(typeof kr=="function"&&(Bp(M,k,kr,j),en=M.memoizedState),(Mt=Zl||mb(M,k,Mt,j,on,en,ot)||!1)?(Ht||typeof ye.UNSAFE_componentWillUpdate!="function"&&typeof ye.componentWillUpdate!="function"||(typeof ye.componentWillUpdate=="function"&&ye.componentWillUpdate(j,en,ot),typeof ye.UNSAFE_componentWillUpdate=="function"&&ye.UNSAFE_componentWillUpdate(j,en,ot)),typeof ye.componentDidUpdate=="function"&&(M.flags|=4),typeof ye.getSnapshotBeforeUpdate=="function"&&(M.flags|=1024)):(typeof ye.componentDidUpdate!="function"||Be===w.memoizedProps&&on===w.memoizedState||(M.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Be===w.memoizedProps&&on===w.memoizedState||(M.flags|=1024),M.memoizedProps=j,M.memoizedState=en),ye.props=j,ye.state=en,ye.context=ot,j=Mt):(typeof ye.componentDidUpdate!="function"||Be===w.memoizedProps&&on===w.memoizedState||(M.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Be===w.memoizedProps&&on===w.memoizedState||(M.flags|=1024),j=!1)}return E3(w,M,k,j,Z,H)}function E3(w,M,k,j,H,Z){R9(w,M);var ye=(M.flags&128)!==0;if(!j&&!ye)return H&&Ln(M,k,!1),hf(w,M,Z);j=M.stateNode,T0e.current=M;var Be=ye&&typeof k.getDerivedStateFromError!="function"?null:j.render();return M.flags|=1,w!==null&&ye?(M.child=Cs(M,w.child,null,Z),M.child=Cs(M,null,Be,Z)):Oa(w,M,Be,Z),M.memoizedState=j.state,H&&Ln(M,k,!0),M.child}function L9(w){var M=w.stateNode;M.pendingContext?pn(w,M.pendingContext,M.pendingContext!==M.context):M.context&&pn(w,M.context,!1),Up(w,M.containerInfo)}function k9(w,M,k,j,H){return tc(),xb(H),M.flags|=256,Oa(w,M,k,j),M.child}var rE={dehydrated:null,treeContext:null,retryLane:0};function iE(w){return{baseLanes:w,cachePool:null}}function N9(w,M,k){var j=M.pendingProps,H=Lr.current,Z=!1,ye=(M.flags&128)!==0,Be;if((Be=ye)||(Be=w!==null&&w.memoizedState===null?!1:(H&2)!==0),Be?(Z=!0,M.flags&=-129):(w===null||w.memoizedState!==null)&&(H|=1),Ct(Lr,H&1),w===null)return Rd(M),w=M.memoizedState,w!==null&&(w=w.dehydrated,w!==null)?(M.mode&1?sn(w)?M.lanes=8:M.lanes=1073741824:M.lanes=1,null):(H=j.children,w=j.fallback,Z?(j=M.mode,Z=M.child,H={mode:"hidden",children:H},!(j&1)&&Z!==null?(Z.childLanes=0,Z.pendingProps=H):Z=ME(H,j,0,null),w=Qp(w,j,k,null),Z.return=M,w.return=M,Z.sibling=w,M.child=Z,M.child.memoizedState=iE(k),M.memoizedState=rE,w):T3(M,H));if(H=w.memoizedState,H!==null){if(Be=H.dehydrated,Be!==null){if(ye)return M.flags&256?(M.flags&=-257,oE(w,M,k,Error(a(422)))):M.memoizedState!==null?(M.child=w.child,M.flags|=128,null):(Z=j.fallback,H=M.mode,j=ME({mode:"visible",children:j.children},H,0,null),Z=Qp(Z,H,k,null),Z.flags|=2,j.return=M,Z.return=M,j.sibling=Z,M.child=j,M.mode&1&&Cs(M,w.child,null,k),M.child.memoizedState=iE(k),M.memoizedState=rE,Z);if(!(M.mode&1))M=oE(w,M,k,null);else if(sn(Be))M=oE(w,M,k,Error(a(419)));else if(j=(k&w.childLanes)!==0,Rs||j){if(j=Gi,j!==null){switch(k&-k){case 4:Z=2;break;case 16:Z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Z=32;break;case 536870912:Z=268435456;break;default:Z=0}j=Z&(j.suspendedLanes|k)?0:Z,j!==0&&j!==H.retryLane&&(H.retryLane=j,dl(w,j,-1))}G3(),M=oE(w,M,k,Error(a(421)))}else Xt(Be)?(M.flags|=128,M.child=w.child,M=z0e.bind(null,w),bt(Be,M),M=null):(k=H.treeContext,Ce&&(Aa=Zt(Be),Hi=M,tr=!0,xo=null,Fp=!1,k!==null&&(Ea[ts++]=As,Ea[ts++]=ec,Ea[ts++]=Ql,As=k.id,ec=k.overflow,Ql=M)),M=T3(M,M.pendingProps.children),M.flags|=4096);return M}return Z?(j=D9(w,M,j.children,j.fallback,k),Z=M.child,H=w.child.memoizedState,Z.memoizedState=H===null?iE(k):{baseLanes:H.baseLanes|k,cachePool:null},Z.childLanes=w.childLanes&~k,M.memoizedState=rE,j):(k=I9(w,M,j.children,k),M.memoizedState=null,k)}return Z?(j=D9(w,M,j.children,j.fallback,k),Z=M.child,H=w.child.memoizedState,Z.memoizedState=H===null?iE(k):{baseLanes:H.baseLanes|k,cachePool:null},Z.childLanes=w.childLanes&~k,M.memoizedState=rE,j):(k=I9(w,M,j.children,k),M.memoizedState=null,k)}function T3(w,M){return M=ME({mode:"visible",children:M},w.mode,0,null),M.return=w,w.child=M}function I9(w,M,k,j){var H=w.child;return w=H.sibling,k=Wd(H,{mode:"visible",children:k}),!(M.mode&1)&&(k.lanes=j),k.return=M,k.sibling=null,w!==null&&(j=M.deletions,j===null?(M.deletions=[w],M.flags|=16):j.push(w)),M.child=k}function D9(w,M,k,j,H){var Z=M.mode;w=w.child;var ye=w.sibling,Be={mode:"hidden",children:k};return!(Z&1)&&M.child!==w?(k=M.child,k.childLanes=0,k.pendingProps=Be,M.deletions=null):(k=Wd(w,Be),k.subtreeFlags=w.subtreeFlags&14680064),ye!==null?j=Wd(ye,j):(j=Qp(j,Z,H,null),j.flags|=2),j.return=M,k.return=M,k.sibling=j,M.child=k,j}function oE(w,M,k,j){return j!==null&&xb(j),Cs(M,w.child,null,k),w=T3(M,M.pendingProps.children),w.flags|=2,M.memoizedState=null,w}function j9(w,M,k){w.lanes|=M;var j=w.alternate;j!==null&&(j.lanes|=M),Dp(w.return,M,k)}function A3(w,M,k,j,H){var Z=w.memoizedState;Z===null?w.memoizedState={isBackwards:M,rendering:null,renderingStartTime:0,last:j,tail:k,tailMode:H}:(Z.isBackwards=M,Z.rendering=null,Z.renderingStartTime=0,Z.last=j,Z.tail=k,Z.tailMode=H)}function B9(w,M,k){var j=M.pendingProps,H=j.revealOrder,Z=j.tail;if(Oa(w,M,j.children,k),j=Lr.current,j&2)j=j&1|2,M.flags|=128;else{if(w!==null&&w.flags&128)e:for(w=M.child;w!==null;){if(w.tag===13)w.memoizedState!==null&&j9(w,k,M);else if(w.tag===19)j9(w,k,M);else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===M)break e;for(;w.sibling===null;){if(w.return===null||w.return===M)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}j&=1}if(Ct(Lr,j),!(M.mode&1))M.memoizedState=null;else switch(H){case"forwards":for(k=M.child,H=null;k!==null;)w=k.alternate,w!==null&&Wp(w)===null&&(H=k),k=k.sibling;k=H,k===null?(H=M.child,M.child=null):(H=k.sibling,k.sibling=null),A3(M,!1,H,k,Z);break;case"backwards":for(k=null,H=M.child,M.child=null;H!==null;){if(w=H.alternate,w!==null&&Wp(w)===null){M.child=H;break}w=H.sibling,H.sibling=k,k=H,H=w}A3(M,!0,k,null,Z);break;case"together":A3(M,!1,null,null,void 0);break;default:M.memoizedState=null}return M.child}function hf(w,M,k){if(w!==null&&(M.dependencies=w.dependencies),Tv|=M.lanes,!(k&M.childLanes))return null;if(w!==null&&M.child!==w.child)throw Error(a(153));if(M.child!==null){for(w=M.child,k=Wd(w,w.pendingProps),M.child=k,k.return=M;w.sibling!==null;)w=w.sibling,k=k.sibling=Wd(w,w.pendingProps),k.return=M;k.sibling=null}return M.child}function A0e(w,M,k){switch(M.tag){case 3:L9(M),tc();break;case 5:lf(M);break;case 1:On(M.type)&&Xn(M);break;case 4:Up(M,M.stateNode.containerInfo);break;case 10:WM(M,M.type._context,M.memoizedProps.value);break;case 13:var j=M.memoizedState;if(j!==null)return j.dehydrated!==null?(Ct(Lr,Lr.current&1),M.flags|=128,null):k&M.child.childLanes?N9(w,M,k):(Ct(Lr,Lr.current&1),w=hf(w,M,k),w!==null?w.sibling:null);Ct(Lr,Lr.current&1);break;case 19:if(j=(k&M.childLanes)!==0,w.flags&128){if(j)return B9(w,M,k);M.flags|=128}var H=M.memoizedState;if(H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),Ct(Lr,Lr.current),j)break;return null;case 22:case 23:return M.lanes=0,P9(w,M,k)}return hf(w,M,k)}function C0e(w,M){switch(Ta(M),M.tag){case 1:return On(M.type)&&Lt(),w=M.flags,w&65536?(M.flags=w&-65537|128,M):null;case 3:return nc(),gt(Tn),gt(Dt),kd(),w=M.flags,w&65536&&!(w&128)?(M.flags=w&-65537|128,M):null;case 5:return Ld(M),null;case 13:if(gt(Lr),w=M.memoizedState,w!==null&&w.dehydrated!==null){if(M.alternate===null)throw Error(a(340));tc()}return w=M.flags,w&65536?(M.flags=w&-65537|128,M):null;case 19:return gt(Lr),null;case 4:return nc(),null;case 10:return db(M.type._context),null;case 22:case 23:return H3(),null;case 24:return null;default:return null}}var aE=!1,qp=!1,P0e=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function sE(w,M){var k=w.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(j){as(w,M,j)}else k.current=null}function C3(w,M,k){try{k()}catch(j){as(w,M,j)}}var z9=!1;function R0e(w,M){for(G(w.containerInfo),Nt=M;Nt!==null;)if(w=Nt,M=w.child,(w.subtreeFlags&1028)!==0&&M!==null)M.return=w,Nt=M;else for(;Nt!==null;){w=Nt;try{var k=w.alternate;if(w.flags&1024)switch(w.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var j=k.memoizedProps,H=k.memoizedState,Z=w.stateNode,ye=Z.getSnapshotBeforeUpdate(w.elementType===w.type?j:Vi(w.type,j),H);Z.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:Te&&Re(w.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Be){as(w,w.return,Be)}if(M=w.sibling,M!==null){M.return=w.return,Nt=M;break}Nt=w.return}return k=z9,z9=!1,k}function Yp(w,M,k){var j=M.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var H=j=j.next;do{if((H.tag&w)===w){var Z=H.destroy;H.destroy=void 0,Z!==void 0&&C3(M,k,Z)}H=H.next}while(H!==j)}}function Ob(w,M){if(M=M.updateQueue,M=M!==null?M.lastEffect:null,M!==null){var k=M=M.next;do{if((k.tag&w)===w){var j=k.create;k.destroy=j()}k=k.next}while(k!==M)}}function P3(w){var M=w.ref;if(M!==null){var k=w.stateNode;switch(w.tag){case 5:w=W(k);break;default:w=k}typeof M=="function"?M(w):M.current=w}}function $9(w,M,k){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(Xc,M)}catch{}switch(M.tag){case 0:case 11:case 14:case 15:if(w=M.updateQueue,w!==null&&(w=w.lastEffect,w!==null)){var j=w=w.next;do{var H=j,Z=H.destroy;H=H.tag,Z!==void 0&&(H&2||H&4)&&C3(M,k,Z),j=j.next}while(j!==w)}break;case 1:if(sE(M,k),w=M.stateNode,typeof w.componentWillUnmount=="function")try{w.props=M.memoizedProps,w.state=M.memoizedState,w.componentWillUnmount()}catch(ye){as(M,k,ye)}break;case 5:sE(M,k);break;case 4:Te?G9(w,M,k):ee&&ee&&(M=M.stateNode.containerInfo,k=ct(M),mt(M,k))}}function F9(w,M,k){for(var j=M;;)if($9(w,j,k),j.child===null||Te&&j.tag===4){if(j===M)break;for(;j.sibling===null;){if(j.return===null||j.return===M)return;j=j.return}j.sibling.return=j.return,j=j.sibling}else j.child.return=j,j=j.child}function U9(w){var M=w.alternate;M!==null&&(w.alternate=null,U9(M)),w.child=null,w.deletions=null,w.sibling=null,w.tag===5&&(M=w.stateNode,M!==null&&He(M)),w.stateNode=null,w.return=null,w.dependencies=null,w.memoizedProps=null,w.memoizedState=null,w.pendingProps=null,w.stateNode=null,w.updateQueue=null}function W9(w){return w.tag===5||w.tag===3||w.tag===4}function V9(w){e:for(;;){for(;w.sibling===null;){if(w.return===null||W9(w.return))return null;w=w.return}for(w.sibling.return=w.return,w=w.sibling;w.tag!==5&&w.tag!==6&&w.tag!==18;){if(w.flags&2||w.child===null||w.tag===4)continue e;w.child.return=w,w=w.child}if(!(w.flags&2))return w.stateNode}}function H9(w){if(Te){e:{for(var M=w.return;M!==null;){if(W9(M))break e;M=M.return}throw Error(a(160))}var k=M;switch(k.tag){case 5:M=k.stateNode,k.flags&32&&(Ee(M),k.flags&=-33),k=V9(w),O3(w,k,M);break;case 3:case 4:M=k.stateNode.containerInfo,k=V9(w),R3(w,k,M);break;default:throw Error(a(161))}}}function R3(w,M,k){var j=w.tag;if(j===5||j===6)w=w.stateNode,M?me(k,w,M):vt(k,w);else if(j!==4&&(w=w.child,w!==null))for(R3(w,M,k),w=w.sibling;w!==null;)R3(w,M,k),w=w.sibling}function O3(w,M,k){var j=w.tag;if(j===5||j===6)w=w.stateNode,M?pt(k,w,M):et(k,w);else if(j!==4&&(w=w.child,w!==null))for(O3(w,M,k),w=w.sibling;w!==null;)O3(w,M,k),w=w.sibling}function G9(w,M,k){for(var j=M,H=!1,Z,ye;;){if(!H){H=j.return;e:for(;;){if(H===null)throw Error(a(160));switch(Z=H.stateNode,H.tag){case 5:ye=!1;break e;case 3:Z=Z.containerInfo,ye=!0;break e;case 4:Z=Z.containerInfo,ye=!0;break e}H=H.return}H=!0}if(j.tag===5||j.tag===6)F9(w,j,k),ye?le(Z,j.stateNode):Ae(Z,j.stateNode);else if(j.tag===18)ye?$e(Z,j.stateNode):je(Z,j.stateNode);else if(j.tag===4){if(j.child!==null){Z=j.stateNode.containerInfo,ye=!0,j.child.return=j,j=j.child;continue}}else if($9(w,j,k),j.child!==null){j.child.return=j,j=j.child;continue}if(j===M)break;for(;j.sibling===null;){if(j.return===null||j.return===M)return;j=j.return,j.tag===4&&(H=!1)}j.sibling.return=j.return,j=j.sibling}}function L3(w,M){if(Te){switch(M.tag){case 0:case 11:case 14:case 15:Yp(3,M,M.return),Ob(3,M),Yp(5,M,M.return);return;case 1:return;case 5:var k=M.stateNode;if(k!=null){var j=M.memoizedProps;w=w!==null?w.memoizedProps:j;var H=M.type,Z=M.updateQueue;M.updateQueue=null,Z!==null&&at(k,Z,H,w,j,M)}return;case 6:if(M.stateNode===null)throw Error(a(162));k=M.memoizedProps,ke(M.stateNode,w!==null?w.memoizedProps:k,k);return;case 3:Ce&&w!==null&&w.memoizedState.isDehydrated&&Pe(M.stateNode.containerInfo);return;case 12:return;case 13:lE(M);return;case 19:lE(M);return;case 17:return}throw Error(a(163))}switch(M.tag){case 0:case 11:case 14:case 15:Yp(3,M,M.return),Ob(3,M),Yp(5,M,M.return);return;case 12:return;case 13:lE(M);return;case 19:lE(M);return;case 3:Ce&&w!==null&&w.memoizedState.isDehydrated&&Pe(M.stateNode.containerInfo);break;case 22:case 23:return}e:if(ee){switch(M.tag){case 1:case 5:case 6:break e;case 3:case 4:M=M.stateNode,mt(M.containerInfo,M.pendingChildren);break e}throw Error(a(163))}}function lE(w){var M=w.updateQueue;if(M!==null){w.updateQueue=null;var k=w.stateNode;k===null&&(k=w.stateNode=new P0e),M.forEach(function(j){var H=$0e.bind(null,w,j);k.has(j)||(k.add(j),j.then(H,H))})}}function O0e(w,M){for(Nt=M;Nt!==null;){M=Nt;var k=M.deletions;if(k!==null)for(var j=0;j<k.length;j++){var H=k[j];try{var Z=w;Te?G9(Z,H,M):F9(Z,H,M);var ye=H.alternate;ye!==null&&(ye.return=null),H.return=null}catch(Jt){as(H,M,Jt)}}if(k=M.child,M.subtreeFlags&12854&&k!==null)k.return=M,Nt=k;else for(;Nt!==null;){M=Nt;try{var Be=M.flags;if(Be&32&&Te&&Ee(M.stateNode),Be&512){var ot=M.alternate;if(ot!==null){var Mt=ot.ref;Mt!==null&&(typeof Mt=="function"?Mt(null):Mt.current=null)}}if(Be&8192)switch(M.tag){case 13:if(M.memoizedState!==null){var Ht=M.alternate;(Ht===null||Ht.memoizedState===null)&&(z3=oi())}break;case 22:var wn=M.memoizedState!==null,on=M.alternate,kr=on!==null&&on.memoizedState!==null;if(k=M,Te){e:if(j=k,H=wn,Z=null,Te)for(var en=j;;){if(en.tag===5){if(Z===null){Z=en;var Qo=en.stateNode;H?Ue(Qo):ze(en.stateNode,en.memoizedProps)}}else if(en.tag===6){if(Z===null){var pl=en.stateNode;H?We(pl):ce(pl,en.memoizedProps)}}else if((en.tag!==22&&en.tag!==23||en.memoizedState===null||en===j)&&en.child!==null){en.child.return=en,en=en.child;continue}if(en===j)break;for(;en.sibling===null;){if(en.return===null||en.return===j)break e;Z===en&&(Z=null),en=en.return}Z===en&&(Z=null),en.sibling.return=en.return,en=en.sibling}}if(wn&&!kr&&k.mode&1){Nt=k;for(var Je=k.child;Je!==null;){for(k=Nt=Je;Nt!==null;){j=Nt;var Fe=j.child;switch(j.tag){case 0:case 11:case 14:case 15:Yp(4,j,j.return);break;case 1:sE(j,j.return);var tt=j.stateNode;if(typeof tt.componentWillUnmount=="function"){var jt=j.return;try{tt.props=j.memoizedProps,tt.state=j.memoizedState,tt.componentWillUnmount()}catch(Jt){as(j,jt,Jt)}}break;case 5:sE(j,j.return);break;case 22:if(j.memoizedState!==null){Y9(k);continue}}Fe!==null?(Fe.return=j,Nt=Fe):Y9(k)}Je=Je.sibling}}}switch(Be&4102){case 2:H9(M),M.flags&=-3;break;case 6:H9(M),M.flags&=-3,L3(M.alternate,M);break;case 4096:M.flags&=-4097;break;case 4100:M.flags&=-4097,L3(M.alternate,M);break;case 4:L3(M.alternate,M)}}catch(Jt){as(M,M.return,Jt)}if(k=M.sibling,k!==null){k.return=M.return,Nt=k;break}Nt=M.return}}}function L0e(w,M,k){Nt=w,X9(w)}function X9(w,M,k){for(var j=(w.mode&1)!==0;Nt!==null;){var H=Nt,Z=H.child;if(H.tag===22&&j){var ye=H.memoizedState!==null||aE;if(!ye){var Be=H.alternate,ot=Be!==null&&Be.memoizedState!==null||qp;Be=aE;var Mt=qp;if(aE=ye,(qp=ot)&&!Mt)for(Nt=H;Nt!==null;)ye=Nt,ot=ye.child,ye.tag===22&&ye.memoizedState!==null?K9(H):ot!==null?(ot.return=ye,Nt=ot):K9(H);for(;Z!==null;)Nt=Z,X9(Z),Z=Z.sibling;Nt=H,aE=Be,qp=Mt}q9(w)}else H.subtreeFlags&8772&&Z!==null?(Z.return=H,Nt=Z):q9(w)}}function q9(w){for(;Nt!==null;){var M=Nt;if(M.flags&8772){var k=M.alternate;try{if(M.flags&8772)switch(M.tag){case 0:case 11:case 15:qp||Ob(5,M);break;case 1:var j=M.stateNode;if(M.flags&4&&!qp)if(k===null)j.componentDidMount();else{var H=M.elementType===M.type?k.memoizedProps:Vi(M.type,k.memoizedProps);j.componentDidUpdate(H,k.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var Z=M.updateQueue;Z!==null&&VM(M,Z,j);break;case 3:var ye=M.updateQueue;if(ye!==null){if(k=null,M.child!==null)switch(M.child.tag){case 5:k=W(M.child.stateNode);break;case 1:k=M.child.stateNode}VM(M,ye,k)}break;case 5:var Be=M.stateNode;k===null&&M.flags&4&&Ze(Be,M.type,M.memoizedProps,M);break;case 6:break;case 4:break;case 12:break;case 13:if(Ce&&M.memoizedState===null){var ot=M.alternate;if(ot!==null){var Mt=ot.memoizedState;if(Mt!==null){var Ht=Mt.dehydrated;Ht!==null&&Oe(Ht)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}qp||M.flags&512&&P3(M)}catch(wn){as(M,M.return,wn)}}if(M===w){Nt=null;break}if(k=M.sibling,k!==null){k.return=M.return,Nt=k;break}Nt=M.return}}function Y9(w){for(;Nt!==null;){var M=Nt;if(M===w){Nt=null;break}var k=M.sibling;if(k!==null){k.return=M.return,Nt=k;break}Nt=M.return}}function K9(w){for(;Nt!==null;){var M=Nt;try{switch(M.tag){case 0:case 11:case 15:var k=M.return;try{Ob(4,M)}catch(ot){as(M,k,ot)}break;case 1:var j=M.stateNode;if(typeof j.componentDidMount=="function"){var H=M.return;try{j.componentDidMount()}catch(ot){as(M,H,ot)}}var Z=M.return;try{P3(M)}catch(ot){as(M,Z,ot)}break;case 5:var ye=M.return;try{P3(M)}catch(ot){as(M,ye,ot)}}}catch(ot){as(M,M.return,ot)}if(M===w){Nt=null;break}var Be=M.sibling;if(Be!==null){Be.return=M.return,Nt=Be;break}Nt=M.return}}var cE=0,uE=1,fE=2,dE=3,hE=4;if(typeof Symbol=="function"&&Symbol.for){var Lb=Symbol.for;cE=Lb("selector.component"),uE=Lb("selector.has_pseudo_class"),fE=Lb("selector.role"),dE=Lb("selector.test_id"),hE=Lb("selector.text")}function k3(w){var M=ae(w);if(M!=null){if(typeof M.memoizedProps["data-testname"]!="string")throw Error(a(364));return M}if(w=ve(w),w===null)throw Error(a(362));return w.stateNode.current}function N3(w,M){switch(M.$$typeof){case cE:if(w.type===M.value)return!0;break;case uE:e:{M=M.value,w=[w,0];for(var k=0;k<w.length;){var j=w[k++],H=w[k++],Z=M[H];if(j.tag!==5||!Ie(j)){for(;Z!=null&&N3(j,Z);)H++,Z=M[H];if(H===M.length){M=!0;break e}else for(j=j.child;j!==null;)w.push(j,H),j=j.sibling}}M=!1}return M;case fE:if(w.tag===5&&Ke(w.stateNode,M.value))return!0;break;case hE:if((w.tag===5||w.tag===6)&&(w=Le(w),w!==null&&0<=w.indexOf(M.value)))return!0;break;case dE:if(w.tag===5&&(w=w.memoizedProps["data-testname"],typeof w=="string"&&w.toLowerCase()===M.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function I3(w){switch(w.$$typeof){case cE:return"<"+(P(w.value)||"Unknown")+">";case uE:return":has("+(I3(w)||"")+")";case fE:return'[role="'+w.value+'"]';case hE:return'"'+w.value+'"';case dE:return'[data-testname="'+w.value+'"]';default:throw Error(a(365))}}function Z9(w,M){var k=[];w=[w,0];for(var j=0;j<w.length;){var H=w[j++],Z=w[j++],ye=M[Z];if(H.tag!==5||!Ie(H)){for(;ye!=null&&N3(H,ye);)Z++,ye=M[Z];if(Z===M.length)k.push(H);else for(H=H.child;H!==null;)w.push(H,Z),H=H.sibling}}return k}function D3(w,M){if(!Q)throw Error(a(363));w=k3(w),w=Z9(w,M),M=[],w=Array.from(w);for(var k=0;k<w.length;){var j=w[k++];if(j.tag===5)Ie(j)||M.push(j.stateNode);else for(j=j.child;j!==null;)w.push(j),j=j.sibling}return M}var k0e=Math.ceil,pE=s.ReactCurrentDispatcher,j3=s.ReactCurrentOwner,Oi=s.ReactCurrentBatchConfig,zn=0,Gi=null,Xi=null,Io=0,Os=0,Ev=hr(0),ao=0,kb=null,Tv=0,mE=0,B3=0,Nb=null,is=null,z3=0,$3=1/0;function Av(){$3=oi()+500}var gE=!1,F3=null,zd=null,vE=!1,$d=null,yE=0,Ib=0,U3=null,xE=-1,bE=0;function La(){return zn&6?oi():xE!==-1?xE:xE=oi()}function Fd(w){return w.mode&1?zn&2&&Io!==0?Io&-Io:ln.transition!==null?(bE===0&&(w=Hr,Hr<<=1,!(Hr&4194240)&&(Hr=64),bE=w),bE):(w=_n,w!==0?w:_e()):1}function dl(w,M,k){if(50<Ib)throw Ib=0,U3=null,Error(a(185));var j=_E(w,M);return j===null?null:(ql(j,M,k),(!(zn&2)||j!==Gi)&&(j===Gi&&(!(zn&2)&&(mE|=M),ao===4&&Ud(j,Io)),os(j,k),M===1&&zn===0&&!(w.mode&1)&&(Av(),dt&&ai())),j)}function _E(w,M){w.lanes|=M;var k=w.alternate;for(k!==null&&(k.lanes|=M),k=w,w=w.return;w!==null;)w.childLanes|=M,k=w.alternate,k!==null&&(k.childLanes|=M),k=w,w=w.return;return k.tag===3?k.stateNode:null}function os(w,M){var k=w.callbackNode;Np(w,M);var j=qo(w,w===Gi?Io:0);if(j===0)k!==null&&hn(k),w.callbackNode=null,w.callbackPriority=0;else if(M=j&-j,w.callbackPriority!==M){if(k!=null&&hn(k),M===1)w.tag===0?yo(Q9.bind(null,w)):ti(Q9.bind(null,w)),Ve?ne(function(){zn===0&&ai()}):Ed(tf,ai),k=null;else{switch(Md(j)){case 1:k=tf;break;case 4:k=Td;break;case 16:k=nf;break;case 536870912:k=Qa;break;default:k=nf}k=lW(k,J9.bind(null,w))}w.callbackPriority=M,w.callbackNode=k}}function J9(w,M){if(xE=-1,bE=0,zn&6)throw Error(a(327));var k=w.callbackNode;if(Jp()&&w.callbackNode!==k)return null;var j=qo(w,w===Gi?Io:0);if(j===0)return null;if(j&30||j&w.expiredLanes||M)M=wE(w,j);else{M=j;var H=zn;zn|=2;var Z=nW();(Gi!==w||Io!==M)&&(Av(),Kp(w,M));do try{D0e();break}catch(Be){tW(w,Be)}while(!0);pv(),pE.current=Z,zn=H,Xi!==null?M=0:(Gi=null,Io=0,M=ao)}if(M!==0){if(M===2&&(H=ef(w),H!==0&&(j=H,M=W3(w,H))),M===1)throw k=kb,Kp(w,0),Ud(w,j),os(w,oi()),k;if(M===6)Ud(w,j);else{if(H=w.current.alternate,!(j&30)&&!N0e(H)&&(M=wE(w,j),M===2&&(Z=ef(w),Z!==0&&(j=Z,M=W3(w,Z))),M===1))throw k=kb,Kp(w,0),Ud(w,j),os(w,oi()),k;switch(w.finishedWork=H,w.finishedLanes=j,M){case 0:case 1:throw Error(a(345));case 2:Zp(w,is);break;case 3:if(Ud(w,j),(j&130023424)===j&&(M=z3+500-oi(),10<M)){if(qo(w,0)!==0)break;if(H=w.suspendedLanes,(H&j)!==j){La(),w.pingedLanes|=w.suspendedLanes&H;break}w.timeoutHandle=fe(Zp.bind(null,w,is),M);break}Zp(w,is);break;case 4:if(Ud(w,j),(j&4194240)===j)break;for(M=w.eventTimes,H=-1;0<j;){var ye=31-mr(j);Z=1<<ye,ye=M[ye],ye>H&&(H=ye),j&=~Z}if(j=H,j=oi()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*k0e(j/1960))-j,10<j){w.timeoutHandle=fe(Zp.bind(null,w,is),j);break}Zp(w,is);break;case 5:Zp(w,is);break;default:throw Error(a(329))}}}return os(w,oi()),w.callbackNode===k?J9.bind(null,w):null}function W3(w,M){var k=Nb;return w.current.memoizedState.isDehydrated&&(Kp(w,M).flags|=256),w=wE(w,M),w!==2&&(M=is,is=k,M!==null&&V3(M)),w}function V3(w){is===null?is=w:is.push.apply(is,w)}function N0e(w){for(var M=w;;){if(M.flags&16384){var k=M.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var j=0;j<k.length;j++){var H=k[j],Z=H.getSnapshot;H=H.value;try{if(!ue(Z(),H))return!1}catch{return!1}}}if(k=M.child,M.subtreeFlags&16384&&k!==null)k.return=M,M=k;else{if(M===w)break;for(;M.sibling===null;){if(M.return===null||M.return===w)return!0;M=M.return}M.sibling.return=M.return,M=M.sibling}}return!0}function Ud(w,M){for(M&=~B3,M&=~mE,w.suspendedLanes|=M,w.pingedLanes&=~M,w=w.expirationTimes;0<M;){var k=31-mr(M),j=1<<k;w[k]=-1,M&=~j}}function Q9(w){if(zn&6)throw Error(a(327));Jp();var M=qo(w,0);if(!(M&1))return os(w,oi()),null;var k=wE(w,M);if(w.tag!==0&&k===2){var j=ef(w);j!==0&&(M=j,k=W3(w,j))}if(k===1)throw k=kb,Kp(w,0),Ud(w,M),os(w,oi()),k;if(k===6)throw Error(a(345));return w.finishedWork=w.current.alternate,w.finishedLanes=M,Zp(w,is),os(w,oi()),null}function eW(w){$d!==null&&$d.tag===0&&!(zn&6)&&Jp();var M=zn;zn|=1;var k=Oi.transition,j=_n;try{if(Oi.transition=null,_n=1,w)return w()}finally{_n=j,Oi.transition=k,zn=M,!(zn&6)&&ai()}}function H3(){Os=Ev.current,gt(Ev)}function Kp(w,M){w.finishedWork=null,w.finishedLanes=0;var k=w.timeoutHandle;if(k!==ge&&(w.timeoutHandle=ge,we(k)),Xi!==null)for(k=Xi.return;k!==null;){var j=k;switch(Ta(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Lt();break;case 3:nc(),gt(Tn),gt(Dt),kd();break;case 5:Ld(j);break;case 4:nc();break;case 13:gt(Lr);break;case 19:gt(Lr);break;case 10:db(j.type._context);break;case 22:case 23:H3()}k=k.return}if(Gi=w,Xi=w=Wd(w.current,null),Io=Os=M,ao=0,kb=null,B3=mE=Tv=0,is=Nb=null,ol!==null){for(M=0;M<ol.length;M++)if(k=ol[M],j=k.interleaved,j!==null){k.interleaved=null;var H=j.next,Z=k.pending;if(Z!==null){var ye=Z.next;Z.next=H,j.next=ye}k.pending=j}ol=null}return w}function tW(w,M){do{var k=Xi;try{if(pv(),xv.current=kt,cf){for(var j=Gr.memoizedState;j!==null;){var H=j.queue;H!==null&&(H.pending=null),j=j.next}cf=!1}if(Nd=0,yr=bo=Gr=null,Vp=!1,Zc=0,j3.current=null,k===null||k.return===null){ao=1,kb=M,Xi=null;break}e:{var Z=w,ye=k.return,Be=k,ot=M;if(M=Io,Be.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var Mt=ot,Ht=Be,wn=Ht.tag;if(!(Ht.mode&1)&&(wn===0||wn===11||wn===15)){var on=Ht.alternate;on?(Ht.updateQueue=on.updateQueue,Ht.memoizedState=on.memoizedState,Ht.lanes=on.lanes):(Ht.updateQueue=null,Ht.memoizedState=null)}var kr=tE(ye);if(kr!==null){kr.flags&=-257,Pb(kr,ye,Be,Z,M),kr.mode&1&&eE(Z,Mt,M),M=kr,ot=Mt;var en=M.updateQueue;if(en===null){var Qo=new Set;Qo.add(ot),M.updateQueue=Qo}else en.add(ot);break e}else{if(!(M&1)){eE(Z,Mt,M),G3();break e}ot=Error(a(426))}}else if(tr&&Be.mode&1){var pl=tE(ye);if(pl!==null){!(pl.flags&65536)&&(pl.flags|=256),Pb(pl,ye,Be,Z,M),xb(ot);break e}}Z=ot,ao!==4&&(ao=2),Nb===null?Nb=[Z]:Nb.push(Z),ot=vi(ot,Be),Be=ye;do{switch(Be.tag){case 3:Be.flags|=65536,M&=-M,Be.lanes|=M;var Je=ff(Be,ot,M);pb(Be,Je);break e;case 1:Z=ot;var Fe=Be.type,tt=Be.stateNode;if(!(Be.flags&128)&&(typeof Fe.getDerivedStateFromError=="function"||tt!==null&&typeof tt.componentDidCatch=="function"&&(zd===null||!zd.has(tt)))){Be.flags|=65536,M&=-M,Be.lanes|=M;var jt=QM(Be,Z,M);pb(Be,jt);break e}}Be=Be.return}while(Be!==null)}iW(k)}catch(Jt){M=Jt,Xi===k&&k!==null&&(Xi=k=k.return);continue}break}while(!0)}function nW(){var w=pE.current;return pE.current=kt,w===null?kt:w}function G3(){(ao===0||ao===3||ao===2)&&(ao=4),Gi===null||!(Tv&268435455)&&!(mE&268435455)||Ud(Gi,Io)}function wE(w,M){var k=zn;zn|=2;var j=nW();Gi===w&&Io===M||Kp(w,M);do try{I0e();break}catch(H){tW(w,H)}while(!0);if(pv(),zn=k,pE.current=j,Xi!==null)throw Error(a(261));return Gi=null,Io=0,ao}function I0e(){for(;Xi!==null;)rW(Xi)}function D0e(){for(;Xi!==null&&!Yo();)rW(Xi)}function rW(w){var M=sW(w.alternate,w,Os);w.memoizedProps=w.pendingProps,M===null?iW(w):Xi=M,j3.current=null}function iW(w){var M=w;do{var k=M.alternate;if(w=M.return,M.flags&32768){if(k=C0e(k,M),k!==null){k.flags&=32767,Xi=k;return}if(w!==null)w.flags|=32768,w.subtreeFlags=0,w.deletions=null;else{ao=6,Xi=null;return}}else if(k=S3(k,M,Os),k!==null){Xi=k;return}if(M=M.sibling,M!==null){Xi=M;return}Xi=M=w}while(M!==null);ao===0&&(ao=5)}function Zp(w,M){var k=_n,j=Oi.transition;try{Oi.transition=null,_n=1,j0e(w,M,k)}finally{Oi.transition=j,_n=k}return null}function j0e(w,M,k){do Jp();while($d!==null);if(zn&6)throw Error(a(327));var j=w.finishedWork,H=w.finishedLanes;if(j===null)return null;if(w.finishedWork=null,w.finishedLanes=0,j===w.current)throw Error(a(177));w.callbackNode=null,w.callbackPriority=0;var Z=j.lanes|j.childLanes;if(Ip(w,Z),w===Gi&&(Xi=Gi=null,Io=0),!(j.subtreeFlags&2064)&&!(j.flags&2064)||vE||(vE=!0,lW(nf,function(){return Jp(),null})),Z=(j.flags&15990)!==0,j.subtreeFlags&15990||Z){Z=Oi.transition,Oi.transition=null;var ye=_n;_n=1;var Be=zn;zn|=4,j3.current=null,R0e(w,j),O0e(w,j),q(w.containerInfo),w.current=j,L0e(j),pr(),zn=Be,_n=ye,Oi.transition=Z}else w.current=j;if(vE&&(vE=!1,$d=w,yE=H),Z=w.pendingLanes,Z===0&&(zd=null),Ri(j.stateNode),os(w,oi()),M!==null)for(k=w.onRecoverableError,j=0;j<M.length;j++)k(M[j]);if(gE)throw gE=!1,w=F3,F3=null,w;return yE&1&&w.tag!==0&&Jp(),Z=w.pendingLanes,Z&1?w===U3?Ib++:(Ib=0,U3=w):Ib=0,ai(),null}function Jp(){if($d!==null){var w=Md(yE),M=Oi.transition,k=_n;try{if(Oi.transition=null,_n=16>w?16:w,$d===null)var j=!1;else{if(w=$d,$d=null,yE=0,zn&6)throw Error(a(331));var H=zn;for(zn|=4,Nt=w.current;Nt!==null;){var Z=Nt,ye=Z.child;if(Nt.flags&16){var Be=Z.deletions;if(Be!==null){for(var ot=0;ot<Be.length;ot++){var Mt=Be[ot];for(Nt=Mt;Nt!==null;){var Ht=Nt;switch(Ht.tag){case 0:case 11:case 15:Yp(8,Ht,Z)}var wn=Ht.child;if(wn!==null)wn.return=Ht,Nt=wn;else for(;Nt!==null;){Ht=Nt;var on=Ht.sibling,kr=Ht.return;if(U9(Ht),Ht===Mt){Nt=null;break}if(on!==null){on.return=kr,Nt=on;break}Nt=kr}}}var en=Z.alternate;if(en!==null){var Qo=en.child;if(Qo!==null){en.child=null;do{var pl=Qo.sibling;Qo.sibling=null,Qo=pl}while(Qo!==null)}}Nt=Z}}if(Z.subtreeFlags&2064&&ye!==null)ye.return=Z,Nt=ye;else e:for(;Nt!==null;){if(Z=Nt,Z.flags&2048)switch(Z.tag){case 0:case 11:case 15:Yp(9,Z,Z.return)}var Je=Z.sibling;if(Je!==null){Je.return=Z.return,Nt=Je;break e}Nt=Z.return}}var Fe=w.current;for(Nt=Fe;Nt!==null;){ye=Nt;var tt=ye.child;if(ye.subtreeFlags&2064&&tt!==null)tt.return=ye,Nt=tt;else e:for(ye=Fe;Nt!==null;){if(Be=Nt,Be.flags&2048)try{switch(Be.tag){case 0:case 11:case 15:Ob(9,Be)}}catch(Jt){as(Be,Be.return,Jt)}if(Be===ye){Nt=null;break e}var jt=Be.sibling;if(jt!==null){jt.return=Be.return,Nt=jt;break e}Nt=Be.return}}if(zn=H,ai(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(Xc,w)}catch{}j=!0}return j}finally{_n=k,Oi.transition=M}}return!1}function oW(w,M,k){M=vi(k,M),M=ff(w,M,1),ll(w,M),M=La(),w=_E(w,1),w!==null&&(ql(w,1,M),os(w,M))}function as(w,M,k){if(w.tag===3)oW(w,w,k);else for(;M!==null;){if(M.tag===3){oW(M,w,k);break}else if(M.tag===1){var j=M.stateNode;if(typeof M.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(zd===null||!zd.has(j))){w=vi(k,w),w=QM(M,w,1),ll(M,w),w=La(),M=_E(M,1),M!==null&&(ql(M,1,w),os(M,w));break}}M=M.return}}function B0e(w,M,k){var j=w.pingCache;j!==null&&j.delete(M),M=La(),w.pingedLanes|=w.suspendedLanes&k,Gi===w&&(Io&k)===k&&(ao===4||ao===3&&(Io&130023424)===Io&&500>oi()-z3?Kp(w,0):B3|=k),os(w,M)}function aW(w,M){M===0&&(w.mode&1?(M=Pi,Pi<<=1,!(Pi&130023424)&&(Pi=4194304)):M=1);var k=La();w=_E(w,M),w!==null&&(ql(w,M,k),os(w,k))}function z0e(w){var M=w.memoizedState,k=0;M!==null&&(k=M.retryLane),aW(w,k)}function $0e(w,M){var k=0;switch(w.tag){case 13:var j=w.stateNode,H=w.memoizedState;H!==null&&(k=H.retryLane);break;case 19:j=w.stateNode;break;default:throw Error(a(314))}j!==null&&j.delete(M),aW(w,k)}var sW;sW=function(w,M,k){if(w!==null)if(w.memoizedProps!==M.pendingProps||Tn.current)Rs=!0;else{if(!(w.lanes&k)&&!(M.flags&128))return Rs=!1,A0e(w,M,k);Rs=!!(w.flags&131072)}else Rs=!1,tr&&M.flags&1048576&&vb(M,$p,M.index);switch(M.lanes=0,M.tag){case 2:var j=M.type;w!==null&&(w.alternate=null,M.alternate=null,M.flags|=2),w=M.pendingProps;var H=Tr(M,Dt.current);Ad(M,k),H=uf(null,M,j,w,H,k);var Z=wb();return M.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(M.tag=1,M.memoizedState=null,M.updateQueue=null,On(j)?(Z=!0,Xn(M)):Z=!1,M.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,al(M),H.updater=gv,M.stateNode=H,H._reactInternals=M,Jl(M,j,w,k),M=E3(null,M,j,!0,Z,k)):(M.tag=0,tr&&Z&&yb(M),Oa(null,M,H,k),M=M.child),M;case 16:j=M.elementType;e:{switch(w!==null&&(w.alternate=null,M.alternate=null,M.flags|=2),w=M.pendingProps,H=j._init,j=H(j._payload),M.type=j,H=M.tag=U0e(j),w=Vi(j,w),H){case 0:M=M3(null,M,j,w,k);break e;case 1:M=O9(null,M,j,w,k);break e;case 11:M=T9(null,M,j,w,k);break e;case 14:M=A9(null,M,j,Vi(j.type,w),k);break e}throw Error(a(306,j,""))}return M;case 0:return j=M.type,H=M.pendingProps,H=M.elementType===j?H:Vi(j,H),M3(w,M,j,H,k);case 1:return j=M.type,H=M.pendingProps,H=M.elementType===j?H:Vi(j,H),O9(w,M,j,H,k);case 3:e:{if(L9(M),w===null)throw Error(a(387));j=M.pendingProps,Z=M.memoizedState,H=Z.element,hb(w,M),jp(M,j,null,k);var ye=M.memoizedState;if(j=ye.element,Ce&&Z.isDehydrated)if(Z={element:j,isDehydrated:!1,cache:ye.cache,transitions:ye.transitions},M.updateQueue.baseState=Z,M.memoizedState=Z,M.flags&256){H=Error(a(423)),M=k9(w,M,j,k,H);break e}else if(j!==H){H=Error(a(424)),M=k9(w,M,j,k,H);break e}else for(Ce&&(Aa=nr(M.stateNode.containerInfo),Hi=M,tr=!0,xo=null,Fp=!1),k=YM(M,null,j,k),M.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(tc(),j===H){M=hf(w,M,k);break e}Oa(w,M,j,k)}M=M.child}return M;case 5:return lf(M),w===null&&Rd(M),j=M.type,H=M.pendingProps,Z=w!==null?w.memoizedProps:null,ye=H.children,oe(j,H)?ye=null:Z!==null&&oe(j,Z)&&(M.flags|=32),R9(w,M),Oa(w,M,ye,k),M.child;case 6:return w===null&&Rd(M),null;case 13:return N9(w,M,k);case 4:return Up(M,M.stateNode.containerInfo),j=M.pendingProps,w===null?M.child=Cs(M,null,j,k):Oa(w,M,j,k),M.child;case 11:return j=M.type,H=M.pendingProps,H=M.elementType===j?H:Vi(j,H),T9(w,M,j,H,k);case 7:return Oa(w,M,M.pendingProps,k),M.child;case 8:return Oa(w,M,M.pendingProps.children,k),M.child;case 12:return Oa(w,M,M.pendingProps.children,k),M.child;case 10:e:{if(j=M.type._context,H=M.pendingProps,Z=M.memoizedProps,ye=H.value,WM(M,j,ye),Z!==null)if(ue(Z.value,ye)){if(Z.children===H.children&&!Tn.current){M=hf(w,M,k);break e}}else for(Z=M.child,Z!==null&&(Z.return=M);Z!==null;){var Be=Z.dependencies;if(Be!==null){ye=Z.child;for(var ot=Be.firstContext;ot!==null;){if(ot.context===j){if(Z.tag===1){ot=sl(-1,k&-k),ot.tag=2;var Mt=Z.updateQueue;if(Mt!==null){Mt=Mt.shared;var Ht=Mt.pending;Ht===null?ot.next=ot:(ot.next=Ht.next,Ht.next=ot),Mt.pending=ot}}Z.lanes|=k,ot=Z.alternate,ot!==null&&(ot.lanes|=k),Dp(Z.return,k,M),Be.lanes|=k;break}ot=ot.next}}else if(Z.tag===10)ye=Z.type===M.type?null:Z.child;else if(Z.tag===18){if(ye=Z.return,ye===null)throw Error(a(341));ye.lanes|=k,Be=ye.alternate,Be!==null&&(Be.lanes|=k),Dp(ye,k,M),ye=Z.sibling}else ye=Z.child;if(ye!==null)ye.return=Z;else for(ye=Z;ye!==null;){if(ye===M){ye=null;break}if(Z=ye.sibling,Z!==null){Z.return=ye.return,ye=Z;break}ye=ye.return}Z=ye}Oa(w,M,H.children,k),M=M.child}return M;case 9:return H=M.type,j=M.pendingProps.children,Ad(M,k),H=si(H),j=j(H),M.flags|=1,Oa(w,M,j,k),M.child;case 14:return j=M.type,H=Vi(j,M.pendingProps),H=Vi(j.type,H),A9(w,M,j,H,k);case 15:return C9(w,M,M.type,M.pendingProps,k);case 17:return j=M.type,H=M.pendingProps,H=M.elementType===j?H:Vi(j,H),w!==null&&(w.alternate=null,M.alternate=null,M.flags|=2),M.tag=1,On(j)?(w=!0,Xn(M)):w=!1,Ad(M,k),gb(M,j,H),Jl(M,j,H,k),E3(null,M,j,!0,w,k);case 19:return B9(w,M,k);case 22:return P9(w,M,k)}throw Error(a(156,M.tag))};function lW(w,M){return Ed(w,M)}function F0e(w,M,k,j){this.tag=w,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=M,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hl(w,M,k,j){return new F0e(w,M,k,j)}function X3(w){return w=w.prototype,!(!w||!w.isReactComponent)}function U0e(w){if(typeof w=="function")return X3(w)?1:0;if(w!=null){if(w=w.$$typeof,w===v)return 11;if(w===b)return 14}return 2}function Wd(w,M){var k=w.alternate;return k===null?(k=hl(w.tag,M,w.key,w.mode),k.elementType=w.elementType,k.type=w.type,k.stateNode=w.stateNode,k.alternate=w,w.alternate=k):(k.pendingProps=M,k.type=w.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=w.flags&14680064,k.childLanes=w.childLanes,k.lanes=w.lanes,k.child=w.child,k.memoizedProps=w.memoizedProps,k.memoizedState=w.memoizedState,k.updateQueue=w.updateQueue,M=w.dependencies,k.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext},k.sibling=w.sibling,k.index=w.index,k.ref=w.ref,k}function SE(w,M,k,j,H,Z){var ye=2;if(j=w,typeof w=="function")X3(w)&&(ye=1);else if(typeof w=="string")ye=5;else e:switch(w){case u:return Qp(k.children,H,Z,M);case f:ye=8,H|=8;break;case d:return w=hl(12,k,M,H|2),w.elementType=d,w.lanes=Z,w;case y:return w=hl(13,k,M,H),w.elementType=y,w.lanes=Z,w;case g:return w=hl(19,k,M,H),w.elementType=g,w.lanes=Z,w;case _:return ME(k,H,Z,M);default:if(typeof w=="object"&&w!==null)switch(w.$$typeof){case h:ye=10;break e;case m:ye=9;break e;case v:ye=11;break e;case b:ye=14;break e;case x:ye=16,j=null;break e}throw Error(a(130,w==null?w:typeof w,""))}return M=hl(ye,k,M,H),M.elementType=w,M.type=j,M.lanes=Z,M}function Qp(w,M,k,j){return w=hl(7,w,j,M),w.lanes=k,w}function ME(w,M,k,j){return w=hl(22,w,j,M),w.elementType=_,w.lanes=k,w.stateNode={},w}function q3(w,M,k){return w=hl(6,w,null,M),w.lanes=k,w}function Y3(w,M,k){return M=hl(4,w.children!==null?w.children:[],w.key,M),M.lanes=k,M.stateNode={containerInfo:w.containerInfo,pendingChildren:null,implementation:w.implementation},M}function W0e(w,M,k,j,H){this.tag=M,this.containerInfo=w,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ge,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=j,this.onRecoverableError=H,Ce&&(this.mutableSourceEagerHydrationData=null)}function cW(w,M,k,j,H,Z,ye,Be,ot){return w=new W0e(w,M,k,Be,ot),M===1?(M=1,Z===!0&&(M|=8)):M=0,Z=hl(3,null,null,M),w.current=Z,Z.stateNode=w,Z.memoizedState={element:j,isDehydrated:k,cache:null,transitions:null},al(Z),w}function uW(w){if(!w)return tn;w=w._reactInternals;e:{if(O(w)!==w||w.tag!==1)throw Error(a(170));var M=w;do{switch(M.tag){case 3:M=M.stateNode.context;break e;case 1:if(On(M.type)){M=M.stateNode.__reactInternalMemoizedMergedChildContext;break e}}M=M.return}while(M!==null);throw Error(a(171))}if(w.tag===1){var k=w.type;if(On(k))return Or(w,k,M)}return M}function fW(w){var M=w._reactInternals;if(M===void 0)throw typeof w.render=="function"?Error(a(188)):(w=Object.keys(w).join(","),Error(a(268,w)));return w=U(M),w===null?null:w.stateNode}function dW(w,M){if(w=w.memoizedState,w!==null&&w.dehydrated!==null){var k=w.retryLane;w.retryLane=k!==0&&k<M?k:M}}function K3(w,M){dW(w,M),(w=w.alternate)&&dW(w,M)}function V0e(w){return w=U(w),w===null?null:w.stateNode}function H0e(){return null}return n.attemptContinuousHydration=function(w){if(w.tag===13){var M=La();dl(w,134217728,M),K3(w,134217728)}},n.attemptHydrationAtCurrentPriority=function(w){if(w.tag===13){var M=La(),k=Fd(w);dl(w,k,M),K3(w,k)}},n.attemptSynchronousHydration=function(w){switch(w.tag){case 3:var M=w.stateNode;if(M.current.memoizedState.isDehydrated){var k=Ja(M.pendingLanes);k!==0&&(Yl(M,k|1),os(M,oi()),!(zn&6)&&(Av(),ai()))}break;case 13:var j=La();eW(function(){return dl(w,1,j)}),K3(w,1)}},n.batchedUpdates=function(w,M){var k=zn;zn|=1;try{return w(M)}finally{zn=k,zn===0&&(Av(),dt&&ai())}},n.createComponentSelector=function(w){return{$$typeof:cE,value:w}},n.createContainer=function(w,M,k,j,H,Z,ye){return cW(w,M,!1,null,k,j,H,Z,ye)},n.createHasPseudoClassSelector=function(w){return{$$typeof:uE,value:w}},n.createHydrationContainer=function(w,M,k,j,H,Z,ye,Be,ot){return w=cW(k,j,!0,w,H,Z,ye,Be,ot),w.context=uW(null),k=w.current,j=La(),H=Fd(k),Z=sl(j,H),Z.callback=M??null,ll(k,Z),w.current.lanes=H,ql(w,H,j),os(w,j),w},n.createPortal=function(w,M,k){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:j==null?null:""+j,children:w,containerInfo:M,implementation:k}},n.createRoleSelector=function(w){return{$$typeof:fE,value:w}},n.createTestNameSelector=function(w){return{$$typeof:dE,value:w}},n.createTextSelector=function(w){return{$$typeof:hE,value:w}},n.deferredUpdates=function(w){var M=_n,k=Oi.transition;try{return Oi.transition=null,_n=16,w()}finally{_n=M,Oi.transition=k}},n.discreteUpdates=function(w,M,k,j,H){var Z=_n,ye=Oi.transition;try{return Oi.transition=null,_n=1,w(M,k,j,H)}finally{_n=Z,Oi.transition=ye,zn===0&&Av()}},n.findAllNodes=D3,n.findBoundingRects=function(w,M){if(!Q)throw Error(a(363));M=D3(w,M),w=[];for(var k=0;k<M.length;k++)w.push(Se(M[k]));for(M=w.length-1;0<M;M--){k=w[M];for(var j=k.x,H=j+k.width,Z=k.y,ye=Z+k.height,Be=M-1;0<=Be;Be--)if(M!==Be){var ot=w[Be],Mt=ot.x,Ht=Mt+ot.width,wn=ot.y,on=wn+ot.height;if(j>=Mt&&Z>=wn&&H<=Ht&&ye<=on){w.splice(M,1);break}else if(j!==Mt||k.width!==ot.width||on<Z||wn>ye){if(!(Z!==wn||k.height!==ot.height||Ht<j||Mt>H)){Mt>j&&(ot.width+=Mt-j,ot.x=j),Ht<H&&(ot.width=H-Mt),w.splice(M,1);break}}else{wn>Z&&(ot.height+=wn-Z,ot.y=Z),on<ye&&(ot.height=ye-wn),w.splice(M,1);break}}}return w},n.findHostInstance=fW,n.findHostInstanceWithNoPortals=function(w){return w=D(w),w=w!==null?z(w):null,w===null?null:w.stateNode},n.findHostInstanceWithWarning=function(w){return fW(w)},n.flushControlled=function(w){var M=zn;zn|=1;var k=Oi.transition,j=_n;try{Oi.transition=null,_n=1,w()}finally{_n=j,Oi.transition=k,zn=M,zn===0&&(Av(),ai())}},n.flushPassiveEffects=Jp,n.flushSync=eW,n.focusWithin=function(w,M){if(!Q)throw Error(a(363));for(w=k3(w),M=Z9(w,M),M=Array.from(M),w=0;w<M.length;){var k=M[w++];if(!Ie(k)){if(k.tag===5&&Ne(k.stateNode))return!0;for(k=k.child;k!==null;)M.push(k),k=k.sibling}}return!1},n.getCurrentUpdatePriority=function(){return _n},n.getFindAllNodesFailureDescription=function(w,M){if(!Q)throw Error(a(363));var k=0,j=[];w=[k3(w),0];for(var H=0;H<w.length;){var Z=w[H++],ye=w[H++],Be=M[ye];if((Z.tag!==5||!Ie(Z))&&(N3(Z,Be)&&(j.push(I3(Be)),ye++,ye>k&&(k=ye)),ye<M.length))for(Z=Z.child;Z!==null;)w.push(Z,ye),Z=Z.sibling}if(k<M.length){for(w=[];k<M.length;k++)w.push(I3(M[k]));return`findAllNodes was able to match part of the selector:
  `+(j.join(" > ")+`

No matching component was found for:
  `)+w.join(" > ")}return null},n.getPublicRootInstance=function(w){if(w=w.current,!w.child)return null;switch(w.child.tag){case 5:return W(w.child.stateNode);default:return w.child.stateNode}},n.injectIntoDevTools=function(w){if(w={bundleType:w.bundleType,version:w.version,rendererPackageName:w.rendererPackageName,rendererConfig:w.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:V0e,findFiberByHostInstance:w.findFiberByHostInstance||H0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")w=!1;else{var M=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(M.isDisabled||!M.supportsFiber)w=!0;else{try{Xc=M.inject(w),Ui=M}catch{}w=!!M.checkDCE}}return w},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(w,M,k,j){if(!Q)throw Error(a(363));w=D3(w,M);var H=Ye(w,k,j).disconnect;return{disconnect:function(){H()}}},n.registerMutableSourceForHydration=function(w,M){var k=M._getVersion;k=k(M._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[M,k]:w.mutableSourceEagerHydrationData.push(M,k)},n.runWithPriority=function(w,M){var k=_n;try{return _n=w,M()}finally{_n=k}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(w,M,k,j){var H=M.current,Z=La(),ye=Fd(H);return k=uW(k),M.context===null?M.context=k:M.pendingContext=k,M=sl(Z,ye),M.payload={element:w},j=j===void 0?null:j,j!==null&&(M.callback=j),ll(H,M),w=dl(H,ye,Z),w!==null&&mv(w,H,ye),ye},n};lge.exports=rxt;var ixt=lge.exports;const oxt=yn(ixt),k6={},axt=t=>void Object.assign(k6,t);function sxt(t,e){function n(u,{args:f=[],attach:d,...h},m){let v=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=h.object;y=dy(g,{type:u,root:m,attach:d,primitive:!0})}else{const g=k6[v];if(!g)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=dy(new g(...f),{type:u,root:m,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),v!=="inject"&&SI(y,h),y}function r(u,f){let d=!1;if(f){var h,m;(h=f.__r3f)!=null&&h.attach?wI(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(m=u.__r3f)==null||m.objects.push(f),f.__r3f||dy(f,{}),f.__r3f.parent=u,zB(f),hy(f)}}function i(u,f,d){let h=!1;if(f){var m,v;if((m=f.__r3f)!=null&&m.attach)wI(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:f});const y=u.children.filter(b=>b!==f),g=y.indexOf(d);u.children=[...y.slice(0,g),f,...y.slice(g)],h=!0}h||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||dy(f,{}),f.__r3f.parent=u,zB(f),hy(f)}}function o(u,f,d=!1){u&&[...u].forEach(h=>a(f,h,d))}function a(u,f,d){if(f){var h,m,v;if(f.__r3f&&(f.__r3f.parent=null),(h=u.__r3f)!=null&&h.objects&&(u.__r3f.objects=u.__r3f.objects.filter(_=>_!==f)),(m=f.__r3f)!=null&&m.attach)xJ(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var y;u.remove(f),(y=f.__r3f)!=null&&y.root&&pxt(lA(f),f)}const b=(v=f.__r3f)==null?void 0:v.primitive,x=!b&&(d===void 0?f.dispose!==null:d);if(!b){var g;o((g=f.__r3f)==null?void 0:g.objects,f,x),o(f.children,f,x)}if(delete f.__r3f,x&&f.dispose&&f.type!=="Scene"){const _=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?jB.unstable_scheduleCallback(jB.unstable_IdlePriority,_):_()}hy(u)}}function s(u,f,d,h){var m;const v=(m=u.__r3f)==null?void 0:m.parent;if(!v)return;const y=n(f,d,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(y,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(y,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(v,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&lA(y).getState().internal.interaction.push(y),[h,h.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>{};return{reconciler:oxt({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&a(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const h=u.getState().scene;h.__r3f&&i(h,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,h){var m;if(((m=u==null?void 0:u.__r3f)!=null?m:{}).primitive&&h.object&&h.object!==u)return[!0];{const{args:y=[],children:g,...b}=h,{args:x=[],children:_,...T}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,I)=>P!==x[I]))return[!0];const C=vge(u,b,T,!0);return C.changes.length?[!1,C]:null}},commitUpdate(u,[f,d],h,m,v,y){f?s(u,h,v,y):SI(u,d)},commitMount(u,f,d,h){var m;const v=(m=u.__r3f)!=null?m:{};u.raycast&&v.handlers&&v.eventCount&&lA(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>dy(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:h}=(f=u.__r3f)!=null?f:{};d&&h&&xJ(h,u,d),u.isObject3D&&(u.visible=!1),hy(u)},unhideInstance(u,f){var d;const{attach:h,parent:m}=(d=u.__r3f)!=null?d:{};h&&m&&wI(m,u,h),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),hy(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Gy.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Zr.fun(performance.now)?performance.now:Zr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Zr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Zr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:SI}}var mJ,gJ;const _I=t=>"colorSpace"in t||"outputColorSpace"in t,fge=()=>{var t;return(t=k6.ColorManagement)!=null?t:null},dge=t=>t&&t.isOrthographicCamera,lxt=t=>t&&t.hasOwnProperty("current"),NM=typeof window<"u"&&((mJ=window.document)!=null&&mJ.createElement||((gJ=window.navigator)==null?void 0:gJ.product)==="ReactNative")?A.useLayoutEffect:A.useEffect;function hge(t){const e=A.useRef(t);return NM(()=>void(e.current=t),[t]),e}function cxt({set:t}){return NM(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let pge=class extends A.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};pge.getDerivedStateFromError=()=>({error:!0});const mge="__default",vJ=new Map,uxt=t=>t&&!!t.memoized&&!!t.changes;function gge(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const __=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function lA(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Zr={obj:t=>t===Object(t)&&!Zr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Zr.str(t)||Zr.num(t)||Zr.boo(t))return t===e;const o=Zr.obj(t);if(o&&r==="reference")return t===e;const a=Zr.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!Zr.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(Zr.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function fxt(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function dy(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function BB(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const yJ=/-\d+$/;function wI(t,e,n){if(Zr.str(n)){if(yJ.test(n)){const o=n.replace(yJ,""),{target:a,key:s}=BB(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=BB(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function xJ(t,e,n){var r,i;if(Zr.str(n)){const{target:o,key:a}=BB(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function vge(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},c=!1){const u=t.__r3f,f=Object.entries(i),d=[];if(c){const m=Object.keys(l);for(let v=0;v<m.length;v++)i.hasOwnProperty(m[v])||f.unshift([m[v],mge+"remove"])}f.forEach(([m,v])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&m==="object"||Zr.equ(v,l[m]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(m))return d.push([m,v,!0,[]]);let g=[];m.includes("-")&&(g=m.split("-")),d.push([m,v,!1,g]);for(const b in i){const x=i[b];b.startsWith(`${m}-`)&&d.push([b,x,!1,b.split("-")])}});const h={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(h.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(h.attach=u.memoizedProps.attach),{memoized:h,changes:d}}function SI(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:s}=uxt(e)?e:vge(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let d=0;d<s.length;d++){let[h,m,v,y]=s[d];if(_I(t)){const _="srgb",T="srgb-linear";h==="encoding"?(h="colorSpace",m=m===3001?_:T):h==="outputEncoding"&&(h="outputColorSpace",m=m===3001?_:T)}let g=t,b=g[h];if(y.length&&(b=y.reduce((x,_)=>x[_],t),!(b&&b.set))){const[x,..._]=y.reverse();g=_.reverse().reduce((T,C)=>T[C],t),h=x}if(m===mge+"remove")if(g.constructor){let x=vJ.get(g.constructor);x||(x=new g.constructor,vJ.set(g.constructor,x)),m=x[h]}else m=0;if(v&&r)m?r.handlers[h]=m:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(b&&b.set&&(b.copy||b instanceof lg)){if(Array.isArray(m))b.fromArray?b.fromArray(m):b.set(...m);else if(b.copy&&m&&m.constructor&&b.constructor===m.constructor)b.copy(m);else if(m!==void 0){var c;const x=(c=b)==null?void 0:c.isColor;!x&&b.setScalar?b.setScalar(m):b instanceof lg&&m instanceof lg?b.mask=m.mask:b.set(m),!fge()&&o&&!o.linear&&x&&b.convertSRGBToLinear()}}else{var u;if(g[h]=m,(u=g[h])!=null&&u.isTexture&&g[h].format===za&&g[h].type===Pu&&o){const x=g[h];_I(x)&&_I(o.gl)?x.colorSpace=o.gl.outputColorSpace:x.encoding=o.gl.outputEncoding}}hy(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const d=lA(t).getState().internal,h=d.interaction.indexOf(t);h>-1&&d.interaction.splice(h,1),r.eventCount&&d.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&zB(t),t}function hy(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function zB(t){t.onUpdate==null||t.onUpdate(t)}function dxt(t,e){t.manual||(dge(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function dT(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function hxt(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Gy.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Gy.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Gy.ContinuousEventPriority;default:return Gy.DefaultEventPriority}}function yge(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function pxt(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{yge(n.capturedMap,e,r,i)})}function mxt(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,d=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<h.length;g++){const b=__(h[g]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function m(g){const b=__(g);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var x;b.events.compute==null||b.events.compute(l,b,(x=b.previousRoot)==null?void 0:x.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(g,!0):[]}let v=h.flatMap(m).sort((g,b)=>{const x=__(g.object),_=__(b.object);return!x||!_?g.distance-b.distance:_.events.priority-x.events.priority||g.distance-b.distance}).filter(g=>{const b=dT(g);return f.has(b)?!1:(f.add(b),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const g of v){let b=g.object;for(;b;){var y;(y=b.__r3f)!=null&&y.eventCount&&d.push({...g,eventObject:b}),b=b.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())f.has(dT(g.intersection))||d.push(g.intersection);return d}function i(l,c,u,f){const d=t.getState();if(l.length){const h={stopped:!1};for(const m of l){const v=__(m.object)||d,{raycaster:y,pointer:g,camera:b,internal:x}=v,_=new he(g.x,g.y,0).unproject(b),T=N=>{var D,U;return(D=(U=x.capturedMap.get(N))==null?void 0:U.has(m.eventObject))!=null?D:!1},C=N=>{const D={intersection:m,target:c.target};x.capturedMap.has(N)?x.capturedMap.get(N).set(m.eventObject,D):x.capturedMap.set(N,new Map([[m.eventObject,D]])),c.target.setPointerCapture(N)},P=N=>{const D=x.capturedMap.get(N);D&&yge(x.capturedMap,m.eventObject,D,N)};let I={};for(let N in c){let D=c[N];typeof D!="function"&&(I[N]=D)}let O={...m,...I,pointer:g,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:_,ray:y.ray,camera:b,stopPropagation(){const N="pointerId"in c&&x.capturedMap.get(c.pointerId);if((!N||N.has(m.eventObject))&&(O.stopped=h.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(D=>D.eventObject===m.eventObject))){const D=l.slice(0,l.indexOf(m));o([...D,m])}},target:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:P},nativeEvent:c};if(f(O),h.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,h=d==null?void 0:d.handlers;if(c.hovered.delete(dT(u)),d!=null&&d.eventCount){const m={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(m),h.onPointerLeave==null||h.onPointerLeave(m)}}}function a(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=u;const h=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,h?n:void 0),g=m?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=y.map(x=>x.eventObject)),m&&!y.length&&g<=2&&(a(u,d.interaction),f&&f(u)),h&&o(y);function b(x){const _=x.eventObject,T=_.__r3f,C=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(h){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=dT(x),I=d.hovered.get(P);I?I.stopped&&x.stopPropagation():(d.hovered.set(P,x),C.onPointerOver==null||C.onPointerOver(x),C.onPointerEnter==null||C.onPointerEnter(x))}C.onPointerMove==null||C.onPointerMove(x)}else{const P=C[l];P?(!m||d.initialHits.includes(_))&&(a(u,d.interaction.filter(I=>!d.initialHits.includes(I))),P(x)):m&&d.initialHits.includes(_)&&a(u,d.interaction.filter(I=>!d.initialHits.includes(I)))}}i(y,u,g,b)}}return{handlePointer:s}}const xge=t=>!!(t!=null&&t.render),bge=A.createContext(null),gxt=(t,e)=>{const n=nxt((s,l)=>{const c=new he,u=new he,f=new he;function d(g=l().camera,b=u,x=l().size){const{width:_,height:T,top:C,left:P}=x,I=_/T;b.isVector3?f.copy(b):f.set(...b);const O=g.getWorldPosition(c).distanceTo(f);if(dge(g))return{width:_/g.zoom,height:T/g.zoom,top:C,left:P,factor:1,distance:O,aspect:I};{const N=g.fov*Math.PI/180,D=2*Math.tan(N/2)*O,U=D*(_/T);return{width:U,height:D,top:C,left:P,factor:_/U,distance:O,aspect:I}}}let h;const m=g=>s(b=>({performance:{...b.performance,current:g}})),v=new ft;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,b)=>e(g,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new P6,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();h&&clearTimeout(h),g.performance.current!==g.performance.min&&m(g.performance.min),h=setTimeout(()=>m(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:g=>s(b=>({...b,events:{...b.events,...g}})),setSize:(g,b,x,_,T)=>{const C=l().camera,P={width:g,height:b,top:_||0,left:T||0,updateStyle:x};s(I=>({size:P,viewport:{...I.viewport,...d(C,u,P)}}))},setDpr:g=>s(b=>{const x=gge(g);return{viewport:{...b.viewport,dpr:x,initialDpr:b.viewport.initialDpr||x}}}),setFrameloop:(g="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,g!=="never"&&(b.start(),b.elapsedTime=0),s(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:A.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,b,x)=>{const _=l().internal;return _.priority=_.priority+(b>0?1:0),_.subscribers.push({ref:g,priority:b,store:x}),_.subscribers=_.subscribers.sort((T,C)=>T.priority-C.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(b>0?1:0),T.subscribers=T.subscribers.filter(C=>C.ref!==g))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var d;i=l,o=c.dpr,dxt(s,l),u.setPixelRatio(c.dpr);const h=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}s!==a&&(a=s,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let hT,vxt=new Set,yxt=new Set,xxt=new Set;function MI(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function w_(t,e){switch(t){case"before":return MI(vxt,e);case"after":return MI(yxt,e);case"tail":return MI(xxt,e)}}let EI,TI;function AI(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),EI=e.internal.subscribers,hT=0;hT<EI.length;hT++)TI=EI[hT],TI.ref.current(TI.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function bxt(t){let e=!1,n=!1,r,i,o;function a(c){i=requestAnimationFrame(a),e=!0,r=0,w_("before",c),n=!0;for(const f of t.values()){var u;o=f.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((u=o.gl.xr)!=null&&u.isPresenting)&&(r+=AI(c,o))}if(n=!1,w_("after",c),r===0)return w_("tail",c),e=!1,cancelAnimationFrame(i)}function s(c,u=1){var f;if(!c)return t.forEach(d=>s(d.store.getState(),u));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,f,d){if(u&&w_("before",c),f)AI(c,f,d);else for(const h of t.values())AI(c,h.store.getState());u&&w_("after",c)}return{loop:a,invalidate:s,advance:l}}function _ge(){const t=A.useContext(bge);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Mf(t=n=>n,e){return _ge()(t,e)}function i3(t,e=0){const n=_ge(),r=n.getState().internal.subscribe,i=hge(t);return NM(()=>r(i,e,n),[e,r,n]),null}const hx=new Map,{invalidate:bJ,advance:_J}=bxt(hx),{reconciler:EP,applyProps:ay}=sxt(hx,hxt),sy={objects:"shallow",strict:!1},_xt=(t,e)=>{const n=typeof t=="function"?t(e):t;return xge(n)?n:new c6({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function wxt(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Sxt(t){const e=hx.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||gxt(bJ,_J),a=n||EP.createContainer(o,Gy.ConcurrentRoot,null,!1,null,"",i,null);e||hx.set(t,{fiber:a,store:o});let s,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:h,events:m,onCreated:v,shadows:y=!1,linear:g=!1,flat:b=!1,legacy:x=!1,orthographic:_=!1,frameloop:T="always",dpr:C=[1,2],performance:P,raycaster:I,camera:O,onPointerMissed:N}=u,D=o.getState(),U=D.gl;D.gl||D.set({gl:U=_xt(f,t)});let V=D.raycaster;V||D.set({raycaster:V=new ige});const{params:z,...F}=I||{};if(Zr.equ(F,V,sy)||ay(V,{...F}),Zr.equ(z,V.params,sy)||ay(V,{params:{...V.params,...z}}),!D.camera||D.camera===c&&!Zr.equ(c,O,sy)){c=O;const q=O instanceof TM,te=q?O:_?new Kh(0,0,0,0,.1,1e3):new Bi(75,0,.1,1e3);q||(te.position.z=5,O&&(ay(te,O),("aspect"in O||"left"in O||"right"in O||"bottom"in O||"top"in O)&&(te.manual=!0,te.updateProjectionMatrix())),!D.camera&&!(O!=null&&O.rotation)&&te.lookAt(0,0,0)),D.set({camera:te}),V.camera=te}if(!D.scene){let q;h!=null&&h.isScene?q=h:(q=new u6,h&&ay(q,h)),D.set({scene:dy(q)})}if(!D.xr){var W;const q=(J,re)=>{const oe=o.getState();oe.frameloop!=="never"&&_J(J,!0,oe,re)},te=()=>{const J=o.getState();J.gl.xr.enabled=J.gl.xr.isPresenting,J.gl.xr.setAnimationLoop(J.gl.xr.isPresenting?q:null),J.gl.xr.isPresenting||bJ(J)},Y={connect(){const J=o.getState().gl;J.xr.addEventListener("sessionstart",te),J.xr.addEventListener("sessionend",te)},disconnect(){const J=o.getState().gl;J.xr.removeEventListener("sessionstart",te),J.xr.removeEventListener("sessionend",te)}};typeof((W=U.xr)==null?void 0:W.addEventListener)=="function"&&Y.connect(),D.set({xr:Y})}if(U.shadowMap){const q=U.shadowMap.enabled,te=U.shadowMap.type;if(U.shadowMap.enabled=!!y,Zr.boo(y))U.shadowMap.type=x1;else if(Zr.str(y)){var X;const Y={basic:Jhe,percentage:OL,soft:x1,variance:pc};U.shadowMap.type=(X=Y[y])!=null?X:x1}else Zr.obj(y)&&Object.assign(U.shadowMap,y);(q!==U.shadowMap.enabled||te!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const B=fge();B&&("enabled"in B?B.enabled=!x:"legacyMode"in B&&(B.legacyMode=x)),l||ay(U,{outputEncoding:g?3e3:3001,toneMapping:b?Cu:U8}),D.legacy!==x&&D.set(()=>({legacy:x})),D.linear!==g&&D.set(()=>({linear:g})),D.flat!==b&&D.set(()=>({flat:b})),f&&!Zr.fun(f)&&!xge(f)&&!Zr.equ(f,U,sy)&&ay(U,f),m&&!D.events.handlers&&D.set({events:m(o)});const G=wxt(t,d);return Zr.equ(G,D.size,sy)||D.setSize(G.width,G.height,G.updateStyle,G.top,G.left),C&&D.viewport.dpr!==gge(C)&&D.setDpr(C),D.frameloop!==T&&D.setFrameloop(T),D.onPointerMissed||D.set({onPointerMissed:N}),P&&!Zr.equ(P,D.performance,sy)&&D.set(q=>({performance:{...q.performance,...P}})),s=v,l=!0,this},render(u){return l||this.configure(),EP.updateContainer(S.jsx(Mxt,{store:o,children:u,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){wge(t)}}}function Mxt({store:t,children:e,onCreated:n,rootElement:r}){return NM(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),S.jsx(bge.Provider,{value:t,children:e})}function wge(t,e){const n=hx.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),EP.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),fxt(i),hx.delete(t)}catch{}},500)})}}EP.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:A.version});const CI={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Ext(t){const{handlePointer:e}=mxt(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(CI).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,c]=CI[a];n.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=CI[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}function wJ(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Txt({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=A.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=A.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=A.useRef(!1);A.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,d,h]=A.useMemo(()=>{const g=()=>{if(!s.current.element)return;const{left:b,top:x,width:_,height:T,bottom:C,right:P,x:I,y:O}=s.current.element.getBoundingClientRect(),N={left:b,top:x,width:_,height:T,bottom:C,right:P,x:I,y:O};s.current.element instanceof HTMLElement&&r&&(N.height=s.current.element.offsetHeight,N.width=s.current.element.offsetWidth),Object.freeze(N),u.current&&!Rxt(s.current.lastBounds,N)&&a(s.current.lastBounds=N)};return[g,c?wJ(g,c):g,l?wJ(g,l):g]},[a,r,l,c]);function m(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",h,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function v(){s.current.element&&(s.current.resizeObserver=new i(h),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(g=>g.addEventListener("scroll",h,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const y=g=>{!g||g===s.current.element||(m(),s.current.element=g,s.current.scrollContainers=Sge(g),v())};return Cxt(h,!!e),Axt(d),A.useEffect(()=>{m(),v()},[e,h,d]),A.useEffect(()=>m,[]),[y,o,f]}function Axt(t){A.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Cxt(t,e){A.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Sge(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...Sge(t.parentElement)]}const Pxt=["x","y","top","bottom","left","right","width","height"],Rxt=(t,e)=>Pxt.every(n=>t[n]===e[n]);var Oxt=Object.defineProperty,Lxt=Object.defineProperties,kxt=Object.getOwnPropertyDescriptors,SJ=Object.getOwnPropertySymbols,Nxt=Object.prototype.hasOwnProperty,Ixt=Object.prototype.propertyIsEnumerable,MJ=(t,e,n)=>e in t?Oxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EJ=(t,e)=>{for(var n in e||(e={}))Nxt.call(e,n)&&MJ(t,n,e[n]);if(SJ)for(var n of SJ(e))Ixt.call(e,n)&&MJ(t,n,e[n]);return t},Dxt=(t,e)=>Lxt(t,kxt(e)),TJ,AJ;typeof window<"u"&&((TJ=window.document)!=null&&TJ.createElement||((AJ=window.navigator)==null?void 0:AJ.product)==="ReactNative")?A.useLayoutEffect:A.useEffect;function Mge(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=Mge(r,e,n);if(i)return i;r=r.sibling}}function Ege(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const CJ=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=CJ;return}return CJ.apply(this,arguments)};const N6=Ege(A.createContext(null));class Tge extends A.Component{render(){return A.createElement(N6.Provider,{value:this._reactInternals},this.props.children)}}function jxt(){const t=A.useContext(N6);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=A.useId();return A.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=Mge(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function Bxt(){const t=jxt(),[e]=A.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==N6&&!e.has(i)&&e.set(i,A.useContext(Ege(i)))}n=n.return}return e}function zxt(){const t=Bxt();return A.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>A.createElement(e,null,A.createElement(n.Provider,Dxt(EJ({},r),{value:t.get(n)}))),e=>A.createElement(Tge,EJ({},e))),[t])}const $xt=A.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=Ext,eventSource:s,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:m,dpr:v,performance:y,raycaster:g,camera:b,scene:x,onPointerMissed:_,onCreated:T,...C},P){A.useMemo(()=>axt(Q0t),[]);const I=zxt(),[O,N]=Txt({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=A.useRef(null),U=A.useRef(null);A.useImperativeHandle(P,()=>D.current);const V=hge(_),[z,F]=A.useState(!1),[W,X]=A.useState(!1);if(z)throw z;if(W)throw W;const B=A.useRef(null);NM(()=>{const q=D.current;N.width>0&&N.height>0&&q&&(B.current||(B.current=Sxt(q)),B.current.configure({gl:o,events:a,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:m,dpr:v,performance:y,raycaster:g,camera:b,scene:x,size:N,onPointerMissed:(...te)=>V.current==null?void 0:V.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(s?lxt(s)?s.current:s:U.current),l&&te.setEvents({compute:(Y,J)=>{const re=Y[l+"X"],oe=Y[l+"Y"];J.pointer.set(re/J.size.width*2-1,-(oe/J.size.height)*2+1),J.raycaster.setFromCamera(J.pointer,J.camera)}}),T==null||T(te)}}),B.current.render(S.jsx(I,{children:S.jsx(pge,{set:X,children:S.jsx(A.Suspense,{fallback:S.jsx(cxt,{set:F}),children:e??null})})})))}),A.useEffect(()=>{const q=D.current;if(q)return()=>wge(q)},[]);const G=s?"none":"auto";return S.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...i},...C,children:S.jsx("div",{ref:O,style:{width:"100%",height:"100%"},children:S.jsx("canvas",{ref:D,style:{display:"block"},children:n})})})}),Age=A.forwardRef(function(e,n){return S.jsx(Tge,{children:S.jsx($xt,{...e,ref:n})})}),Cge=parseInt(wM.replace(/\D+/g,"")),Pge=Cge>=125?"uv1":"uv2";var Fxt=Object.defineProperty,Uxt=(t,e,n)=>e in t?Fxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wxt=(t,e,n)=>(Uxt(t,e+"",n),n);class Vxt{constructor(){Wxt(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}var Hxt=Object.defineProperty,Gxt=(t,e,n)=>e in t?Hxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,an=(t,e,n)=>(Gxt(t,typeof e!="symbol"?e+"":e,n),n);const pT=new lv,PJ=new Of,Xxt=Math.cos(70*(Math.PI/180)),RJ=(t,e)=>(t%e+e)%e;let qxt=class extends Vxt{constructor(e,n){super(),an(this,"object"),an(this,"domElement"),an(this,"enabled",!0),an(this,"target",new he),an(this,"minDistance",0),an(this,"maxDistance",1/0),an(this,"minZoom",0),an(this,"maxZoom",1/0),an(this,"minPolarAngle",0),an(this,"maxPolarAngle",Math.PI),an(this,"minAzimuthAngle",-1/0),an(this,"maxAzimuthAngle",1/0),an(this,"enableDamping",!1),an(this,"dampingFactor",.05),an(this,"enableZoom",!0),an(this,"zoomSpeed",1),an(this,"enableRotate",!0),an(this,"rotateSpeed",1),an(this,"enablePan",!0),an(this,"panSpeed",1),an(this,"screenSpacePanning",!0),an(this,"keyPanSpeed",7),an(this,"zoomToCursor",!1),an(this,"autoRotate",!1),an(this,"autoRotateSpeed",2),an(this,"reverseOrbit",!1),an(this,"reverseHorizontalOrbit",!1),an(this,"reverseVerticalOrbit",!1),an(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),an(this,"mouseButtons",{LEFT:_m.ROTATE,MIDDLE:_m.DOLLY,RIGHT:_m.PAN}),an(this,"touches",{ONE:wm.ROTATE,TWO:wm.DOLLY_PAN}),an(this,"target0"),an(this,"position0"),an(this,"zoom0"),an(this,"_domElementKeyEvents",null),an(this,"getPolarAngle"),an(this,"getAzimuthalAngle"),an(this,"setPolarAngle"),an(this,"setAzimuthalAngle"),an(this,"getDistance"),an(this,"getZoomScale"),an(this,"listenToKeyEvents"),an(this,"stopListenToKeyEvents"),an(this,"saveState"),an(this,"reset"),an(this,"update"),an(this,"connect"),an(this,"dispose"),an(this,"dollyIn"),an(this,"dollyOut"),an(this,"getScale"),an(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=le=>{let Ee=RJ(le,2*Math.PI),Ue=u.phi;Ue<0&&(Ue+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let We=Math.abs(Ee-Ue);2*Math.PI-We<We&&(Ee<Ue?Ee+=2*Math.PI:Ue+=2*Math.PI),f.phi=Ee-Ue,r.update()},this.setAzimuthalAngle=le=>{let Ee=RJ(le,2*Math.PI),Ue=u.theta;Ue<0&&(Ue+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let We=Math.abs(Ee-Ue);2*Math.PI-We<We&&(Ee<Ue?Ee+=2*Math.PI:Ue+=2*Math.PI),f.theta=Ee-Ue,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=le=>{le.addEventListener("keydown",et),this._domElementKeyEvents=le},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",et),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const le=new he,Ee=new he(0,1,0),Ue=new ya().setFromUnitVectors(e.up,Ee),We=Ue.clone().invert(),ze=new he,ce=new ya,Re=2*Math.PI;return function(){const ct=r.object.position;Ue.setFromUnitVectors(e.up,Ee),We.copy(Ue).invert(),le.copy(ct).sub(r.target),le.applyQuaternion(Ue),u.setFromVector3(le),r.autoRotate&&l===s.NONE&&z(U()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let De=r.minAzimuthAngle,st=r.maxAzimuthAngle;isFinite(De)&&isFinite(st)&&(De<-Math.PI?De+=Re:De>Math.PI&&(De-=Re),st<-Math.PI?st+=Re:st>Math.PI&&(st-=Re),De<=st?u.theta=Math.max(De,Math.min(st,u.theta)):u.theta=u.theta>(De+st)/2?Math.max(De,u.theta):Math.min(st,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&O||r.object.isOrthographicCamera?u.radius=J(u.radius):u.radius=J(u.radius*d),le.setFromSpherical(u),le.applyQuaternion(We),ct.copy(r.target).add(le),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),h.set(0,0,0));let mt=!1;if(r.zoomToCursor&&O){let rt=null;if(r.object instanceof Bi&&r.object.isPerspectiveCamera){const it=le.length();rt=J(it*d);const nt=it-rt;r.object.position.addScaledVector(P,nt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const it=new he(I.x,I.y,0);it.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),mt=!0;const nt=new he(I.x,I.y,0);nt.unproject(r.object),r.object.position.sub(nt).add(it),r.object.updateMatrixWorld(),rt=le.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;rt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(rt).add(r.object.position):(pT.origin.copy(r.object.position),pT.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(pT.direction))<Xxt?e.lookAt(r.target):(PJ.setFromNormalAndCoplanarPoint(r.object.up,r.target),pT.intersectPlane(PJ,r.target))))}else r.object instanceof Kh&&r.object.isOrthographicCamera&&(mt=d!==1,mt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,O=!1,mt||ze.distanceToSquared(r.object.position)>c||8*(1-ce.dot(r.object.quaternion))>c?(r.dispatchEvent(i),ze.copy(r.object.position),ce.copy(r.object.quaternion),mt=!1,!0):!1}})(),this.connect=le=>{r.domElement=le,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ze),r.domElement.addEventListener("pointerdown",Se),r.domElement.addEventListener("pointercancel",Ie),r.domElement.addEventListener("wheel",Ye)},this.dispose=()=>{var le,Ee,Ue,We,ze,ce;r.domElement&&(r.domElement.style.touchAction="auto"),(le=r.domElement)==null||le.removeEventListener("contextmenu",Ze),(Ee=r.domElement)==null||Ee.removeEventListener("pointerdown",Se),(Ue=r.domElement)==null||Ue.removeEventListener("pointercancel",Ie),(We=r.domElement)==null||We.removeEventListener("wheel",Ye),(ze=r.domElement)==null||ze.ownerDocument.removeEventListener("pointermove",Le),(ce=r.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",Ie),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",et)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const c=1e-6,u=new DB,f=new DB;let d=1;const h=new he,m=new ft,v=new ft,y=new ft,g=new ft,b=new ft,x=new ft,_=new ft,T=new ft,C=new ft,P=new he,I=new ft;let O=!1;const N=[],D={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function V(){return Math.pow(.95,r.zoomSpeed)}function z(le){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=le:f.theta-=le}function F(le){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=le:f.phi-=le}const W=(()=>{const le=new he;return function(Ue,We){le.setFromMatrixColumn(We,0),le.multiplyScalar(-Ue),h.add(le)}})(),X=(()=>{const le=new he;return function(Ue,We){r.screenSpacePanning===!0?le.setFromMatrixColumn(We,1):(le.setFromMatrixColumn(We,0),le.crossVectors(r.object.up,le)),le.multiplyScalar(Ue),h.add(le)}})(),B=(()=>{const le=new he;return function(Ue,We){const ze=r.domElement;if(ze&&r.object instanceof Bi&&r.object.isPerspectiveCamera){const ce=r.object.position;le.copy(ce).sub(r.target);let Re=le.length();Re*=Math.tan(r.object.fov/2*Math.PI/180),W(2*Ue*Re/ze.clientHeight,r.object.matrix),X(2*We*Re/ze.clientHeight,r.object.matrix)}else ze&&r.object instanceof Kh&&r.object.isOrthographicCamera?(W(Ue*(r.object.right-r.object.left)/r.object.zoom/ze.clientWidth,r.object.matrix),X(We*(r.object.top-r.object.bottom)/r.object.zoom/ze.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function G(le){r.object instanceof Bi&&r.object.isPerspectiveCamera||r.object instanceof Kh&&r.object.isOrthographicCamera?d=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(le){G(d/le)}function te(le){G(d*le)}function Y(le){if(!r.zoomToCursor||!r.domElement)return;O=!0;const Ee=r.domElement.getBoundingClientRect(),Ue=le.clientX-Ee.left,We=le.clientY-Ee.top,ze=Ee.width,ce=Ee.height;I.x=Ue/ze*2-1,I.y=-(We/ce)*2+1,P.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function J(le){return Math.max(r.minDistance,Math.min(r.maxDistance,le))}function re(le){m.set(le.clientX,le.clientY)}function oe(le){Y(le),_.set(le.clientX,le.clientY)}function pe(le){g.set(le.clientX,le.clientY)}function fe(le){v.set(le.clientX,le.clientY),y.subVectors(v,m).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(z(2*Math.PI*y.x/Ee.clientHeight),F(2*Math.PI*y.y/Ee.clientHeight)),m.copy(v),r.update()}function we(le){T.set(le.clientX,le.clientY),C.subVectors(T,_),C.y>0?q(V()):C.y<0&&te(V()),_.copy(T),r.update()}function ge(le){b.set(le.clientX,le.clientY),x.subVectors(b,g).multiplyScalar(r.panSpeed),B(x.x,x.y),g.copy(b),r.update()}function xe(le){Y(le),le.deltaY<0?te(V()):le.deltaY>0&&q(V()),r.update()}function Te(le){let Ee=!1;switch(le.code){case r.keys.UP:B(0,r.keyPanSpeed),Ee=!0;break;case r.keys.BOTTOM:B(0,-r.keyPanSpeed),Ee=!0;break;case r.keys.LEFT:B(r.keyPanSpeed,0),Ee=!0;break;case r.keys.RIGHT:B(-r.keyPanSpeed,0),Ee=!0;break}Ee&&(le.preventDefault(),r.update())}function ee(){if(N.length==1)m.set(N[0].pageX,N[0].pageY);else{const le=.5*(N[0].pageX+N[1].pageX),Ee=.5*(N[0].pageY+N[1].pageY);m.set(le,Ee)}}function Ce(){if(N.length==1)g.set(N[0].pageX,N[0].pageY);else{const le=.5*(N[0].pageX+N[1].pageX),Ee=.5*(N[0].pageY+N[1].pageY);g.set(le,Ee)}}function ae(){const le=N[0].pageX-N[1].pageX,Ee=N[0].pageY-N[1].pageY,Ue=Math.sqrt(le*le+Ee*Ee);_.set(0,Ue)}function be(){r.enableZoom&&ae(),r.enablePan&&Ce()}function _e(){r.enableZoom&&ae(),r.enableRotate&&ee()}function He(le){if(N.length==1)v.set(le.pageX,le.pageY);else{const Ue=Ae(le),We=.5*(le.pageX+Ue.x),ze=.5*(le.pageY+Ue.y);v.set(We,ze)}y.subVectors(v,m).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(z(2*Math.PI*y.x/Ee.clientHeight),F(2*Math.PI*y.y/Ee.clientHeight)),m.copy(v)}function Ve(le){if(N.length==1)b.set(le.pageX,le.pageY);else{const Ee=Ae(le),Ue=.5*(le.pageX+Ee.x),We=.5*(le.pageY+Ee.y);b.set(Ue,We)}x.subVectors(b,g).multiplyScalar(r.panSpeed),B(x.x,x.y),g.copy(b)}function ne(le){const Ee=Ae(le),Ue=le.pageX-Ee.x,We=le.pageY-Ee.y,ze=Math.sqrt(Ue*Ue+We*We);T.set(0,ze),C.set(0,Math.pow(T.y/_.y,r.zoomSpeed)),q(C.y),_.copy(T)}function Q(le){r.enableZoom&&ne(le),r.enablePan&&Ve(le)}function ve(le){r.enableZoom&&ne(le),r.enableRotate&&He(le)}function Se(le){var Ee,Ue;r.enabled!==!1&&(N.length===0&&((Ee=r.domElement)==null||Ee.ownerDocument.addEventListener("pointermove",Le),(Ue=r.domElement)==null||Ue.ownerDocument.addEventListener("pointerup",Ie)),at(le),le.pointerType==="touch"?vt(le):Ke(le))}function Le(le){r.enabled!==!1&&(le.pointerType==="touch"?ke(le):Ne(le))}function Ie(le){var Ee,Ue,We;pt(le),N.length===0&&((Ee=r.domElement)==null||Ee.releasePointerCapture(le.pointerId),(Ue=r.domElement)==null||Ue.ownerDocument.removeEventListener("pointermove",Le),(We=r.domElement)==null||We.ownerDocument.removeEventListener("pointerup",Ie)),r.dispatchEvent(a),l=s.NONE}function Ke(le){let Ee;switch(le.button){case 0:Ee=r.mouseButtons.LEFT;break;case 1:Ee=r.mouseButtons.MIDDLE;break;case 2:Ee=r.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case _m.DOLLY:if(r.enableZoom===!1)return;oe(le),l=s.DOLLY;break;case _m.ROTATE:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enablePan===!1)return;pe(le),l=s.PAN}else{if(r.enableRotate===!1)return;re(le),l=s.ROTATE}break;case _m.PAN:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enableRotate===!1)return;re(le),l=s.ROTATE}else{if(r.enablePan===!1)return;pe(le),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function Ne(le){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;fe(le);break;case s.DOLLY:if(r.enableZoom===!1)return;we(le);break;case s.PAN:if(r.enablePan===!1)return;ge(le);break}}function Ye(le){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(le.preventDefault(),r.dispatchEvent(o),xe(le),r.dispatchEvent(a))}function et(le){r.enabled===!1||r.enablePan===!1||Te(le)}function vt(le){switch(me(le),N.length){case 1:switch(r.touches.ONE){case wm.ROTATE:if(r.enableRotate===!1)return;ee(),l=s.TOUCH_ROTATE;break;case wm.PAN:if(r.enablePan===!1)return;Ce(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case wm.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;be(),l=s.TOUCH_DOLLY_PAN;break;case wm.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;_e(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function ke(le){switch(me(le),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;He(le),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;Ve(le),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Q(le),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ve(le),r.update();break;default:l=s.NONE}}function Ze(le){r.enabled!==!1&&le.preventDefault()}function at(le){N.push(le)}function pt(le){delete D[le.pointerId];for(let Ee=0;Ee<N.length;Ee++)if(N[Ee].pointerId==le.pointerId){N.splice(Ee,1);return}}function me(le){let Ee=D[le.pointerId];Ee===void 0&&(Ee=new ft,D[le.pointerId]=Ee),Ee.set(le.pageX,le.pageY)}function Ae(le){const Ee=le.pointerId===N[0].pointerId?N[1]:N[0];return D[Ee.pointerId]}this.dollyIn=(le=V())=>{te(le),r.update()},this.dollyOut=(le=V())=>{q(le),r.update()},this.getScale=()=>d,this.setScale=le=>{G(le),r.update()},this.getZoomScale=()=>V(),n!==void 0&&this.connect(n),this.update()}};const OJ=new Co,mT=new he;class I6 extends A6{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new Gt(e,3)),this.setAttribute("uv",new Gt(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new MP(n,6,1);return this.setAttribute("instanceStart",new Ws(r,3,0)),this.setAttribute("instanceEnd",new Ws(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,n=3){let r;e instanceof Float32Array?r=e:Array.isArray(e)&&(r=new Float32Array(e));const i=new MP(r,n*2,1);return this.setAttribute("instanceColorStart",new Ws(i,n,0)),this.setAttribute("instanceColorEnd",new Ws(i,n,n)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new b6(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Co);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),OJ.setFromBufferAttribute(n),this.boundingBox.union(OJ))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Po),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)mT.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(mT)),mT.fromBufferAttribute(n,o),i=Math.max(i,r.distanceToSquared(mT));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class Rge extends I6{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e,n=3){const r=e.length-n,i=new Float32Array(2*r);if(n===3)for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5];else for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5],i[2*o+6]=e[o+6],i[2*o+7]=e[o+7];return super.setColors(i,n),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class D6 extends zc{constructor(e){super({type:"LineMaterial",uniforms:wP.clone(wP.merge([Ot.common,Ot.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ft(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${Cge>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const PI=new Jn,LJ=new he,kJ=new he,Do=new Jn,jo=new Jn,tu=new Jn,RI=new he,OI=new dn,$o=new oge,NJ=new he,gT=new Co,vT=new Po,nu=new Jn;let du,fg;function IJ(t,e,n){return nu.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),nu.multiplyScalar(1/nu.w),nu.x=fg/n.width,nu.y=fg/n.height,nu.applyMatrix4(t.projectionMatrixInverse),nu.multiplyScalar(1/nu.w),Math.abs(Math.max(nu.x,nu.y))}function Yxt(t,e){const n=t.matrixWorld,r=t.geometry,i=r.attributes.instanceStart,o=r.attributes.instanceEnd,a=Math.min(r.instanceCount,i.count);for(let s=0,l=a;s<l;s++){$o.start.fromBufferAttribute(i,s),$o.end.fromBufferAttribute(o,s),$o.applyMatrix4(n);const c=new he,u=new he;du.distanceSqToSegment($o.start,$o.end,u,c),u.distanceTo(c)<fg*.5&&e.push({point:u,pointOnLine:c,distance:du.origin.distanceTo(u),object:t,face:null,faceIndex:s,uv:null,[Pge]:null})}}function Kxt(t,e,n){const r=e.projectionMatrix,o=t.material.resolution,a=t.matrixWorld,s=t.geometry,l=s.attributes.instanceStart,c=s.attributes.instanceEnd,u=Math.min(s.instanceCount,l.count),f=-e.near;du.at(1,tu),tu.w=1,tu.applyMatrix4(e.matrixWorldInverse),tu.applyMatrix4(r),tu.multiplyScalar(1/tu.w),tu.x*=o.x/2,tu.y*=o.y/2,tu.z=0,RI.copy(tu),OI.multiplyMatrices(e.matrixWorldInverse,a);for(let d=0,h=u;d<h;d++){if(Do.fromBufferAttribute(l,d),jo.fromBufferAttribute(c,d),Do.w=1,jo.w=1,Do.applyMatrix4(OI),jo.applyMatrix4(OI),Do.z>f&&jo.z>f)continue;if(Do.z>f){const x=Do.z-jo.z,_=(Do.z-f)/x;Do.lerp(jo,_)}else if(jo.z>f){const x=jo.z-Do.z,_=(jo.z-f)/x;jo.lerp(Do,_)}Do.applyMatrix4(r),jo.applyMatrix4(r),Do.multiplyScalar(1/Do.w),jo.multiplyScalar(1/jo.w),Do.x*=o.x/2,Do.y*=o.y/2,jo.x*=o.x/2,jo.y*=o.y/2,$o.start.copy(Do),$o.start.z=0,$o.end.copy(jo),$o.end.z=0;const v=$o.closestPointToPointParameter(RI,!0);$o.at(v,NJ);const y=Zpe.lerp(Do.z,jo.z,v),g=y>=-1&&y<=1,b=RI.distanceTo(NJ)<fg*.5;if(g&&b){$o.start.fromBufferAttribute(l,d),$o.end.fromBufferAttribute(c,d),$o.start.applyMatrix4(a),$o.end.applyMatrix4(a);const x=new he,_=new he;du.distanceSqToSegment($o.start,$o.end,_,x),n.push({point:_,pointOnLine:x,distance:du.origin.distanceTo(_),object:t,face:null,faceIndex:d,uv:null,[Pge]:null})}}}class Oge extends eo{constructor(e=new I6,n=new D6({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let a=0,s=0,l=n.count;a<l;a++,s+=2)LJ.fromBufferAttribute(n,a),kJ.fromBufferAttribute(r,a),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+LJ.distanceTo(kJ);const o=new MP(i,2,1);return e.setAttribute("instanceDistanceStart",new Ws(o,1,0)),e.setAttribute("instanceDistanceEnd",new Ws(o,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const o=e.params.Line2!==void 0&&e.params.Line2.threshold||0;du=e.ray;const a=this.matrixWorld,s=this.geometry,l=this.material;fg=l.linewidth+o,s.boundingSphere===null&&s.computeBoundingSphere(),vT.copy(s.boundingSphere).applyMatrix4(a);let c;if(r)c=fg*.5;else{const f=Math.max(i.near,vT.distanceToPoint(du.origin));c=IJ(i,f,l.resolution)}if(vT.radius+=c,du.intersectsSphere(vT)===!1)return;s.boundingBox===null&&s.computeBoundingBox(),gT.copy(s.boundingBox).applyMatrix4(a);let u;if(r)u=fg*.5;else{const f=Math.max(i.near,gT.distanceToPoint(du.origin));u=IJ(i,f,l.resolution)}gT.expandByScalar(u),du.intersectsBox(gT)!==!1&&(r?Yxt(this,n):Kxt(this,i,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(PI),this.material.uniforms.resolution.value.set(PI.z,PI.w))}}class Zxt extends Oge{constructor(e=new Rge,n=new D6({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}const Jxt=A.forwardRef(function({points:e,color:n=16777215,vertexColors:r,linewidth:i,lineWidth:o,segments:a,dashed:s,...l},c){var u,f;const d=Mf(g=>g.size),h=A.useMemo(()=>a?new Oge:new Zxt,[a]),[m]=A.useState(()=>new D6),v=(r==null||(u=r[0])==null?void 0:u.length)===4?4:3,y=A.useMemo(()=>{const g=a?new I6:new Rge,b=e.map(x=>{const _=Array.isArray(x);return x instanceof he||x instanceof Jn?[x.x,x.y,x.z]:x instanceof ft?[x.x,x.y,0]:_&&x.length===3?[x[0],x[1],x[2]]:_&&x.length===2?[x[0],x[1],0]:x});if(g.setPositions(b.flat()),r){n=16777215;const x=r.map(_=>_ instanceof zt?_.toArray():_);g.setColors(x.flat(),v)}return g},[e,a,r,v]);return A.useLayoutEffect(()=>{h.computeLineDistances()},[e,h]),A.useLayoutEffect(()=>{s?m.defines.USE_DASH="":delete m.defines.USE_DASH,m.needsUpdate=!0},[s,m]),A.useEffect(()=>()=>{y.dispose(),m.dispose()},[y]),A.createElement("primitive",Y0({object:h,ref:c},l),A.createElement("primitive",{object:y,attach:"geometry"}),A.createElement("primitive",Y0({object:m,attach:"material",color:n,vertexColors:!!r,resolution:[d.width,d.height],linewidth:(f=i??o)!==null&&f!==void 0?f:1,dashed:s,transparent:v===4},l)))}),Lge=A.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...c},u)=>{const f=Mf(C=>C.invalidate),d=Mf(C=>C.camera),h=Mf(C=>C.gl),m=Mf(C=>C.events),v=Mf(C=>C.setEvents),y=Mf(C=>C.set),g=Mf(C=>C.get),b=Mf(C=>C.performance),x=e||d,_=r||m.connected||h.domElement,T=A.useMemo(()=>new qxt(x),[x]);return i3(()=>{T.enabled&&T.update()},-1),A.useEffect(()=>(o&&T.connect(o===!0?_:o),T.connect(_),()=>void T.dispose()),[o,_,n,T,f]),A.useEffect(()=>{const C=O=>{f(),n&&b.regress(),a&&a(O)},P=O=>{s&&s(O)},I=O=>{l&&l(O)};return T.addEventListener("change",C),T.addEventListener("start",P),T.addEventListener("end",I),()=>{T.removeEventListener("start",P),T.removeEventListener("end",I),T.removeEventListener("change",C)}},[a,s,l,T,f,v]),A.useEffect(()=>{if(t){const C=g().controls;return y({controls:T}),()=>y({controls:C})}},[t,T]),A.createElement("primitive",Y0({ref:u,object:T,enableDamping:i},c))});function Qxt(t,e){const n=t+"Geometry";return A.forwardRef(({args:r,children:i,...o},a)=>{const s=A.useRef(null);return A.useImperativeHandle(a,()=>s.current),A.useLayoutEffect(()=>void(e==null?void 0:e(s.current))),A.createElement("mesh",Y0({ref:s},o),A.createElement(n,{attach:"geometry",args:r}),i)})}const ebt=Qxt("sphere");function tbt(){const{events:t}=Rr(),e=A.useRef(null),[n,r]=A.useState(new Float32Array(0));return A.useEffect(()=>{const i=[];t.slice(0,500).forEach(o=>{const a=dd(o);if(!a)return;const s=(90-a.lat)*(Math.PI/180),l=(a.lng+180)*(Math.PI/180),c=2.1,u=-(c*Math.sin(s)*Math.cos(l)),f=c*Math.cos(s),d=c*Math.sin(s)*Math.sin(l);i.push(u,f,d)}),r(new Float32Array(i))},[t]),i3(()=>{e.current&&(e.current.rotation.y+=.001)}),S.jsxs("points",{ref:e,children:[S.jsx("bufferGeometry",{children:S.jsx("bufferAttribute",{attach:"attributes-position",count:n.length/3,array:n,itemSize:3})}),S.jsx("pointsMaterial",{size:.05,color:"#10b981",sizeAttenuation:!0,transparent:!0,opacity:.8})]})}function nbt(){const t=A.useRef(null);return i3(()=>{t.current&&(t.current.rotation.y+=.002)}),S.jsxs("mesh",{ref:t,children:[S.jsx("sphereGeometry",{args:[2,64,64]}),S.jsx("meshStandardMaterial",{color:"#1e293b",wireframe:!0,opacity:.1,transparent:!0})]})}function rbt({className:t}){return S.jsx("div",{className:t,children:S.jsxs("div",{className:"p-4 bg-card rounded-lg border",children:[S.jsx("h3",{className:"text-sm font-semibold mb-3",children:"3D Globe Visualization"}),S.jsx("div",{style:{height:"500px",width:"100%"},className:"rounded-lg overflow-hidden bg-slate-950",children:S.jsxs(Age,{camera:{position:[0,0,5],fov:50},children:[S.jsx("ambientLight",{intensity:.5}),S.jsx("pointLight",{position:[10,10,10]}),S.jsx(nbt,{}),S.jsx(tbt,{}),S.jsx(Lge,{enableZoom:!0,enablePan:!1,minDistance:3,maxDistance:8})]})})]})})}const ibt=()=>S.jsxs("div",{className:"min-h-screen bg-background",children:[S.jsx(qg,{}),S.jsxs("main",{className:"pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-[1800px] mx-auto",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs(ht.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold flex items-center gap-2",children:[S.jsx(Th,{className:"w-6 h-6 text-primary"}),"Geographic Intelligence"]}),S.jsx(ht.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-sm text-muted-foreground mt-1",children:"Real-time visualization of global Wikipedia edit activity"})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2",children:S.jsxs("div",{className:"p-4 bg-card rounded-lg border",children:[S.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[S.jsx(v$,{className:"w-4 h-4 text-primary"}),"Live World Map"]}),S.jsx(idt,{className:"h-[500px]"})]})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:S.jsx(odt,{className:"h-[500px]"})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:S.jsxs("div",{className:"p-4 bg-card rounded-lg border",children:[S.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Edit Flow Arcs"}),S.jsx(adt,{className:"h-[460px]"})]})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:S.jsx(sdt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:S.jsx(ldt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:S.jsx(cdt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:S.jsx(udt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"lg:col-span-2",children:S.jsx(rbt,{})})]})]})]});function obt(t){return t}var abt=4,DJ=1e-6;function sbt(t){return"translate(0,"+t+")"}function lbt(t){return e=>+t(e)}function cbt(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ubt(){return!this.__axis}function fbt(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=-1,u="x",f=sbt;function d(h){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),v=i??(e.tickFormat?e.tickFormat.apply(e,n):obt),y=Math.max(o,0)+s,g=e.range(),b=+g[0]+l,x=+g[g.length-1]+l,_=(e.bandwidth?cbt:lbt)(e.copy(),l),T=h.selection?h.selection():h,C=T.selectAll(".domain").data([null]),P=T.selectAll(".tick").data(m,e).order(),I=P.exit(),O=P.enter().append("g").attr("class","tick"),N=P.select("line"),D=P.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(O),N=N.merge(O.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),D=D.merge(O.append("text").attr("fill","currentColor").attr(u,c*y).attr("dy","0.32em")),h!==T&&(C=C.transition(h),P=P.transition(h),N=N.transition(h),D=D.transition(h),I=I.transition(h).attr("opacity",DJ).attr("transform",function(U){return isFinite(U=_(U))?f(U+l):this.getAttribute("transform")}),O.attr("opacity",DJ).attr("transform",function(U){var V=this.parentNode.__axis;return f((V&&isFinite(V=V(U))?V:_(U))+l)})),I.remove(),C.attr("d",a?"M"+c*a+","+b+"H"+l+"V"+x+"H"+c*a:"M"+l+","+b+"V"+x),P.attr("opacity",1).attr("transform",function(U){return f(_(U)+l)}),N.attr(u+"2",c*o),D.attr(u,c*y).text(v),T.filter(ubt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","end"),T.each(function(){this.__axis=_})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(l=+h,d):l},d}function dbt(t){return fbt(abt,t)}var hbt={value:()=>{}};function o3(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cA(n)}function cA(t){this._=t}function pbt(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cA.prototype=o3.prototype={constructor:cA,on:function(t,e){var n=this._,r=pbt(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=mbt(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=jJ(n[i],t.name,e);else if(e==null)for(i in n)n[i]=jJ(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new cA(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function mbt(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function jJ(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=hbt,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var $B="http://www.w3.org/1999/xhtml";const BJ={svg:"http://www.w3.org/2000/svg",xhtml:$B,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a3(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),BJ.hasOwnProperty(e)?{space:BJ[e],local:t}:t}function gbt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$B&&e.documentElement.namespaceURI===$B?e.createElement(t):e.createElementNS(n,t)}}function vbt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function kge(t){var e=a3(t);return(e.local?vbt:gbt)(e)}function ybt(){}function j6(t){return t==null?ybt:function(){return this.querySelector(t)}}function xbt(t){typeof t!="function"&&(t=j6(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=t.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Qs(r,this._parents)}function bbt(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function _bt(){return[]}function Nge(t){return t==null?_bt:function(){return this.querySelectorAll(t)}}function wbt(t){return function(){return bbt(t.apply(this,arguments))}}function Sbt(t){typeof t=="function"?t=wbt(t):t=Nge(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),i.push(l));return new Qs(r,i)}function Ige(t){return function(){return this.matches(t)}}function Dge(t){return function(e){return e.matches(t)}}var Mbt=Array.prototype.find;function Ebt(t){return function(){return Mbt.call(this.children,t)}}function Tbt(){return this.firstElementChild}function Abt(t){return this.select(t==null?Tbt:Ebt(typeof t=="function"?t:Dge(t)))}var Cbt=Array.prototype.filter;function Pbt(){return Array.from(this.children)}function Rbt(t){return function(){return Cbt.call(this.children,t)}}function Obt(t){return this.selectAll(t==null?Pbt:Rbt(typeof t=="function"?t:Dge(t)))}function Lbt(t){typeof t!="function"&&(t=Ige(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new Qs(r,this._parents)}function jge(t){return new Array(t.length)}function kbt(){return new Qs(this._enter||this._groups.map(jge),this._parents)}function TP(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}TP.prototype={constructor:TP,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Nbt(t){return function(){return t}}function Ibt(t,e,n,r,i,o){for(var a=0,s,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new TP(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Dbt(t,e,n,r,i,o,a){var s,l,c=new Map,u=e.length,f=o.length,d=new Array(u),h;for(s=0;s<u;++s)(l=e[s])&&(d[s]=h=a.call(l,l.__data__,s,e)+"",c.has(h)?i[s]=l:c.set(h,l));for(s=0;s<f;++s)h=a.call(t,o[s],s,o)+"",(l=c.get(h))?(r[s]=l,l.__data__=o[s],c.delete(h)):n[s]=new TP(t,o[s]);for(s=0;s<u;++s)(l=e[s])&&c.get(d[s])===l&&(i[s]=l)}function jbt(t){return t.__data__}function Bbt(t,e){if(!arguments.length)return Array.from(this,jbt);var n=e?Dbt:Ibt,r=this._parents,i=this._groups;typeof t!="function"&&(t=Nbt(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=i[c],d=f.length,h=zbt(t.call(u,u&&u.__data__,c,r)),m=h.length,v=s[c]=new Array(m),y=a[c]=new Array(m),g=l[c]=new Array(d);n(u,f,v,y,g,h,e);for(var b=0,x=0,_,T;b<m;++b)if(_=v[b]){for(b>=x&&(x=b+1);!(T=y[x])&&++x<m;);_._next=T||null}}return a=new Qs(a,r),a._enter=s,a._exit=l,a}function zbt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $bt(){return new Qs(this._exit||this._groups.map(jge),this._parents)}function Fbt(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Ubt(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=n[l],u=r[l],f=c.length,d=s[l]=new Array(f),h,m=0;m<f;++m)(h=c[m]||u[m])&&(d[m]=h);for(;l<i;++l)s[l]=n[l];return new Qs(s,this._parents)}function Wbt(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Vbt(t){t||(t=Hbt);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(e)}return new Qs(i,this._parents).order()}function Hbt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gbt(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Xbt(){return Array.from(this)}function qbt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Ybt(){let t=0;for(const e of this)++t;return t}function Kbt(){return!this.node()}function Zbt(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Jbt(t){return function(){this.removeAttribute(t)}}function Qbt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function e_t(t,e){return function(){this.setAttribute(t,e)}}function t_t(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function n_t(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function r_t(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function i_t(t,e){var n=a3(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Qbt:Jbt:typeof e=="function"?n.local?r_t:n_t:n.local?t_t:e_t)(n,e))}function Bge(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function o_t(t){return function(){this.style.removeProperty(t)}}function a_t(t,e,n){return function(){this.style.setProperty(t,e,n)}}function s_t(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function l_t(t,e,n){return arguments.length>1?this.each((e==null?o_t:typeof e=="function"?s_t:a_t)(t,e,n??"")):px(this.node(),t)}function px(t,e){return t.style.getPropertyValue(e)||Bge(t).getComputedStyle(t,null).getPropertyValue(e)}function c_t(t){return function(){delete this[t]}}function u_t(t,e){return function(){this[t]=e}}function f_t(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function d_t(t,e){return arguments.length>1?this.each((e==null?c_t:typeof e=="function"?f_t:u_t)(t,e)):this.node()[t]}function zge(t){return t.trim().split(/^|\s+/)}function B6(t){return t.classList||new $ge(t)}function $ge(t){this._node=t,this._names=zge(t.getAttribute("class")||"")}$ge.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Fge(t,e){for(var n=B6(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Uge(t,e){for(var n=B6(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function h_t(t){return function(){Fge(this,t)}}function p_t(t){return function(){Uge(this,t)}}function m_t(t,e){return function(){(e.apply(this,arguments)?Fge:Uge)(this,t)}}function g_t(t,e){var n=zge(t+"");if(arguments.length<2){for(var r=B6(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?m_t:e?h_t:p_t)(n,e))}function v_t(){this.textContent=""}function y_t(t){return function(){this.textContent=t}}function x_t(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function b_t(t){return arguments.length?this.each(t==null?v_t:(typeof t=="function"?x_t:y_t)(t)):this.node().textContent}function __t(){this.innerHTML=""}function w_t(t){return function(){this.innerHTML=t}}function S_t(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function M_t(t){return arguments.length?this.each(t==null?__t:(typeof t=="function"?S_t:w_t)(t)):this.node().innerHTML}function E_t(){this.nextSibling&&this.parentNode.appendChild(this)}function T_t(){return this.each(E_t)}function A_t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C_t(){return this.each(A_t)}function P_t(t){var e=typeof t=="function"?t:kge(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function R_t(){return null}function O_t(t,e){var n=typeof t=="function"?t:kge(t),r=e==null?R_t:typeof e=="function"?e:j6(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function L_t(){var t=this.parentNode;t&&t.removeChild(this)}function k_t(){return this.each(L_t)}function N_t(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function I_t(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function D_t(t){return this.select(t?I_t:N_t)}function j_t(t){return arguments.length?this.property("__data__",t):this.node().__data__}function B_t(t){return function(e){t.call(this,e,this.__data__)}}function z_t(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function $_t(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function F_t(t,e,n){return function(){var r=this.__on,i,o=B_t(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function U_t(t,e,n){var r=z_t(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?F_t:$_t,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Wge(t,e,n){var r=Bge(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function W_t(t,e){return function(){return Wge(this,t,e)}}function V_t(t,e){return function(){return Wge(this,t,e.apply(this,arguments))}}function H_t(t,e){return this.each((typeof e=="function"?V_t:W_t)(t,e))}function*G_t(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Vge=[null];function Qs(t,e){this._groups=t,this._parents=e}function IM(){return new Qs([[document.documentElement]],Vge)}function X_t(){return this}Qs.prototype=IM.prototype={constructor:Qs,select:xbt,selectAll:Sbt,selectChild:Abt,selectChildren:Obt,filter:Lbt,data:Bbt,enter:kbt,exit:$bt,join:Fbt,merge:Ubt,selection:X_t,order:Wbt,sort:Vbt,call:Gbt,nodes:Xbt,node:qbt,size:Ybt,empty:Kbt,each:Zbt,attr:i_t,style:l_t,property:d_t,classed:g_t,text:b_t,html:M_t,raise:T_t,lower:C_t,append:P_t,insert:O_t,remove:k_t,clone:D_t,datum:j_t,on:U_t,dispatch:H_t,[Symbol.iterator]:G_t};function Wu(t){return typeof t=="string"?new Qs([[document.querySelector(t)]],[document.documentElement]):new Qs([[t]],Vge)}function q_t(t){let e;for(;e=t.sourceEvent;)t=e;return t}function zJ(t,e){if(t=q_t(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Y_t={passive:!1},MS={capture:!0,passive:!1};function LI(t){t.stopImmediatePropagation()}function u0(t){t.preventDefault(),t.stopImmediatePropagation()}function K_t(t){var e=t.document.documentElement,n=Wu(t).on("dragstart.drag",u0,MS);"onselectstart"in e?n.on("selectstart.drag",u0,MS):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Z_t(t,e){var n=t.document.documentElement,r=Wu(t).on("dragstart.drag",null);e&&(r.on("click.drag",u0,MS),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const yT=t=>()=>t;function FB(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}FB.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function J_t(t){return!t.ctrlKey&&!t.button}function Q_t(){return this.parentNode}function e1t(t,e){return e??{x:t.x,y:t.y}}function t1t(){return navigator.maxTouchPoints||"ontouchstart"in this}function n1t(){var t=J_t,e=Q_t,n=e1t,r=t1t,i={},o=o3("start","drag","end"),a=0,s,l,c,u,f=0;function d(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",g,Y_t).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,T){if(!(u||!t.call(this,_,T))){var C=x(this,e.call(this,_,T),_,T,"mouse");C&&(Wu(_.view).on("mousemove.drag",m,MS).on("mouseup.drag",v,MS),K_t(_.view),LI(_),c=!1,s=_.clientX,l=_.clientY,C("start",_))}}function m(_){if(u0(_),!c){var T=_.clientX-s,C=_.clientY-l;c=T*T+C*C>f}i.mouse("drag",_)}function v(_){Wu(_.view).on("mousemove.drag mouseup.drag",null),Z_t(_.view,c),u0(_),i.mouse("end",_)}function y(_,T){if(t.call(this,_,T)){var C=_.changedTouches,P=e.call(this,_,T),I=C.length,O,N;for(O=0;O<I;++O)(N=x(this,P,_,T,C[O].identifier,C[O]))&&(LI(_),N("start",_,C[O]))}}function g(_){var T=_.changedTouches,C=T.length,P,I;for(P=0;P<C;++P)(I=i[T[P].identifier])&&(u0(_),I("drag",_,T[P]))}function b(_){var T=_.changedTouches,C=T.length,P,I;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),P=0;P<C;++P)(I=i[T[P].identifier])&&(LI(_),I("end",_,T[P]))}function x(_,T,C,P,I,O){var N=o.copy(),D=zJ(O||C,T),U,V,z;if((z=n.call(_,new FB("beforestart",{sourceEvent:C,target:d,identifier:I,active:a,x:D[0],y:D[1],dx:0,dy:0,dispatch:N}),P))!=null)return U=z.x-D[0]||0,V=z.y-D[1]||0,function F(W,X,B){var G=D,q;switch(W){case"start":i[I]=F,q=a++;break;case"end":delete i[I],--a;case"drag":D=zJ(B||X,T),q=a;break}N.call(W,_,new FB(W,{sourceEvent:X,subject:z,target:d,identifier:I,active:q,x:D[0]+U,y:D[1]+V,dx:D[0]-G[0],dy:D[1]-G[1],dispatch:N}),P)}}return d.filter=function(_){return arguments.length?(t=typeof _=="function"?_:yT(!!_),d):t},d.container=function(_){return arguments.length?(e=typeof _=="function"?_:yT(_),d):e},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:yT(_),d):n},d.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:yT(!!_),d):r},d.on=function(){var _=o.on.apply(o,arguments);return _===o?d:_},d.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,d):Math.sqrt(f)},d}var mx=0,z_=0,S_=0,Hge=1e3,AP,$_,CP=0,jg=0,s3=0,ES=typeof performance=="object"&&performance.now?performance:Date,Gge=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function z6(){return jg||(Gge(r1t),jg=ES.now()+s3)}function r1t(){jg=0}function PP(){this._call=this._time=this._next=null}PP.prototype=$6.prototype={constructor:PP,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?z6():+n)+(e==null?0:+e),!this._next&&$_!==this&&($_?$_._next=this:AP=this,$_=this),this._call=t,this._time=n,UB()},stop:function(){this._call&&(this._call=null,this._time=1/0,UB())}};function $6(t,e,n){var r=new PP;return r.restart(t,e,n),r}function i1t(){z6(),++mx;for(var t=AP,e;t;)(e=jg-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mx}function $J(){jg=(CP=ES.now())+s3,mx=z_=0;try{i1t()}finally{mx=0,a1t(),jg=0}}function o1t(){var t=ES.now(),e=t-CP;e>Hge&&(s3-=e,CP=t)}function a1t(){for(var t,e=AP,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:AP=n);$_=t,UB(r)}function UB(t){if(!mx){z_&&(z_=clearTimeout(z_));var e=t-jg;e>24?(t<1/0&&(z_=setTimeout($J,t-ES.now()-s3)),S_&&(S_=clearInterval(S_))):(S_||(CP=ES.now(),S_=setInterval(o1t,Hge)),mx=1,Gge($J))}}function FJ(t,e,n){var r=new PP;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var s1t=o3("start","end","cancel","interrupt"),l1t=[],Xge=0,UJ=1,WB=2,uA=3,WJ=4,VB=5,fA=6;function l3(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;c1t(t,n,{name:e,index:r,group:i,on:s1t,tween:l1t,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Xge})}function F6(t,e){var n=Wc(t,e);if(n.state>Xge)throw new Error("too late; already scheduled");return n}function Ju(t,e){var n=Wc(t,e);if(n.state>uA)throw new Error("too late; already running");return n}function Wc(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function c1t(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$6(o,0,n.time);function o(c){n.state=UJ,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var u,f,d,h;if(n.state!==UJ)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===uA)return FJ(a);h.state===WJ?(h.state=fA,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=fA,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(FJ(function(){n.state===uA&&(n.state=WJ,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=WB,n.on.call("start",t,t.__data__,n.index,n.group),n.state===WB){for(n.state=uA,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=VB,1),f=-1,d=i.length;++f<d;)i[f].call(t,u);n.state===VB&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=fA,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function u1t(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>WB&&r.state<VB,r.state=fA,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function f1t(t){return this.each(function(){u1t(this,t)})}function d1t(t,e){var n,r;return function(){var i=Ju(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function h1t(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ju(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function p1t(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Wc(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?d1t:h1t)(n,t,e))}function U6(t,e,n){var r=t._id;return t.each(function(){var i=Ju(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Wc(i,r).value[e]}}function qge(t,e){var n;return(typeof e=="number"?Al:e instanceof Mg?xC:(n=Mg(e))?(e=n,xC):cU)(t,e)}function m1t(t){return function(){this.removeAttribute(t)}}function g1t(t){return function(){this.removeAttributeNS(t.space,t.local)}}function v1t(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function y1t(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function x1t(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function b1t(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function _1t(t,e){var n=a3(t),r=n==="transform"?Pze:qge;return this.attrTween(t,typeof e=="function"?(n.local?b1t:x1t)(n,r,U6(this,"attr."+t,e)):e==null?(n.local?g1t:m1t)(n):(n.local?y1t:v1t)(n,r,e))}function w1t(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function S1t(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function M1t(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&S1t(t,o)),n}return i._value=e,i}function E1t(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&w1t(t,o)),n}return i._value=e,i}function T1t(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=a3(t);return this.tween(n,(r.local?M1t:E1t)(r,e))}function A1t(t,e){return function(){F6(this,t).delay=+e.apply(this,arguments)}}function C1t(t,e){return e=+e,function(){F6(this,t).delay=e}}function P1t(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?A1t:C1t)(e,t)):Wc(this.node(),e).delay}function R1t(t,e){return function(){Ju(this,t).duration=+e.apply(this,arguments)}}function O1t(t,e){return e=+e,function(){Ju(this,t).duration=e}}function L1t(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?R1t:O1t)(e,t)):Wc(this.node(),e).duration}function k1t(t,e){if(typeof e!="function")throw new Error;return function(){Ju(this,t).ease=e}}function N1t(t){var e=this._id;return arguments.length?this.each(k1t(e,t)):Wc(this.node(),e).ease}function I1t(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ju(this,t).ease=n}}function D1t(t){if(typeof t!="function")throw new Error;return this.each(I1t(this._id,t))}function j1t(t){typeof t!="function"&&(t=Ige(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new gd(r,this._parents,this._name,this._id)}function B1t(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],c=n[s],u=l.length,f=a[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<r;++s)a[s]=e[s];return new gd(a,this._parents,this._name,this._id)}function z1t(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function $1t(t,e,n){var r,i,o=z1t(e)?F6:Ju;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function F1t(t,e){var n=this._id;return arguments.length<2?Wc(this.node(),n).on.on(t):this.each($1t(n,t,e))}function U1t(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function W1t(){return this.on("end.remove",U1t(this._id))}function V1t(t){var e=this._name,n=this._id;typeof t!="function"&&(t=j6(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,c=o[a]=new Array(l),u,f,d=0;d<l;++d)(u=s[d])&&(f=t.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,l3(c[d],e,n,d,c,Wc(u,n)));return new gd(o,this._parents,e,n)}function H1t(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Nge(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=t.call(u,u.__data__,f,l),h,m=Wc(u,n),v=0,y=d.length;v<y;++v)(h=d[v])&&l3(h,e,n,v,d,m);o.push(d),a.push(u)}return new gd(o,a,e,n)}var G1t=IM.prototype.constructor;function X1t(){return new G1t(this._groups,this._parents)}function q1t(t,e){var n,r,i;return function(){var o=px(this,t),a=(this.style.removeProperty(t),px(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Yge(t){return function(){this.style.removeProperty(t)}}function Y1t(t,e,n){var r,i=n+"",o;return function(){var a=px(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function K1t(t,e,n){var r,i,o;return function(){var a=px(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),px(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function Z1t(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=Ju(this,t),c=l.on,u=l.value[o]==null?s||(s=Yge(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(a,i=u),l.on=r}}function J1t(t,e,n){var r=(t+="")=="transform"?Cze:qge;return e==null?this.styleTween(t,q1t(t,r)).on("end.style."+t,Yge(t)):typeof e=="function"?this.styleTween(t,K1t(t,r,U6(this,"style."+t,e))).each(Z1t(this._id,t)):this.styleTween(t,Y1t(t,r,e),n).on("end.style."+t,null)}function Q1t(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ewt(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Q1t(t,a,n)),r}return o._value=e,o}function twt(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ewt(t,e,n??""))}function nwt(t){return function(){this.textContent=t}}function rwt(t){return function(){var e=t(this);this.textContent=e??""}}function iwt(t){return this.tween("text",typeof t=="function"?rwt(U6(this,"text",t)):nwt(t==null?"":t+""))}function owt(t){return function(e){this.textContent=t.call(this,e)}}function awt(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&owt(i)),e}return r._value=t,r}function swt(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,awt(t))}function lwt(){for(var t=this._name,e=this._id,n=Kge(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=Wc(l,e);l3(l,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new gd(r,this._parents,t,n)}function cwt(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var c=Ju(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),c.on=e}),i===0&&o()})}var uwt=0;function gd(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Kge(){return++uwt}var wf=IM.prototype;gd.prototype={constructor:gd,select:V1t,selectAll:H1t,selectChild:wf.selectChild,selectChildren:wf.selectChildren,filter:j1t,merge:B1t,selection:X1t,transition:lwt,call:wf.call,nodes:wf.nodes,node:wf.node,size:wf.size,empty:wf.empty,each:wf.each,on:F1t,attr:_1t,attrTween:T1t,style:J1t,styleTween:twt,text:iwt,textTween:swt,remove:W1t,tween:p1t,delay:P1t,duration:L1t,ease:N1t,easeVarying:D1t,end:cwt,[Symbol.iterator]:wf[Symbol.iterator]};function fwt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var dwt={time:null,delay:0,duration:250,ease:fwt};function hwt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function pwt(t){var e,n;t instanceof gd?(e=t._id,t=t._name):(e=Kge(),(n=dwt).time=z6(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&l3(l,t,e,c,a,n||hwt(l,e));return new gd(r,this._parents,t,e)}IM.prototype.interrupt=f1t;IM.prototype.transition=pwt;function mwt(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,a=n.length,s,l=0,c=0;for(o=0;o<a;++o)s=n[o],l+=s.x,c+=s.y;for(l=(l/a-t)*r,c=(c/a-e)*r,o=0;o<a;++o)s=n[o],s.x-=l,s.y-=c}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function gwt(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Zge(this.cover(e,n),e,n,t)}function Zge(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,a={data:r},s=t._x0,l=t._y0,c=t._x1,u=t._y1,f,d,h,m,v,y,g,b;if(!o)return t._root=a,t;for(;o.length;)if((v=e>=(f=(s+c)/2))?s=f:c=f,(y=n>=(d=(l+u)/2))?l=d:u=d,i=o,!(o=o[g=y<<1|v]))return i[g]=a,t;if(h=+t._x.call(null,o.data),m=+t._y.call(null,o.data),e===h&&n===m)return a.next=o,i?i[g]=a:t._root=a,t;do i=i?i[g]=new Array(4):t._root=new Array(4),(v=e>=(f=(s+c)/2))?s=f:c=f,(y=n>=(d=(l+u)/2))?l=d:u=d;while((g=y<<1|v)===(b=(m>=d)<<1|h>=f));return i[b]=o,i[g]=a,t}function vwt(t){var e,n,r=t.length,i,o,a=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=i,s[n]=o,i<l&&(l=i),i>u&&(u=i),o<c&&(c=o),o>f&&(f=o));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)Zge(this,a[n],s[n],t[n]);return this}function ywt(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a=i-n||1,s=this._root,l,c;n>t||t>=i||r>e||e>=o;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=s,s=l,a*=2,c){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function xwt(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function bwt(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function $a(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function _wt(t,e,n){var r,i=this._x0,o=this._y0,a,s,l,c,u=this._x1,f=this._y1,d=[],h=this._root,m,v;for(h&&d.push(new $a(h,i,o,u,f)),n==null?n=1/0:(i=t-n,o=e-n,u=t+n,f=e+n,n*=n);m=d.pop();)if(!(!(h=m.node)||(a=m.x0)>u||(s=m.y0)>f||(l=m.x1)<i||(c=m.y1)<o))if(h.length){var y=(a+l)/2,g=(s+c)/2;d.push(new $a(h[3],y,g,l,c),new $a(h[2],a,g,y,c),new $a(h[1],y,s,l,g),new $a(h[0],a,s,y,g)),(v=(e>=g)<<1|t>=y)&&(m=d[d.length-1],d[d.length-1]=d[d.length-1-v],d[d.length-1-v]=m)}else{var b=t-+this._x.call(null,h.data),x=e-+this._y.call(null,h.data),_=b*b+x*x;if(_<n){var T=Math.sqrt(n=_);i=t-T,o=e-T,u=t+T,f=e+T,r=h.data}}return r}function wwt(t){if(isNaN(u=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,s=this._y0,l=this._x1,c=this._y1,u,f,d,h,m,v,y,g;if(!n)return this;if(n.length)for(;;){if((m=u>=(d=(a+l)/2))?a=d:l=d,(v=f>=(h=(s+c)/2))?s=h:c=h,e=n,!(n=n[y=v<<1|m]))return this;if(!n.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,g=y)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[y]=o:delete e[y],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=o,this)}function Swt(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Mwt(){return this._root}function Ewt(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Twt(t){var e=[],n,r=this._root,i,o,a,s,l;for(r&&e.push(new $a(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(o+s)/2,u=(a+l)/2;(i=r[3])&&e.push(new $a(i,c,u,s,l)),(i=r[2])&&e.push(new $a(i,o,u,c,l)),(i=r[1])&&e.push(new $a(i,c,a,s,u)),(i=r[0])&&e.push(new $a(i,o,a,c,u))}return this}function Awt(t){var e=[],n=[],r;for(this._root&&e.push(new $a(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,l=r.x1,c=r.y1,u=(a+l)/2,f=(s+c)/2;(o=i[0])&&e.push(new $a(o,a,s,u,f)),(o=i[1])&&e.push(new $a(o,u,s,l,f)),(o=i[2])&&e.push(new $a(o,a,f,u,c)),(o=i[3])&&e.push(new $a(o,u,f,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Cwt(t){return t[0]}function Pwt(t){return arguments.length?(this._x=t,this):this._x}function Rwt(t){return t[1]}function Owt(t){return arguments.length?(this._y=t,this):this._y}function W6(t,e,n){var r=new V6(e??Cwt,n??Rwt,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function V6(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function VJ(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Za=W6.prototype=V6.prototype;Za.copy=function(){var t=new V6(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=VJ(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=VJ(r));return t};Za.add=gwt;Za.addAll=vwt;Za.cover=ywt;Za.data=xwt;Za.extent=bwt;Za.find=_wt;Za.remove=wwt;Za.removeAll=Swt;Za.root=Mwt;Za.size=Ewt;Za.visit=Twt;Za.visitAfter=Awt;Za.x=Pwt;Za.y=Owt;function dg(t){return function(){return t}}function Nh(t){return(t()-.5)*1e-6}function Lwt(t){return t.x+t.vx}function kwt(t){return t.y+t.vy}function Nwt(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=dg(t==null?1:+t));function a(){for(var c,u=e.length,f,d,h,m,v,y,g=0;g<o;++g)for(f=W6(e,Lwt,kwt).visitAfter(s),c=0;c<u;++c)d=e[c],v=n[d.index],y=v*v,h=d.x+d.vx,m=d.y+d.vy,f.visit(b);function b(x,_,T,C,P){var I=x.data,O=x.r,N=v+O;if(I){if(I.index>d.index){var D=h-I.x-I.vx,U=m-I.y-I.vy,V=D*D+U*U;V<N*N&&(D===0&&(D=Nh(r),V+=D*D),U===0&&(U=Nh(r),V+=U*U),V=(N-(V=Math.sqrt(V)))/V*i,d.vx+=(D*=V)*(N=(O*=O)/(y+O)),d.vy+=(U*=V)*N,I.vx-=D*(N=1-N),I.vy-=U*N)}return}return _>h+N||C<h-N||T>m+N||P<m-N}}function s(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(e){var c,u=e.length,f;for(n=new Array(u),c=0;c<u;++c)f=e[c],n[f.index]=+t(f,c,e)}}return a.initialize=function(c,u){e=c,r=u,l()},a.iterations=function(c){return arguments.length?(o=+c,a):o},a.strength=function(c){return arguments.length?(i=+c,a):i},a.radius=function(c){return arguments.length?(t=typeof c=="function"?c:dg(+c),l(),a):t},a}function Iwt(t){return t.index}function HJ(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Dwt(t){var e=Iwt,n=f,r,i=dg(30),o,a,s,l,c,u=1;t==null&&(t=[]);function f(y){return 1/Math.min(s[y.source.index],s[y.target.index])}function d(y){for(var g=0,b=t.length;g<u;++g)for(var x=0,_,T,C,P,I,O,N;x<b;++x)_=t[x],T=_.source,C=_.target,P=C.x+C.vx-T.x-T.vx||Nh(c),I=C.y+C.vy-T.y-T.vy||Nh(c),O=Math.sqrt(P*P+I*I),O=(O-o[x])/O*y*r[x],P*=O,I*=O,C.vx-=P*(N=l[x]),C.vy-=I*N,T.vx+=P*(N=1-N),T.vy+=I*N}function h(){if(a){var y,g=a.length,b=t.length,x=new Map(a.map((T,C)=>[e(T,C,a),T])),_;for(y=0,s=new Array(g);y<b;++y)_=t[y],_.index=y,typeof _.source!="object"&&(_.source=HJ(x,_.source)),typeof _.target!="object"&&(_.target=HJ(x,_.target)),s[_.source.index]=(s[_.source.index]||0)+1,s[_.target.index]=(s[_.target.index]||0)+1;for(y=0,l=new Array(b);y<b;++y)_=t[y],l[y]=s[_.source.index]/(s[_.source.index]+s[_.target.index]);r=new Array(b),m(),o=new Array(b),v()}}function m(){if(a)for(var y=0,g=t.length;y<g;++y)r[y]=+n(t[y],y,t)}function v(){if(a)for(var y=0,g=t.length;y<g;++y)o[y]=+i(t[y],y,t)}return d.initialize=function(y,g){a=y,c=g,h()},d.links=function(y){return arguments.length?(t=y,h(),d):t},d.id=function(y){return arguments.length?(e=y,d):e},d.iterations=function(y){return arguments.length?(u=+y,d):u},d.strength=function(y){return arguments.length?(n=typeof y=="function"?y:dg(+y),m(),d):n},d.distance=function(y){return arguments.length?(i=typeof y=="function"?y:dg(+y),v(),d):i},d}const jwt=1664525,Bwt=1013904223,GJ=4294967296;function zwt(){let t=1;return()=>(t=(jwt*t+Bwt)%GJ)/GJ}function $wt(t){return t.x}function Fwt(t){return t.y}var Uwt=10,Wwt=Math.PI*(3-Math.sqrt(5));function Vwt(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=$6(f),c=o3("tick","end"),u=zwt();t==null&&(t=[]);function f(){d(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function d(v){var y,g=t.length,b;v===void 0&&(v=1);for(var x=0;x<v;++x)for(n+=(o-n)*i,s.forEach(function(_){_(n)}),y=0;y<g;++y)b=t[y],b.fx==null?b.x+=b.vx*=a:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=a:(b.y=b.fy,b.vy=0);return e}function h(){for(var v=0,y=t.length,g;v<y;++v){if(g=t[v],g.index=v,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var b=Uwt*Math.sqrt(.5+v),x=v*Wwt;g.x=b*Math.cos(x),g.y=b*Math.sin(x)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function m(v){return v.initialize&&v.initialize(t,u),v}return h(),e={tick:d,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(v){return arguments.length?(t=v,h(),s.forEach(m),e):t},alpha:function(v){return arguments.length?(n=+v,e):n},alphaMin:function(v){return arguments.length?(r=+v,e):r},alphaDecay:function(v){return arguments.length?(i=+v,e):+i},alphaTarget:function(v){return arguments.length?(o=+v,e):o},velocityDecay:function(v){return arguments.length?(a=1-v,e):1-a},randomSource:function(v){return arguments.length?(u=v,s.forEach(m),e):u},force:function(v,y){return arguments.length>1?(y==null?s.delete(v):s.set(v,m(y)),e):s.get(v)},find:function(v,y,g){var b=0,x=t.length,_,T,C,P,I;for(g==null?g=1/0:g*=g,b=0;b<x;++b)P=t[b],_=v-P.x,T=y-P.y,C=_*_+T*T,C<g&&(I=P,g=C);return I},on:function(v,y){return arguments.length>1?(c.on(v,y),e):c.on(v)}}}function Hwt(){var t,e,n,r,i=dg(-30),o,a=1,s=1/0,l=.81;function c(h){var m,v=t.length,y=W6(t,$wt,Fwt).visitAfter(f);for(r=h,m=0;m<v;++m)e=t[m],y.visit(d)}function u(){if(t){var h,m=t.length,v;for(o=new Array(m),h=0;h<m;++h)v=t[h],o[v.index]=+i(v,h,t)}}function f(h){var m=0,v,y,g=0,b,x,_;if(h.length){for(b=x=_=0;_<4;++_)(v=h[_])&&(y=Math.abs(v.value))&&(m+=v.value,g+=y,b+=y*v.x,x+=y*v.y);h.x=b/g,h.y=x/g}else{v=h,v.x=v.data.x,v.y=v.data.y;do m+=o[v.data.index];while(v=v.next)}h.value=m}function d(h,m,v,y){if(!h.value)return!0;var g=h.x-e.x,b=h.y-e.y,x=y-m,_=g*g+b*b;if(x*x/l<_)return _<s&&(g===0&&(g=Nh(n),_+=g*g),b===0&&(b=Nh(n),_+=b*b),_<a&&(_=Math.sqrt(a*_)),e.vx+=g*h.value*r/_,e.vy+=b*h.value*r/_),!0;if(h.length||_>=s)return;(h.data!==e||h.next)&&(g===0&&(g=Nh(n),_+=g*g),b===0&&(b=Nh(n),_+=b*b),_<a&&(_=Math.sqrt(a*_)));do h.data!==e&&(x=o[h.data.index]*r/_,e.vx+=g*x,e.vy+=b*x);while(h=h.next)}return c.initialize=function(h,m){t=h,n=m,u()},c.strength=function(h){return arguments.length?(i=typeof h=="function"?h:dg(+h),u(),c):i},c.distanceMin=function(h){return arguments.length?(a=h*h,c):Math.sqrt(a)},c.distanceMax=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function Gwt(t,e){return t.parent===e.parent?1:2}function Xwt(t){return t.reduce(qwt,0)/t.length}function qwt(t,e){return t+e.x}function Ywt(t){return 1+t.reduce(Kwt,0)}function Kwt(t,e){return Math.max(t,e.y)}function Zwt(t){for(var e;e=t.children;)t=e[0];return t}function Jwt(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Qwt(){var t=Gwt,e=1,n=1,r=!1;function i(o){var a,s=0;o.eachAfter(function(d){var h=d.children;h?(d.x=Xwt(h),d.y=Ywt(h)):(d.x=a?s+=t(d,a):0,d.y=0,a=d)});var l=Zwt(o),c=Jwt(o),u=l.x-t(l,c)/2,f=c.x+t(c,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*e,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-u)/(f-u)*e,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,e=+o[0],n=+o[1],i):r?null:[e,n]},i.nodeSize=function(o){return arguments.length?(r=!0,e=+o[0],n=+o[1],i):r?[e,n]:null},i}function eSt(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function tSt(){return this.eachAfter(eSt)}function nSt(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function rSt(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function iSt(t,e){for(var n=this,r=[n],i=[],o,a,s,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function oSt(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function aSt(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function sSt(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function lSt(t){for(var e=this,n=cSt(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function cSt(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function uSt(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function fSt(){return Array.from(this)}function dSt(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function hSt(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*pSt(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function ub(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=vSt)):e===void 0&&(e=gSt);for(var n=new RP(t),r,i=[n],o,a,s,l;r=i.pop();)if((a=e(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,s=l-1;s>=0;--s)i.push(o=a[s]=new RP(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(xSt)}function mSt(){return ub(this).eachBefore(ySt)}function gSt(t){return t.children}function vSt(t){return Array.isArray(t)?t[1]:null}function ySt(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function xSt(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function RP(t){this.data=t,this.depth=this.height=0,this.parent=null}RP.prototype=ub.prototype={constructor:RP,count:tSt,each:nSt,eachAfter:iSt,eachBefore:rSt,find:oSt,sum:aSt,sort:sSt,path:lSt,ancestors:uSt,descendants:fSt,leaves:dSt,links:hSt,copy:mSt,[Symbol.iterator]:pSt};function bSt(t){return t==null?null:Jge(t)}function Jge(t){if(typeof t!="function")throw new Error;return t}function Pm(){return 0}function py(t){return function(){return t}}const _St=1664525,wSt=1013904223,XJ=4294967296;function SSt(){let t=1;return()=>(t=(_St*t+wSt)%XJ)/XJ}function MSt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ESt(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function TSt(t,e){for(var n=0,r=(t=ESt(Array.from(t),e)).length,i=[],o,a;n<r;)o=t[n],a&&Qge(a,o)?++n:(a=CSt(i=ASt(i,o)),n=0);return a}function ASt(t,e){var n,r;if(kI(e,t))return[e];for(n=0;n<t.length;++n)if(xT(e,t[n])&&kI(F_(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(xT(F_(t[n],t[r]),e)&&xT(F_(t[n],e),t[r])&&xT(F_(t[r],e),t[n])&&kI(eve(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function xT(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Qge(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function kI(t,e){for(var n=0;n<e.length;++n)if(!Qge(t,e[n]))return!1;return!0}function CSt(t){switch(t.length){case 1:return PSt(t[0]);case 2:return F_(t[0],t[1]);case 3:return eve(t[0],t[1],t[2])}}function PSt(t){return{x:t.x,y:t.y,r:t.r}}function F_(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,c=a-r,u=s-i,f=Math.sqrt(l*l+c*c);return{x:(n+o+l/f*u)/2,y:(r+a+c/f*u)/2,r:(f+i+s)/2}}function eve(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,c=n.x,u=n.y,f=n.r,d=r-a,h=r-c,m=i-s,v=i-u,y=l-o,g=f-o,b=r*r+i*i-o*o,x=b-a*a-s*s+l*l,_=b-c*c-u*u+f*f,T=h*m-d*v,C=(m*_-v*x)/(T*2)-r,P=(v*y-m*g)/T,I=(h*x-d*_)/(T*2)-i,O=(d*g-h*y)/T,N=P*P+O*O-1,D=2*(o+C*P+I*O),U=C*C+I*I-o*o,V=-(Math.abs(N)>1e-6?(D+Math.sqrt(D*D-4*N*U))/(2*N):U/D);return{x:r+C+P*V,y:i+I+O*V,r:V}}function qJ(t,e,n){var r=t.x-e.x,i,o,a=t.y-e.y,s,l,c=r*r+a*a;c?(o=e.r+n.r,o*=o,l=t.r+n.r,l*=l,o>l?(i=(c+l-o)/(2*c),s=Math.sqrt(Math.max(0,l/c-i*i)),n.x=t.x-i*r-s*a,n.y=t.y-i*a+s*r):(i=(c+o-l)/(2*c),s=Math.sqrt(Math.max(0,o/c-i*i)),n.x=e.x+i*r-s*a,n.y=e.y+i*a+s*r)):(n.x=e.x+n.r,n.y=e.y)}function YJ(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function KJ(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function bT(t){this._=t,this.next=null,this.previous=null}function RSt(t,e){if(!(o=(t=MSt(t)).length))return 0;var n,r,i,o,a,s,l,c,u,f,d;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;qJ(r,n,i=t[2]),n=new bT(n),r=new bT(r),i=new bT(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){qJ(n._,r._,i=t[l]),i=new bT(i),c=r.next,u=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(YJ(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.next}else{if(YJ(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=KJ(n);(i=i.next)!==r;)(s=KJ(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=TSt(n,e),l=0;l<o;++l)n=t[l],n.x-=i.x,n.y-=i.y;return i.r}function OSt(t){return Math.sqrt(t.value)}function LSt(){var t=null,e=1,n=1,r=Pm;function i(o){const a=SSt();return o.x=e/2,o.y=n/2,t?o.eachBefore(ZJ(t)).eachAfter(NI(r,.5,a)).eachBefore(JJ(1)):o.eachBefore(ZJ(OSt)).eachAfter(NI(Pm,1,a)).eachAfter(NI(r,o.r/Math.min(e,n),a)).eachBefore(JJ(Math.min(e,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=bSt(o),i):t},i.size=function(o){return arguments.length?(e=+o[0],n=+o[1],i):[e,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:py(+o),i):r},i}function ZJ(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function NI(t,e,n){return function(r){if(i=r.children){var i,o,a=i.length,s=t(r)*e||0,l;if(s)for(o=0;o<a;++o)i[o].r+=s;if(l=RSt(i,n),s)for(o=0;o<a;++o)i[o].r-=s;r.r=l+s}}}function JJ(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function tve(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function c3(t,e,n,r,i){for(var o=t.children,a,s=-1,l=o.length,c=t.value&&(r-e)/t.value;++s<l;)a=o[s],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c}function kSt(){var t=1,e=1,n=0,r=!1;function i(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/s,a.eachBefore(o(e,s)),r&&a.eachBefore(tve),a}function o(a,s){return function(l){l.children&&c3(l,l.x0,a*(l.depth+1)/s,l.x1,a*(l.depth+2)/s);var c=l.x0,u=l.y0,f=l.x1-n,d=l.y1-n;f<c&&(c=f=(c+f)/2),d<u&&(u=d=(u+d)/2),l.x0=c,l.y0=u,l.x1=f,l.y1=d}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(t=+a[0],e=+a[1],i):[t,e]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}function H6(t,e,n,r,i){for(var o=t.children,a,s=-1,l=o.length,c=t.value&&(i-n)/t.value;++s<l;)a=o[s],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c}var NSt=(1+Math.sqrt(5))/2;function ISt(t,e,n,r,i,o){for(var a=[],s=e.children,l,c,u=0,f=0,d=s.length,h,m,v=e.value,y,g,b,x,_,T,C;u<d;){h=i-n,m=o-r;do y=s[f++].value;while(!y&&f<d);for(g=b=y,T=Math.max(m/h,h/m)/(v*t),C=y*y*T,_=Math.max(b/C,C/g);f<d;++f){if(y+=c=s[f].value,c<g&&(g=c),c>b&&(b=c),C=y*y*T,x=Math.max(b/C,C/g),x>_){y-=c;break}_=x}a.push(l={value:y,dice:h<m,children:s.slice(u,f)}),l.dice?c3(l,n,r,i,v?r+=m*y/v:o):H6(l,n,r,v?n+=h*y/v:i,o),v-=y,u=f}return a}const nve=function t(e){function n(r,i,o,a,s){ISt(e,r,i,o,a,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(NSt);function DSt(){var t=nve,e=!1,n=1,r=1,i=[0],o=Pm,a=Pm,s=Pm,l=Pm,c=Pm;function u(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],e&&d.eachBefore(tve),d}function f(d){var h=i[d.depth],m=d.x0+h,v=d.y0+h,y=d.x1-h,g=d.y1-h;y<m&&(m=y=(m+y)/2),g<v&&(v=g=(v+g)/2),d.x0=m,d.y0=v,d.x1=y,d.y1=g,d.children&&(h=i[d.depth+1]=o(d)/2,m+=c(d)-h,v+=a(d)-h,y-=s(d)-h,g-=l(d)-h,y<m&&(m=y=(m+y)/2),g<v&&(v=g=(v+g)/2),t(d,m,v,y,g))}return u.round=function(d){return arguments.length?(e=!!d,u):e},u.size=function(d){return arguments.length?(n=+d[0],r=+d[1],u):[n,r]},u.tile=function(d){return arguments.length?(t=Jge(d),u):t},u.padding=function(d){return arguments.length?u.paddingInner(d).paddingOuter(d):u.paddingInner()},u.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:py(+d),u):o},u.paddingOuter=function(d){return arguments.length?u.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):u.paddingTop()},u.paddingTop=function(d){return arguments.length?(a=typeof d=="function"?d:py(+d),u):a},u.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:py(+d),u):s},u.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:py(+d),u):l},u.paddingLeft=function(d){return arguments.length?(c=typeof d=="function"?d:py(+d),u):c},u}function jSt(t,e,n,r,i){var o=t.children,a,s=o.length,l,c=new Array(s+1);for(c[0]=l=a=0;a<s;++a)c[a+1]=l+=o[a].value;u(0,s,t.value,e,n,r,i);function u(f,d,h,m,v,y,g){if(f>=d-1){var b=o[f];b.x0=m,b.y0=v,b.x1=y,b.y1=g;return}for(var x=c[f],_=h/2+x,T=f+1,C=d-1;T<C;){var P=T+C>>>1;c[P]<_?T=P+1:C=P}_-c[T-1]<c[T]-_&&f+1<T&&--T;var I=c[T]-x,O=h-I;if(y-m>g-v){var N=h?(m*O+y*I)/h:y;u(f,T,I,m,v,N,g),u(T,d,O,N,v,y,g)}else{var D=h?(v*O+g*I)/h:g;u(f,T,I,m,v,y,D),u(T,d,O,m,D,y,g)}}}function BSt(t,e,n,r,i){(t.depth&1?H6:c3)(t,e,n,r,i)}function U_(t,e,n){this.k=t,this.x=e,this.y=n}U_.prototype={constructor:U_,scale:function(t){return t===1?this:new U_(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new U_(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};U_.prototype;function zSt({className:t}){const e=A.useRef(null),{events:n}=Rr(),[r,i]=A.useState({nodes:0,links:0});return A.useEffect(()=>{if(!e.current||n.length===0)return;const o=new Map,a=[];n.slice(0,50).forEach(v=>{o.has(v.user)?o.get(v.user).value++:o.set(v.user,{id:v.user,group:"user",value:1}),o.has(v.title)?o.get(v.title).value++:o.set(v.title,{id:v.title,group:"article",value:1}),a.push({source:v.user,target:v.title})});const s=Array.from(o.values());i({nodes:s.length,links:a.length}),Wu(e.current).selectAll("*").remove();const l=e.current.clientWidth,c=e.current.clientHeight,u=Wu(e.current).attr("viewBox",[0,0,l,c]),f=Vwt(s).force("link",Dwt(a).id(v=>v.id).distance(50)).force("charge",Hwt().strength(-100)).force("center",mwt(l/2,c/2)).force("collide",Nwt().radius(20)),d=u.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(a).join("line").attr("stroke-width",1),h=u.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(s).join("circle").attr("r",v=>v.group==="user"?5:8).attr("fill",v=>v.group==="user"?"#3b82f6":"#10b981").call(m(f));h.append("title").text(v=>v.id),f.on("tick",()=>{d.attr("x1",v=>v.source.x).attr("y1",v=>v.source.y).attr("x2",v=>v.target.x).attr("y2",v=>v.target.y),h.attr("cx",v=>v.x).attr("cy",v=>v.y)});function m(v){function y(x){x.active||v.alphaTarget(.3).restart(),x.subject.fx=x.subject.x,x.subject.fy=x.subject.y}function g(x){x.subject.fx=x.x,x.subject.fy=x.y}function b(x){x.active||v.alphaTarget(0),x.subject.fx=null,x.subject.fy=null}return n1t().on("start",y).on("drag",g).on("end",b)}return()=>{f.stop()}},[n]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"font-semibold text-sm",children:"Editor-Article Network"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(vr,{variant:"secondary",children:[r.nodes," Nodes"]}),S.jsxs(vr,{variant:"secondary",children:[r.links," Links"]})]})]}),S.jsx("svg",{ref:e,className:"w-full h-[300px] bg-slate-950/50 rounded-lg"})]})}function QJ(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function rve(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function II(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function $St(t){return t.target.depth}function FSt(t){return t.depth}function USt(t,e){return e-1-t.height}function ive(t,e){return t.sourceLinks.length?t.depth:e-1}function WSt(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?rve(t.sourceLinks,$St)-1:0}function _T(t){return function(){return t}}function eQ(t,e){return OP(t.source,e.source)||t.index-e.index}function tQ(t,e){return OP(t.target,e.target)||t.index-e.index}function OP(t,e){return t.y0-e.y0}function DI(t){return t.value}function VSt(t){return t.index}function HSt(t){return t.nodes}function GSt(t){return t.links}function nQ(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function rQ({nodes:t}){for(const e of t){let n=e.y0,r=n;for(const i of e.sourceLinks)i.y0=n+i.width/2,n+=i.width;for(const i of e.targetLinks)i.y1=r+i.width/2,r+=i.width}}function XSt(){let t=0,e=0,n=1,r=1,i=24,o=8,a,s=VSt,l=ive,c,u,f=HSt,d=GSt,h=6;function m(){const F={nodes:f.apply(null,arguments),links:d.apply(null,arguments)};return v(F),y(F),g(F),b(F),T(F),rQ(F),F}m.update=function(F){return rQ(F),F},m.nodeId=function(F){return arguments.length?(s=typeof F=="function"?F:_T(F),m):s},m.nodeAlign=function(F){return arguments.length?(l=typeof F=="function"?F:_T(F),m):l},m.nodeSort=function(F){return arguments.length?(c=F,m):c},m.nodeWidth=function(F){return arguments.length?(i=+F,m):i},m.nodePadding=function(F){return arguments.length?(o=a=+F,m):o},m.nodes=function(F){return arguments.length?(f=typeof F=="function"?F:_T(F),m):f},m.links=function(F){return arguments.length?(d=typeof F=="function"?F:_T(F),m):d},m.linkSort=function(F){return arguments.length?(u=F,m):u},m.size=function(F){return arguments.length?(t=e=0,n=+F[0],r=+F[1],m):[n-t,r-e]},m.extent=function(F){return arguments.length?(t=+F[0][0],n=+F[1][0],e=+F[0][1],r=+F[1][1],m):[[t,e],[n,r]]},m.iterations=function(F){return arguments.length?(h=+F,m):h};function v({nodes:F,links:W}){for(const[B,G]of F.entries())G.index=B,G.sourceLinks=[],G.targetLinks=[];const X=new Map(F.map((B,G)=>[s(B,G,F),B]));for(const[B,G]of W.entries()){G.index=B;let{source:q,target:te}=G;typeof q!="object"&&(q=G.source=nQ(X,q)),typeof te!="object"&&(te=G.target=nQ(X,te)),q.sourceLinks.push(G),te.targetLinks.push(G)}if(u!=null)for(const{sourceLinks:B,targetLinks:G}of F)B.sort(u),G.sort(u)}function y({nodes:F}){for(const W of F)W.value=W.fixedValue===void 0?Math.max(II(W.sourceLinks,DI),II(W.targetLinks,DI)):W.fixedValue}function g({nodes:F}){const W=F.length;let X=new Set(F),B=new Set,G=0;for(;X.size;){for(const q of X){q.depth=G;for(const{target:te}of q.sourceLinks)B.add(te)}if(++G>W)throw new Error("circular link");X=B,B=new Set}}function b({nodes:F}){const W=F.length;let X=new Set(F),B=new Set,G=0;for(;X.size;){for(const q of X){q.height=G;for(const{source:te}of q.targetLinks)B.add(te)}if(++G>W)throw new Error("circular link");X=B,B=new Set}}function x({nodes:F}){const W=QJ(F,G=>G.depth)+1,X=(n-t-i)/(W-1),B=new Array(W);for(const G of F){const q=Math.max(0,Math.min(W-1,Math.floor(l.call(null,G,W))));G.layer=q,G.x0=t+q*X,G.x1=G.x0+i,B[q]?B[q].push(G):B[q]=[G]}if(c)for(const G of B)G.sort(c);return B}function _(F){const W=rve(F,X=>(r-e-(X.length-1)*a)/II(X,DI));for(const X of F){let B=e;for(const G of X){G.y0=B,G.y1=B+G.value*W,B=G.y1+a;for(const q of G.sourceLinks)q.width=q.value*W}B=(r-B+a)/(X.length+1);for(let G=0;G<X.length;++G){const q=X[G];q.y0+=B*(G+1),q.y1+=B*(G+1)}U(X)}}function T(F){const W=x(F);a=Math.min(o,(r-e)/(QJ(W,X=>X.length)-1)),_(W);for(let X=0;X<h;++X){const B=Math.pow(.99,X),G=Math.max(1-B,(X+1)/h);P(W,B,G),C(W,B,G)}}function C(F,W,X){for(let B=1,G=F.length;B<G;++B){const q=F[B];for(const te of q){let Y=0,J=0;for(const{source:oe,value:pe}of te.targetLinks){let fe=pe*(te.layer-oe.layer);Y+=V(oe,te)*fe,J+=fe}if(!(J>0))continue;let re=(Y/J-te.y0)*W;te.y0+=re,te.y1+=re,D(te)}c===void 0&&q.sort(OP),I(q,X)}}function P(F,W,X){for(let B=F.length,G=B-2;G>=0;--G){const q=F[G];for(const te of q){let Y=0,J=0;for(const{target:oe,value:pe}of te.sourceLinks){let fe=pe*(oe.layer-te.layer);Y+=z(te,oe)*fe,J+=fe}if(!(J>0))continue;let re=(Y/J-te.y0)*W;te.y0+=re,te.y1+=re,D(te)}c===void 0&&q.sort(OP),I(q,X)}}function I(F,W){const X=F.length>>1,B=F[X];N(F,B.y0-a,X-1,W),O(F,B.y1+a,X+1,W),N(F,r,F.length-1,W),O(F,e,0,W)}function O(F,W,X,B){for(;X<F.length;++X){const G=F[X],q=(W-G.y0)*B;q>1e-6&&(G.y0+=q,G.y1+=q),W=G.y1+a}}function N(F,W,X,B){for(;X>=0;--X){const G=F[X],q=(G.y1-W)*B;q>1e-6&&(G.y0-=q,G.y1-=q),W=G.y0-a}}function D({sourceLinks:F,targetLinks:W}){if(u===void 0){for(const{source:{sourceLinks:X}}of W)X.sort(tQ);for(const{target:{targetLinks:X}}of F)X.sort(eQ)}}function U(F){if(u===void 0)for(const{sourceLinks:W,targetLinks:X}of F)W.sort(tQ),X.sort(eQ)}function V(F,W){let X=F.y0-(F.sourceLinks.length-1)*a/2;for(const{target:B,width:G}of F.sourceLinks){if(B===W)break;X+=G+a}for(const{source:B,width:G}of W.targetLinks){if(B===F)break;X-=G}return X}function z(F,W){let X=W.y0-(W.targetLinks.length-1)*a/2;for(const{source:B,width:G}of W.targetLinks){if(B===F)break;X+=G+a}for(const{target:B,width:G}of F.sourceLinks){if(B===W)break;X-=G}return X}return m}var HB=Math.PI,GB=2*HB,Em=1e-6,qSt=GB-Em;function XB(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ove(){return new XB}XB.prototype=ove.prototype={constructor:XB,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Em)if(!(Math.abs(u*s-l*c)>Em)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var d=n-o,h=r-a,m=s*s+l*l,v=d*d+h*h,y=Math.sqrt(m),g=Math.sqrt(f),b=i*Math.tan((HB-Math.acos((m+f-v)/(2*y*g)))/2),x=b/g,_=b/y;Math.abs(x-1)>Em&&(this._+="L"+(t+x*c)+","+(e+x*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*h)+","+(this._x1=t+_*s)+","+(this._y1=e+_*l)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Em||Math.abs(this._y1-c)>Em)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%GB+GB),f>qSt?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>Em&&(this._+="A"+n+","+n+",0,"+ +(f>=HB)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var YSt=afe,KSt=1,ZSt=4;function JSt(t){return YSt(t,KSt|ZSt)}var QSt=JSt;const G6=yn(QSt);function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(null,arguments)}function ave(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jI={container:{display:"flex",alignItems:"center"},sourceChip:{marginRight:7},targetChip:{marginLeft:7,marginRight:7}},eMt={center:WSt,justify:ive,start:FSt,end:USt},tMt=function(t){return eMt[t]},Yn={layout:"horizontal",align:"center",sort:"auto",colors:{scheme:"nivo"},nodeOpacity:.75,nodeHoverOpacity:1,nodeHoverOthersOpacity:.15,nodeThickness:12,nodeInnerPadding:0,nodeBorderWidth:1,nodeBorderColor:{from:"color",modifiers:[["darker",.5]]},nodeBorderRadius:0,linkOpacity:.25,linkHoverOpacity:.6,linkHoverOthersOpacity:.15,linkContract:0,linkBlendMode:"multiply",enableLinkGradient:!1,enableLabels:!0,label:"id",labelPosition:"inside",labelPadding:9,labelOrientation:"horizontal",labelTextColor:{from:"color",modifiers:[["darker",.8]]},labelComponent:Fl,isInteractive:!0,nodeTooltip:function(t){var e=t.node;return S.jsx(od,{id:e.label,enableChip:!0,color:e.color})},linkTooltip:function(t){var e=t.link;return S.jsx(od,{id:S.jsxs("span",{style:jI.container,children:[S.jsx(wg,{color:e.source.color,style:jI.sourceChip}),S.jsx("strong",{children:e.source.label})," > ",S.jsx("strong",{children:e.target.label}),S.jsx(wg,{color:e.target.color,style:jI.targetChip}),S.jsx("strong",{children:e.formattedValue})]})})},legends:[],layers:["links","nodes","labels","legends"],role:"img",animate:!0,motionConfig:"gentle"},nMt=function(t){return t.id},rMt=function(t){var e=t.data,n=t.valueFormat,r=t.layout,i=t.width,o=t.height,a=t.sort,s=t.align,l=t.colors,c=t.nodeThickness,u=t.nodeSpacing,f=t.nodeInnerPadding,d=t.nodeBorderColor,h=t.label,m=t.labelTextColor,v=A.useState(null),y=v[0],g=v[1],b=A.useState(null),x=b[0],_=b[1],T=A.useMemo(function(){if(a!=="auto")return a==="input"?null:a==="ascending"?function(B,G){return B.value-G.value}:a==="descending"?function(B,G){return G.value-B.value}:a},[a]),C=a==="input"?null:void 0,P=A.useMemo(function(){return typeof s=="function"?s:tMt(s)},[s]),I=Bn(),O=rv(l,"id"),N=$i(d,I),D=Nl(h),U=$i(m,I),V=ba(n),z=A.useMemo(function(){return function(B){var G=B.data,q=B.formatValue,te=B.layout,Y=B.alignFunction,J=B.sortFunction,re=B.linkSortMode,oe=B.nodeThickness,pe=B.nodeSpacing,fe=B.nodeInnerPadding,we=B.width,ge=B.height,xe=B.getColor,Te=B.getLabel,ee=XSt().nodeAlign(Y).nodeSort(J).linkSort(re).nodeWidth(oe).nodePadding(pe).size(te==="horizontal"?[we,ge]:[ge,we]).nodeId(nMt),Ce=G6(G);return ee(Ce),Ce.nodes.forEach(function(ae){if(ae.color=xe(ae),ae.label=Te(ae),ae.formattedValue=q(ae.value),te==="horizontal")ae.x=ae.x0+fe,ae.y=ae.y0,ae.width=Math.max(ae.x1-ae.x0-2*fe,0),ae.height=Math.max(ae.y1-ae.y0,0);else{ae.x=ae.y0,ae.y=ae.x0+fe,ae.width=Math.max(ae.y1-ae.y0,0),ae.height=Math.max(ae.x1-ae.x0-2*fe,0);var be=ae.x0,_e=ae.x1;ae.x0=ae.y0,ae.x1=ae.y1,ae.y0=be,ae.y1=_e}}),Ce.links.forEach(function(ae){ae.formattedValue=q(ae.value),ae.color=ae.source.color,ae.pos0=ae.y0,ae.pos1=ae.y1,ae.thickness=ae.width,delete ae.y0,delete ae.y1,delete ae.width}),Ce}({data:e,formatValue:V,layout:r,alignFunction:P,sortFunction:T,linkSortMode:C,nodeThickness:c,nodeSpacing:u,nodeInnerPadding:f,width:i,height:o,getColor:O,getLabel:D})},[e,V,r,P,T,C,c,u,f,i,o,O,D]),F=z.nodes,W=z.links,X=A.useMemo(function(){return F.map(function(B){return{id:B.id,label:B.label,color:B.color}})},[F]);return{nodes:F,links:W,legendData:X,getNodeBorderColor:N,currentNode:y,setCurrentNode:g,currentLink:x,setCurrentLink:_,getLabelTextColor:U}},iMt=function(t){var e=t.node,n=t.x,r=t.y,i=t.width,o=t.height,a=t.color,s=t.opacity,l=t.borderWidth,c=t.borderColor,u=t.borderRadius,f=t.setCurrent,d=t.isInteractive,h=t.onClick,m=t.tooltip,v=gi(),y=v.animate,g=v.config,b=Ss({x:n,y:r,width:i,height:o,opacity:s,color:a,config:g,immediate:!y}),x=ro(),_=x.showTooltipFromEvent,T=x.hideTooltip,C=A.useCallback(function(N){f(e),_(A.createElement(m,{node:e}),N,"left")},[f,e,_,m]),P=A.useCallback(function(N){_(A.createElement(m,{node:e}),N,"left")},[_,e,m]),I=A.useCallback(function(){f(null),T()},[f,T]),O=A.useCallback(function(N){h==null||h(e,N)},[h,e]);return S.jsx(Un.rect,{x:b.x,y:b.y,rx:u,ry:u,width:b.width.to(function(N){return Math.max(N,0)}),height:b.height.to(function(N){return Math.max(N,0)}),fill:b.color,fillOpacity:b.opacity,strokeWidth:l,stroke:c,strokeOpacity:s,onMouseEnter:d?C:void 0,onMouseMove:d?P:void 0,onMouseLeave:d?I:void 0,onClick:d?O:void 0})},oMt=function(t){var e=t.nodes,n=t.nodeOpacity,r=t.nodeHoverOpacity,i=t.nodeHoverOthersOpacity,o=t.borderWidth,a=t.getBorderColor,s=t.borderRadius,l=t.setCurrentNode,c=t.currentNode,u=t.currentLink,f=t.isCurrentNode,d=t.isInteractive,h=t.onClick,m=t.tooltip,v=function(y){return c||u?f(y)?r:i:n};return S.jsx(S.Fragment,{children:e.map(function(y){return S.jsx(iMt,{node:y,x:y.x,y:y.y,width:y.width,height:y.height,color:y.color,opacity:v(y),borderWidth:o,borderColor:a(y),borderRadius:s,setCurrent:l,isInteractive:d,onClick:h,tooltip:m},y.id)})})},aMt=function(t){var e=t.id,n=t.layout,r=t.startColor,i=t.endColor;return S.jsxs("linearGradient",Bg({id:e,spreadMethod:"pad"},n==="horizontal"?{x1:"0%",x2:"100%",y1:"0%",y2:"0%"}:{x1:"0%",x2:"0%",y1:"0%",y2:"100%"},{children:[S.jsx("stop",{offset:"0%",stopColor:r}),S.jsx("stop",{offset:"100%",stopColor:i})]}))},sMt=function(t){var e=t.link,n=t.layout,r=t.path,i=t.color,o=t.opacity,a=t.blendMode,s=t.enableGradient,l=t.setCurrent,c=t.tooltip,u=t.isInteractive,f=t.onClick,d=e.source.id+"."+e.target.id+"."+e.index,h=gi(),m=h.animate,v=h.config,y=pM(r),g=Ss({color:i,opacity:o,config:v,immediate:!m}),b=ro(),x=b.showTooltipFromEvent,_=b.hideTooltip,T=A.useCallback(function(O){l(e),x(A.createElement(c,{link:e}),O,"left")},[l,e,x,c]),C=A.useCallback(function(O){x(A.createElement(c,{link:e}),O,"left")},[x,e,c]),P=A.useCallback(function(){l(null),_()},[l,_]),I=A.useCallback(function(O){f==null||f(e,O)},[f,e]);return S.jsxs(S.Fragment,{children:[s&&S.jsx(aMt,{id:d,layout:n,startColor:e.startColor||e.source.color,endColor:e.endColor||e.target.color}),S.jsx(Un.path,{fill:s?'url("#'+encodeURI(d)+'")':g.color,d:y,fillOpacity:g.opacity,onMouseEnter:u?T:void 0,onMouseMove:u?C:void 0,onMouseLeave:u?P:void 0,onClick:u?I:void 0,style:{mixBlendMode:a}})]})},lMt=function(t){var e=t.links,n=t.layout,r=t.linkOpacity,i=t.linkHoverOpacity,o=t.linkHoverOthersOpacity,a=t.linkContract,s=t.linkBlendMode,l=t.enableLinkGradient,c=t.setCurrentLink,u=t.currentLink,f=t.currentNode,d=t.isCurrentLink,h=t.isInteractive,m=t.onClick,v=t.tooltip,y=function(b){return f||u?d(b)?i:o:r},g=A.useMemo(function(){return n==="horizontal"?(b=Eg().curve(_U),function(x,_){var T=Math.max(1,x.thickness-2*_)/2,C=.12*(x.target.x0-x.source.x1),P=[[x.source.x1,x.pos0-T],[x.source.x1+C,x.pos0-T],[x.target.x0-C,x.pos1-T],[x.target.x0,x.pos1-T],[x.target.x0,x.pos1+T],[x.target.x0-C,x.pos1+T],[x.source.x1+C,x.pos0+T],[x.source.x1,x.pos0+T],[x.source.x1,x.pos0-T]];return b(P)+"Z"}):function(){var x=Eg().curve(wU);return function(_,T){var C=Math.max(1,_.thickness-2*T)/2,P=.12*(_.target.y0-_.source.y1),I=[[_.pos0+C,_.source.y1],[_.pos0+C,_.source.y1+P],[_.pos1+C,_.target.y0-P],[_.pos1+C,_.target.y0],[_.pos1-C,_.target.y0],[_.pos1-C,_.target.y0-P],[_.pos0-C,_.source.y1+P],[_.pos0-C,_.source.y1],[_.pos0+C,_.source.y1]];return x(I)+"Z"}}();var b},[n]);return S.jsx(S.Fragment,{children:e.map(function(b){return S.jsx(sMt,{link:b,layout:n,path:g(b,a),color:b.color,opacity:y(b),blendMode:s,enableGradient:l,setCurrent:c,isInteractive:h,onClick:m,tooltip:v},b.source.id+"."+b.target.id+"."+b.index)})})},cMt=function(t){var e=t.nodes,n=t.layout,r=t.width,i=t.height,o=t.labelPosition,a=t.labelPadding,s=t.labelOrientation,l=t.getLabelTextColor,c=t.labelComponent,u=Bn(),f=s==="vertical"?-90:0,d=e.map(function(g){var b,x,_;return n==="horizontal"?(x=g.y+g.height/2,g.x<r/2?o==="inside"?(b=g.x1+a,_=s==="vertical"?"middle":"start"):(b=g.x-a,_=s==="vertical"?"middle":"end"):o==="inside"?(b=g.x-a,_=s==="vertical"?"middle":"end"):(b=g.x1+a,_=s==="vertical"?"middle":"start")):n==="vertical"&&(b=g.x+g.width/2,g.y<i/2?o==="inside"?(x=g.y1+a,_=s==="vertical"?"end":"middle"):(x=g.y-a,_=s==="vertical"?"start":"middle"):o==="inside"?(x=g.y-a,_=s==="vertical"?"start":"middle"):(x=g.y1+a,_=s==="vertical"?"end":"middle")),{id:g.id,label:g.label,x:b,y:x,textAnchor:_,color:l(g)}}),h=gi(),m=h.animate,v=h.config,y=Zse(d.length,d.map(function(g){return{transform:"translate("+g.x+", "+g.y+") rotate("+f+")",color:g.color,config:v,immediate:!m}}));return S.jsx(S.Fragment,{children:y.map(function(g,b){var x=d[b];return S.jsx(c,{dominantBaseline:"central",textAnchor:x.textAnchor,transform:g.transform,style:Bg({},u.labels.text,{fill:g.color,pointerEvents:"none"}),node:e[b],children:x.label},x.id)})})},uMt=["isInteractive","animate","motionConfig","theme","renderWrapper"],fMt=function(t){var e=t.data,n=t.valueFormat,r=t.layout,i=r===void 0?Yn.layout:r,o=t.sort,a=o===void 0?Yn.sort:o,s=t.align,l=s===void 0?Yn.align:s,c=t.width,u=t.height,f=t.margin,d=t.colors,h=d===void 0?Yn.colors:d,m=t.nodeThickness,v=m===void 0?Yn.nodeThickness:m,y=t.nodeSpacing,g=y===void 0?Yn.nodeThickness:y,b=t.nodeInnerPadding,x=b===void 0?Yn.nodeInnerPadding:b,_=t.nodeBorderColor,T=_===void 0?Yn.nodeBorderColor:_,C=t.nodeOpacity,P=C===void 0?Yn.nodeOpacity:C,I=t.nodeHoverOpacity,O=I===void 0?Yn.nodeHoverOpacity:I,N=t.nodeHoverOthersOpacity,D=N===void 0?Yn.nodeHoverOthersOpacity:N,U=t.nodeBorderWidth,V=U===void 0?Yn.nodeBorderWidth:U,z=t.nodeBorderRadius,F=z===void 0?Yn.nodeBorderRadius:z,W=t.linkOpacity,X=W===void 0?Yn.linkOpacity:W,B=t.linkHoverOpacity,G=B===void 0?Yn.linkHoverOpacity:B,q=t.linkHoverOthersOpacity,te=q===void 0?Yn.linkHoverOthersOpacity:q,Y=t.linkContract,J=Y===void 0?Yn.linkContract:Y,re=t.linkBlendMode,oe=re===void 0?Yn.linkBlendMode:re,pe=t.enableLinkGradient,fe=pe===void 0?Yn.enableLinkGradient:pe,we=t.enableLabels,ge=we===void 0?Yn.enableLabels:we,xe=t.labelComponent,Te=xe===void 0?Yn.labelComponent:xe,ee=t.labelPosition,Ce=ee===void 0?Yn.labelPosition:ee,ae=t.labelPadding,be=ae===void 0?Yn.labelPadding:ae,_e=t.labelOrientation,He=_e===void 0?Yn.labelOrientation:_e,Ve=t.label,ne=Ve===void 0?Yn.label:Ve,Q=t.labelTextColor,ve=Q===void 0?Yn.labelTextColor:Q,Se=t.nodeTooltip,Le=Se===void 0?Yn.nodeTooltip:Se,Ie=t.linkTooltip,Ke=Ie===void 0?Yn.linkTooltip:Ie,Ne=t.isInteractive,Ye=Ne===void 0?Yn.isInteractive:Ne,et=t.onClick,vt=t.legends,ke=vt===void 0?Yn.legends:vt,Ze=t.layers,at=Ze===void 0?Yn.layers:Ze,pt=t.role,me=pt===void 0?Yn.role:pt,Ae=t.ariaLabel,le=t.ariaLabelledBy,Ee=t.ariaDescribedBy,Ue=t.forwardedRef,We=Sa(c,u,f),ze=We.margin,ce=We.innerWidth,Re=We.innerHeight,Xe=We.outerWidth,ct=We.outerHeight,De=rMt({data:e,valueFormat:n,layout:i,width:ce,height:Re,sort:a,align:l,colors:h,nodeThickness:v,nodeSpacing:g,nodeInnerPadding:x,nodeBorderColor:T,label:ne,labelTextColor:ve}),st=De.nodes,mt=De.links,rt=De.legendData,it=De.getNodeBorderColor,nt=De.currentNode,Pt=De.setCurrentNode,Rt=De.currentLink,Xt=De.setCurrentLink,sn=De.getLabelTextColor,bt=A.useMemo(function(){var At=function(){return!1},qt=function(){return!1};if(Rt&&(At=function(se){var Pe=se.id;return Pe===Rt.source.id||Pe===Rt.target.id},qt=function(se){var Pe=se.source,Oe=se.target;return Pe.id===Rt.source.id&&Oe.id===Rt.target.id}),nt){var gn=[nt.id];mt.filter(function(se){var Pe=se.source,Oe=se.target;return Pe.id===nt.id||Oe.id===nt.id}).forEach(function(se){var Pe=se.source,Oe=se.target;gn.push(Pe.id),gn.push(Oe.id)}),gn=C5(gn),At=function(se){var Pe=se.id;return gn.includes(Pe)},qt=function(se){var Pe=se.source,Oe=se.target;return Pe.id===nt.id||Oe.id===nt.id}}return{isCurrentNode:At,isCurrentLink:qt}},[Rt,nt,mt]),yt=bt.isCurrentNode,Yt=bt.isCurrentLink,nr=A.useMemo(function(){return{links:mt,nodes:st,margin:ze,width:c,height:u,outerWidth:Xe,outerHeight:ct,currentNode:nt,isCurrentNode:yt,setCurrentNode:Pt,currentLink:Rt,isCurrentLink:Yt,setCurrentLink:Xt,isInteractive:Ye}},[mt,st,ze,c,u,Xe,ct,nt,yt,Pt,Rt,Yt,Xt,Ye]),Zt={links:null,nodes:null,labels:null,legends:null};return at.includes("links")&&(Zt.links=S.jsx(lMt,{links:mt,layout:i,linkContract:J,linkOpacity:X,linkHoverOpacity:G,linkHoverOthersOpacity:te,linkBlendMode:oe,enableLinkGradient:fe,setCurrentLink:Xt,currentNode:nt,currentLink:Rt,isCurrentLink:Yt,isInteractive:Ye,onClick:et,tooltip:Ke},"links")),at.includes("nodes")&&(Zt.nodes=S.jsx(oMt,{nodes:st,nodeOpacity:P,nodeHoverOpacity:O,nodeHoverOthersOpacity:D,borderWidth:V,borderRadius:F,getBorderColor:it,setCurrentNode:Pt,currentNode:nt,currentLink:Rt,isCurrentNode:yt,isInteractive:Ye,onClick:et,tooltip:Le},"nodes")),at.includes("labels")&&ge&&(Zt.labels=S.jsx(cMt,{nodes:st,layout:i,width:ce,height:Re,labelPosition:Ce,labelPadding:be,labelOrientation:He,getLabelTextColor:sn,labelComponent:Te},"labels")),at.includes("legends")&&(Zt.legends=S.jsx(A.Fragment,{children:ke.map(function(At,qt){return S.jsx(iv,Bg({},At,{containerWidth:ce,containerHeight:Re,data:rt}),"legend"+qt)})},"legends")),S.jsx(Ku,{width:Xe,height:ct,margin:ze,role:me,ariaLabel:Ae,ariaLabelledBy:le,ariaDescribedBy:Ee,ref:Ue,children:at.map(function(At,qt){var gn;return typeof At=="function"?S.jsx(A.Fragment,{children:A.createElement(At,nr)},qt):(gn=Zt==null?void 0:Zt[At])!=null?gn:null})})},dMt=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Yn.isInteractive:n,i=t.animate,o=i===void 0?Yn.animate:i,a=t.motionConfig,s=a===void 0?Yn.motionConfig:a,l=t.theme,c=t.renderWrapper,u=ave(t,uMt);return S.jsx(_a,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:c,theme:l,children:S.jsx(fMt,Bg({isInteractive:r},u,{forwardedRef:e}))})}),hMt=["defaultWidth","defaultHeight","onResize","debounceResize"],pMt=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=ave(t,hMt);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(dMt,Bg({width:l,height:c},a,{ref:e}))}})});function mMt({className:t}){const{events:e}=Rr(),[n,r]=A.useState({nodes:[],links:[]});return A.useEffect(()=>{const i=new Set,o=new Map;e.slice(0,100).forEach(l=>{const c=l.bot?"Bot":"Human",u=l.namespace===0?"Article":"Talk/Other",f=l.type==="new"?"Create":"Edit";i.add(c),i.add(u),i.add(f);const d=`${c}|${u}`;o.set(d,(o.get(d)||0)+1);const h=`${u}|${f}`;o.set(h,(o.get(h)||0)+1)});const a=Array.from(i).map(l=>({id:l})),s=Array.from(o.entries()).map(([l,c])=>{const[u,f]=l.split("|");return{source:u,target:f,value:c}});a.length>0&&s.length>0&&r({nodes:a,links:s})},[e]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Edit Flow Analysis"}),S.jsx("div",{className:"h-[300px]",children:S.jsx(pMt,{data:n,margin:{top:20,right:20,bottom:20,left:20},align:"justify",colors:{scheme:"category10"},nodeOpacity:1,nodeHoverOthersOpacity:.35,nodeThickness:18,nodeSpacing:24,nodeBorderWidth:0,nodeBorderColor:{from:"color",modifiers:[["darker",.8]]},linkOpacity:.5,linkHoverOthersOpacity:.1,enableLinkGradient:!0,labelPosition:"outside",labelOrientation:"vertical",labelPadding:16,labelTextColor:{from:"color",modifiers:[["darker",1]]},theme:{text:{fill:"#888888"},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}function gMt(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}var vMt=gMt;function yMt(t){return function(e){return t==null?void 0:t[e]}}var xMt=yMt,bMt=xMt,_Mt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},wMt=bMt(_Mt),SMt=wMt,MMt=SMt,EMt=sM,TMt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,AMt="\\u0300-\\u036f",CMt="\\ufe20-\\ufe2f",PMt="\\u20d0-\\u20ff",RMt=AMt+CMt+PMt,OMt="["+RMt+"]",LMt=RegExp(OMt,"g");function kMt(t){return t=EMt(t),t&&t.replace(TMt,MMt).replace(LMt,"")}var NMt=kMt,IMt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function DMt(t){return t.match(IMt)||[]}var jMt=DMt,BMt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function zMt(t){return BMt.test(t)}var $Mt=zMt,sve="\\ud800-\\udfff",FMt="\\u0300-\\u036f",UMt="\\ufe20-\\ufe2f",WMt="\\u20d0-\\u20ff",VMt=FMt+UMt+WMt,lve="\\u2700-\\u27bf",cve="a-z\\xdf-\\xf6\\xf8-\\xff",HMt="\\xac\\xb1\\xd7\\xf7",GMt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",XMt="\\u2000-\\u206f",qMt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uve="A-Z\\xc0-\\xd6\\xd8-\\xde",YMt="\\ufe0e\\ufe0f",fve=HMt+GMt+XMt+qMt,dve="[']",iQ="["+fve+"]",KMt="["+VMt+"]",hve="\\d+",ZMt="["+lve+"]",pve="["+cve+"]",mve="[^"+sve+fve+hve+lve+cve+uve+"]",JMt="\\ud83c[\\udffb-\\udfff]",QMt="(?:"+KMt+"|"+JMt+")",eEt="[^"+sve+"]",gve="(?:\\ud83c[\\udde6-\\uddff]){2}",vve="[\\ud800-\\udbff][\\udc00-\\udfff]",my="["+uve+"]",tEt="\\u200d",oQ="(?:"+pve+"|"+mve+")",nEt="(?:"+my+"|"+mve+")",aQ="(?:"+dve+"(?:d|ll|m|re|s|t|ve))?",sQ="(?:"+dve+"(?:D|LL|M|RE|S|T|VE))?",yve=QMt+"?",xve="["+YMt+"]?",rEt="(?:"+tEt+"(?:"+[eEt,gve,vve].join("|")+")"+xve+yve+")*",iEt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oEt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",aEt=xve+yve+rEt,sEt="(?:"+[ZMt,gve,vve].join("|")+")"+aEt,lEt=RegExp([my+"?"+pve+"+"+aQ+"(?="+[iQ,my,"$"].join("|")+")",nEt+"+"+sQ+"(?="+[iQ,my+oQ,"$"].join("|")+")",my+"?"+oQ+"+"+aQ,my+"+"+sQ,oEt,iEt,hve,sEt].join("|"),"g");function cEt(t){return t.match(lEt)||[]}var uEt=cEt,fEt=jMt,dEt=$Mt,hEt=sM,pEt=uEt;function mEt(t,e,n){return t=hEt(t),e=n?void 0:e,e===void 0?dEt(t)?pEt(t):fEt(t):t.match(e)||[]}var gEt=mEt,vEt=vMt,yEt=NMt,xEt=gEt,bEt="[']",_Et=RegExp(bEt,"g");function wEt(t){return function(e){return vEt(xEt(yEt(e).replace(_Et,"")),t,"")}}var SEt=wEt,MEt=SEt,EEt=Dfe,TEt=MEt(function(t,e,n){return t+(n?" ":"")+EEt(e)}),AEt=TEt;const CEt=yn(AEt);function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ro.apply(null,arguments)}function fb(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PEt=function(t,e){return Xa([t,e],function(n,r){return"translate("+n+","+r+")"})},REt=function(t,e){return Xa([t,e],function(n,r){return"translate("+n+"px, "+r+"px)"})},lQ=function(t,e,n){return Xa([t,e,n],function(r,i,o){return"translate("+r+","+i+") rotate("+o+")"})},OEt=function(t,e,n){return Xa([t,e,n],function(r,i,o){return"translate("+r+"px,"+i+"px) rotate("+o+"deg)"})},LEt=function(t,e,n){return Xa([t,e,n],function(r,i,o){return"translate("+(r-(o===0?0:5))+"px,"+(i-(o===0?5:0))+"px) rotate("+o+"deg)"})},kEt=A.memo(function(t){var e=t.node,n=t.animatedProps,r=t.borderWidth,i=t.enableLabel,o=t.enableParentLabel,a=t.labelSkipSize,s=Bn(),l=i&&e.isLeaf&&(a===0||Math.min(e.width,e.height)>a),c=o&&e.isParent;return S.jsxs(Un.g,{transform:PEt(n.x,n.y),children:[S.jsx(Un.rect,{"data-testid":"node."+e.id,width:Xa(n.width,function(u){return Math.max(u,0)}),height:Xa(n.height,function(u){return Math.max(u,0)}),fill:e.fill?e.fill:n.color,strokeWidth:r,stroke:e.borderColor,fillOpacity:e.opacity,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick}),l&&S.jsx(Fl,{"data-testid":"label."+e.id,textAnchor:"middle",dominantBaseline:"central",style:Ro({},s.labels.text,{fill:e.labelTextColor,pointerEvents:"none"}),fillOpacity:n.labelOpacity,transform:lQ(n.labelX,n.labelY,n.labelRotation),children:e.label}),c&&S.jsx(Fl,{"data-testid":"parentLabel."+e.id,dominantBaseline:"central",style:Ro({},s.labels.text,{fill:e.parentLabelTextColor,pointerEvents:"none"}),fillOpacity:n.parentLabelOpacity,transform:lQ(n.parentLabelX,n.parentLabelY,n.parentLabelRotation),children:e.parentLabel})]})}),NEt=A.memo(function(t){var e=t.node;return S.jsx(od,{id:e.id,value:e.formattedValue,enableChip:!0,color:e.color})}),IEt=A.memo(function(t){var e=t.node,n=t.animatedProps,r=t.borderWidth,i=t.enableLabel,o=t.enableParentLabel,a=t.labelSkipSize,s=Bn(),l=i&&e.isLeaf&&(a===0||Math.min(e.width,e.height)>a),c=o&&e.isParent;return S.jsxs(Un.div,{"data-testid":"node."+e.id,id:e.path.replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:0,left:0,transform:REt(n.x,n.y),width:n.width,height:n.height,borderWidth:r,borderStyle:"solid",borderColor:e.borderColor,overflow:"hidden"},children:[S.jsx(Un.div,{style:{boxSizing:"border-box",position:"absolute",top:0,left:0,opacity:e.opacity,width:n.width,height:n.height,background:n.color},onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick}),l&&S.jsx(Un.span,{"data-testid":"label."+e.id,style:Ro({},s.labels.text,{position:"absolute",display:"flex",top:-5,left:-5,width:10,height:10,justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",color:e.labelTextColor,transformOrigin:"center center",transform:OEt(n.labelX,n.labelY,n.labelRotation),opacity:n.labelOpacity,pointerEvents:"none"}),children:e.label}),c&&S.jsx(Un.span,{"data-testid":"parentLabel."+e.id,style:Ro({},s.labels.text,{position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",whiteSpace:"nowrap",width:10,height:10,color:e.parentLabelTextColor,transformOrigin:"top left",transform:LEt(n.parentLabelX,n.parentLabelY,n.parentLabelRotation),opacity:n.parentLabelOpacity,pointerEvents:"none"}),children:e.parentLabel})]})}),bi={layers:["nodes"],identity:"id",value:"value",tile:"squarify",leavesOnly:!1,innerPadding:0,outerPadding:0,colors:{scheme:"nivo"},colorBy:"pathComponents.1",nodeOpacity:.33,enableLabel:!0,label:"formattedValue",labelSkipSize:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},orientLabel:!0,enableParentLabel:!0,parentLabel:"id",parentLabelSize:20,parentLabelPosition:"top",parentLabelPadding:6,parentLabelTextColor:{from:"color",modifiers:[["darker",1]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,tooltip:NEt,role:"img",animate:!0,motionConfig:"gentle"},lr=Ro({},bi,{nodeComponent:kEt,defs:[],fill:[]}),Ar=Ro({},bi,{nodeComponent:IEt}),_i=Ro({},bi,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),DEt={binary:jSt,dice:c3,slice:H6,sliceDice:BSt,squarify:nve},jEt=function(t){var e=t.root,n=t.getValue;return A.useMemo(function(){return ub(e).sum(n)},[e,n])},X6=function(t){var e=t.data,n=t.width,r=t.height,i=t.identity,o=i===void 0?bi.identity:i,a=t.value,s=a===void 0?bi.value:a,l=t.valueFormat,c=t.leavesOnly,u=c===void 0?bi.leavesOnly:c,f=t.tile,d=f===void 0?bi.tile:f,h=t.innerPadding,m=h===void 0?bi.innerPadding:h,v=t.outerPadding,y=v===void 0?bi.outerPadding:v,g=t.label,b=g===void 0?bi.label:g,x=t.orientLabel,_=x===void 0?bi.orientLabel:x,T=t.enableParentLabel,C=T===void 0?bi.enableParentLabel:T,P=t.parentLabel,I=P===void 0?bi.parentLabel:P,O=t.parentLabelSize,N=O===void 0?bi.parentLabelSize:O,D=t.parentLabelPosition,U=D===void 0?bi.parentLabelPosition:D,V=t.parentLabelPadding,z=V===void 0?bi.parentLabelPadding:V,F=t.colors,W=F===void 0?bi.colors:F,X=t.colorBy,B=X===void 0?bi.colorBy:X,G=t.nodeOpacity,q=G===void 0?bi.nodeOpacity:G,te=t.borderColor,Y=te===void 0?bi.borderColor:te,J=t.labelTextColor,re=J===void 0?bi.labelTextColor:J,oe=t.parentLabelTextColor,pe=oe===void 0?bi.parentLabelTextColor:oe,fe=Nl(o),we=Nl(s),ge=ba(l),xe=Nl(b),Te=Nl(I),ee=function(Se){var Le=Se.width,Ie=Se.height,Ke=Se.tile,Ne=Se.innerPadding,Ye=Se.outerPadding,et=Se.enableParentLabel,vt=Se.parentLabelSize,ke=Se.parentLabelPosition,Ze=Se.leavesOnly;return A.useMemo(function(){var at=DSt().size([Le,Ie]).tile(DEt[Ke]).round(!0).paddingInner(Ne).paddingOuter(Ye);if(et&&!Ze){var pt=vt+2*Ye;at["padding"+CEt(ke)](pt)}return at},[Le,Ie,Ke,Ne,Ye,et,vt,ke,Ze])}({width:n,height:r,tile:d,innerPadding:m,outerPadding:y,enableParentLabel:C,parentLabelSize:N,parentLabelPosition:U,leavesOnly:u}),Ce=jEt({root:e,getValue:we}),ae=A.useMemo(function(){var Se=G6(Ce);return ee(Se),u?Se.leaves():Se.descendants()},[Ce,ee,u]),be=A.useMemo(function(){return ae.map(function(Se){var Le=function(Ye,et){var vt=Ye.ancestors().map(function(ke){return et(ke.data)}).reverse();return{path:vt.join("."),pathComponents:vt}}(Se,fe),Ie=Le.path,Ke=Le.pathComponents,Ne={id:fe(Se.data),path:Ie,pathComponents:Ke,data:f8(Se.data,"children"),x:Se.x0,y:Se.y0,width:Se.x1-Se.x0,height:Se.y1-Se.y0,value:Se.value,formattedValue:ge(Se.value),treeDepth:Se.depth,treeHeight:Se.height,isParent:Se.height>0,isLeaf:Se.height===0,parentLabelX:0,parentLabelY:0,parentLabelRotation:0};return Ne.labelRotation=_&&Ne.height>Ne.width?-90:0,U==="top"&&(Ne.parentLabelX=y+z,Ne.parentLabelY=y+N/2),U==="right"&&(Ne.parentLabelX=Ne.width-y-N/2,Ne.parentLabelY=Ne.height-y-z,Ne.parentLabelRotation=-90),U==="bottom"&&(Ne.parentLabelX=y+z,Ne.parentLabelY=Ne.height-y-N/2),U==="left"&&(Ne.parentLabelX=y+N/2,Ne.parentLabelY=Ne.height-y-z,Ne.parentLabelRotation=-90),Ne.label=xe(Ne),Ne.parentLabel=Te(Ne),Ne})},[ae,fe,ge,xe,_,Te,N,U,z,y]),_e=Bn(),He=rv(W,B),Ve=$i(Y,_e),ne=$i(re,_e),Q=$i(pe,_e),ve=A.useMemo(function(){return be.map(function(Se){var Le=Ro({},Se,{color:He(Se),opacity:q});return Le.borderColor=Ve(Le),Le.labelTextColor=ne(Le),Le.parentLabelTextColor=Q(Le),Le})},[be,He,q,Ve,ne,Q]);return{hierarchy:Ce,nodes:ve,layout:ee}},bve=function(t){var e=t.nodes;return A.useMemo(function(){return{nodes:e}},[e])},BI=function(t){return{x:t.x,y:t.y,width:t.width,height:t.height,color:t.color,labelX:t.width/2,labelY:t.height/2,labelRotation:t.labelRotation,labelOpacity:1,parentLabelX:t.parentLabelX,parentLabelY:t.parentLabelY,parentLabelRotation:t.parentLabelRotation,parentLabelOpacity:1}},cQ=function(t){return{x:t.x+t.width/2,y:t.y+t.height/2,width:0,height:0,color:t.color,labelX:0,labelY:0,labelRotation:t.labelRotation,labelOpacity:0,parentLabelX:0,parentLabelY:0,parentLabelRotation:t.parentLabelRotation,parentLabelOpacity:0}},_ve=A.memo(function(t){var e=t.nodes,n=t.nodeComponent,r=t.borderWidth,i=t.enableLabel,o=t.labelSkipSize,a=t.enableParentLabel,s=function(d,h){var m=h.isInteractive,v=h.onMouseEnter,y=h.onMouseMove,g=h.onMouseLeave,b=h.onClick,x=h.tooltip,_=ro(),T=_.showTooltipFromEvent,C=_.hideTooltip,P=A.useCallback(function(U,V){T(A.createElement(x,{node:U}),V,"left")},[T,x]),I=A.useCallback(function(U,V){P(U,V),v==null||v(U,V)},[v,P]),O=A.useCallback(function(U,V){P(U,V),y==null||y(U,V)},[y,P]),N=A.useCallback(function(U,V){C(),g==null||g(U,V)},[g,C]),D=A.useCallback(function(U,V){b==null||b(U,V)},[b]);return A.useMemo(function(){return d.map(function(U){return m?Ro({},U,{onMouseEnter:function(V){return I(U,V)},onMouseMove:function(V){return O(U,V)},onMouseLeave:function(V){return N(U,V)},onClick:function(V){return D(U,V)}}):U})},[m,d,I,O,N,D])}(e,{isInteractive:t.isInteractive,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick,tooltip:t.tooltip}),l=gi(),c=l.animate,u=l.config,f=qu(s,{keys:function(d){return d.path},initial:BI,from:cQ,enter:BI,update:BI,leave:cQ,config:u,immediate:!c});return S.jsx(S.Fragment,{children:f(function(d,h){return A.createElement(n,{key:h.path,node:h,animatedProps:d,borderWidth:r,enableLabel:i,labelSkipSize:o,enableParentLabel:a})})})}),BEt=["isInteractive","animate","motionConfig","theme","renderWrapper"],zEt=function(t){var e=t.data,n=t.identity,r=n===void 0?lr.identity:n,i=t.value,o=i===void 0?lr.value:i,a=t.valueFormat,s=t.tile,l=s===void 0?lr.tile:s,c=t.nodeComponent,u=c===void 0?lr.nodeComponent:c,f=t.innerPadding,d=f===void 0?lr.innerPadding:f,h=t.outerPadding,m=h===void 0?lr.outerPadding:h,v=t.leavesOnly,y=v===void 0?lr.leavesOnly:v,g=t.width,b=t.height,x=t.margin,_=t.layers,T=_===void 0?lr.layers:_,C=t.colors,P=C===void 0?lr.colors:C,I=t.colorBy,O=I===void 0?lr.colorBy:I,N=t.nodeOpacity,D=N===void 0?lr.nodeOpacity:N,U=t.borderWidth,V=U===void 0?lr.borderWidth:U,z=t.borderColor,F=z===void 0?lr.borderColor:z,W=t.defs,X=W===void 0?lr.defs:W,B=t.fill,G=B===void 0?lr.fill:B,q=t.enableLabel,te=q===void 0?lr.enableLabel:q,Y=t.label,J=Y===void 0?lr.label:Y,re=t.labelTextColor,oe=re===void 0?lr.labelTextColor:re,pe=t.orientLabel,fe=pe===void 0?lr.orientLabel:pe,we=t.labelSkipSize,ge=we===void 0?lr.labelSkipSize:we,xe=t.enableParentLabel,Te=xe===void 0?lr.enableParentLabel:xe,ee=t.parentLabel,Ce=ee===void 0?lr.parentLabel:ee,ae=t.parentLabelSize,be=ae===void 0?lr.parentLabelSize:ae,_e=t.parentLabelPosition,He=_e===void 0?lr.parentLabelPosition:_e,Ve=t.parentLabelPadding,ne=Ve===void 0?lr.parentLabelPadding:Ve,Q=t.parentLabelTextColor,ve=Q===void 0?lr.parentLabelTextColor:Q,Se=t.isInteractive,Le=Se===void 0?lr.isInteractive:Se,Ie=t.onMouseEnter,Ke=t.onMouseMove,Ne=t.onMouseLeave,Ye=t.onClick,et=t.tooltip,vt=et===void 0?lr.tooltip:et,ke=t.role,Ze=t.ariaLabel,at=t.ariaLabelledBy,pt=t.ariaDescribedBy,me=t.forwardedRef,Ae=Sa(g,b,x),le=Ae.margin,Ee=Ae.innerWidth,Ue=Ae.innerHeight,We=Ae.outerWidth,ze=Ae.outerHeight,ce=X6({data:e,identity:r,value:o,valueFormat:a,leavesOnly:y,width:Ee,height:Ue,tile:l,innerPadding:d,outerPadding:m,colors:P,colorBy:O,nodeOpacity:D,borderColor:F,label:J,labelTextColor:oe,orientLabel:fe,enableParentLabel:Te,parentLabel:Ce,parentLabelSize:be,parentLabelPosition:He,parentLabelPadding:ne,parentLabelTextColor:ve}).nodes,Re={nodes:null};T.includes("nodes")&&(Re.nodes=S.jsx(_ve,{nodes:ce,nodeComponent:u,borderWidth:V,enableLabel:te,labelSkipSize:ge,enableParentLabel:Te,isInteractive:Le,onMouseEnter:Ie,onMouseMove:Ke,onMouseLeave:Ne,onClick:Ye,tooltip:vt},"nodes"));var Xe=bve({nodes:ce}),ct=mM(X,ce,G);return S.jsx(Ku,{width:We,height:ze,margin:le,defs:ct,role:ke,ariaLabel:Ze,ariaLabelledBy:at,ariaDescribedBy:pt,ref:me,children:T.map(function(De,st){var mt;return typeof De=="function"?S.jsx(A.Fragment,{children:A.createElement(De,Xe)},st):(mt=Re==null?void 0:Re[De])!=null?mt:null})})},$Et=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?lr.isInteractive:n,i=t.animate,o=i===void 0?lr.animate:i,a=t.motionConfig,s=a===void 0?lr.motionConfig:a,l=t.theme,c=t.renderWrapper,u=fb(t,BEt);return S.jsx(_a,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:c,theme:l,children:S.jsx(zEt,Ro({},u,{isInteractive:r,forwardedRef:e}))})}),FEt=["defaultWidth","defaultHeight","onResize","debounceResize"],UEt=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=fb(t,FEt);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx($Et,Ro({},a,{width:l,height:c,ref:e}))}})}),WEt=["isInteractive","animate","motionConfig","theme","renderWrapper"],VEt=function(t){var e=t.data,n=t.identity,r=n===void 0?Ar.identity:n,i=t.value,o=i===void 0?Ar.value:i,a=t.tile,s=a===void 0?Ar.tile:a,l=t.nodeComponent,c=l===void 0?Ar.nodeComponent:l,u=t.valueFormat,f=t.innerPadding,d=f===void 0?Ar.innerPadding:f,h=t.outerPadding,m=h===void 0?Ar.outerPadding:h,v=t.leavesOnly,y=v===void 0?Ar.leavesOnly:v,g=t.width,b=t.height,x=t.margin,_=t.layers,T=_===void 0?lr.layers:_,C=t.colors,P=C===void 0?Ar.colors:C,I=t.colorBy,O=I===void 0?Ar.colorBy:I,N=t.nodeOpacity,D=N===void 0?Ar.nodeOpacity:N,U=t.borderWidth,V=U===void 0?Ar.borderWidth:U,z=t.borderColor,F=z===void 0?Ar.borderColor:z,W=t.enableLabel,X=W===void 0?Ar.enableLabel:W,B=t.label,G=B===void 0?Ar.label:B,q=t.labelTextColor,te=q===void 0?Ar.labelTextColor:q,Y=t.orientLabel,J=Y===void 0?Ar.orientLabel:Y,re=t.labelSkipSize,oe=re===void 0?Ar.labelSkipSize:re,pe=t.enableParentLabel,fe=pe===void 0?Ar.enableParentLabel:pe,we=t.parentLabel,ge=we===void 0?Ar.parentLabel:we,xe=t.parentLabelSize,Te=xe===void 0?Ar.parentLabelSize:xe,ee=t.parentLabelPosition,Ce=ee===void 0?Ar.parentLabelPosition:ee,ae=t.parentLabelPadding,be=ae===void 0?Ar.parentLabelPadding:ae,_e=t.parentLabelTextColor,He=_e===void 0?Ar.parentLabelTextColor:_e,Ve=t.isInteractive,ne=Ve===void 0?Ar.isInteractive:Ve,Q=t.onMouseEnter,ve=t.onMouseMove,Se=t.onMouseLeave,Le=t.onClick,Ie=t.tooltip,Ke=Ie===void 0?Ar.tooltip:Ie,Ne=t.role,Ye=t.ariaLabel,et=t.ariaLabelledBy,vt=t.ariaDescribedBy,ke=t.forwardedRef,Ze=Sa(g,b,x),at=Ze.margin,pt=Ze.innerWidth,me=Ze.innerHeight,Ae=Ze.outerWidth,le=Ze.outerHeight,Ee=X6({data:e,identity:r,value:o,valueFormat:u,leavesOnly:y,width:pt,height:me,tile:s,innerPadding:d,outerPadding:m,colors:P,colorBy:O,nodeOpacity:D,borderColor:F,label:G,labelTextColor:te,orientLabel:J,enableParentLabel:fe,parentLabel:ge,parentLabelSize:Te,parentLabelPosition:Ce,parentLabelPadding:be,parentLabelTextColor:He}).nodes,Ue={nodes:null};T.includes("nodes")&&(Ue.nodes=S.jsx(_ve,{nodes:Ee,nodeComponent:c,borderWidth:V,enableLabel:X,labelSkipSize:oe,enableParentLabel:fe,isInteractive:ne,onMouseEnter:Q,onMouseMove:ve,onMouseLeave:Se,onClick:Le,tooltip:Ke},"nodes"));var We=bve({nodes:Ee});return S.jsx("div",{role:Ne,"aria-label":Ye,"aria-labelledby":et,"aria-describedby":vt,style:{position:"relative",width:Ae,height:le},ref:ke,children:S.jsx("div",{style:{position:"absolute",top:at.top,left:at.left},children:T.map(function(ze,ce){var Re;return typeof ze=="function"?S.jsx(A.Fragment,{children:A.createElement(ze,We)},ce):(Re=Ue==null?void 0:Ue[ze])!=null?Re:null})})})},HEt=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Ar.isInteractive:n,i=t.animate,o=i===void 0?Ar.animate:i,a=t.motionConfig,s=a===void 0?Ar.motionConfig:a,l=t.theme,c=t.renderWrapper,u=fb(t,WEt);return S.jsx(_a,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:c,theme:l,children:S.jsx(VEt,Ro({},u,{isInteractive:r,forwardedRef:e}))})}),GEt=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=fb(t,GEt);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(HEt,Ro({},a,{width:l,height:c,ref:e}))}})});var XEt=["theme","isInteractive","animate","motionConfig","renderWrapper"],uQ=function(t,e,n,r){return t.find(function(i){return qO(i.x+e.left,i.y+e.top,i.width,i.height,n,r)})},qEt=function(t){var e=t.data,n=t.identity,r=n===void 0?_i.identity:n,i=t.value,o=i===void 0?_i.identity:i,a=t.tile,s=a===void 0?_i.tile:a,l=t.valueFormat,c=t.innerPadding,u=c===void 0?_i.innerPadding:c,f=t.outerPadding,d=f===void 0?_i.outerPadding:f,h=t.leavesOnly,m=h===void 0?_i.leavesOnly:h,v=t.width,y=t.height,g=t.margin,b=t.colors,x=b===void 0?_i.colors:b,_=t.colorBy,T=_===void 0?_i.colorBy:_,C=t.nodeOpacity,P=C===void 0?_i.nodeOpacity:C,I=t.borderWidth,O=I===void 0?_i.borderWidth:I,N=t.borderColor,D=N===void 0?_i.borderColor:N,U=t.enableLabel,V=U===void 0?_i.enableLabel:U,z=t.label,F=z===void 0?_i.label:z,W=t.labelTextColor,X=W===void 0?_i.labelTextColor:W,B=t.orientLabel,G=B===void 0?_i.orientLabel:B,q=t.labelSkipSize,te=q===void 0?_i.labelSkipSize:q,Y=t.isInteractive,J=Y===void 0?_i.isInteractive:Y,re=t.onMouseMove,oe=t.onClick,pe=t.tooltip,fe=pe===void 0?_i.tooltip:pe,we=t.pixelRatio,ge=we===void 0?_i.pixelRatio:we,xe=t.role,Te=t.ariaLabel,ee=t.ariaLabelledBy,Ce=t.ariaDescribedBy,ae=t.forwardedRef,be=A.useRef(null),_e=Sa(v,y,g),He=_e.margin,Ve=_e.innerWidth,ne=_e.innerHeight,Q=_e.outerWidth,ve=_e.outerHeight,Se=X6({data:e,identity:r,value:o,valueFormat:l,leavesOnly:m,width:Ve,height:ne,tile:s,innerPadding:u,outerPadding:d,colors:x,colorBy:T,nodeOpacity:P,borderColor:D,label:F,labelTextColor:X,orientLabel:G,enableParentLabel:!1}).nodes,Le=Bn();A.useEffect(function(){if(be.current!==null){var ke=be.current.getContext("2d");ke!==null&&(be.current.width=Q*ge,be.current.height=ve*ge,ke.scale(ge,ge),ke.fillStyle=Le.background,ke.fillRect(0,0,Q,ve),ke.translate(He.left,He.top),Se.forEach(function(Ze){ke.fillStyle=Ze.color,ke.fillRect(Ze.x,Ze.y,Ze.width,Ze.height),O>0&&(ke.strokeStyle=Ze.borderColor,ke.lineWidth=O,ke.strokeRect(Ze.x,Ze.y,Ze.width,Ze.height))}),V&&(ke.textAlign="center",ke.textBaseline="middle",fp(ke,Le.labels.text),Se.forEach(function(Ze){if(Ze.isLeaf&&(te===0||Math.min(Ze.width,Ze.height)>te)){var at=G&&Ze.height>Ze.width;ke.save(),ke.translate(Ze.x+Ze.width/2,Ze.y+Ze.height/2),ke.rotate(ld(at?-90:0)),cd(ke,Ro({},Le.labels.text,{fill:Ze.labelTextColor}),String(Ze.label)),ke.restore()}})))}},[be,Se,Q,ve,Ve,ne,He,O,V,G,te,Le,ge]);var Ie=ro(),Ke=Ie.showTooltipFromEvent,Ne=Ie.hideTooltip,Ye=A.useCallback(function(ke){if(be.current!==null){var Ze=Gf(be.current,ke),at=Ze[0],pt=Ze[1],me=uQ(Se,He,at,pt);me!==void 0?(Ke(A.createElement(fe,{node:me}),ke,"left"),re==null||re(me,ke)):Ne()}},[be,Se,He,Ke,Ne,fe,re]),et=A.useCallback(function(){Ne()},[Ne]),vt=A.useCallback(function(ke){if(be.current!==null){var Ze=Gf(be.current,ke),at=Ze[0],pt=Ze[1],me=uQ(Se,He,at,pt);me!==void 0&&(oe==null||oe(me,ke))}},[be,Se,He,oe]);return S.jsx("canvas",{ref:gM(be,ae),width:Q*ge,height:ve*ge,style:{width:Q,height:ve},onMouseEnter:J?Ye:void 0,onMouseMove:J?Ye:void 0,onMouseLeave:J?et:void 0,onClick:J?vt:void 0,role:xe,"aria-label":Te,"aria-labelledby":ee,"aria-describedby":Ce})},YEt=A.forwardRef(function(t,e){var n=t.theme,r=t.isInteractive,i=r===void 0?_i.isInteractive:r,o=t.animate,a=o===void 0?_i.animate:o,s=t.motionConfig,l=s===void 0?_i.motionConfig:s,c=t.renderWrapper,u=fb(t,XEt);return S.jsx(_a,{isInteractive:i,animate:a,motionConfig:l,theme:n,renderWrapper:c,children:S.jsx(qEt,Ro({},u,{isInteractive:i,forwardedRef:e}))})}),KEt=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=fb(t,KEt);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(YEt,Ro({},a,{width:l,height:c,ref:e}))}})});function ZEt({className:t}){const{events:e}=Rr(),[n,r]=A.useState(null);return A.useEffect(()=>{const i={name:"Wikipedia",children:[]},o={};e.slice(0,100).forEach(a=>{const s=a.wiki||"other";o[s]||(o[s]={name:s,children:[]},i.children.push(o[s])),o[s].children.length<20&&o[s].children.push({name:a.title.substring(0,15)+(a.title.length>15?"...":""),loc:Math.abs(a.delta||100)})}),r(i)},[e]),n?S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Volume by Language & Article"}),S.jsx("div",{className:"h-[300px]",children:S.jsx(UEt,{data:n,identity:"name",value:"loc",valueFormat:".02s",margin:{top:10,right:10,bottom:10,left:10},labelSkipSize:12,labelTextColor:{from:"color",modifiers:[["darker",1.2]]},parentLabelTextColor:{from:"color",modifiers:[["darker",2]]},colors:{scheme:"nivo"},borderColor:{from:"color",modifiers:[["darker",.1]]},theme:{text:{fill:"#ffffff",fontWeight:600},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]}):null}function JEt({className:t}){const e=A.useRef(null),{events:n}=Rr();return A.useEffect(()=>{if(!e.current||n.length===0)return;const r={name:"Wiki",children:[]},i={};n.slice(0,50).forEach(d=>{const h=d.wiki||"other";i[h]||(i[h]={name:h,children:[]},r.children.push(i[h]));let m=i[h].children.find(v=>v.name===d.user);m||(m={name:d.user,children:[]},i[h].children.push(m)),m.children.push({name:d.title.substring(0,10),value:1})});const o=600,a=600,s=o/2,l=Qwt().size([2*Math.PI,s-100]),c=ub(r);l(c);const u=Wu(e.current);u.selectAll("*").remove();const f=u.attr("viewBox",`${-o/2} ${-a/2} ${o} ${a}`).append("g");f.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5).selectAll("path").data(c.links()).join("path").attr("d",L$e().angle(d=>d.x).radius(d=>d.y)),f.append("g").selectAll("circle").data(c.descendants()).join("circle").attr("transform",d=>`
        rotate(${d.x*180/Math.PI-90})
        translate(${d.y},0)
      `).attr("fill",d=>d.children?"#555":"#999").attr("r",2.5),f.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("stroke-linejoin","round").attr("stroke-width",3).selectAll("text").data(c.descendants()).join("text").attr("transform",d=>`
        rotate(${d.x*180/Math.PI-90}) 
        translate(${d.y},0) 
        rotate(${d.x>=Math.PI?180:0})
      `).attr("dy","0.31em").attr("x",d=>d.x<Math.PI==!d.children?6:-6).attr("text-anchor",d=>d.x<Math.PI==!d.children?"start":"end").text(d=>d.data.name).clone(!0).lower().attr("stroke","white")},[n]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Topic Clustering"}),S.jsx("div",{className:"flex justify-center overflow-hidden",children:S.jsx("svg",{ref:e,className:"w-full h-[300px]"})})]})}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ff.apply(null,arguments)}function wve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QEt=function(t){var e=t.layer,n=t.fillOpacity,r=t.borderWidth,i=t.getBorderColor,o=t.isInteractive,a=t.tooltip,s=ro(),l=s.showTooltipFromEvent,c=s.hideTooltip,u=A.useCallback(function(y){l(A.createElement(a,{layer:e}),y,"left")},[l,a,e]),f=gi(),d=f.animate,h=f.config,m=pM(e.path),v=Ss({color:e.color,config:h,immediate:!d});return S.jsx(Un.path,{d:m,fill:e.fill?e.fill:v.color,fillOpacity:n,stroke:i(e),strokeWidth:r,onMouseMove:o?u:void 0,onMouseEnter:o?u:void 0,onMouseLeave:o?c:void 0})},e2t=function(t){var e=t.layers,n=t.fillOpacity,r=t.borderWidth,i=t.getBorderColor,o=t.isInteractive,a=t.tooltip;return S.jsx("g",{children:e.map(function(s,l){return S.jsx(QEt,{layer:s,getBorderColor:i,borderWidth:r,fillOpacity:n,isInteractive:o,tooltip:a},l)})})},t2t=function(t,e){var n=t.y2;return e==="center"?n=t.y1+(t.y2-t.y1)/2:e==="start"&&(n=t.y1),n},n2t=function(t){var e=t.data,n=t.dotComponent,r=t.position,i=t.getSize,o=t.getColor,a=t.getBorderWidth,s=t.getBorderColor;return S.jsx(S.Fragment,{children:e.map(function(l,c){return A.createElement(n,{key:c,datum:l,x:l.x,y:t2t(l,r),size:i(l),color:o(l),borderWidth:a(l),borderColor:s(l)})})})},r2t=function(t){var e=t.slice,n=t.height,r=t.tooltip,i=A.useState(!1),o=i[0],a=i[1],s=ro(),l=s.showTooltipFromEvent,c=s.hideTooltip,u=A.useCallback(function(d){a(!0),l(A.createElement(r,{slice:e}),d,"left")},[a,l,r,e]),f=A.useCallback(function(){a(!1),c()},[a,c]);return S.jsxs("g",{transform:"translate("+e.x+", 0)",children:[o&&S.jsx("line",{x1:0,x2:0,y1:0,y2:n,stroke:"#000",strokeOpacity:.35,strokeWidth:1}),S.jsx("rect",{x:-20,width:40,height:n,fill:"#000",fillOpacity:0,onMouseEnter:u,onMouseMove:u,onMouseLeave:f})]})},i2t=function(t){var e=t.slices,n=t.height,r=t.tooltip;return S.jsx("g",{children:e.map(function(i){return S.jsx(r2t,{slice:i,height:n,tooltip:r},i.index)})})},uc={label:"id",order:"none",offsetType:"wiggle",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,colors:{scheme:"nivo"},fillOpacity:1,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableDots:!1,dotPosition:"center",dotComponent:function(t){var e=t.x,n=t.y,r=t.size,i=t.color,o=t.borderWidth,a=t.borderColor,s=gi(),l=s.animate,c=s.config,u=Ss({x:e,y:n,radius:.5*r,color:i,config:c,immediate:!l});return S.jsx(Un.circle,{cx:u.x,cy:u.y,r:u.radius,fill:u.color,strokeWidth:o,stroke:a})},dotSize:6,dotColor:{from:"color"},dotBorderWidth:0,dotBorderColor:{from:"color"},isInteractive:!0,tooltip:function(t){var e=t.layer;return S.jsx(od,{id:e.label,enableChip:!0,color:e.color})},enableStackTooltip:!0,stackTooltip:function(t){var e=t.slice,n=A.useMemo(function(){return e.stack.map(function(r){return[S.jsx(wg,{color:r.color},r.layerId),r.layerLabel,r.formattedValue]})},[e]);return S.jsx(aO,{rows:n})},legends:[],legendLabel:"id",role:"application"},Ki=Ff({},uc,{layers:["grid","axes","layers","dots","slices","legends"],defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),o2t=["isInteractive","animate","motionConfig","theme","renderWrapper"],a2t=function(t){var e=t.data,n=t.keys,r=t.label,i=t.valueFormat,o=t.offsetType,a=t.order,s=t.curve,l=t.layers,c=l===void 0?Ki.layers:l,u=t.width,f=t.height,d=t.margin,h=t.axisTop,m=t.axisRight,v=t.axisBottom,y=v===void 0?Ki.axisBottom:v,g=t.axisLeft,b=g===void 0?Ki.axisLeft:g,x=t.enableGridX,_=x===void 0?Ki.enableGridX:x,T=t.enableGridY,C=T===void 0?Ki.enableGridY:T,P=t.colors,I=t.fillOpacity,O=I===void 0?Ki.fillOpacity:I,N=t.borderWidth,D=N===void 0?Ki.borderWidth:N,U=t.borderColor,V=t.defs,z=V===void 0?Ki.defs:V,F=t.fill,W=F===void 0?Ki.fill:F,X=t.enableDots,B=X===void 0?Ki.enableDots:X,G=t.dotPosition,q=G===void 0?Ki.dotPosition:G,te=t.dotComponent,Y=te===void 0?Ki.dotComponent:te,J=t.dotSize,re=t.dotColor,oe=t.dotBorderWidth,pe=t.dotBorderColor,fe=t.isInteractive,we=fe===void 0?Ki.isInteractive:fe,ge=t.tooltip,xe=ge===void 0?Ki.tooltip:ge,Te=t.enableStackTooltip,ee=Te===void 0?Ki.enableStackTooltip:Te,Ce=t.stackTooltip,ae=Ce===void 0?Ki.stackTooltip:Ce,be=t.legends,_e=be===void 0?Ki.legends:be,He=t.role,Ve=t.ariaLabel,ne=t.ariaLabelledBy,Q=t.ariaDescribedBy,ve=t.forwardedRef,Se=Sa(u,f,d),Le=Se.margin,Ie=Se.innerWidth,Ke=Se.innerHeight,Ne=Se.outerWidth,Ye=Se.outerHeight,et=function(ce){var Re=ce.width,Xe=ce.height,ct=ce.data,De=ce.keys,st=ce.label,mt=st===void 0?uc.label:st,rt=ce.valueFormat,it=ce.offsetType,nt=it===void 0?uc.offsetType:it,Pt=ce.order,Rt=Pt===void 0?uc.order:Pt,Xt=ce.curve,sn=Xt===void 0?uc.curve:Xt,bt=ce.colors,yt=bt===void 0?uc.colors:bt,Yt=ce.borderColor,nr=Yt===void 0?uc.borderColor:Yt,Zt=ce.dotSize,At=Zt===void 0?uc.dotSize:Zt,qt=ce.dotColor,gn=qt===void 0?uc.dotColor:qt,se=ce.dotBorderWidth,Pe=se===void 0?uc.dotBorderWidth:se,Oe=ce.dotBorderColor,je=Oe===void 0?uc.dotBorderColor:Oe,$e=KWe(sn),_t=A.useMemo(function(){return Dy().x(function(On){return On.x}).y0(function(On){return On.y1}).y1(function(On){return On.y2}).curve($e)},[$e]),Et=A.useMemo(function(){return SU().keys(De).offset(YWe(nt)).order(XWe(Rt))},[De,nt,Rt]),Bt=A.useMemo(function(){var On=[],Lt=[],pn=Et(ct).map(function(Ln){return Ln.map(function(mr){return On.push(mr[0]),Lt.push(mr[1]),Ff({},mr,{value:mr.data[Ln.key]})})}),Or=Math.min.apply(Math,On),Xn=Math.max.apply(Math,Lt);return[pn,Hue({},{all:Array.from({length:ct.length},function(Ln,mr){return mr}),max:ct.length},Re),Vue({min:Or},{min:Or,max:Xn},Xe,"y")]},[Et,ct,Re,Xe]),$t=Bt[0],Kt=Bt[1],It=Bt[2],Wt=Bn(),Vn=rv(yt,"id"),or=$i(nr,Wt),nn=A.useMemo(function(){return typeof At=="function"?At:function(){return At}},[At]),hr=$i(gn,Wt),gt=A.useMemo(function(){return typeof Pe=="function"?Pe:function(){return Pe}},[Pe]),Ct=$i(je,Wt),tn=Nl(mt),Dt=ba(rt),Tn=A.useMemo(function(){return $t.map(function(On,Lt){var pn=On.map(function(Ln,mr){return{layerId:De[Lt],layerLabel:"",index:mr,color:"",x:Kt(mr),value:Ln.value,formattedValue:Dt(Ln.value),y1:It(Ln[0]),y2:It(Ln[1])}}),Or={id:De[Lt],path:_t(pn)},Xn=Ff({},Or,{label:tn(Or),color:Vn(Or)});return Ff({},Xn,{data:pn.map(function(Ln){return Ln.layerLabel=Xn.label,Ln.color=Xn.color,Ln})})})},[$t,De,tn,_t,Vn,Kt,It,Dt]),Er=A.useMemo(function(){return Array.from({length:ct.length},function(On,Lt){var pn=Tn.map(function(Or){return Or.data[Lt]}).sort(function(Or,Xn){return Or.y2-Xn.y2});return{index:Lt,x:Tn[0].data[Lt].x,stack:pn}})},[ct.length,Tn]),Tr=A.useMemo(function(){return{xScale:Kt,yScale:It,layers:Tn,slices:Er}},[Kt,It,Tn,Er]);return{xScale:Kt,yScale:It,layers:Tn,slices:Er,getBorderColor:or,getDotSize:nn,getDotColor:hr,getDotBorderWidth:gt,getDotBorderColor:Ct,layerContext:Tr}}({width:Ie,height:Ke,data:e,keys:n,label:r,valueFormat:i,offsetType:o,order:a,curve:s,colors:P,borderColor:U,dotSize:J,dotColor:re,dotBorderWidth:oe,dotBorderColor:pe}),vt=et.xScale,ke=et.yScale,Ze=et.layers,at=et.slices,pt=et.getBorderColor,me=et.getDotSize,Ae=et.getDotColor,le=et.getDotBorderWidth,Ee=et.getDotBorderColor,Ue=et.layerContext,We=mM(z,Ze,W),ze={grid:null,axes:null,layers:null,dots:null,slices:null,legends:null};return c.includes("grid")&&(ze.grid=S.jsx(u8,{width:Ie,height:Ke,xScale:_?vt:null,yScale:C?ke:null},"grid")),c.includes("axes")&&(ze.axes=S.jsx(c8,{xScale:vt,yScale:ke,width:Ie,height:Ke,top:h,right:m,bottom:y,left:b},"axes")),c.includes("layers")&&(ze.layers=S.jsx(e2t,{layers:Ze,fillOpacity:O,borderWidth:D,getBorderColor:pt,isInteractive:we,tooltip:xe},"layers")),c.includes("dots")&&B&&(ze.dots=S.jsx(A.Fragment,{children:Ze.map(function(ce){return S.jsx(n2t,{id:ce.id,color:ce.color,data:ce.data,dotComponent:Y,position:q,getSize:me,getColor:Ae,getBorderWidth:le,getBorderColor:Ee},ce.id)})},"dots")),c.includes("slices")&&we&&ee&&(ze.slices=S.jsx(i2t,{slices:at,height:Ke,tooltip:ae},"slices")),c.includes("legends")&&(ze.legends=S.jsx(A.Fragment,{children:_e.map(function(ce,Re){var Xe=Ze.map(function(ct){return{id:ct.id,label:ct.label,color:ct.color,fill:ct.fill}}).reverse();return S.jsx(iv,Ff({},ce,{containerWidth:Ie,containerHeight:Ke,data:Xe}),Re)})},"legends")),S.jsx(Ku,{width:Ne,height:Ye,margin:Le,defs:We,role:He,ariaLabel:Ve,ariaLabelledBy:ne,ariaDescribedBy:Q,ref:ve,children:c.map(function(ce,Re){var Xe;return typeof ce=="function"?S.jsx(A.Fragment,{children:A.createElement(ce,Ue)},Re):(Xe=ze==null?void 0:ze[ce])!=null?Xe:null})})},s2t=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Ki.isInteractive:n,i=t.animate,o=i===void 0?Ki.animate:i,a=t.motionConfig,s=a===void 0?Ki.motionConfig:a,l=t.theme,c=t.renderWrapper,u=wve(t,o2t);return S.jsx(_a,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:c,theme:l,children:S.jsx(a2t,Ff({},u,{isInteractive:r,forwardedRef:e}))})}),l2t=["defaultWidth","defaultHeight","onResize","debounceResize"],c2t=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=wve(t,l2t);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(s2t,Ff({},a,{width:l,height:c,ref:e}))}})});function u2t({className:t}){const{events:e}=Rr(),[n,r]=A.useState([]);return A.useEffect(()=>{const i=Date.now(),o={};for(let a=0;a<20;a++)o[a]={"Human Edit":0,"Bot Edit":0,"New Page":0,"Minor Edit":0};e.forEach(a=>{const s=i-a.timestamp.getTime(),l=Math.floor(s/3e3);l<20&&l>=0&&(a.bot?o[l]["Bot Edit"]++:a.type==="new"?o[l]["New Page"]++:a.minor?o[l]["Minor Edit"]++:o[l]["Human Edit"]++)}),r(Object.values(o).reverse())},[e]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Edit Types Stream"}),S.jsx("div",{className:"h-[300px]",children:S.jsx(c2t,{data:n,keys:["Human Edit","Bot Edit","New Page","Minor Edit"],margin:{top:20,right:110,bottom:20,left:30},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Time (relative)",legendOffset:36},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Volume",legendOffset:-40},enableGridX:!1,enableGridY:!1,offsetType:"silhouette",colors:{scheme:"nivo"},fillOpacity:.85,borderColor:{theme:"background"},legends:[{anchor:"bottom-right",direction:"column",translateX:100,itemWidth:80,itemHeight:20,itemTextColor:"#999",symbolSize:12,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}],theme:{tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}function f2t({className:t}){const e=A.useRef(null),{events:n}=Rr();return A.useEffect(()=>{if(!e.current||n.length===0)return;const r=["length","namespace","bot","minor"],i=n.slice(0,50).map(d=>({length:Math.abs(d.delta||0),namespace:d.namespace,bot:d.bot?1:0,minor:d.minor?1:0})),o={top:30,right:10,bottom:10,left:10},a=e.current.clientWidth-o.left-o.right,s=e.current.clientHeight-o.top-o.bottom,l=Wu(e.current);l.selectAll("*").remove();const c=l.append("g").attr("transform",`translate(${o.left},${o.top})`),u={};r.forEach(d=>{u[d]=lp().domain(cFe(i,h=>h[d])).range([s,0])});const f=ig().range([0,a]).padding(1).domain(r);c.selectAll("path").data(i).join("path").attr("d",d=>Eg()(r.map(h=>[f(h),u[h](d[h])]))).style("fill","none").style("stroke","#3b82f6").style("opacity",.5),c.selectAll("myAxis").data(r).enter().append("g").attr("transform",d=>`translate(${f(d)},0)`).each(function(d){Wu(this).call(dbt(u[d]))}).append("text").style("text-anchor","middle").attr("y",-9).text(d=>d).style("fill","white")},[n]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Multi-Dimensional Analysis"}),S.jsx("svg",{ref:e,className:"w-full h-[300px]"})]})}function Sve(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d2t(t){return t.length===1&&(t=h2t(t)),{left:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function h2t(t){return function(e,n){return Sve(t(e),n)}}d2t(Sve);function fQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var dQ=Math.cos,hQ=Math.sin,Mve=Math.PI,wT=Mve/2,pQ=Mve*2,mQ=Math.max;function p2t(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function m2t(){var t=0,e=null,n=null,r=null;function i(o){var a=o.length,s=[],l=fQ(a),c=[],u=[],f=u.groups=new Array(a),d=new Array(a*a),h,m,v,y,g,b;for(h=0,g=-1;++g<a;){for(m=0,b=-1;++b<a;)m+=o[g][b];s.push(m),c.push(fQ(a)),h+=m}for(e&&l.sort(function(N,D){return e(s[N],s[D])}),n&&c.forEach(function(N,D){N.sort(function(U,V){return n(o[D][U],o[D][V])})}),h=mQ(0,pQ-t*a)/h,y=h?t:pQ/a,m=0,g=-1;++g<a;){for(v=m,b=-1;++b<a;){var x=l[g],_=c[x][b],T=o[x][_],C=m,P=m+=T*h;d[_*a+x]={index:x,subindex:_,startAngle:C,endAngle:P,value:T}}f[x]={index:x,startAngle:v,endAngle:m,value:s[x]},m+=y}for(g=-1;++g<a;)for(b=g-1;++b<a;){var I=d[b*a+g],O=d[g*a+b];(I.value||O.value)&&u.push(I.value<O.value?{source:O,target:I}:{source:I,target:O})}return r?u.sort(r):u}return i.padAngle=function(o){return arguments.length?(t=mQ(0,o),i):t},i.sortGroups=function(o){return arguments.length?(e=o,i):e},i.sortSubgroups=function(o){return arguments.length?(n=o,i):n},i.sortChords=function(o){return arguments.length?(o==null?r=null:(r=p2t(o))._=o,i):r&&r._},i}var g2t=Array.prototype.slice;function zI(t){return function(){return t}}function v2t(t){return t.source}function y2t(t){return t.target}function x2t(t){return t.radius}function b2t(t){return t.startAngle}function _2t(t){return t.endAngle}function w2t(){var t=v2t,e=y2t,n=x2t,r=b2t,i=_2t,o=null;function a(){var s,l=g2t.call(arguments),c=t.apply(this,l),u=e.apply(this,l),f=+n.apply(this,(l[0]=c,l)),d=r.apply(this,l)-wT,h=i.apply(this,l)-wT,m=f*dQ(d),v=f*hQ(d),y=+n.apply(this,(l[0]=u,l)),g=r.apply(this,l)-wT,b=i.apply(this,l)-wT;if(o||(o=s=ove()),o.moveTo(m,v),o.arc(0,0,f,d,h),(d!==g||h!==b)&&(o.quadraticCurveTo(0,0,y*dQ(g),y*hQ(g)),o.arc(0,0,y,g,b)),o.quadraticCurveTo(0,0,m,v),o.closePath(),s)return o=null,s+""||null}return a.radius=function(s){return arguments.length?(n=typeof s=="function"?s:zI(+s),a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:zI(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:zI(+s),a):i},a.source=function(s){return arguments.length?(t=s,a):t},a.target=function(s){return arguments.length?(e=s,a):e},a.context=function(s){return arguments.length?(o=s??null,a):o},a}function ci(){return ci=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ci.apply(null,arguments)}var S2t={pointerEvents:"none"},M2t=function(t){var e=t.label,n=t.style,r=Bn();return S.jsx(Un.g,{transform:n.transform,opacity:n.progress,style:S2t,children:S.jsx(Fl,{textAnchor:"middle",dominantBaseline:"central",style:ci({},r.labels.text,{fill:n.textColor}),children:e})})},E2t={startAngle:{enter:function(t){return ci({},t,{endAngle:t.startAngle})},update:function(t){return t},leave:function(t){return ci({},t,{startAngle:t.endAngle})}},middleAngle:{enter:function(t){var e=t.startAngle+(t.endAngle-t.startAngle)/2;return ci({},t,{startAngle:e,endAngle:e})},update:function(t){return t},leave:function(t){var e=t.startAngle+(t.endAngle-t.startAngle)/2;return ci({},t,{startAngle:e,endAngle:e})}},endAngle:{enter:function(t){return ci({},t,{startAngle:t.endAngle})},update:function(t){return t},leave:function(t){return ci({},t,{endAngle:t.startAngle})}},innerRadius:{enter:function(t){return ci({},t,{outerRadius:t.innerRadius})},update:function(t){return t},leave:function(t){return ci({},t,{innerRadius:t.outerRadius})}},centerRadius:{enter:function(t){var e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;return ci({},t,{innerRadius:e,outerRadius:e})},update:function(t){return t},leave:function(t){var e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;return ci({},t,{innerRadius:e,outerRadius:e})}},outerRadius:{enter:function(t){return ci({},t,{innerRadius:t.outerRadius})},update:function(t){return t},leave:function(t){return ci({},t,{outerRadius:t.innerRadius})}},pushIn:{enter:function(t){return ci({},t,{innerRadius:t.innerRadius-t.outerRadius+t.innerRadius,outerRadius:t.innerRadius})},update:function(t){return t},leave:function(t){return ci({},t,{innerRadius:t.outerRadius,outerRadius:t.outerRadius+t.outerRadius-t.innerRadius})}},pushOut:{enter:function(t){return ci({},t,{innerRadius:t.outerRadius,outerRadius:t.outerRadius+t.outerRadius-t.innerRadius})},update:function(t){return t},leave:function(t){return ci({},t,{innerRadius:t.innerRadius-t.outerRadius+t.innerRadius,outerRadius:t.innerRadius})}}},Eve=function(t,e){return A.useMemo(function(){var n=E2t[t];return{enter:function(r){return ci({progress:0},n.enter(r.arc),e?e.enter(r):{})},update:function(r){return ci({progress:1},n.update(r.arc),e?e.update(r):{})},leave:function(r){return ci({progress:0},n.leave(r.arc),e?e.leave(r):{})}}},[t,e])},T2t=function(t,e){var n=o8(t)-Math.PI/2,r=t.innerRadius+(t.outerRadius-t.innerRadius)*e;return a8(n,r)},A2t=function(t){return function(e,n,r,i){return Xa([e,n,r,i],function(o,a,s,l){var c=T2t({startAngle:o,endAngle:a,innerRadius:s,outerRadius:l},t);return"translate("+c.x+","+c.y+")"})}},C2t=function(t,e,n,r){e===void 0&&(e=.5),n===void 0&&(n="innerRadius");var i=gi(),o=i.animate,a=i.config,s=Eve(n,r);return{transition:qu(t,{keys:function(l){return l.id},initial:s.update,from:s.enter,enter:s.update,update:s.update,leave:s.leave,config:a,immediate:!o}),interpolate:A2t(e)}},P2t=function(t){var e=t.center,n=t.data,r=t.transitionMode,i=t.label,o=t.radiusOffset,a=t.skipAngle,s=t.skipRadius,l=t.textColor,c=t.component,u=c===void 0?M2t:c,f=Nl(i),d=Bn(),h=$i(l,d),m=A.useMemo(function(){return n.filter(function(x){var _=Math.abs(i8(x.arc.endAngle-x.arc.startAngle)),T=Math.abs(x.arc.outerRadius-x.arc.innerRadius);return _>=a&&T>=s})},[n,a,s]),v=C2t(m,o,r),y=v.transition,g=v.interpolate,b=u;return S.jsx("g",{transform:"translate("+e[0]+","+e[1]+")",children:y(function(x,_){return A.createElement(b,{key:_.id,datum:_,label:f(_),style:{progress:x.progress,transform:g(x.startAngle,x.endAngle,x.innerRadius,x.outerRadius),textColor:h(_)}})})})};Eg().x(function(t){return t.x}).y(function(t){return t.y});var R2t=function(t){var e=t.datum,n=t.style,r=t.onClick,i=t.onMouseEnter,o=t.onMouseMove,a=t.onMouseLeave,s=A.useCallback(function(f){return r==null?void 0:r(e,f)},[r,e]),l=A.useCallback(function(f){return i==null?void 0:i(e,f)},[i,e]),c=A.useCallback(function(f){return o==null?void 0:o(e,f)},[o,e]),u=A.useCallback(function(f){return a==null?void 0:a(e,f)},[a,e]);return S.jsx(Un.path,{d:n.path,opacity:n.opacity,fill:e.fill||n.color,stroke:n.borderColor,strokeWidth:n.borderWidth,onClick:r?s:void 0,onMouseEnter:i?l:void 0,onMouseMove:o?c:void 0,onMouseLeave:a?u:void 0,"data-testid":"arc."+e.id})},O2t=function(t,e,n,r,i){return Xa([t,e,n,r],function(o,a,s,l){return i({startAngle:o,endAngle:a,innerRadius:Math.max(0,s),outerRadius:Math.max(0,l)})})},L2t=function(t,e,n){e===void 0&&(e="innerRadius");var r=gi(),i=r.animate,o=r.config,a=Eve(e,n);return{transition:qu(t,{keys:function(s){return s.id},initial:a.update,from:a.enter,enter:a.update,update:a.update,leave:a.leave,config:o,immediate:!i}),interpolate:O2t}},k2t=function(t){var e=t.center,n=t.data,r=t.arcGenerator,i=t.borderWidth,o=t.borderColor,a=t.onClick,s=t.onMouseEnter,l=t.onMouseMove,c=t.onMouseLeave,u=t.transitionMode,f=t.component,d=f===void 0?R2t:f,h=Bn(),m=$i(o,h),v=L2t(n,u,{enter:function(x){return{opacity:0,color:x.color,borderColor:m(x)}},update:function(x){return{opacity:1,color:x.color,borderColor:m(x)}},leave:function(x){return{opacity:0,color:x.color,borderColor:m(x)}}}),y=v.transition,g=v.interpolate,b=d;return S.jsx("g",{transform:"translate("+e[0]+","+e[1]+")",children:y(function(x,_){return A.createElement(b,{key:_.id,datum:_,style:ci({},x,{borderWidth:i,path:g(x.startAngle,x.endAngle,x.innerRadius,x.outerRadius,r)}),onClick:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:c})})})},N2t=function(t,e,n,r,i,o){var a=jue(i,o,t,e);return a<n&&a>r},I2t=function(t,e,n,r,i,o,a){if(N2t(t,e,n,r,o,a)){var s=e7e(o,a,t,e);return i.find(function(l){var c=l.startAngle,u=l.endAngle;return s>=c&&s<u})}},D2t=function(t){var e=t===void 0?{}:t,n=e.cornerRadius,r=n===void 0?0:n,i=e.padAngle,o=i===void 0?0:i;return A.useMemo(function(){return Vle().innerRadius(function(a){return a.innerRadius}).outerRadius(function(a){return a.outerRadius}).cornerRadius(r).padAngle(o)},[r,o])};function ni(){return ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ni.apply(null,arguments)}function u3(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j2t=A.memo(function(t){var e=t.arc;return S.jsx(od,{id:e.label,value:e.formattedValue,color:e.color,enableChip:!0})}),B2t=A.memo(function(t){var e=t.ribbon;return S.jsx(aO,{rows:[[S.jsx(wg,{color:e.source.color},"chip"),S.jsx("strong",{children:e.source.label},"id"),e.source.formattedValue],[S.jsx(wg,{color:e.target.color},"chip"),S.jsx("strong",{children:e.target.label},"id"),e.target.formattedValue]]})}),zs={layers:["ribbons","arcs","labels","legends"],padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,colors:{scheme:"nivo"},arcOpacity:1,activeArcOpacity:1,inactiveArcOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:j2t,ribbonOpacity:.5,activeRibbonOpacity:.85,inactiveRibbonOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,legends:[],animate:!0,motionConfig:"gentle",role:"img"},Cr=ni({},zs,{ribbonBlendMode:"normal",ribbonTooltip:B2t}),Nr=ni({},zs,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),z2t=function(t){var e=t.padAngle;return m2t().padAngle(e)},$2t=function(t){var e=t.width,n=t.height,r=t.innerRadiusRatio,i=t.innerRadiusOffset,o=[e/2,n/2],a=Math.min(e,n)/2,s=a*r,l=a*(r-i);return{center:o,radius:a,innerRadius:s,arcGenerator:Vle().outerRadius(a).innerRadius(s),ribbonGenerator:w2t().radius(l)}},F2t=function(t){var e=t.chord,n=t.data,r=t.keys,i=t.getLabel,o=t.formatValue,a=t.getColor,s=e(n),l=s.groups.map(function(c){var u=ni({},c,{id:r[c.index],formattedValue:o(c.value)});return ni({},u,{label:i(u),color:a(u)})});return{arcs:l,ribbons:s.map(function(c){var u=ni({},c.source,{id:r[c.source.index],formattedValue:o(c.source.value)}),f=ni({},c.target,{id:r[c.target.index],formattedValue:o(c.target.value)});return ni({},c,{id:[u.id,f.id].sort().join("."),source:ni({},u,{label:i(u),color:a(u)}),target:ni({},f,{label:i(f),color:a(f)})})})}},U2t=function(t){var e=t.startAngle,n=t.endAngle,r=t.arcGenerator;return Xa([e,n],function(i,o){return r({startAngle:i,endAngle:o})})},W2t=function(t){var e=t.sourceStartAngle,n=t.sourceEndAngle,r=t.targetStartAngle,i=t.targetEndAngle,o=t.ribbonGenerator;return Xa([e,n,r,i],function(a,s,l,c){return o({source:{startAngle:Math.min(a,s),endAngle:Math.max(s,a)},target:{startAngle:Math.min(l,c),endAngle:Math.max(c,l)}})})},V2t=function(t){var e=t.padAngle;return A.useMemo(function(){return z2t({padAngle:e})},[e])},H2t=function(t){var e=t.width,n=t.height,r=t.innerRadiusRatio,i=t.innerRadiusOffset;return A.useMemo(function(){return $2t({width:e,height:n,innerRadiusRatio:r,innerRadiusOffset:i})},[e,n,r,i])},G2t=function(t){var e=t.chord,n=t.getColor,r=t.keys,i=t.data,o=t.getLabel,a=t.formatValue;return A.useMemo(function(){return F2t({chord:e,data:i,keys:r,getLabel:o,formatValue:a,getColor:n})},[e,n,r,i,o,a])},Tve=function(t){var e=t.data,n=t.keys,r=t.label,i=r===void 0?zs.label:r,o=t.valueFormat,a=t.width,s=t.height,l=t.innerRadiusRatio,c=l===void 0?zs.innerRadiusRatio:l,u=t.innerRadiusOffset,f=u===void 0?zs.innerRadiusOffset:u,d=t.padAngle,h=d===void 0?zs.padAngle:d,m=t.colors,v=m===void 0?zs.colors:m,y=V2t({padAngle:h}),g=H2t({width:a,height:s,innerRadiusRatio:c,innerRadiusOffset:f}),b=g.center,x=g.radius,_=g.innerRadius,T=g.arcGenerator,C=g.ribbonGenerator,P=A.useMemo(function(){return Iue(i)},[i]),I=ba(o),O=rv(v,"id"),N=G2t({chord:y,getColor:O,keys:n,data:e,getLabel:P,formatValue:I});return{center:b,chord:y,radius:x,innerRadius:_,arcGenerator:T,ribbonGenerator:C,getColor:O,arcs:N.arcs,ribbons:N.ribbons}},Ave=function(t){var e=t.arcOpacity,n=e===void 0?zs.arcOpacity:e,r=t.activeArcOpacity,i=r===void 0?zs.activeArcOpacity:r,o=t.inactiveArcOpacity,a=o===void 0?zs.inactiveArcOpacity:o,s=t.ribbons,l=t.ribbonOpacity,c=l===void 0?zs.ribbonOpacity:l,u=t.activeRibbonOpacity,f=u===void 0?zs.activeRibbonOpacity:u,d=t.inactiveRibbonOpacity,h=d===void 0?zs.inactiveRibbonOpacity:d,m=A.useState(null),v=m[0],y=m[1],g=A.useState(null),b=g[0],x=g[1],_=A.useMemo(function(){var I=[],O=[];return v&&(I.push(v.id),s.filter(function(N){return N.source.id===v.id||N.target.id===v.id}).forEach(function(N){O.push(N.id)})),b&&(I.push(b.source.id),I.push(b.target.id),O.push(b.id)),{selectedArcIds:I,selectedRibbonIds:O}},[v,b,s]),T=_.selectedArcIds.length>1||_.selectedRibbonIds.length>0,C=A.useMemo(function(){return function(I){return T?_.selectedArcIds.includes(I.id)?i:a:n}},[T,_.selectedArcIds,n,i,a]),P=A.useMemo(function(){return function(I){return T?_.selectedRibbonIds.includes(I.id)?f:h:c}},[T,_.selectedRibbonIds,c,f,h]);return ni({currentArc:v,setCurrentArc:y,currentRibbon:b,setCurrentRibbon:x,hasSelection:T},_,{getArcOpacity:C,getRibbonOpacity:P})},Cve=function(t){var e=t.center,n=t.radius,r=t.arcs,i=t.arcGenerator,o=t.ribbons,a=t.ribbonGenerator;return A.useMemo(function(){return{center:e,radius:n,arcs:r,arcGenerator:i,ribbons:o,ribbonGenerator:a}},[e,n,r,i,o,a])},X2t=A.memo(function(t){var e=t.ribbon,n=t.ribbonGenerator,r=t.animatedProps,i=t.borderWidth,o=t.blendMode,a=t.isInteractive,s=t.setCurrent,l=t.onMouseEnter,c=t.onMouseMove,u=t.onMouseLeave,f=t.onClick,d=t.tooltip,h=ro(),m=h.showTooltipFromEvent,v=h.hideTooltip,y=A.useMemo(function(){if(a)return function(_){s(e),m(A.createElement(d,{ribbon:e}),_),l==null||l(e,_)}},[a,m,d,e,l,s]),g=A.useMemo(function(){if(a)return function(_){m(A.createElement(d,{ribbon:e}),_),c==null||c(e,_)}},[a,m,d,e,c]),b=A.useMemo(function(){if(a)return function(_){s(null),v(),u==null||u(e,_)}},[a,v,e,u,s]),x=A.useMemo(function(){if(a&&f)return function(_){return f==null?void 0:f(e,_)}},[a,e,f]);return S.jsx(Un.path,{"data-testid":"ribbon."+e.source.id+"."+e.target.id,d:W2t({sourceStartAngle:r.sourceStartAngle,sourceEndAngle:r.sourceEndAngle,targetStartAngle:r.targetStartAngle,targetEndAngle:r.targetEndAngle,ribbonGenerator:n}),fill:r.color,opacity:r.opacity,strokeWidth:i,stroke:r.borderColor,style:{mixBlendMode:o},onMouseEnter:y,onMouseMove:g,onMouseLeave:b,onClick:x})}),ST=function(t,e){var n,r,i=t.source,o=t.target;return i.startAngle<o.startAngle?(n=i,r=o):(n=o,r=i),{sourceStartAngle:n.startAngle,sourceEndAngle:n.endAngle,targetStartAngle:r.startAngle,targetEndAngle:r.endAngle}},q2t=A.memo(function(t){var e=t.ribbons,n=t.ribbonGenerator,r=t.borderWidth,i=t.borderColor,o=t.getOpacity,a=t.blendMode,s=t.isInteractive,l=t.setCurrent,c=t.onMouseEnter,u=t.onMouseMove,f=t.onMouseLeave,d=t.onClick,h=t.tooltip,m=gi(),v=m.animate,y=m.config,g=Bn(),b=$i(i,g),x=qu(e,{keys:function(_){return _.id},initial:function(_){return ni({},ST(_,!1),{color:_.source.color,opacity:o(_),borderColor:b(_.source)})},from:function(_){return ni({},ST(_,!1),{color:_.source.color,opacity:0,borderColor:b(_.source)})},update:function(_){return ni({},ST(_,!1),{color:_.source.color,opacity:o(_),borderColor:b(_.source)})},leave:function(_){return ni({},ST(_,!1),{color:_.source.color,opacity:0,borderColor:b(_.source)})},expires:!0,config:y,immediate:!v});return S.jsx(S.Fragment,{children:x(function(_,T){return S.jsx(X2t,{ribbon:T,ribbonGenerator:n,animatedProps:_,borderWidth:r,blendMode:a,setCurrent:l,isInteractive:s,tooltip:h,onMouseEnter:c,onMouseMove:u,onMouseLeave:f,onClick:d},T.id)})})}),Y2t=A.memo(function(t){var e=t.arc,n=t.animatedProps,r=t.borderWidth,i=t.arcGenerator,o=t.setCurrent,a=t.isInteractive,s=t.onMouseEnter,l=t.onMouseMove,c=t.onMouseLeave,u=t.onClick,f=t.tooltip,d=ro(),h=d.showTooltipFromEvent,m=d.hideTooltip,v=A.useMemo(function(){if(a)return function(x){o(e),h(A.createElement(f,{arc:e}),x),s==null||s(e,x)}},[a,h,f,e,s,o]),y=A.useMemo(function(){if(a)return function(x){h(A.createElement(f,{arc:e}),x),l==null||l(e,x)}},[a,h,f,e,l]),g=A.useMemo(function(){if(a)return function(x){o(null),m(),c==null||c(e,x)}},[a,m,e,c,o]),b=A.useMemo(function(){if(a&&u)return function(x){return u==null?void 0:u(e,x)}},[a,e,u]);return S.jsx(Un.path,{"data-testid":"arc."+e.id,d:U2t({startAngle:n.startAngle,endAngle:n.endAngle,arcGenerator:i}),fill:n.color,opacity:n.opacity,strokeWidth:r,stroke:n.borderColor,onMouseEnter:v,onMouseMove:y,onMouseLeave:g,onClick:b})}),K2t=A.memo(function(t){var e=t.arcs,n=t.borderWidth,r=t.borderColor,i=t.getOpacity,o=t.arcGenerator,a=t.setCurrent,s=t.isInteractive,l=t.onMouseEnter,c=t.onMouseMove,u=t.onMouseLeave,f=t.onClick,d=t.tooltip,h=gi(),m=h.animate,v=h.config,y=Bn(),g=$i(r,y),b=qu(e,{keys:function(x){return x.id},initial:function(x){return{startAngle:x.startAngle,endAngle:x.endAngle,color:x.color,opacity:i(x),borderColor:g(x)}},from:function(x){return{startAngle:x.startAngle,endAngle:x.endAngle,color:x.color,opacity:0,borderColor:g(x)}},update:function(x){return{startAngle:x.startAngle,endAngle:x.endAngle,color:x.color,opacity:i(x),borderColor:g(x)}},leave:function(x){return{startAngle:x.startAngle,endAngle:x.endAngle,color:x.color,opacity:0,borderColor:g(x)}},expires:!0,config:v,immediate:!m});return S.jsx(S.Fragment,{children:b(function(x,_){return S.jsx(Y2t,{arc:_,arcGenerator:o,animatedProps:x,borderWidth:n,setCurrent:a,isInteractive:s,tooltip:d,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:f},_.id)})})}),Z2t=A.memo(function(t){var e=t.arcs,n=t.radius,r=t.rotation,i=t.color,o=gi(),a=o.animate,s=o.config,l=Bn(),c=$i(i,l),u=A.useMemo(function(){return e.map(function(d){var h=o8(d),m=Oue(n,h,r);return{id:d.id,label:d.label,x:m.x,y:m.y,rotation:m.rotate,color:c(d),textAnchor:m.align,dominantBaseline:m.baseline}})},[e,n,r,c]),f=qu(u,{keys:function(d){return d.id},initial:function(d){return{x:d.x,y:d.y,rotation:d.rotation,color:d.color}},from:function(d){return{x:d.x,y:d.y,rotation:d.rotation,color:d.color}},enter:function(d){return{x:d.x,y:d.y,rotation:d.rotation,color:d.color}},update:function(d){return{x:d.x,y:d.y,rotation:d.rotation,color:d.color}},expires:!0,config:s,immediate:!a});return S.jsx(S.Fragment,{children:f(function(d,h){return S.jsx(Fl,{"data-testid":"label."+h.id,style:ni({},l.labels.text,{pointerEvents:"none",fill:d.color}),transform:Xa([d.x,d.y,d.rotation],function(m,v,y){return"translate("+m+", "+v+") rotate("+y+")"}),textAnchor:h.textAnchor,dominantBaseline:h.dominantBaseline,children:h.label},h.id)})})}),J2t=["isInteractive","animate","motionConfig","theme","renderWrapper"],Q2t=function(t){var e=t.data,n=t.keys,r=t.label,i=t.valueFormat,o=t.margin,a=t.width,s=t.height,l=t.innerRadiusRatio,c=l===void 0?Cr.innerRadiusRatio:l,u=t.innerRadiusOffset,f=u===void 0?Cr.innerRadiusOffset:u,d=t.padAngle,h=d===void 0?Cr.padAngle:d,m=t.layers,v=m===void 0?Cr.layers:m,y=t.colors,g=y===void 0?Cr.colors:y,b=t.arcBorderWidth,x=b===void 0?Cr.arcBorderWidth:b,_=t.arcBorderColor,T=_===void 0?Cr.arcBorderColor:_,C=t.arcOpacity,P=C===void 0?Cr.arcOpacity:C,I=t.activeArcOpacity,O=I===void 0?Cr.activeArcOpacity:I,N=t.inactiveArcOpacity,D=N===void 0?Cr.inactiveArcOpacity:N,U=t.arcTooltip,V=U===void 0?Cr.arcTooltip:U,z=t.ribbonBorderWidth,F=z===void 0?Cr.ribbonBorderWidth:z,W=t.ribbonBorderColor,X=W===void 0?Cr.ribbonBorderColor:W,B=t.ribbonBlendMode,G=B===void 0?Cr.ribbonBlendMode:B,q=t.ribbonOpacity,te=q===void 0?Cr.ribbonOpacity:q,Y=t.activeRibbonOpacity,J=Y===void 0?Cr.activeRibbonOpacity:Y,re=t.inactiveRibbonOpacity,oe=re===void 0?Cr.inactiveRibbonOpacity:re,pe=t.ribbonTooltip,fe=pe===void 0?Cr.ribbonTooltip:pe,we=t.enableLabel,ge=we===void 0?Cr.enableLabel:we,xe=t.labelOffset,Te=xe===void 0?Cr.labelOffset:xe,ee=t.labelRotation,Ce=ee===void 0?Cr.labelRotation:ee,ae=t.labelTextColor,be=ae===void 0?Cr.labelTextColor:ae,_e=t.isInteractive,He=_e===void 0?Cr.isInteractive:_e,Ve=t.onArcMouseEnter,ne=t.onArcMouseMove,Q=t.onArcMouseLeave,ve=t.onArcClick,Se=t.onRibbonMouseEnter,Le=t.onRibbonMouseMove,Ie=t.onRibbonMouseLeave,Ke=t.onRibbonClick,Ne=t.legends,Ye=Ne===void 0?Cr.legends:Ne,et=t.role,vt=et===void 0?Cr.role:et,ke=t.ariaLabel,Ze=t.ariaLabelledBy,at=t.ariaDescribedBy,pt=t.forwardedRef,me=Sa(a,s,o),Ae=me.margin,le=me.innerWidth,Ee=me.innerHeight,Ue=me.outerWidth,We=me.outerHeight,ze=Tve({data:e,keys:n,label:r,valueFormat:i,width:le,height:Ee,innerRadiusRatio:c,innerRadiusOffset:f,padAngle:h,colors:g}),ce=ze.center,Re=ze.radius,Xe=ze.arcGenerator,ct=ze.ribbonGenerator,De=ze.arcs,st=ze.ribbons,mt=Ave({arcOpacity:P,activeArcOpacity:O,inactiveArcOpacity:D,ribbons:st,ribbonOpacity:te,activeRibbonOpacity:J,inactiveRibbonOpacity:oe}),rt=mt.setCurrentArc,it=mt.setCurrentRibbon,nt=mt.getArcOpacity,Pt=mt.getRibbonOpacity,Rt=Cve({center:ce,radius:Re,arcs:De,arcGenerator:Xe,ribbons:st,ribbonGenerator:ct});if(Re<=0)return null;var Xt=De.map(function(bt){return{id:bt.id,label:bt.label,color:bt.color}}),sn={ribbons:null,arcs:null,labels:null,legends:null};return v.includes("ribbons")&&(sn.ribbons=S.jsx("g",{transform:"translate("+ce[0]+", "+ce[1]+")",children:S.jsx(q2t,{ribbons:st,ribbonGenerator:ct,borderWidth:F,borderColor:X,getOpacity:Pt,blendMode:G,setCurrent:it,isInteractive:He,onMouseEnter:Se,onMouseMove:Le,onMouseLeave:Ie,onClick:Ke,tooltip:fe})},"ribbons")),v.includes("arcs")&&(sn.arcs=S.jsx("g",{transform:"translate("+ce[0]+", "+ce[1]+")",children:S.jsx(K2t,{arcs:De,arcGenerator:Xe,borderWidth:x,borderColor:T,getOpacity:nt,setCurrent:rt,isInteractive:He,onMouseEnter:Ve,onMouseMove:ne,onMouseLeave:Q,onClick:ve,tooltip:V})},"arcs")),v.includes("labels")&&ge&&(sn.labels=S.jsx("g",{transform:"translate("+ce[0]+", "+ce[1]+")",children:S.jsx(Z2t,{arcs:De,radius:Re+Te,rotation:Ce,color:be})},"labels")),v.includes("legends")&&Ye.length>0&&(sn.legends=S.jsx(A.Fragment,{children:Ye.map(function(bt,yt){return S.jsx(iv,ni({},bt,{containerWidth:le,containerHeight:Ee,data:Xt}),yt)})},"legends")),S.jsx(Ku,{width:Ue,height:We,margin:Ae,role:vt,ariaLabel:ke,ariaLabelledBy:Ze,ariaDescribedBy:at,ref:pt,children:v.map(function(bt,yt){var Yt;return typeof bt=="function"?S.jsx(A.Fragment,{children:A.createElement(bt,Rt)},yt):(Yt=sn==null?void 0:sn[bt])!=null?Yt:null})})},eTt=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Cr.isInteractive:n,i=t.animate,o=i===void 0?Cr.animate:i,a=t.motionConfig,s=a===void 0?Cr.motionConfig:a,l=t.theme,c=t.renderWrapper,u=u3(t,J2t);return S.jsx(_a,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:c,theme:l,children:S.jsx(Q2t,ni({isInteractive:r},u,{forwardedRef:e}))})}),tTt=["theme","isInteractive","animate","motionConfig","renderWrapper"],gQ=function(t){var e=t.event,n=t.canvasEl,r=t.center,i=t.margin,o=t.radius,a=t.innerRadius,s=t.arcs,l=Gf(n,e),c=l[0],u=l[1],f=i.left+r[0],d=i.top+r[1];return I2t(f,d,o,a,s,c,u)},nTt=function(t){var e=t.pixelRatio,n=e===void 0?Nr.pixelRatio:e,r=t.margin,i=t.data,o=t.keys,a=t.width,s=t.height,l=t.label,c=l===void 0?Nr.label:l,u=t.valueFormat,f=t.innerRadiusRatio,d=f===void 0?Nr.innerRadiusRatio:f,h=t.innerRadiusOffset,m=h===void 0?Nr.innerRadiusOffset:h,v=t.padAngle,y=v===void 0?Nr.padAngle:v,g=t.layers,b=g===void 0?Nr.layers:g,x=t.colors,_=x===void 0?Nr.colors:x,T=t.arcBorderWidth,C=T===void 0?Nr.arcBorderWidth:T,P=t.arcBorderColor,I=P===void 0?Nr.arcBorderColor:P,O=t.arcOpacity,N=O===void 0?Nr.arcOpacity:O,D=t.activeArcOpacity,U=D===void 0?Nr.activeArcOpacity:D,V=t.inactiveArcOpacity,z=V===void 0?Nr.inactiveArcOpacity:V,F=t.arcTooltip,W=F===void 0?Nr.arcTooltip:F,X=t.ribbonBorderWidth,B=X===void 0?Nr.ribbonBorderWidth:X,G=t.ribbonBorderColor,q=G===void 0?Nr.ribbonBorderColor:G,te=t.ribbonOpacity,Y=te===void 0?Nr.ribbonOpacity:te,J=t.activeRibbonOpacity,re=J===void 0?Nr.activeRibbonOpacity:J,oe=t.inactiveRibbonOpacity,pe=oe===void 0?Nr.inactiveRibbonOpacity:oe,fe=t.enableLabel,we=fe===void 0?Nr.enableLabel:fe,ge=t.labelOffset,xe=ge===void 0?Nr.labelOffset:ge,Te=t.labelRotation,ee=Te===void 0?Nr.labelRotation:Te,Ce=t.labelTextColor,ae=Ce===void 0?Nr.labelTextColor:Ce,be=t.isInteractive,_e=be===void 0?Nr.isInteractive:be,He=t.onArcMouseEnter,Ve=t.onArcMouseMove,ne=t.onArcMouseLeave,Q=t.onArcClick,ve=t.legends,Se=ve===void 0?Nr.legends:ve,Le=t.role,Ie=t.forwardedRef,Ke=A.useRef(null),Ne=Sa(a,s,r),Ye=Ne.innerWidth,et=Ne.innerHeight,vt=Ne.outerWidth,ke=Ne.outerHeight,Ze=Ne.margin,at=Tve({data:i,keys:o,label:c,valueFormat:u,width:Ye,height:et,innerRadiusRatio:d,innerRadiusOffset:m,padAngle:y,colors:_}),pt=at.center,me=at.radius,Ae=at.innerRadius,le=at.arcGenerator,Ee=at.ribbonGenerator,Ue=at.arcs,We=at.ribbons,ze=Ave({arcOpacity:N,activeArcOpacity:U,inactiveArcOpacity:z,ribbons:We,ribbonOpacity:Y,activeRibbonOpacity:re,inactiveRibbonOpacity:pe}),ce=ze.currentArc,Re=ze.setCurrentArc,Xe=ze.getArcOpacity,ct=ze.getRibbonOpacity,De=Bn(),st=$i(ae,De),mt=$i(I,De),rt=$i(q,De),it=Cve({center:pt,radius:me,arcs:Ue,arcGenerator:le,ribbons:We,ribbonGenerator:Ee});A.useEffect(function(){if(Ke.current!==null){Ke.current.width=vt*n,Ke.current.height=ke*n;var yt=Ke.current.getContext("2d");yt.scale(n,n),yt.fillStyle=De.background,yt.fillRect(0,0,vt,ke),me<=0||b.forEach(function(Yt){if(Yt==="ribbons"&&(yt.save(),yt.translate(Ze.left+pt[0],Ze.top+pt[1]),Ee.context(yt),We.forEach(function(Zt){yt.save(),yt.globalAlpha=ct(Zt),yt.fillStyle=Zt.source.color,yt.beginPath(),Ee(Zt),yt.fill(),B>0&&(yt.strokeStyle=rt(Zt.source),yt.lineWidth=B,yt.stroke()),yt.restore()}),yt.restore()),Yt==="arcs"&&(yt.save(),yt.translate(Ze.left+pt[0],Ze.top+pt[1]),le.context(yt),Ue.forEach(function(Zt){yt.save(),yt.globalAlpha=Xe(Zt),yt.fillStyle=Zt.color,yt.beginPath(),le(Zt),yt.fill(),C>0&&(yt.strokeStyle=mt(Zt),yt.lineWidth=C,yt.stroke()),yt.restore()}),yt.restore()),Yt==="labels"&&we===!0&&(yt.save(),yt.translate(Ze.left+pt[0],Ze.top+pt[1]),fp(yt,De.labels.text),Ue.forEach(function(Zt){var At=o8(Zt),qt=Oue(me+xe,At,ee);yt.save(),yt.translate(qt.x,qt.y),yt.rotate(ld(qt.rotate)),yt.textAlign=qt.align,yt.textBaseline=qt.baseline,cd(yt,ni({},De.labels.text,{fill:st(Zt)}),Zt.label),yt.restore()}),yt.restore()),Yt==="legends"){yt.save(),yt.translate(Ze.left,Ze.top);var nr=Ue.map(function(Zt){return{id:Zt.id,label:Zt.label,color:Zt.color}});Se.forEach(function(Zt){KO(yt,ni({},Zt,{data:nr,containerWidth:Ye,containerHeight:et,theme:De}))}),yt.restore()}typeof Yt=="function"&&Yt(yt,it)})}},[Ke,Ye,et,vt,ke,Ze,n,pt,me,De,b,Ue,le,Xe,C,mt,We,Ee,ct,B,rt,we,xe,ee,st,Se,it]);var nt=ro(),Pt=nt.showTooltipFromEvent,Rt=nt.hideTooltip,Xt=A.useCallback(function(yt){if(Ke.current!==null){var Yt=gQ({event:yt,canvasEl:Ke.current,center:pt,margin:Ze,radius:me,innerRadius:Ae,arcs:Ue});Yt?(Re(Yt),Pt(A.createElement(W,{arc:Yt}),yt),ce||He==null||He(Yt,yt),Ve==null||Ve(Yt,yt),ce&&ce.id!==Yt.id&&(ne==null||ne(Yt,yt))):(Re(null),Rt(),ce&&(ne==null||ne(ce,yt)))}},[Ke,pt,Ze,me,Ae,Ue,Re,ce,Pt,Rt,W,He,Ve,ne]),sn=A.useCallback(function(){Re(null),Rt()},[Re,Rt]),bt=A.useCallback(function(yt){if(Ke.current!==null&&Q){var Yt=gQ({event:yt,canvasEl:Ke.current,center:pt,margin:Ze,radius:me,innerRadius:Ae,arcs:Ue});Yt&&Q(Yt,yt)}},[Ke,pt,Ze,me,Ae,Ue,Q]);return S.jsx("canvas",{ref:gM(Ke,Ie),width:vt*n,height:ke*n,style:{width:vt,height:ke,cursor:_e?"auto":"normal"},onMouseEnter:_e?Xt:void 0,onMouseMove:_e?Xt:void 0,onMouseLeave:_e?sn:void 0,onClick:_e?bt:void 0,role:Le})},rTt=A.forwardRef(function(t,e){var n=t.theme,r=t.isInteractive,i=r===void 0?Nr.isInteractive:r,o=t.animate,a=o===void 0?Nr.animate:o,s=t.motionConfig,l=s===void 0?Nr.motionConfig:s,c=t.renderWrapper,u=u3(t,tTt);return S.jsx(_a,{isInteractive:i,animate:a,motionConfig:l,theme:n,renderWrapper:c,children:S.jsx(nTt,ni({isInteractive:i},u,{forwardedRef:e}))})}),iTt=["defaultWidth","defaultHeight","onResize","debounceResize"],oTt=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=u3(t,iTt);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(eTt,ni({},a,{width:l,height:c,ref:e}))}})}),aTt=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=u3(t,aTt);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(rTt,ni({},a,{width:l,height:c,ref:e}))}})});function sTt({className:t}){const{events:e}=Rr(),[n,r]=A.useState([]),[i,o]=A.useState([]);return A.useEffect(()=>{const a=["en","de","fr","es","it"],s=a.length,l=Array(s).fill(0).map(()=>Array(s).fill(0));e.forEach(c=>{const u=(c.wiki||"en").substring(0,2),f=a.indexOf(u);if(f!==-1){const d=Math.floor(Math.random()*s);l[d][f]+=1}}),r(l),o(a.map(c=>c.toUpperCase()))},[e]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Cross-Wiki Edit Flow"}),S.jsx("div",{className:"h-[300px]",children:S.jsx(oTt,{data:n,keys:i,margin:{top:20,right:20,bottom:20,left:20},valueFormat:".2f",padAngle:.02,innerRadiusRatio:.96,innerRadiusOffset:.02,inactiveArcOpacity:.25,arcBorderColor:{from:"color",modifiers:[["darker",.6]]},activeRibbonOpacity:.75,ribbonBorderColor:{from:"color",modifiers:[["darker",.6]]},labelRotation:-90,labelTextColor:{from:"color",modifiers:[["darker",1]]},colors:{scheme:"category10"},theme:{text:{fill:"#888888"},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}function lTt({className:t}){const e=A.useRef(null),{events:n}=Rr(),[r,i]=A.useState({});return A.useEffect(()=>{const o={...r};n.forEach(a=>{o[a.user]=(o[a.user]||0)+1}),i(o)},[n]),A.useEffect(()=>{if(!e.current)return;const o=Object.entries(r).map(([m,v])=>({name:m,value:v})).sort((m,v)=>v.value-m.value).slice(0,15),a=e.current.clientWidth,s=e.current.clientHeight,l=Wu(e.current);l.selectAll("*").remove();const c=LSt().size([a,s]).padding(2),u=ub({children:o}).sum(m=>m.value),f=c(u).leaves(),h=l.append("g").selectAll("g").data(f).join("g").attr("transform",m=>`translate(${m.x},${m.y})`);h.append("circle").attr("r",m=>m.r).attr("fill",(m,v)=>hue[v%10]).attr("opacity",.8),h.append("text").attr("dy","0.3em").style("text-anchor","middle").style("font-size",m=>Math.min(m.r/2,12)).style("fill","white").text(m=>m.data.name?String(m.data.name).substring(0,8):"")},[r]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Top Editors Race"}),S.jsx("svg",{ref:e,className:"w-full h-[300px]"})]})}var cTt="Expected a function",vQ=NaN,uTt="[object Symbol]",fTt=/^\s+|\s+$/g,dTt=/^[-+]0x[0-9a-f]+$/i,hTt=/^0b[01]+$/i,pTt=/^0o[0-7]+$/i,mTt=parseInt,gTt=typeof Qi=="object"&&Qi&&Qi.Object===Object&&Qi,vTt=typeof self=="object"&&self&&self.Object===Object&&self,yTt=gTt||vTt||Function("return this")(),xTt=Object.prototype,bTt=xTt.toString,_Tt=Math.max,wTt=Math.min,$I=function(){return yTt.Date.now()};function STt(t,e,n){var r,i,o,a,s,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(cTt);e=yQ(e)||0,qB(n)&&(u=!!n.leading,f="maxWait"in n,o=f?_Tt(yQ(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(C){var P=r,I=i;return r=i=void 0,c=C,a=t.apply(I,P),a}function m(C){return c=C,s=setTimeout(g,e),u?h(C):a}function v(C){var P=C-l,I=C-c,O=e-P;return f?wTt(O,o-I):O}function y(C){var P=C-l,I=C-c;return l===void 0||P>=e||P<0||f&&I>=o}function g(){var C=$I();if(y(C))return b(C);s=setTimeout(g,v(C))}function b(C){return s=void 0,d&&r?h(C):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function _(){return s===void 0?a:b($I())}function T(){var C=$I(),P=y(C);if(r=arguments,i=this,l=C,P){if(s===void 0)return m(l);if(f)return s=setTimeout(g,e),h(l)}return s===void 0&&(s=setTimeout(g,e)),a}return T.cancel=x,T.flush=_,T}function qB(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function MTt(t){return!!t&&typeof t=="object"}function ETt(t){return typeof t=="symbol"||MTt(t)&&bTt.call(t)==uTt}function yQ(t){if(typeof t=="number")return t;if(ETt(t))return vQ;if(qB(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qB(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(fTt,"");var n=hTt.test(t);return n||pTt.test(t)?mTt(t.slice(2),n?2:8):dTt.test(t)?vQ:+t}var TTt=STt;const ATt=yn(TTt);var YB="http://www.w3.org/1999/xhtml";const xQ={svg:"http://www.w3.org/2000/svg",xhtml:YB,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function f3(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),xQ.hasOwnProperty(e)?{space:xQ[e],local:t}:t}function CTt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===YB&&e.documentElement.namespaceURI===YB?e.createElement(t):e.createElementNS(n,t)}}function PTt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Pve(t){var e=f3(t);return(e.local?PTt:CTt)(e)}function RTt(){}function q6(t){return t==null?RTt:function(){return this.querySelector(t)}}function OTt(t){typeof t!="function"&&(t=q6(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=t.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new el(r,this._parents)}function LTt(){return[]}function Rve(t){return t==null?LTt:function(){return this.querySelectorAll(t)}}function kTt(t){typeof t!="function"&&(t=Rve(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),i.push(l));return new el(r,i)}function Ove(t){return function(){return this.matches(t)}}function NTt(t){typeof t!="function"&&(t=Ove(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new el(r,this._parents)}function Lve(t){return new Array(t.length)}function ITt(){return new el(this._enter||this._groups.map(Lve),this._parents)}function LP(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}LP.prototype={constructor:LP,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function DTt(t){return function(){return t}}var bQ="$";function jTt(t,e,n,r,i,o){for(var a=0,s,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new LP(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function BTt(t,e,n,r,i,o,a){var s,l,c={},u=e.length,f=o.length,d=new Array(u),h;for(s=0;s<u;++s)(l=e[s])&&(d[s]=h=bQ+a.call(l,l.__data__,s,e),h in c?i[s]=l:c[h]=l);for(s=0;s<f;++s)h=bQ+a.call(t,o[s],s,o),(l=c[h])?(r[s]=l,l.__data__=o[s],c[h]=null):n[s]=new LP(t,o[s]);for(s=0;s<u;++s)(l=e[s])&&c[d[s]]===l&&(i[s]=l)}function zTt(t,e){if(!t)return h=new Array(this.size()),c=-1,this.each(function(C){h[++c]=C}),h;var n=e?BTt:jTt,r=this._parents,i=this._groups;typeof t!="function"&&(t=DTt(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=i[c],d=f.length,h=t.call(u,u&&u.__data__,c,r),m=h.length,v=s[c]=new Array(m),y=a[c]=new Array(m),g=l[c]=new Array(d);n(u,f,v,y,g,h,e);for(var b=0,x=0,_,T;b<m;++b)if(_=v[b]){for(b>=x&&(x=b+1);!(T=y[x])&&++x<m;);_._next=T||null}}return a=new el(a,r),a._enter=s,a._exit=l,a}function $Tt(){return new el(this._exit||this._groups.map(Lve),this._parents)}function FTt(t,e,n){var r=this.enter(),i=this,o=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function UTt(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],c=n[s],u=l.length,f=a[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<r;++s)a[s]=e[s];return new el(a,this._parents)}function WTt(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function VTt(t){t||(t=HTt);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(e)}return new el(i,this._parents).order()}function HTt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function GTt(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function XTt(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function qTt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function YTt(){var t=0;return this.each(function(){++t}),t}function KTt(){return!this.node()}function ZTt(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function JTt(t){return function(){this.removeAttribute(t)}}function QTt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function eAt(t,e){return function(){this.setAttribute(t,e)}}function tAt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function nAt(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function rAt(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function iAt(t,e){var n=f3(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?QTt:JTt:typeof e=="function"?n.local?rAt:nAt:n.local?tAt:eAt)(n,e))}function kve(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function oAt(t){return function(){this.style.removeProperty(t)}}function aAt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function sAt(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function lAt(t,e,n){return arguments.length>1?this.each((e==null?oAt:typeof e=="function"?sAt:aAt)(t,e,n??"")):gx(this.node(),t)}function gx(t,e){return t.style.getPropertyValue(e)||kve(t).getComputedStyle(t,null).getPropertyValue(e)}function cAt(t){return function(){delete this[t]}}function uAt(t,e){return function(){this[t]=e}}function fAt(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function dAt(t,e){return arguments.length>1?this.each((e==null?cAt:typeof e=="function"?fAt:uAt)(t,e)):this.node()[t]}function Nve(t){return t.trim().split(/^|\s+/)}function Y6(t){return t.classList||new Ive(t)}function Ive(t){this._node=t,this._names=Nve(t.getAttribute("class")||"")}Ive.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Dve(t,e){for(var n=Y6(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function jve(t,e){for(var n=Y6(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hAt(t){return function(){Dve(this,t)}}function pAt(t){return function(){jve(this,t)}}function mAt(t,e){return function(){(e.apply(this,arguments)?Dve:jve)(this,t)}}function gAt(t,e){var n=Nve(t+"");if(arguments.length<2){for(var r=Y6(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?mAt:e?hAt:pAt)(n,e))}function vAt(){this.textContent=""}function yAt(t){return function(){this.textContent=t}}function xAt(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function bAt(t){return arguments.length?this.each(t==null?vAt:(typeof t=="function"?xAt:yAt)(t)):this.node().textContent}function _At(){this.innerHTML=""}function wAt(t){return function(){this.innerHTML=t}}function SAt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function MAt(t){return arguments.length?this.each(t==null?_At:(typeof t=="function"?SAt:wAt)(t)):this.node().innerHTML}function EAt(){this.nextSibling&&this.parentNode.appendChild(this)}function TAt(){return this.each(EAt)}function AAt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function CAt(){return this.each(AAt)}function PAt(t){var e=typeof t=="function"?t:Pve(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function RAt(){return null}function OAt(t,e){var n=typeof t=="function"?t:Pve(t),r=e==null?RAt:typeof e=="function"?e:q6(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function LAt(){var t=this.parentNode;t&&t.removeChild(this)}function kAt(){return this.each(LAt)}function NAt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function IAt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function DAt(t){return this.select(t?IAt:NAt)}function jAt(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Bve={},Hm=null;if(typeof document<"u"){var BAt=document.documentElement;"onmouseenter"in BAt||(Bve={mouseenter:"mouseover",mouseleave:"mouseout"})}function zAt(t,e,n){return t=zve(t,e,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function zve(t,e,n){return function(r){var i=Hm;Hm=r;try{t.call(this,this.__data__,e,n)}finally{Hm=i}}}function $At(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function FAt(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.capture):e[++r]=o;++r?e.length=r:delete this.__on}}}function UAt(t,e,n){var r=Bve.hasOwnProperty(t.type)?zAt:zve;return function(i,o,a){var s=this.__on,l,c=r(e,o,a);if(s){for(var u=0,f=s.length;u<f;++u)if((l=s[u]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),l.value=e;return}}this.addEventListener(t.type,c,n),l={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(l):this.__on=[l]}}function WAt(t,e,n){var r=$At(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?UAt:FAt,n==null&&(n=!1),i=0;i<o;++i)this.each(s(r[i],e,n));return this}function $ve(t,e,n){var r=kve(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function VAt(t,e){return function(){return $ve(this,t,e)}}function HAt(t,e){return function(){return $ve(this,t,e.apply(this,arguments))}}function GAt(t,e){return this.each((typeof e=="function"?HAt:VAt)(t,e))}var Fve=[null];function el(t,e){this._groups=t,this._parents=e}function DM(){return new el([[document.documentElement]],Fve)}el.prototype=DM.prototype={constructor:el,select:OTt,selectAll:kTt,filter:NTt,data:zTt,enter:ITt,exit:$Tt,join:FTt,merge:UTt,order:WTt,sort:VTt,call:GTt,nodes:XTt,node:qTt,size:YTt,empty:KTt,each:ZTt,attr:iAt,style:lAt,property:dAt,classed:gAt,text:bAt,html:MAt,raise:TAt,lower:CAt,append:PAt,insert:OAt,remove:kAt,clone:DAt,datum:jAt,on:WAt,dispatch:GAt};function _Q(t){return typeof t=="string"?new el([[document.querySelector(t)]],[document.documentElement]):new el([[t]],Fve)}var Uve=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),KB=typeof window<"u"&&typeof document<"u"&&window.document===document,kP=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),XAt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(kP):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),qAt=2;function YAt(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){XAt(o)}function s(){var l=Date.now();if(n){if(l-i<qAt)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return s}var KAt=20,ZAt=["top","right","bottom","left","width","height","size","weight"],JAt=typeof MutationObserver<"u",QAt=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=YAt(this.refresh.bind(this),KAt)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!KB||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),JAt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!KB||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=ZAt.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Wve=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},vx=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||kP},Vve=d3(0,0,0,0);function NP(t){return parseFloat(t)||0}function wQ(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+NP(o)},0)}function eCt(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=NP(a)}return n}function tCt(t){var e=t.getBBox();return d3(0,0,e.width,e.height)}function nCt(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Vve;var r=vx(t).getComputedStyle(t),i=eCt(r),o=i.left+i.right,a=i.top+i.bottom,s=NP(r.width),l=NP(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=wQ(r,"left","right")+o),Math.round(l+a)!==n&&(l-=wQ(r,"top","bottom")+a)),!iCt(t)){var c=Math.round(s+o)-e,u=Math.round(l+a)-n;Math.abs(c)!==1&&(s-=c),Math.abs(u)!==1&&(l-=u)}return d3(i.left,i.top,s,l)}var rCt=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof vx(t).SVGGraphicsElement}:function(t){return t instanceof vx(t).SVGElement&&typeof t.getBBox=="function"}}();function iCt(t){return t===vx(t).document.documentElement}function oCt(t){return KB?rCt(t)?tCt(t):nCt(t):Vve}function aCt(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Wve(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function d3(t,e,n,r){return{x:t,y:e,width:n,height:r}}var sCt=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=d3(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=oCt(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),lCt=function(){function t(e,n){var r=aCt(n);Wve(this,{target:e,contentRect:r})}return t}(),cCt=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Uve,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof vx(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new sCt(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof vx(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new lCt(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Hve=typeof WeakMap<"u"?new WeakMap:new Uve,Gve=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=QAt.getInstance(),r=new cCt(e,n,this);Hve.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Gve.prototype[t]=function(){var e;return(e=Hve.get(this))[t].apply(e,arguments)}});var uCt=function(){return typeof kP.ResizeObserver<"u"?kP.ResizeObserver:Gve}(),fCt={value:function(){}};function K6(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new dA(n)}function dA(t){this._=t}function dCt(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}dA.prototype=K6.prototype={constructor:dA,on:function(t,e){var n=this._,r=dCt(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=hCt(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=SQ(n[i],t.name,e);else if(e==null)for(i in n)n[i]=SQ(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new dA(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function hCt(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function SQ(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=fCt,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var yx=0,W_=0,M_=0,Xve=1e3,IP,V_,DP=0,zg=0,h3=0,TS=typeof performance=="object"&&performance.now?performance:Date,qve=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p3(){return zg||(qve(pCt),zg=TS.now()+h3)}function pCt(){zg=0}function jP(){this._call=this._time=this._next=null}jP.prototype=Yve.prototype={constructor:jP,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?p3():+n)+(e==null?0:+e),!this._next&&V_!==this&&(V_?V_._next=this:IP=this,V_=this),this._call=t,this._time=n,ZB()},stop:function(){this._call&&(this._call=null,this._time=1/0,ZB())}};function Yve(t,e,n){var r=new jP;return r.restart(t,e,n),r}function mCt(){p3(),++yx;for(var t=IP,e;t;)(e=zg-t._time)>=0&&t._call.call(null,e),t=t._next;--yx}function MQ(){zg=(DP=TS.now())+h3,yx=W_=0;try{mCt()}finally{yx=0,vCt(),zg=0}}function gCt(){var t=TS.now(),e=t-DP;e>Xve&&(h3-=e,DP=t)}function vCt(){for(var t,e=IP,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:IP=n);V_=t,ZB(r)}function ZB(t){if(!yx){W_&&(W_=clearTimeout(W_));var e=t-zg;e>24?(t<1/0&&(W_=setTimeout(MQ,t-TS.now()-h3)),M_&&(M_=clearInterval(M_))):(M_||(DP=TS.now(),M_=setInterval(gCt,Xve)),yx=1,qve(MQ))}}function EQ(t,e,n){var r=new jP;return e=e==null?0:+e,r.restart(function(i){r.stop(),t(i+e)},e,n),r}var yCt=K6("start","end","cancel","interrupt"),xCt=[],Kve=0,TQ=1,JB=2,hA=3,AQ=4,QB=5,pA=6;function m3(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;bCt(t,n,{name:e,index:r,group:i,on:yCt,tween:xCt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Kve})}function Z6(t,e){var n=Vc(t,e);if(n.state>Kve)throw new Error("too late; already scheduled");return n}function Sd(t,e){var n=Vc(t,e);if(n.state>hA)throw new Error("too late; already running");return n}function Vc(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bCt(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Yve(o,0,n.time);function o(c){n.state=TQ,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var u,f,d,h;if(n.state!==TQ)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===hA)return EQ(a);h.state===AQ?(h.state=pA,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=pA,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(EQ(function(){n.state===hA&&(n.state=AQ,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=JB,n.on.call("start",t,t.__data__,n.index,n.group),n.state===JB){for(n.state=hA,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=QB,1),f=-1,d=i.length;++f<d;)i[f].call(t,u);n.state===QB&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=pA,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function _Ct(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>JB&&r.state<QB,r.state=pA,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function wCt(t){return this.each(function(){_Ct(this,t)})}function J6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Zve(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jM(){}var AS=.7,BP=1/AS,f0="\\s*([+-]?\\d+)\\s*",CS="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ou="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SCt=/^#([0-9a-f]{3,8})$/,MCt=new RegExp("^rgb\\("+[f0,f0,f0]+"\\)$"),ECt=new RegExp("^rgb\\("+[Ou,Ou,Ou]+"\\)$"),TCt=new RegExp("^rgba\\("+[f0,f0,f0,CS]+"\\)$"),ACt=new RegExp("^rgba\\("+[Ou,Ou,Ou,CS]+"\\)$"),CCt=new RegExp("^hsl\\("+[CS,Ou,Ou]+"\\)$"),PCt=new RegExp("^hsla\\("+[CS,Ou,Ou,CS]+"\\)$"),CQ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};J6(jM,PS,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:PQ,formatHex:PQ,formatHsl:RCt,formatRgb:RQ,toString:RQ});function PQ(){return this.rgb().formatHex()}function RCt(){return Jve(this).formatHsl()}function RQ(){return this.rgb().formatRgb()}function PS(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=SCt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?OQ(e):n===3?new Vs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?MT(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?MT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MCt.exec(t))?new Vs(e[1],e[2],e[3],1):(e=ECt.exec(t))?new Vs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=TCt.exec(t))?MT(e[1],e[2],e[3],e[4]):(e=ACt.exec(t))?MT(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=CCt.exec(t))?NQ(e[1],e[2]/100,e[3]/100,1):(e=PCt.exec(t))?NQ(e[1],e[2]/100,e[3]/100,e[4]):CQ.hasOwnProperty(t)?OQ(CQ[t]):t==="transparent"?new Vs(NaN,NaN,NaN,0):null}function OQ(t){return new Vs(t>>16&255,t>>8&255,t&255,1)}function MT(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vs(t,e,n,r)}function OCt(t){return t instanceof jM||(t=PS(t)),t?(t=t.rgb(),new Vs(t.r,t.g,t.b,t.opacity)):new Vs}function ez(t,e,n,r){return arguments.length===1?OCt(t):new Vs(t,e,n,r??1)}function Vs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}J6(Vs,ez,Zve(jM,{brighter:function(t){return t=t==null?BP:Math.pow(BP,t),new Vs(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?AS:Math.pow(AS,t),new Vs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LQ,formatHex:LQ,formatRgb:kQ,toString:kQ}));function LQ(){return"#"+FI(this.r)+FI(this.g)+FI(this.b)}function kQ(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function FI(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function NQ(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new hu(t,e,n,r)}function Jve(t){if(t instanceof hu)return new hu(t.h,t.s,t.l,t.opacity);if(t instanceof jM||(t=PS(t)),!t)return new hu;if(t instanceof hu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new hu(a,s,l,t.opacity)}function LCt(t,e,n,r){return arguments.length===1?Jve(t):new hu(t,e,n,r??1)}function hu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}J6(hu,LCt,Zve(jM,{brighter:function(t){return t=t==null?BP:Math.pow(BP,t),new hu(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?AS:Math.pow(AS,t),new hu(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vs(UI(t>=240?t-240:t+120,i,r),UI(t,i,r),UI(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function UI(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Qve(t){return function(){return t}}function kCt(t,e){return function(n){return t+n*e}}function NCt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ICt(t){return(t=+t)==1?eye:function(e,n){return n-e?NCt(e,n,t):Qve(isNaN(e)?n:e)}}function eye(t,e){var n=e-t;return n?kCt(t,n):Qve(isNaN(t)?e:t)}const IQ=function t(e){var n=ICt(e);function r(i,o){var a=n((i=ez(i)).r,(o=ez(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=eye(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function hh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var tz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WI=new RegExp(tz.source,"g");function DCt(t){return function(){return t}}function jCt(t){return function(e){return t(e)+""}}function BCt(t,e){var n=tz.lastIndex=WI.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=tz.exec(t))&&(i=WI.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:hh(r,i)})),n=WI.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?jCt(l[0].x):DCt(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}var DQ=180/Math.PI,nz={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tye(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*DQ,skewX:Math.atan(l)*DQ,scaleX:a,scaleY:s}}var E_,VI,jQ,ET;function zCt(t){return t==="none"?nz:(E_||(E_=document.createElement("DIV"),VI=document.documentElement,jQ=document.defaultView),E_.style.transform=t,t=jQ.getComputedStyle(VI.appendChild(E_),null).getPropertyValue("transform"),VI.removeChild(E_),t=t.slice(7,-1).split(","),tye(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function $Ct(t){return t==null||(ET||(ET=document.createElementNS("http://www.w3.org/2000/svg","g")),ET.setAttribute("transform",t),!(t=ET.transform.baseVal.consolidate()))?nz:(t=t.matrix,tye(t.a,t.b,t.c,t.d,t.e,t.f))}function nye(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,d,h,m){if(c!==f||u!==d){var v=h.push("translate(",null,e,null,n);m.push({i:v-4,x:hh(c,f)},{i:v-2,x:hh(u,d)})}else(f||d)&&h.push("translate("+f+e+d+n)}function a(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:hh(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function s(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:hh(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,h,m){if(c!==f||u!==d){var v=h.push(i(h)+"scale(",null,",",null,")");m.push({i:v-4,x:hh(c,f)},{i:v-2,x:hh(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=t(c),u=t(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,d),a(c.rotate,u.rotate,f,d),s(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var m=-1,v=d.length,y;++m<v;)f[(y=d[m]).i]=y.x(h);return f.join("")}}}var FCt=nye(zCt,"px, ","px)","deg)"),UCt=nye($Ct,", ",")",")");function WCt(t,e){var n,r;return function(){var i=Sd(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function VCt(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Sd(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function HCt(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Vc(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?WCt:VCt)(n,t,e))}function Q6(t,e,n){var r=t._id;return t.each(function(){var i=Sd(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Vc(i,r).value[e]}}function rye(t,e){var n;return(typeof e=="number"?hh:e instanceof PS?IQ:(n=PS(e))?(e=n,IQ):BCt)(t,e)}function GCt(t){return function(){this.removeAttribute(t)}}function XCt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qCt(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function YCt(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function KCt(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function ZCt(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function JCt(t,e){var n=f3(t),r=n==="transform"?UCt:rye;return this.attrTween(t,typeof e=="function"?(n.local?ZCt:KCt)(n,r,Q6(this,"attr."+t,e)):e==null?(n.local?XCt:GCt)(n):(n.local?YCt:qCt)(n,r,e))}function QCt(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ePt(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function tPt(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ePt(t,o)),n}return i._value=e,i}function nPt(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&QCt(t,o)),n}return i._value=e,i}function rPt(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=f3(t);return this.tween(n,(r.local?tPt:nPt)(r,e))}function iPt(t,e){return function(){Z6(this,t).delay=+e.apply(this,arguments)}}function oPt(t,e){return e=+e,function(){Z6(this,t).delay=e}}function aPt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?iPt:oPt)(e,t)):Vc(this.node(),e).delay}function sPt(t,e){return function(){Sd(this,t).duration=+e.apply(this,arguments)}}function lPt(t,e){return e=+e,function(){Sd(this,t).duration=e}}function cPt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sPt:lPt)(e,t)):Vc(this.node(),e).duration}function uPt(t,e){if(typeof e!="function")throw new Error;return function(){Sd(this,t).ease=e}}function fPt(t){var e=this._id;return arguments.length?this.each(uPt(e,t)):Vc(this.node(),e).ease}function dPt(t){typeof t!="function"&&(t=Ove(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new vd(r,this._parents,this._name,this._id)}function hPt(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],c=n[s],u=l.length,f=a[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<r;++s)a[s]=e[s];return new vd(a,this._parents,this._name,this._id)}function pPt(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function mPt(t,e,n){var r,i,o=pPt(e)?Z6:Sd;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function gPt(t,e){var n=this._id;return arguments.length<2?Vc(this.node(),n).on.on(t):this.each(mPt(n,t,e))}function vPt(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function yPt(){return this.on("end.remove",vPt(this._id))}function xPt(t){var e=this._name,n=this._id;typeof t!="function"&&(t=q6(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,c=o[a]=new Array(l),u,f,d=0;d<l;++d)(u=s[d])&&(f=t.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,m3(c[d],e,n,d,c,Vc(u,n)));return new vd(o,this._parents,e,n)}function bPt(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rve(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=t.call(u,u.__data__,f,l),h,m=Vc(u,n),v=0,y=d.length;v<y;++v)(h=d[v])&&m3(h,e,n,v,d,m);o.push(d),a.push(u)}return new vd(o,a,e,n)}var _Pt=DM.prototype.constructor;function wPt(){return new _Pt(this._groups,this._parents)}function SPt(t,e){var n,r,i;return function(){var o=gx(this,t),a=(this.style.removeProperty(t),gx(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function iye(t){return function(){this.style.removeProperty(t)}}function MPt(t,e,n){var r,i=n+"",o;return function(){var a=gx(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function EPt(t,e,n){var r,i,o;return function(){var a=gx(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),gx(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function TPt(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=Sd(this,t),c=l.on,u=l.value[o]==null?s||(s=iye(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(a,i=u),l.on=r}}function APt(t,e,n){var r=(t+="")=="transform"?FCt:rye;return e==null?this.styleTween(t,SPt(t,r)).on("end.style."+t,iye(t)):typeof e=="function"?this.styleTween(t,EPt(t,r,Q6(this,"style."+t,e))).each(TPt(this._id,t)):this.styleTween(t,MPt(t,r,e),n).on("end.style."+t,null)}function CPt(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function PPt(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&CPt(t,a,n)),r}return o._value=e,o}function RPt(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,PPt(t,e,n??""))}function OPt(t){return function(){this.textContent=t}}function LPt(t){return function(){var e=t(this);this.textContent=e??""}}function kPt(t){return this.tween("text",typeof t=="function"?LPt(Q6(this,"text",t)):OPt(t==null?"":t+""))}function NPt(t){return function(e){this.textContent=t.call(this,e)}}function IPt(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&NPt(i)),e}return r._value=t,r}function DPt(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,IPt(t))}function jPt(){for(var t=this._name,e=this._id,n=oye(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=Vc(l,e);m3(l,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new vd(r,this._parents,t,n)}function BPt(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var c=Sd(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),c.on=e})})}var zPt=0;function vd(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function oye(){return++zPt}var ly=DM.prototype;vd.prototype={constructor:vd,select:xPt,selectAll:bPt,filter:dPt,merge:hPt,selection:wPt,transition:jPt,call:ly.call,nodes:ly.nodes,node:ly.node,size:ly.size,empty:ly.empty,each:ly.each,on:gPt,attr:JCt,attrTween:rPt,style:APt,styleTween:RPt,text:kPt,textTween:DPt,remove:yPt,tween:HCt,delay:aPt,duration:cPt,ease:fPt,end:BPt};function $Pt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var rz={time:null,delay:0,duration:250,ease:$Pt};function FPt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return rz.time=p3(),rz;return n}function UPt(t){var e,n;t instanceof vd?(e=t._id,t=t._name):(e=oye(),(n=rz).time=p3(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&m3(l,t,e,c,a,n||FPt(l,e));return new vd(r,this._parents,t,e)}DM.prototype.interrupt=wCt;DM.prototype.transition=UPt;function aye(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function sye(t){let e=t,n=t;t.length===1&&(e=(a,s)=>t(a)-s,n=WPt(t));function r(a,s,l,c){for(l==null&&(l=0),c==null&&(c=a.length);l<c;){const u=l+c>>>1;n(a[u],s)<0?l=u+1:c=u}return l}function i(a,s,l,c){for(l==null&&(l=0),c==null&&(c=a.length);l<c;){const u=l+c>>>1;n(a[u],s)>0?c=u:l=u+1}return l}function o(a,s,l,c){l==null&&(l=0),c==null&&(c=a.length);const u=r(a,s,l,c-1);return u>l&&e(a[u-1],s)>-e(a[u],s)?u-1:u}return{left:r,center:o,right:i}}function WPt(t){return(e,n)=>aye(t(e),n)}function VPt(t){return t===null?NaN:+t}const HPt=sye(aye),GPt=HPt.right;sye(VPt).center;function XPt(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}var iz=Math.sqrt(50),oz=Math.sqrt(10),az=Math.sqrt(2);function sz(t,e,n){var r,i=-1,o,a,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(s=lye(t,e,n))===0||!isFinite(s))return[];if(s>0){let l=Math.round(t/s),c=Math.round(e/s);for(l*s<t&&++l,c*s>e&&--c,a=new Array(o=c-l+1);++i<o;)a[i]=(l+i)*s}else{s=-s;let l=Math.round(t*s),c=Math.round(e*s);for(l/s<t&&++l,c/s>e&&--c,a=new Array(o=c-l+1);++i<o;)a[i]=(l+i)/s}return r&&a.reverse(),a}function lye(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=iz?10:o>=oz?5:o>=az?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=iz?10:o>=oz?5:o>=az?2:1)}function qPt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=iz?i*=10:o>=oz?i*=5:o>=az&&(i*=2),e<t?-i:i}function YPt(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function KPt(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function ZPt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var JPt={value:function(){}};function cye(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mA(n)}function mA(t){this._=t}function QPt(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mA.prototype=cye.prototype={constructor:mA,on:function(t,e){var n=this._,r=QPt(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=eRt(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=BQ(n[i],t.name,e);else if(e==null)for(i in n)n[i]=BQ(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new mA(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function eRt(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function BQ(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=JPt,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const tRt=Object.freeze(Object.defineProperty({__proto__:null,dispatch:cye},Symbol.toStringTag,{value:"Module"})),nRt=Xee(tRt),rRt=nRt.dispatch,HI=Math.PI/180,iRt={archimedean:uye,rectangular:pRt},H_=64,gA=2048;var oRt=function(){var t=[256,256],e=aRt,n=sRt,r=lRt,i=zQ,o=zQ,a=cRt,s=uye,l=[],c=1/0,u=rRt("word","end"),f=null,d=Math.random,h=()=>(~~(d()*6)-3)*30,m={},v=gRt;m.canvas=function(b){return arguments.length?(v=nh(b),m):v},m.start=function(){var b=y(v()),x=mRt((t[0]>>5)*t[1]),_=null,T=l.length,C=-1,P=[],I=l.map(function(N,D){return N.text=e.call(this,N,D),N.font=n.call(this,N,D),N.style=i.call(this,N,D),N.weight=o.call(this,N,D),N.rotate=h.call(this,N,D),N.size=~~r.call(this,N,D),N.padding=a.call(this,N,D),N}).sort(function(N,D){return D.size-N.size});return f&&clearInterval(f),f=setInterval(O,0),O(),m;function O(){for(var N=Date.now();Date.now()-N<c&&++C<T&&f;){var D=I[C];D.x=t[0]*(d()+.5)>>1,D.y=t[1]*(d()+.5)>>1,uRt(b,D,I,C),D.hasText&&g(x,D,_)&&(P.push(D),u.call("word",m,D),_?dRt(_,D):_=[{x:D.x+D.x0,y:D.y+D.y0},{x:D.x+D.x1,y:D.y+D.y1}],D.x-=t[0]>>1,D.y-=t[1]>>1)}C>=T&&(m.stop(),u.call("end",m,P,_))}},m.stop=function(){f&&(clearInterval(f),f=null);for(const b of l)delete b.sprite;return m};function y(b){const x=b.getContext("2d",{willReadFrequently:!0});b.width=b.height=1;const _=Math.sqrt(x.getImageData(0,0,1,1).data.length>>2);return b.width=(H_<<5)/_,b.height=gA/_,x.fillStyle=x.strokeStyle="red",{context:x,ratio:_}}function g(b,x,_){t[0],t[1];for(var T=x.x,C=x.y,P=Math.sqrt(t[0]*t[0]+t[1]*t[1]),I=s(t),O=d()<.5?1:-1,N=-O,D,U,V;(D=I(N+=O))&&(U=~~D[0],V=~~D[1],!(Math.min(Math.abs(U),Math.abs(V))>=P));)if(x.x=T+U,x.y=C+V,!(x.x+x.x0<0||x.y+x.y0<0||x.x+x.x1>t[0]||x.y+x.y1>t[1])&&(!_||hRt(x,_))&&!fRt(x,b,t[0])){for(var z=x.sprite,F=x.width>>5,W=t[0]>>5,X=x.x-(F<<4),B=X&127,G=32-B,q=x.y1-x.y0,te=(x.y+x.y0)*W+(X>>5),Y,J=0;J<q;J++){Y=0;for(var re=0;re<=F;re++)b[te+re]|=Y<<G|(re<F?(Y=z[J*F+re])>>>B:0);te+=W}return!0}return!1}return m.timeInterval=function(b){return arguments.length?(c=b??1/0,m):c},m.words=function(b){return arguments.length?(l=b,m):l},m.size=function(b){return arguments.length?(t=[+b[0],+b[1]],m):t},m.font=function(b){return arguments.length?(n=nh(b),m):n},m.fontStyle=function(b){return arguments.length?(i=nh(b),m):i},m.fontWeight=function(b){return arguments.length?(o=nh(b),m):o},m.rotate=function(b){return arguments.length?(h=nh(b),m):h},m.text=function(b){return arguments.length?(e=nh(b),m):e},m.spiral=function(b){return arguments.length?(s=iRt[b]||b,m):s},m.fontSize=function(b){return arguments.length?(r=nh(b),m):r},m.padding=function(b){return arguments.length?(a=nh(b),m):a},m.random=function(b){return arguments.length?(d=b,m):d},m.on=function(){var b=u.on.apply(u,arguments);return b===u?m:b},m};function aRt(t){return t.text}function sRt(){return"serif"}function zQ(){return"normal"}function lRt(t){return Math.sqrt(t.value)}function cRt(){return 1}function uRt(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(H_<<5)/o,gA/o);var a=0,s=0,l=0,c=n.length;for(--r;++r<c;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;const D=i.measureText(e.text),U=-Math.floor(D.width/2);let V=(D.width+1)*o,z=e.size<<1;if(e.rotate){var u=Math.sin(e.rotate*HI),f=Math.cos(e.rotate*HI),d=V*f,h=V*u,m=z*f,v=z*u;V=Math.max(Math.abs(d+v),Math.abs(d-v))+31>>5<<5,z=~~Math.max(Math.abs(h+m),Math.abs(h-m))}else V=V+31>>5<<5;if(z>l&&(l=z),a+V>=H_<<5&&(a=0,s+=l,l=0),s+z>=gA)break;i.translate((a+(V>>1))/o,(s+(z>>1))/o),e.rotate&&i.rotate(e.rotate*HI),i.fillText(e.text,U,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,U,0)),i.restore(),e.width=V,e.height=z,e.xoff=a,e.yoff=s,e.x1=V>>1,e.y1=z>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=V}for(var y=i.getImageData(0,0,(H_<<5)/o,gA/o).data,g=[];--r>=0;)if(e=n[r],!!e.hasText){for(var b=e.width,x=b>>5,_=e.y1-e.y0,T=0;T<_*x;T++)g[T]=0;if(a=e.xoff,a==null)return;s=e.yoff;for(var C=0,P=-1,I=0;I<_;I++){for(var T=0;T<b;T++){var O=x*I+(T>>5),N=y[(s+I)*(H_<<5)+(a+T)<<2]?1<<31-T%32:0;g[O]|=N,C|=N}C?P=I:(e.y0++,_--,I--,s++)}e.y1=e.y0+P,e.sprite=g.slice(0,(e.y1-e.y0)*x)}}}function fRt(t,e,n){n>>=5;for(var r=t.sprite,i=t.width>>5,o=t.x-(i<<4),a=o&127,s=32-a,l=t.y1-t.y0,c=(t.y+t.y0)*n+(o>>5),u,f=0;f<l;f++){u=0;for(var d=0;d<=i;d++)if((u<<s|(d<i?(u=r[f*i+d])>>>a:0))&e[c+d])return!0;c+=n}return!1}function dRt(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function hRt(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function uye(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function pRt(t){var e=4,n=e*t[0]/t[1],r=0,i=0;return function(o){var a=o<0?-1:1;switch(Math.sqrt(1+4*a*o)-a&3){case 0:r+=n;break;case 1:i+=e;break;case 2:r-=n;break;default:i-=e;break}return[r,i]}}function mRt(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function gRt(){return document.createElement("canvas")}function nh(t){return typeof t=="function"?t:function(){return t}}const vRt=yn(oRt);var zP={exports:{}};zP.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",f="[object GeneratorFunction]",d="[object Map]",h="[object Number]",m="[object Object]",v="[object Promise]",y="[object RegExp]",g="[object Set]",b="[object String]",x="[object Symbol]",_="[object WeakMap]",T="[object ArrayBuffer]",C="[object DataView]",P="[object Float32Array]",I="[object Float64Array]",O="[object Int8Array]",N="[object Int16Array]",D="[object Int32Array]",U="[object Uint8Array]",V="[object Uint8ClampedArray]",z="[object Uint16Array]",F="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,X=/\w*$/,B=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,q={};q[o]=q[a]=q[T]=q[C]=q[s]=q[l]=q[P]=q[I]=q[O]=q[N]=q[D]=q[d]=q[h]=q[m]=q[y]=q[g]=q[b]=q[x]=q[U]=q[V]=q[z]=q[F]=!0,q[c]=q[u]=q[_]=!1;var te=typeof Qi=="object"&&Qi&&Qi.Object===Object&&Qi,Y=typeof self=="object"&&self&&self.Object===Object&&self,J=te||Y||Function("return this")(),re=e&&!e.nodeType&&e,oe=re&&!0&&t&&!t.nodeType&&t,pe=oe&&oe.exports===re;function fe(ue,qe){return ue.set(qe[0],qe[1]),ue}function we(ue,qe){return ue.add(qe),ue}function ge(ue,qe){for(var dt=-1,Vt=ue?ue.length:0;++dt<Vt&&qe(ue[dt],dt,ue)!==!1;);return ue}function xe(ue,qe){for(var dt=-1,Vt=qe.length,ti=ue.length;++dt<Vt;)ue[ti+dt]=qe[dt];return ue}function Te(ue,qe,dt,Vt){for(var ti=-1,yo=ue?ue.length:0;++ti<yo;)dt=qe(dt,ue[ti],ti,ue);return dt}function ee(ue,qe){for(var dt=-1,Vt=Array(ue);++dt<ue;)Vt[dt]=qe(dt);return Vt}function Ce(ue,qe){return ue==null?void 0:ue[qe]}function ae(ue){var qe=!1;if(ue!=null&&typeof ue.toString!="function")try{qe=!!(ue+"")}catch{}return qe}function be(ue){var qe=-1,dt=Array(ue.size);return ue.forEach(function(Vt,ti){dt[++qe]=[ti,Vt]}),dt}function _e(ue,qe){return function(dt){return ue(qe(dt))}}function He(ue){var qe=-1,dt=Array(ue.size);return ue.forEach(function(Vt){dt[++qe]=Vt}),dt}var Ve=Array.prototype,ne=Function.prototype,Q=Object.prototype,ve=J["__core-js_shared__"],Se=function(){var ue=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return ue?"Symbol(src)_1."+ue:""}(),Le=ne.toString,Ie=Q.hasOwnProperty,Ke=Q.toString,Ne=RegExp("^"+Le.call(Ie).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=pe?J.Buffer:void 0,et=J.Symbol,vt=J.Uint8Array,ke=_e(Object.getPrototypeOf,Object),Ze=Object.create,at=Q.propertyIsEnumerable,pt=Ve.splice,me=Object.getOwnPropertySymbols,Ae=Ye?Ye.isBuffer:void 0,le=_e(Object.keys,Object),Ee=Pi(J,"DataView"),Ue=Pi(J,"Map"),We=Pi(J,"Promise"),ze=Pi(J,"Set"),ce=Pi(J,"WeakMap"),Re=Pi(Object,"create"),Xe=_n(Ee),ct=_n(Ue),De=_n(We),st=_n(ze),mt=_n(ce),rt=et?et.prototype:void 0,it=rt?rt.valueOf:void 0;function nt(ue){var qe=-1,dt=ue?ue.length:0;for(this.clear();++qe<dt;){var Vt=ue[qe];this.set(Vt[0],Vt[1])}}function Pt(){this.__data__=Re?Re(null):{}}function Rt(ue){return this.has(ue)&&delete this.__data__[ue]}function Xt(ue){var qe=this.__data__;if(Re){var dt=qe[ue];return dt===r?void 0:dt}return Ie.call(qe,ue)?qe[ue]:void 0}function sn(ue){var qe=this.__data__;return Re?qe[ue]!==void 0:Ie.call(qe,ue)}function bt(ue,qe){var dt=this.__data__;return dt[ue]=Re&&qe===void 0?r:qe,this}nt.prototype.clear=Pt,nt.prototype.delete=Rt,nt.prototype.get=Xt,nt.prototype.has=sn,nt.prototype.set=bt;function yt(ue){var qe=-1,dt=ue?ue.length:0;for(this.clear();++qe<dt;){var Vt=ue[qe];this.set(Vt[0],Vt[1])}}function Yt(){this.__data__=[]}function nr(ue){var qe=this.__data__,dt=or(qe,ue);if(dt<0)return!1;var Vt=qe.length-1;return dt==Vt?qe.pop():pt.call(qe,dt,1),!0}function Zt(ue){var qe=this.__data__,dt=or(qe,ue);return dt<0?void 0:qe[dt][1]}function At(ue){return or(this.__data__,ue)>-1}function qt(ue,qe){var dt=this.__data__,Vt=or(dt,ue);return Vt<0?dt.push([ue,qe]):dt[Vt][1]=qe,this}yt.prototype.clear=Yt,yt.prototype.delete=nr,yt.prototype.get=Zt,yt.prototype.has=At,yt.prototype.set=qt;function gn(ue){var qe=-1,dt=ue?ue.length:0;for(this.clear();++qe<dt;){var Vt=ue[qe];this.set(Vt[0],Vt[1])}}function se(){this.__data__={hash:new nt,map:new(Ue||yt),string:new nt}}function Pe(ue){return Hr(this,ue).delete(ue)}function Oe(ue){return Hr(this,ue).get(ue)}function je(ue){return Hr(this,ue).has(ue)}function $e(ue,qe){return Hr(this,ue).set(ue,qe),this}gn.prototype.clear=se,gn.prototype.delete=Pe,gn.prototype.get=Oe,gn.prototype.has=je,gn.prototype.set=$e;function _t(ue){this.__data__=new yt(ue)}function Et(){this.__data__=new yt}function Bt(ue){return this.__data__.delete(ue)}function $t(ue){return this.__data__.get(ue)}function Kt(ue){return this.__data__.has(ue)}function It(ue,qe){var dt=this.__data__;if(dt instanceof yt){var Vt=dt.__data__;if(!Ue||Vt.length<n-1)return Vt.push([ue,qe]),this;dt=this.__data__=new gn(Vt)}return dt.set(ue,qe),this}_t.prototype.clear=Et,_t.prototype.delete=Bt,_t.prototype.get=$t,_t.prototype.has=Kt,_t.prototype.set=It;function Wt(ue,qe){var dt=Yo(ue)||hn(ue)?ee(ue.length,String):[],Vt=dt.length,ti=!!Vt;for(var yo in ue)Ie.call(ue,yo)&&!(ti&&(yo=="length"||Gc(yo,Vt)))&&dt.push(yo);return dt}function Vn(ue,qe,dt){var Vt=ue[qe];(!(Ie.call(ue,qe)&&Ed(Vt,dt))||dt===void 0&&!(qe in ue))&&(ue[qe]=dt)}function or(ue,qe){for(var dt=ue.length;dt--;)if(Ed(ue[dt][0],qe))return dt;return-1}function nn(ue,qe){return ue&&Vr(qe,Ui(qe),ue)}function hr(ue,qe,dt,Vt,ti,yo,ai){var ln;if(Vt&&(ln=yo?Vt(ue,ti,yo,ai):Vt(ue)),ln!==void 0)return ln;if(!Qa(ue))return ue;var rf=Yo(ue);if(rf){if(ln=Qu(ue),!qe)return mr(ue,ln)}else{var Wi=qo(ue),Vi=Wi==u||Wi==f;if(tf(ue))return Er(ue,qe);if(Wi==m||Wi==o||Vi&&!yo){if(ae(ue))return yo?ue:{};if(ln=Np(Vi?{}:ue),!qe)return Ts(ue,nn(ln,ue))}else{if(!q[Wi])return yo?ue:{};ln=ef(ue,Wi,hr,qe)}}ai||(ai=new _t);var qc=ai.get(ue);if(qc)return qc;if(ai.set(ue,ln),!rf)var of=dt?zr(ue):Ui(ue);return ge(of||ue,function(es,Yc){of&&(Yc=es,es=ue[Yc]),Vn(ln,Yc,hr(es,qe,dt,Vt,Yc,ue,ai))}),ln}function gt(ue){return Qa(ue)?Ze(ue):{}}function Ct(ue,qe,dt){var Vt=qe(ue);return Yo(ue)?Vt:xe(Vt,dt(ue))}function tn(ue){return Ke.call(ue)}function Dt(ue){if(!Qa(ue)||Ip(ue))return!1;var qe=Td(ue)||ae(ue)?Ne:B;return qe.test(_n(ue))}function Tn(ue){if(!Yl(ue))return le(ue);var qe=[];for(var dt in Object(ue))Ie.call(ue,dt)&&dt!="constructor"&&qe.push(dt);return qe}function Er(ue,qe){if(qe)return ue.slice();var dt=new ue.constructor(ue.length);return ue.copy(dt),dt}function Tr(ue){var qe=new ue.constructor(ue.byteLength);return new vt(qe).set(new vt(ue)),qe}function On(ue,qe){var dt=qe?Tr(ue.buffer):ue.buffer;return new ue.constructor(dt,ue.byteOffset,ue.byteLength)}function Lt(ue,qe,dt){var Vt=qe?dt(be(ue),!0):be(ue);return Te(Vt,fe,new ue.constructor)}function pn(ue){var qe=new ue.constructor(ue.source,X.exec(ue));return qe.lastIndex=ue.lastIndex,qe}function Or(ue,qe,dt){var Vt=qe?dt(He(ue),!0):He(ue);return Te(Vt,we,new ue.constructor)}function Xn(ue){return it?Object(it.call(ue)):{}}function Ln(ue,qe){var dt=qe?Tr(ue.buffer):ue.buffer;return new ue.constructor(dt,ue.byteOffset,ue.length)}function mr(ue,qe){var dt=-1,Vt=ue.length;for(qe||(qe=Array(Vt));++dt<Vt;)qe[dt]=ue[dt];return qe}function Vr(ue,qe,dt,Vt){dt||(dt={});for(var ti=-1,yo=qe.length;++ti<yo;){var ai=qe[ti],ln=void 0;Vn(dt,ai,ln===void 0?ue[ai]:ln)}return dt}function Ts(ue,qe){return Vr(ue,Ja(ue),qe)}function zr(ue){return Ct(ue,Ui,Ja)}function Hr(ue,qe){var dt=ue.__data__;return ql(qe)?dt[typeof qe=="string"?"string":"hash"]:dt.map}function Pi(ue,qe){var dt=Ce(ue,qe);return Dt(dt)?dt:void 0}var Ja=me?_e(me,Object):Ri,qo=tn;(Ee&&qo(new Ee(new ArrayBuffer(1)))!=C||Ue&&qo(new Ue)!=d||We&&qo(We.resolve())!=v||ze&&qo(new ze)!=g||ce&&qo(new ce)!=_)&&(qo=function(ue){var qe=Ke.call(ue),dt=qe==m?ue.constructor:void 0,Vt=dt?_n(dt):void 0;if(Vt)switch(Vt){case Xe:return C;case ct:return d;case De:return v;case st:return g;case mt:return _}return qe});function Qu(ue){var qe=ue.length,dt=ue.constructor(qe);return qe&&typeof ue[0]=="string"&&Ie.call(ue,"index")&&(dt.index=ue.index,dt.input=ue.input),dt}function Np(ue){return typeof ue.constructor=="function"&&!Yl(ue)?gt(ke(ue)):{}}function ef(ue,qe,dt,Vt){var ti=ue.constructor;switch(qe){case T:return Tr(ue);case s:case l:return new ti(+ue);case C:return On(ue,Vt);case P:case I:case O:case N:case D:case U:case V:case z:case F:return Ln(ue,Vt);case d:return Lt(ue,Vt,dt);case h:case b:return new ti(ue);case y:return pn(ue);case g:return Or(ue,Vt,dt);case x:return Xn(ue)}}function Gc(ue,qe){return qe=qe??i,!!qe&&(typeof ue=="number"||G.test(ue))&&ue>-1&&ue%1==0&&ue<qe}function ql(ue){var qe=typeof ue;return qe=="string"||qe=="number"||qe=="symbol"||qe=="boolean"?ue!=="__proto__":ue===null}function Ip(ue){return!!Se&&Se in ue}function Yl(ue){var qe=ue&&ue.constructor,dt=typeof qe=="function"&&qe.prototype||Q;return ue===dt}function _n(ue){if(ue!=null){try{return Le.call(ue)}catch{}try{return ue+""}catch{}}return""}function Md(ue){return hr(ue,!0,!0)}function Ed(ue,qe){return ue===qe||ue!==ue&&qe!==qe}function hn(ue){return oi(ue)&&Ie.call(ue,"callee")&&(!at.call(ue,"callee")||Ke.call(ue)==o)}var Yo=Array.isArray;function pr(ue){return ue!=null&&nf(ue.length)&&!Td(ue)}function oi(ue){return Xc(ue)&&pr(ue)}var tf=Ae||Kl;function Td(ue){var qe=Qa(ue)?Ke.call(ue):"";return qe==u||qe==f}function nf(ue){return typeof ue=="number"&&ue>-1&&ue%1==0&&ue<=i}function Qa(ue){var qe=typeof ue;return!!ue&&(qe=="object"||qe=="function")}function Xc(ue){return!!ue&&typeof ue=="object"}function Ui(ue){return pr(ue)?Wt(ue):Tn(ue)}function Ri(){return[]}function Kl(){return!1}t.exports=Md})(zP,zP.exports);var yRt=zP.exports;const xRt=yn(yRt);var e9={exports:{}};e9.exports;(function(t){(function(e,n,r){function i(l){var c=this,u=s();c.next=function(){var f=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=f-(c.c=f|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function o(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function a(l,c){var u=new i(l),f=c&&c.state,d=u.next;return d.int32=function(){return u.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&o(f,u),d.state=function(){return o(u,{})}),d}function s(){var l=4022871197,c=function(u){u=String(u);for(var f=0;f<u.length;f++){l+=u.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=a:this.alea=a})(Qi,t)})(e9);var bRt=e9.exports,t9={exports:{}};t9.exports;(function(t){(function(e,n,r){function i(s){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},s===(s|0)?l.x=s:c+=s;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function a(s,l){var c=new i(s),u=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=c.next,f.quick=f,u&&(typeof u=="object"&&o(u,c),f.state=function(){return o(c,{})}),f}n&&n.exports?n.exports=a:this.xor128=a})(Qi,t)})(t9);var _Rt=t9.exports,n9={exports:{}};n9.exports;(function(t){(function(e,n,r){function i(s){var l=this,c="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:c+=s;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function a(s,l){var c=new i(s),u=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=c.next,f.quick=f,u&&(typeof u=="object"&&o(u,c),f.state=function(){return o(c,{})}),f}n&&n.exports?n.exports=a:this.xorwow=a})(Qi,t)})(n9);var wRt=n9.exports,r9={exports:{}};r9.exports;(function(t){(function(e,n,r){function i(s){var l=this;l.next=function(){var u=l.x,f=l.i,d,h;return d=u[f],d^=d>>>7,h=d^d<<24,d=u[f+1&7],h^=d^d>>>10,d=u[f+3&7],h^=d^d>>>3,d=u[f+4&7],h^=d^d<<7,d=u[f+7&7],d=d^d<<13,h^=d^d<<9,u[f]=h,l.i=f+1&7,h};function c(u,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],u.x=h,u.i=0,d=256;d>0;--d)u.next()}c(l,s)}function o(s,l){return l.x=s.x.slice(),l.i=s.i,l}function a(s,l){s==null&&(s=+new Date);var c=new i(s),u=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=c.next,f.quick=f,u&&(u.x&&o(u,c),f.state=function(){return o(c,{})}),f}n&&n.exports?n.exports=a:this.xorshift7=a})(Qi,t)})(r9);var SRt=r9.exports,i9={exports:{}};i9.exports;(function(t){(function(e,n,r){function i(s){var l=this;l.next=function(){var u=l.w,f=l.X,d=l.i,h,m;return l.w=u=u+1640531527|0,m=f[d+34&127],h=f[d=d+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,m=f[d]=m^h,l.i=d,m+(u^u>>>16)|0};function c(u,f){var d,h,m,v,y,g=[],b=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,b=Math.max(b,f.length)),m=0,v=-32;v<b;++v)f&&(h^=f.charCodeAt((v+32)%f.length)),v===0&&(y=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,v>=0&&(y=y+1640531527|0,d=g[v&127]^=h+y,m=d==0?m+1:0);for(m>=128&&(g[(f&&f.length||0)&127]=-1),m=127,v=4*128;v>0;--v)h=g[m+34&127],d=g[m=m+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,g[m]=h^d;u.w=y,u.X=g,u.i=m}c(l,s)}function o(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function a(s,l){s==null&&(s=+new Date);var c=new i(s),u=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=c.next,f.quick=f,u&&(u.X&&o(u,c),f.state=function(){return o(c,{})}),f}n&&n.exports?n.exports=a:this.xor4096=a})(Qi,t)})(i9);var MRt=i9.exports,o9={exports:{}};o9.exports;(function(t){(function(e,n,r){function i(s){var l=this,c="";l.next=function(){var f=l.b,d=l.c,h=l.d,m=l.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^m,m=m-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^m,l.a=m-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):c+=s;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function o(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function a(s,l){var c=new i(s),u=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=c.next,f.quick=f,u&&(typeof u=="object"&&o(u,c),f.state=function(){return o(c,{})}),f}n&&n.exports?n.exports=a:this.tychei=a})(Qi,t)})(o9);var ERt=o9.exports,fye={exports:{}};const TRt={},ARt=Object.freeze(Object.defineProperty({__proto__:null,default:TRt},Symbol.toStringTag,{value:"Module"})),CRt=Xee(ARt);(function(t){(function(e,n,r){var i=256,o=6,a=52,s="random",l=r.pow(i,o),c=r.pow(2,a),u=c*2,f=i-1,d;function h(_,T,C){var P=[];T=T==!0?{entropy:!0}:T||{};var I=g(y(T.entropy?[_,x(n)]:_??b(),3),P),O=new m(P),N=function(){for(var D=O.g(o),U=l,V=0;D<c;)D=(D+V)*i,U*=i,V=O.g(1);for(;D>=u;)D/=2,U/=2,V>>>=1;return(D+V)/U};return N.int32=function(){return O.g(4)|0},N.quick=function(){return O.g(4)/4294967296},N.double=N,g(x(O.S),n),(T.pass||C||function(D,U,V,z){return z&&(z.S&&v(z,O),D.state=function(){return v(O,{})}),V?(r[s]=D,U):D})(N,I,"global"in T?T.global:this==r,T.state)}function m(_){var T,C=_.length,P=this,I=0,O=P.i=P.j=0,N=P.S=[];for(C||(_=[C++]);I<i;)N[I]=I++;for(I=0;I<i;I++)N[I]=N[O=f&O+_[I%C]+(T=N[I])],N[O]=T;(P.g=function(D){for(var U,V=0,z=P.i,F=P.j,W=P.S;D--;)U=W[z=f&z+1],V=V*i+W[f&(W[z]=W[F=f&F+U])+(W[F]=U)];return P.i=z,P.j=F,V})(i)}function v(_,T){return T.i=_.i,T.j=_.j,T.S=_.S.slice(),T}function y(_,T){var C=[],P=typeof _,I;if(T&&P=="object")for(I in _)try{C.push(y(_[I],T-1))}catch{}return C.length?C:P=="string"?_:_+"\0"}function g(_,T){for(var C=_+"",P,I=0;I<C.length;)T[f&I]=f&(P^=T[f&I]*19)+C.charCodeAt(I++);return x(T)}function b(){try{var _;return d&&(_=d.randomBytes)?_=_(i):(_=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(_)),x(_)}catch{var T=e.navigator,C=T&&T.plugins;return[+new Date,e,C,e.screen,x(n)]}}function x(_){return String.fromCharCode.apply(0,_)}if(g(r.random(),n),t.exports){t.exports=h;try{d=CRt}catch{}}else r["seed"+s]=h})(typeof self<"u"?self:Qi,[],Math)})(fye);var PRt=fye.exports,RRt=bRt,ORt=_Rt,LRt=wRt,kRt=SRt,NRt=MRt,IRt=ERt,hv=PRt;hv.alea=RRt;hv.xor128=ORt;hv.xorwow=LRt;hv.xorshift7=kRt;hv.xor4096=NRt;hv.tychei=IRt;var DRt=hv;const jRt=yn(DRt);var bs="top",Wl="bottom",Vl="right",_s="left",a9="auto",BM=[bs,Wl,Vl,_s],xx="start",RS="end",BRt="clippingParents",dye="viewport",T_="popper",zRt="reference",$Q=BM.reduce(function(t,e){return t.concat([e+"-"+xx,e+"-"+RS])},[]),hye=[].concat(BM,[a9]).reduce(function(t,e){return t.concat([e,e+"-"+xx,e+"-"+RS])},[]),$Rt="beforeRead",FRt="read",URt="afterRead",WRt="beforeMain",VRt="main",HRt="afterMain",GRt="beforeWrite",XRt="write",qRt="afterWrite",YRt=[$Rt,FRt,URt,WRt,VRt,HRt,GRt,XRt,qRt];function Vu(t){return t?(t.nodeName||"").toLowerCase():null}function tl(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $g(t){var e=tl(t).Element;return t instanceof e||t instanceof Element}function jl(t){var e=tl(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function s9(t){if(typeof ShadowRoot>"u")return!1;var e=tl(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function KRt(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!jl(o)||!Vu(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function ZRt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(l,c){return l[c]="",l},{});!jl(i)||!Vu(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const pye={name:"applyStyles",enabled:!0,phase:"write",fn:KRt,effect:ZRt,requires:["computeStyles"]};function Lu(t){return t.split("-")[0]}var hg=Math.max,$P=Math.min,bx=Math.round;function lz(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function mye(){return!/^((?!chrome|android).)*safari/i.test(lz())}function _x(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&jl(t)&&(i=t.offsetWidth>0&&bx(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&bx(r.height)/t.offsetHeight||1);var a=$g(t)?tl(t):window,s=a.visualViewport,l=!mye()&&n,c=(r.left+(l&&s?s.offsetLeft:0))/i,u=(r.top+(l&&s?s.offsetTop:0))/o,f=r.width/i,d=r.height/o;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function l9(t){var e=_x(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function gye(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&s9(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function yd(t){return tl(t).getComputedStyle(t)}function JRt(t){return["table","td","th"].indexOf(Vu(t))>=0}function Lp(t){return(($g(t)?t.ownerDocument:t.document)||window.document).documentElement}function g3(t){return Vu(t)==="html"?t:t.assignedSlot||t.parentNode||(s9(t)?t.host:null)||Lp(t)}function FQ(t){return!jl(t)||yd(t).position==="fixed"?null:t.offsetParent}function QRt(t){var e=/firefox/i.test(lz()),n=/Trident/i.test(lz());if(n&&jl(t)){var r=yd(t);if(r.position==="fixed")return null}var i=g3(t);for(s9(i)&&(i=i.host);jl(i)&&["html","body"].indexOf(Vu(i))<0;){var o=yd(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function zM(t){for(var e=tl(t),n=FQ(t);n&&JRt(n)&&yd(n).position==="static";)n=FQ(n);return n&&(Vu(n)==="html"||Vu(n)==="body"&&yd(n).position==="static")?e:n||QRt(t)||e}function c9(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function E1(t,e,n){return hg(t,$P(e,n))}function eOt(t,e,n){var r=E1(t,e,n);return r>n?n:r}function vye(){return{top:0,right:0,bottom:0,left:0}}function yye(t){return Object.assign({},vye(),t)}function xye(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var tOt=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,yye(typeof e!="number"?e:xye(e,BM))};function nOt(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Lu(n.placement),l=c9(s),c=[_s,Vl].indexOf(s)>=0,u=c?"height":"width";if(!(!o||!a)){var f=tOt(i.padding,n),d=l9(o),h=l==="y"?bs:_s,m=l==="y"?Wl:Vl,v=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],y=a[l]-n.rects.reference[l],g=zM(o),b=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,x=v/2-y/2,_=f[h],T=b-d[u]-f[m],C=b/2-d[u]/2+x,P=E1(_,C,T),I=l;n.modifiersData[r]=(e={},e[I]=P,e.centerOffset=P-C,e)}}function rOt(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||gye(e.elements.popper,i)&&(e.elements.arrow=i))}const iOt={name:"arrow",enabled:!0,phase:"main",fn:nOt,effect:rOt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wx(t){return t.split("-")[1]}var oOt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aOt(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:bx(n*i)/i||0,y:bx(r*i)/i||0}}function UQ(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,d=a.x,h=d===void 0?0:d,m=a.y,v=m===void 0?0:m,y=typeof u=="function"?u({x:h,y:v}):{x:h,y:v};h=y.x,v=y.y;var g=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),x=_s,_=bs,T=window;if(c){var C=zM(n),P="clientHeight",I="clientWidth";if(C===tl(n)&&(C=Lp(n),yd(C).position!=="static"&&s==="absolute"&&(P="scrollHeight",I="scrollWidth")),C=C,i===bs||(i===_s||i===Vl)&&o===RS){_=Wl;var O=f&&C===T&&T.visualViewport?T.visualViewport.height:C[P];v-=O-r.height,v*=l?1:-1}if(i===_s||(i===bs||i===Wl)&&o===RS){x=Vl;var N=f&&C===T&&T.visualViewport?T.visualViewport.width:C[I];h-=N-r.width,h*=l?1:-1}}var D=Object.assign({position:s},c&&oOt),U=u===!0?aOt({x:h,y:v},tl(n)):{x:h,y:v};if(h=U.x,v=U.y,l){var V;return Object.assign({},D,(V={},V[_]=b?"0":"",V[x]=g?"0":"",V.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",V))}return Object.assign({},D,(e={},e[_]=b?v+"px":"",e[x]=g?h+"px":"",e.transform="",e))}function sOt(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,l=s===void 0?!0:s,c={placement:Lu(e.placement),variation:wx(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,UQ(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,UQ(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const lOt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sOt,data:{}};var TT={passive:!0};function cOt(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=tl(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,TT)}),s&&l.addEventListener("resize",n.update,TT),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,TT)}),s&&l.removeEventListener("resize",n.update,TT)}}const uOt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:cOt,data:{}};var fOt={left:"right",right:"left",bottom:"top",top:"bottom"};function vA(t){return t.replace(/left|right|bottom|top/g,function(e){return fOt[e]})}var dOt={start:"end",end:"start"};function WQ(t){return t.replace(/start|end/g,function(e){return dOt[e]})}function u9(t){var e=tl(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function f9(t){return _x(Lp(t)).left+u9(t).scrollLeft}function hOt(t,e){var n=tl(t),r=Lp(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=mye();(c||!c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+f9(t),y:l}}function pOt(t){var e,n=Lp(t),r=u9(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=hg(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=hg(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+f9(t),l=-r.scrollTop;return yd(i||n).direction==="rtl"&&(s+=hg(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function d9(t){var e=yd(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function bye(t){return["html","body","#document"].indexOf(Vu(t))>=0?t.ownerDocument.body:jl(t)&&d9(t)?t:bye(g3(t))}function T1(t,e){var n;e===void 0&&(e=[]);var r=bye(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=tl(r),a=i?[o].concat(o.visualViewport||[],d9(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(T1(g3(a)))}function cz(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mOt(t,e){var n=_x(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function VQ(t,e,n){return e===dye?cz(hOt(t,n)):$g(e)?mOt(e,n):cz(pOt(Lp(t)))}function gOt(t){var e=T1(g3(t)),n=["absolute","fixed"].indexOf(yd(t).position)>=0,r=n&&jl(t)?zM(t):t;return $g(r)?e.filter(function(i){return $g(i)&&gye(i,r)&&Vu(i)!=="body"}):[]}function vOt(t,e,n,r){var i=e==="clippingParents"?gOt(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(l,c){var u=VQ(t,c,r);return l.top=hg(u.top,l.top),l.right=$P(u.right,l.right),l.bottom=$P(u.bottom,l.bottom),l.left=hg(u.left,l.left),l},VQ(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function _ye(t){var e=t.reference,n=t.element,r=t.placement,i=r?Lu(r):null,o=r?wx(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,l;switch(i){case bs:l={x:a,y:e.y-n.height};break;case Wl:l={x:a,y:e.y+e.height};break;case Vl:l={x:e.x+e.width,y:s};break;case _s:l={x:e.x-n.width,y:s};break;default:l={x:e.x,y:e.y}}var c=i?c9(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case xx:l[c]=l[c]-(e[u]/2-n[u]/2);break;case RS:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function OS(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,l=s===void 0?BRt:s,c=n.rootBoundary,u=c===void 0?dye:c,f=n.elementContext,d=f===void 0?T_:f,h=n.altBoundary,m=h===void 0?!1:h,v=n.padding,y=v===void 0?0:v,g=yye(typeof y!="number"?y:xye(y,BM)),b=d===T_?zRt:T_,x=t.rects.popper,_=t.elements[m?b:d],T=vOt($g(_)?_:_.contextElement||Lp(t.elements.popper),l,u,a),C=_x(t.elements.reference),P=_ye({reference:C,element:x,placement:i}),I=cz(Object.assign({},x,P)),O=d===T_?I:C,N={top:T.top-O.top+g.top,bottom:O.bottom-T.bottom+g.bottom,left:T.left-O.left+g.left,right:O.right-T.right+g.right},D=t.modifiersData.offset;if(d===T_&&D){var U=D[i];Object.keys(N).forEach(function(V){var z=[Vl,Wl].indexOf(V)>=0?1:-1,F=[bs,Wl].indexOf(V)>=0?"y":"x";N[V]+=U[F]*z})}return N}function yOt(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?hye:l,u=wx(r),f=u?s?$Q:$Q.filter(function(m){return wx(m)===u}):BM,d=f.filter(function(m){return c.indexOf(m)>=0});d.length===0&&(d=f);var h=d.reduce(function(m,v){return m[v]=OS(t,{placement:v,boundary:i,rootBoundary:o,padding:a})[Lu(v)],m},{});return Object.keys(h).sort(function(m,v){return h[m]-h[v]})}function xOt(t){if(Lu(t)===a9)return[];var e=vA(t);return[WQ(t),e,WQ(e)]}function bOt(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,v=n.allowedAutoPlacements,y=e.options.placement,g=Lu(y),b=g===y,x=l||(b||!m?[vA(y)]:xOt(y)),_=[y].concat(x).reduce(function(re,oe){return re.concat(Lu(oe)===a9?yOt(e,{placement:oe,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:v}):oe)},[]),T=e.rects.reference,C=e.rects.popper,P=new Map,I=!0,O=_[0],N=0;N<_.length;N++){var D=_[N],U=Lu(D),V=wx(D)===xx,z=[bs,Wl].indexOf(U)>=0,F=z?"width":"height",W=OS(e,{placement:D,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),X=z?V?Vl:_s:V?Wl:bs;T[F]>C[F]&&(X=vA(X));var B=vA(X),G=[];if(o&&G.push(W[U]<=0),s&&G.push(W[X]<=0,W[B]<=0),G.every(function(re){return re})){O=D,I=!1;break}P.set(D,G)}if(I)for(var q=m?3:1,te=function(oe){var pe=_.find(function(fe){var we=P.get(fe);if(we)return we.slice(0,oe).every(function(ge){return ge})});if(pe)return O=pe,"break"},Y=q;Y>0;Y--){var J=te(Y);if(J==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const _Ot={name:"flip",enabled:!0,phase:"main",fn:bOt,requiresIfExists:["offset"],data:{_skip:!1}};function HQ(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function GQ(t){return[bs,Vl,Wl,_s].some(function(e){return t[e]>=0})}function wOt(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=OS(e,{elementContext:"reference"}),s=OS(e,{altBoundary:!0}),l=HQ(a,r),c=HQ(s,i,o),u=GQ(l),f=GQ(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const SOt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wOt};function MOt(t,e,n){var r=Lu(t),i=[_s,bs].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[_s,Vl].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function EOt(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=hye.reduce(function(u,f){return u[f]=MOt(f,e.rects,o),u},{}),s=a[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=a}const TOt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:EOt};function AOt(t){var e=t.state,n=t.name;e.modifiersData[n]=_ye({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const COt={name:"popperOffsets",enabled:!0,phase:"read",fn:AOt,data:{}};function POt(t){return t==="x"?"y":"x"}function ROt(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,m=n.tetherOffset,v=m===void 0?0:m,y=OS(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),g=Lu(e.placement),b=wx(e.placement),x=!b,_=c9(g),T=POt(_),C=e.modifiersData.popperOffsets,P=e.rects.reference,I=e.rects.popper,O=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,N=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(C){if(o){var V,z=_==="y"?bs:_s,F=_==="y"?Wl:Vl,W=_==="y"?"height":"width",X=C[_],B=X+y[z],G=X-y[F],q=h?-I[W]/2:0,te=b===xx?P[W]:I[W],Y=b===xx?-I[W]:-P[W],J=e.elements.arrow,re=h&&J?l9(J):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:vye(),pe=oe[z],fe=oe[F],we=E1(0,P[W],re[W]),ge=x?P[W]/2-q-we-pe-N.mainAxis:te-we-pe-N.mainAxis,xe=x?-P[W]/2+q+we+fe+N.mainAxis:Y+we+fe+N.mainAxis,Te=e.elements.arrow&&zM(e.elements.arrow),ee=Te?_==="y"?Te.clientTop||0:Te.clientLeft||0:0,Ce=(V=D==null?void 0:D[_])!=null?V:0,ae=X+ge-Ce-ee,be=X+xe-Ce,_e=E1(h?$P(B,ae):B,X,h?hg(G,be):G);C[_]=_e,U[_]=_e-X}if(s){var He,Ve=_==="x"?bs:_s,ne=_==="x"?Wl:Vl,Q=C[T],ve=T==="y"?"height":"width",Se=Q+y[Ve],Le=Q-y[ne],Ie=[bs,_s].indexOf(g)!==-1,Ke=(He=D==null?void 0:D[T])!=null?He:0,Ne=Ie?Se:Q-P[ve]-I[ve]-Ke+N.altAxis,Ye=Ie?Q+P[ve]+I[ve]-Ke-N.altAxis:Le,et=h&&Ie?eOt(Ne,Q,Ye):E1(h?Ne:Se,Q,h?Ye:Le);C[T]=et,U[T]=et-Q}e.modifiersData[r]=U}}const OOt={name:"preventOverflow",enabled:!0,phase:"main",fn:ROt,requiresIfExists:["offset"]};function LOt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function kOt(t){return t===tl(t)||!jl(t)?u9(t):LOt(t)}function NOt(t){var e=t.getBoundingClientRect(),n=bx(e.width)/t.offsetWidth||1,r=bx(e.height)/t.offsetHeight||1;return n!==1||r!==1}function IOt(t,e,n){n===void 0&&(n=!1);var r=jl(e),i=jl(e)&&NOt(e),o=Lp(e),a=_x(t,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Vu(e)!=="body"||d9(o))&&(s=kOt(e)),jl(e)?(l=_x(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=f9(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function DOt(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=e.get(s);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function jOt(t){var e=DOt(t);return YRt.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function BOt(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function zOt(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var XQ={placement:"bottom",modifiers:[],strategy:"absolute"};function qQ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $Ot(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?XQ:i;return function(s,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},XQ,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(g){var b=typeof g=="function"?g(u.options):g;v(),u.options=Object.assign({},o,u.options,b),u.scrollParents={reference:$g(s)?T1(s):s.contextElement?T1(s.contextElement):[],popper:T1(l)};var x=jOt(zOt([].concat(r,u.options.modifiers)));return u.orderedModifiers=x.filter(function(_){return _.enabled}),m(),h.update()},forceUpdate:function(){if(!d){var g=u.elements,b=g.reference,x=g.popper;if(qQ(b,x)){u.rects={reference:IOt(b,zM(x),u.options.strategy==="fixed"),popper:l9(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var T=u.orderedModifiers[_],C=T.fn,P=T.options,I=P===void 0?{}:P,O=T.name;typeof C=="function"&&(u=C({state:u,options:I,name:O,instance:h})||u)}}}},update:BOt(function(){return new Promise(function(y){h.forceUpdate(),y(u)})}),destroy:function(){v(),d=!0}};if(!qQ(s,l))return h;h.setOptions(c).then(function(y){!d&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var g=y.name,b=y.options,x=b===void 0?{}:b,_=y.effect;if(typeof _=="function"){var T=_({state:u,name:g,instance:h,options:x}),C=function(){};f.push(T||C)}})}function v(){f.forEach(function(y){return y()}),f=[]}return h}}var FOt=[uOt,COt,lOt,pye,TOt,_Ot,OOt,iOt,SOt],UOt=$Ot({defaultModifiers:FOt}),WOt="tippy-box",wye="tippy-content",VOt="tippy-backdrop",Sye="tippy-arrow",Mye="tippy-svg-arrow",Tm={passive:!0,capture:!0},Eye=function(){return document.body};function GI(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function h9(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Tye(t,e){return typeof t=="function"?t.apply(void 0,e):t}function YQ(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function HOt(t){return t.split(/\s+/).filter(Boolean)}function gy(t){return[].concat(t)}function KQ(t,e){t.indexOf(e)===-1&&t.push(e)}function GOt(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function XOt(t){return t.split("-")[0]}function FP(t){return[].slice.call(t)}function ZQ(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function A1(){return document.createElement("div")}function v3(t){return["Element","Fragment"].some(function(e){return h9(t,e)})}function qOt(t){return h9(t,"NodeList")}function YOt(t){return h9(t,"MouseEvent")}function KOt(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function ZOt(t){return v3(t)?[t]:qOt(t)?FP(t):Array.isArray(t)?t:FP(document.querySelectorAll(t))}function XI(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function JQ(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function JOt(t){var e,n=gy(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function QOt(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,l=s.interactiveBorder,c=XOt(a.placement),u=a.modifiersData.offset;if(!u)return!0;var f=c==="bottom"?u.top.y:0,d=c==="top"?u.bottom.y:0,h=c==="right"?u.left.x:0,m=c==="left"?u.right.x:0,v=o.top-r+f>l,y=r-o.bottom-d>l,g=o.left-n+h>l,b=n-o.right-m>l;return v||y||g||b})}function qI(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function QQ(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var cu={isTouch:!1},eee=0;function eLt(){cu.isTouch||(cu.isTouch=!0,window.performance&&document.addEventListener("mousemove",Aye))}function Aye(){var t=performance.now();t-eee<20&&(cu.isTouch=!1,document.removeEventListener("mousemove",Aye)),eee=t}function tLt(){var t=document.activeElement;if(KOt(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function nLt(){document.addEventListener("touchstart",eLt,Tm),window.addEventListener("blur",tLt)}var rLt=typeof window<"u"&&typeof document<"u",iLt=rLt?!!window.msCrypto:!1,oLt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},aLt={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Cc=Object.assign({appendTo:Eye,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},oLt,aLt),sLt=Object.keys(Cc),lLt=function(e){var n=Object.keys(e);n.forEach(function(r){Cc[r]=e[r]})};function Cye(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var s;r[o]=t[o]!==void 0?t[o]:(s=Cc[o])!=null?s:a}return r},{});return Object.assign({},t,n)}function cLt(t,e){var n=e?Object.keys(Cye(Object.assign({},Cc,{plugins:e}))):sLt,r=n.reduce(function(i,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function tee(t,e){var n=Object.assign({},e,{content:Tye(e.content,[t])},e.ignoreAttributes?{}:cLt(t,e.plugins));return n.aria=Object.assign({},Cc.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var uLt=function(){return"innerHTML"};function uz(t,e){t[uLt()]=e}function nee(t){var e=A1();return t===!0?e.className=Sye:(e.className=Mye,v3(t)?e.appendChild(t):uz(e,t)),e}function ree(t,e){v3(e.content)?(uz(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?uz(t,e.content):t.textContent=e.content)}function fz(t){var e=t.firstElementChild,n=FP(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(wye)}),arrow:n.find(function(r){return r.classList.contains(Sye)||r.classList.contains(Mye)}),backdrop:n.find(function(r){return r.classList.contains(VOt)})}}function Pye(t){var e=A1(),n=A1();n.className=WOt,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=A1();r.className=wye,r.setAttribute("data-state","hidden"),ree(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,a){var s=fz(e),l=s.box,c=s.content,u=s.arrow;a.theme?l.setAttribute("data-theme",a.theme):l.removeAttribute("data-theme"),typeof a.animation=="string"?l.setAttribute("data-animation",a.animation):l.removeAttribute("data-animation"),a.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?l.setAttribute("role",a.role):l.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&ree(c,t.props),a.arrow?u?o.arrow!==a.arrow&&(l.removeChild(u),l.appendChild(nee(a.arrow))):l.appendChild(nee(a.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:i}}Pye.$$tippy=!0;var fLt=1,AT=[],YI=[];function dLt(t,e){var n=tee(t,Object.assign({},Cc,Cye(ZQ(e)))),r,i,o,a=!1,s=!1,l=!1,c=!1,u,f,d,h=[],m=YQ(ae,n.interactiveDebounce),v,y=fLt++,g=null,b=GOt(n.plugins),x={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:y,reference:t,popper:A1(),popperInstance:g,props:n,state:x,plugins:b,clearDelayTimeouts:Ne,setProps:Ye,setContent:et,show:vt,hide:ke,hideWithInteractivity:Ze,enable:Ie,disable:Ke,unmount:at,destroy:pt};if(!n.render)return _;var T=n.render(_),C=T.popper,P=T.onUpdate;C.setAttribute("data-tippy-root",""),C.id="tippy-"+_.id,_.popper=C,t._tippy=_,C._tippy=_;var I=b.map(function(me){return me.fn(_)}),O=t.hasAttribute("aria-expanded");return Te(),q(),X(),B("onCreate",[_]),n.showOnCreate&&Se(),C.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),C.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&z().addEventListener("mousemove",m)}),_;function N(){var me=_.props.touch;return Array.isArray(me)?me:[me,0]}function D(){return N()[0]==="hold"}function U(){var me;return!!((me=_.props.render)!=null&&me.$$tippy)}function V(){return v||t}function z(){var me=V().parentNode;return me?JOt(me):document}function F(){return fz(C)}function W(me){return _.state.isMounted&&!_.state.isVisible||cu.isTouch||u&&u.type==="focus"?0:GI(_.props.delay,me?0:1,Cc.delay)}function X(me){me===void 0&&(me=!1),C.style.pointerEvents=_.props.interactive&&!me?"":"none",C.style.zIndex=""+_.props.zIndex}function B(me,Ae,le){if(le===void 0&&(le=!0),I.forEach(function(Ue){Ue[me]&&Ue[me].apply(Ue,Ae)}),le){var Ee;(Ee=_.props)[me].apply(Ee,Ae)}}function G(){var me=_.props.aria;if(me.content){var Ae="aria-"+me.content,le=C.id,Ee=gy(_.props.triggerTarget||t);Ee.forEach(function(Ue){var We=Ue.getAttribute(Ae);if(_.state.isVisible)Ue.setAttribute(Ae,We?We+" "+le:le);else{var ze=We&&We.replace(le,"").trim();ze?Ue.setAttribute(Ae,ze):Ue.removeAttribute(Ae)}})}}function q(){if(!(O||!_.props.aria.expanded)){var me=gy(_.props.triggerTarget||t);me.forEach(function(Ae){_.props.interactive?Ae.setAttribute("aria-expanded",_.state.isVisible&&Ae===V()?"true":"false"):Ae.removeAttribute("aria-expanded")})}}function te(){z().removeEventListener("mousemove",m),AT=AT.filter(function(me){return me!==m})}function Y(me){if(!(cu.isTouch&&(l||me.type==="mousedown"))){var Ae=me.composedPath&&me.composedPath()[0]||me.target;if(!(_.props.interactive&&QQ(C,Ae))){if(gy(_.props.triggerTarget||t).some(function(le){return QQ(le,Ae)})){if(cu.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else B("onClickOutside",[_,me]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),s=!0,setTimeout(function(){s=!1}),_.state.isMounted||pe())}}}function J(){l=!0}function re(){l=!1}function oe(){var me=z();me.addEventListener("mousedown",Y,!0),me.addEventListener("touchend",Y,Tm),me.addEventListener("touchstart",re,Tm),me.addEventListener("touchmove",J,Tm)}function pe(){var me=z();me.removeEventListener("mousedown",Y,!0),me.removeEventListener("touchend",Y,Tm),me.removeEventListener("touchstart",re,Tm),me.removeEventListener("touchmove",J,Tm)}function fe(me,Ae){ge(me,function(){!_.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&Ae()})}function we(me,Ae){ge(me,Ae)}function ge(me,Ae){var le=F().box;function Ee(Ue){Ue.target===le&&(qI(le,"remove",Ee),Ae())}if(me===0)return Ae();qI(le,"remove",f),qI(le,"add",Ee),f=Ee}function xe(me,Ae,le){le===void 0&&(le=!1);var Ee=gy(_.props.triggerTarget||t);Ee.forEach(function(Ue){Ue.addEventListener(me,Ae,le),h.push({node:Ue,eventType:me,handler:Ae,options:le})})}function Te(){D()&&(xe("touchstart",Ce,{passive:!0}),xe("touchend",be,{passive:!0})),HOt(_.props.trigger).forEach(function(me){if(me!=="manual")switch(xe(me,Ce),me){case"mouseenter":xe("mouseleave",be);break;case"focus":xe(iLt?"focusout":"blur",_e);break;case"focusin":xe("focusout",_e);break}})}function ee(){h.forEach(function(me){var Ae=me.node,le=me.eventType,Ee=me.handler,Ue=me.options;Ae.removeEventListener(le,Ee,Ue)}),h=[]}function Ce(me){var Ae,le=!1;if(!(!_.state.isEnabled||He(me)||s)){var Ee=((Ae=u)==null?void 0:Ae.type)==="focus";u=me,v=me.currentTarget,q(),!_.state.isVisible&&YOt(me)&&AT.forEach(function(Ue){return Ue(me)}),me.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||a)&&_.props.hideOnClick!==!1&&_.state.isVisible?le=!0:Se(me),me.type==="click"&&(a=!le),le&&!Ee&&Le(me)}}function ae(me){var Ae=me.target,le=V().contains(Ae)||C.contains(Ae);if(!(me.type==="mousemove"&&le)){var Ee=ve().concat(C).map(function(Ue){var We,ze=Ue._tippy,ce=(We=ze.popperInstance)==null?void 0:We.state;return ce?{popperRect:Ue.getBoundingClientRect(),popperState:ce,props:n}:null}).filter(Boolean);QOt(Ee,me)&&(te(),Le(me))}}function be(me){var Ae=He(me)||_.props.trigger.indexOf("click")>=0&&a;if(!Ae){if(_.props.interactive){_.hideWithInteractivity(me);return}Le(me)}}function _e(me){_.props.trigger.indexOf("focusin")<0&&me.target!==V()||_.props.interactive&&me.relatedTarget&&C.contains(me.relatedTarget)||Le(me)}function He(me){return cu.isTouch?D()!==me.type.indexOf("touch")>=0:!1}function Ve(){ne();var me=_.props,Ae=me.popperOptions,le=me.placement,Ee=me.offset,Ue=me.getReferenceClientRect,We=me.moveTransition,ze=U()?fz(C).arrow:null,ce=Ue?{getBoundingClientRect:Ue,contextElement:Ue.contextElement||V()}:t,Re={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(De){var st=De.state;if(U()){var mt=F(),rt=mt.box;["placement","reference-hidden","escaped"].forEach(function(it){it==="placement"?rt.setAttribute("data-placement",st.placement):st.attributes.popper["data-popper-"+it]?rt.setAttribute("data-"+it,""):rt.removeAttribute("data-"+it)}),st.attributes.popper={}}}},Xe=[{name:"offset",options:{offset:Ee}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!We}},Re];U()&&ze&&Xe.push({name:"arrow",options:{element:ze,padding:3}}),Xe.push.apply(Xe,(Ae==null?void 0:Ae.modifiers)||[]),_.popperInstance=UOt(ce,C,Object.assign({},Ae,{placement:le,onFirstUpdate:d,modifiers:Xe}))}function ne(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function Q(){var me=_.props.appendTo,Ae,le=V();_.props.interactive&&me===Eye||me==="parent"?Ae=le.parentNode:Ae=Tye(me,[le]),Ae.contains(C)||Ae.appendChild(C),_.state.isMounted=!0,Ve()}function ve(){return FP(C.querySelectorAll("[data-tippy-root]"))}function Se(me){_.clearDelayTimeouts(),me&&B("onTrigger",[_,me]),oe();var Ae=W(!0),le=N(),Ee=le[0],Ue=le[1];cu.isTouch&&Ee==="hold"&&Ue&&(Ae=Ue),Ae?r=setTimeout(function(){_.show()},Ae):_.show()}function Le(me){if(_.clearDelayTimeouts(),B("onUntrigger",[_,me]),!_.state.isVisible){pe();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(me.type)>=0&&a)){var Ae=W(!1);Ae?i=setTimeout(function(){_.state.isVisible&&_.hide()},Ae):o=requestAnimationFrame(function(){_.hide()})}}function Ie(){_.state.isEnabled=!0}function Ke(){_.hide(),_.state.isEnabled=!1}function Ne(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Ye(me){if(!_.state.isDestroyed){B("onBeforeUpdate",[_,me]),ee();var Ae=_.props,le=tee(t,Object.assign({},Ae,ZQ(me),{ignoreAttributes:!0}));_.props=le,Te(),Ae.interactiveDebounce!==le.interactiveDebounce&&(te(),m=YQ(ae,le.interactiveDebounce)),Ae.triggerTarget&&!le.triggerTarget?gy(Ae.triggerTarget).forEach(function(Ee){Ee.removeAttribute("aria-expanded")}):le.triggerTarget&&t.removeAttribute("aria-expanded"),q(),X(),P&&P(Ae,le),_.popperInstance&&(Ve(),ve().forEach(function(Ee){requestAnimationFrame(Ee._tippy.popperInstance.forceUpdate)})),B("onAfterUpdate",[_,me])}}function et(me){_.setProps({content:me})}function vt(){var me=_.state.isVisible,Ae=_.state.isDestroyed,le=!_.state.isEnabled,Ee=cu.isTouch&&!_.props.touch,Ue=GI(_.props.duration,0,Cc.duration);if(!(me||Ae||le||Ee)&&!V().hasAttribute("disabled")&&(B("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,U()&&(C.style.visibility="visible"),X(),oe(),_.state.isMounted||(C.style.transition="none"),U()){var We=F(),ze=We.box,ce=We.content;XI([ze,ce],0)}d=function(){var Xe;if(!(!_.state.isVisible||c)){if(c=!0,C.offsetHeight,C.style.transition=_.props.moveTransition,U()&&_.props.animation){var ct=F(),De=ct.box,st=ct.content;XI([De,st],Ue),JQ([De,st],"visible")}G(),q(),KQ(YI,_),(Xe=_.popperInstance)==null||Xe.forceUpdate(),B("onMount",[_]),_.props.animation&&U()&&we(Ue,function(){_.state.isShown=!0,B("onShown",[_])})}},Q()}}function ke(){var me=!_.state.isVisible,Ae=_.state.isDestroyed,le=!_.state.isEnabled,Ee=GI(_.props.duration,1,Cc.duration);if(!(me||Ae||le)&&(B("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,a=!1,U()&&(C.style.visibility="hidden"),te(),pe(),X(!0),U()){var Ue=F(),We=Ue.box,ze=Ue.content;_.props.animation&&(XI([We,ze],Ee),JQ([We,ze],"hidden"))}G(),q(),_.props.animation?U()&&fe(Ee,_.unmount):_.unmount()}}function Ze(me){z().addEventListener("mousemove",m),KQ(AT,m),m(me)}function at(){_.state.isVisible&&_.hide(),_.state.isMounted&&(ne(),ve().forEach(function(me){me._tippy.unmount()}),C.parentNode&&C.parentNode.removeChild(C),YI=YI.filter(function(me){return me!==_}),_.state.isMounted=!1,B("onHidden",[_]))}function pt(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),ee(),delete t._tippy,_.state.isDestroyed=!0,B("onDestroy",[_]))}}function $M(t,e){e===void 0&&(e={});var n=Cc.plugins.concat(e.plugins||[]);nLt();var r=Object.assign({},e,{plugins:n}),i=ZOt(t),o=i.reduce(function(a,s){var l=s&&dLt(s,r);return l&&a.push(l),a},[]);return v3(t)?o[0]:o}$M.defaultProps=Cc;$M.setDefaultProps=lLt;$M.currentInput=cu;Object.assign({},pye,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});$M.setDefaultProps({render:Pye});function y3(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const iee=Symbol("implicit");function Rye(){var t=new Map,e=[],n=[],r=iee;function i(o){var a=o+"",s=t.get(a);if(!s){if(r!==iee)return r;t.set(a,s=e.push(o))}return n[(s-1)%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Map;for(const a of o){const s=a+"";t.has(s)||t.set(s,e.push(a))}return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Rye(e,n).unknown(r)},y3.apply(i,arguments),i}function p9(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Oye(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function FM(){}var LS=.7,UP=1/LS,d0="\\s*([+-]?\\d+)\\s*",kS="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ku="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hLt=/^#([0-9a-f]{3,8})$/,pLt=new RegExp("^rgb\\("+[d0,d0,d0]+"\\)$"),mLt=new RegExp("^rgb\\("+[ku,ku,ku]+"\\)$"),gLt=new RegExp("^rgba\\("+[d0,d0,d0,kS]+"\\)$"),vLt=new RegExp("^rgba\\("+[ku,ku,ku,kS]+"\\)$"),yLt=new RegExp("^hsl\\("+[kS,ku,ku]+"\\)$"),xLt=new RegExp("^hsla\\("+[kS,ku,ku,kS]+"\\)$"),oee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p9(FM,NS,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:aee,formatHex:aee,formatHsl:bLt,formatRgb:see,toString:see});function aee(){return this.rgb().formatHex()}function bLt(){return Lye(this).formatHsl()}function see(){return this.rgb().formatRgb()}function NS(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hLt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?lee(e):n===3?new Hs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?CT(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?CT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pLt.exec(t))?new Hs(e[1],e[2],e[3],1):(e=mLt.exec(t))?new Hs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gLt.exec(t))?CT(e[1],e[2],e[3],e[4]):(e=vLt.exec(t))?CT(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yLt.exec(t))?fee(e[1],e[2]/100,e[3]/100,1):(e=xLt.exec(t))?fee(e[1],e[2]/100,e[3]/100,e[4]):oee.hasOwnProperty(t)?lee(oee[t]):t==="transparent"?new Hs(NaN,NaN,NaN,0):null}function lee(t){return new Hs(t>>16&255,t>>8&255,t&255,1)}function CT(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hs(t,e,n,r)}function _Lt(t){return t instanceof FM||(t=NS(t)),t?(t=t.rgb(),new Hs(t.r,t.g,t.b,t.opacity)):new Hs}function dz(t,e,n,r){return arguments.length===1?_Lt(t):new Hs(t,e,n,r??1)}function Hs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}p9(Hs,dz,Oye(FM,{brighter:function(t){return t=t==null?UP:Math.pow(UP,t),new Hs(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?LS:Math.pow(LS,t),new Hs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cee,formatHex:cee,formatRgb:uee,toString:uee}));function cee(){return"#"+KI(this.r)+KI(this.g)+KI(this.b)}function uee(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function KI(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function fee(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pu(t,e,n,r)}function Lye(t){if(t instanceof pu)return new pu(t.h,t.s,t.l,t.opacity);if(t instanceof FM||(t=NS(t)),!t)return new pu;if(t instanceof pu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new pu(a,s,l,t.opacity)}function wLt(t,e,n,r){return arguments.length===1?Lye(t):new pu(t,e,n,r??1)}function pu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}p9(pu,wLt,Oye(FM,{brighter:function(t){return t=t==null?UP:Math.pow(UP,t),new pu(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?LS:Math.pow(LS,t),new pu(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Hs(ZI(t>=240?t-240:t+120,i,r),ZI(t,i,r),ZI(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function ZI(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const m9=t=>()=>t;function SLt(t,e){return function(n){return t+n*e}}function MLt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ELt(t){return(t=+t)==1?kye:function(e,n){return n-e?MLt(e,n,t):m9(isNaN(e)?n:e)}}function kye(t,e){var n=e-t;return n?SLt(t,n):m9(isNaN(t)?e:t)}const dee=function t(e){var n=ELt(e);function r(i,o){var a=n((i=dz(i)).r,(o=dz(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=kye(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function TLt(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ALt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CLt(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=g9(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function PLt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function WP(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function RLt(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=g9(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var hz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JI=new RegExp(hz.source,"g");function OLt(t){return function(){return t}}function LLt(t){return function(e){return t(e)+""}}function kLt(t,e){var n=hz.lastIndex=JI.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=hz.exec(t))&&(i=JI.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:WP(r,i)})),n=JI.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?LLt(l[0].x):OLt(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function g9(t,e){var n=typeof e,r;return e==null||n==="boolean"?m9(e):(n==="number"?WP:n==="string"?(r=NS(e))?(e=r,dee):kLt:e instanceof NS?dee:e instanceof Date?PLt:ALt(e)?TLt:Array.isArray(e)?CLt:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RLt:WP)(t,e)}function NLt(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ILt(t){return function(){return t}}function DLt(t){return+t}var hee=[0,1];function xu(t){return t}function pz(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ILt(isNaN(e)?NaN:.5)}function jLt(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function BLt(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=pz(i,r),o=n(a,o)):(r=pz(r,i),o=n(o,a)),function(s){return o(r(s))}}function zLt(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=pz(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=GPt(t,s,1,r)-1;return o[l](i[l](s))}}function v9(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function y9(){var t=hee,e=hee,n=g9,r,i,o,a=xu,s,l,c;function u(){var d=Math.min(t.length,e.length);return a!==xu&&(a=jLt(t[0],t[d-1])),s=d>2?zLt:BLt,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((c||(c=s(e,t.map(r),WP)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,DLt),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=NLt,u()},f.clamp=function(d){return arguments.length?(a=d?!0:xu,u()):a!==xu},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,u()}}function $Lt(){return y9()(xu,xu)}function FLt(t,e,n,r){var i=qPt(t,e,n),o;switch(r=$0(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Tce(i,a))&&(r.precision=o),AU(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ace(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ece(i))&&(r.precision=o-(r.type==="%")*2);break}}return Zg(r)}function Nye(t){var e=t.domain;return t.ticks=function(n){var r=e();return sz(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return FLt(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=lye(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Iye(){var t=$Lt();return t.copy=function(){return v9(t,Iye())},y3.apply(t,arguments),Nye(t)}function ULt(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function pee(t){return Math.log(t)}function mee(t){return Math.exp(t)}function WLt(t){return-Math.log(-t)}function VLt(t){return-Math.exp(-t)}function HLt(t){return isFinite(t)?+("1e"+t):t<0?0:t}function GLt(t){return t===10?HLt:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function XLt(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function gee(t){return function(e){return-t(-e)}}function qLt(t){var e=t(pee,mee),n=e.domain,r=10,i,o;function a(){return i=XLt(r),o=GLt(r),n()[0]<0?(i=gee(i),o=gee(o),t(WLt,VLt)):t(pee,mee),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=function(s){var l=n(),c=l[0],u=l[l.length-1],f;(f=u<c)&&(d=c,c=u,u=d);var d=i(c),h=i(u),m,v,y,g=s==null?10:+s,b=[];if(!(r%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(v=1,m=o(d);v<r;++v)if(y=m*v,!(y<c)){if(y>u)break;b.push(y)}}else for(;d<=h;++d)for(v=r-1,m=o(d);v>=1;--v)if(y=m*v,!(y<c)){if(y>u)break;b.push(y)}b.length*2<g&&(b=sz(c,u,g))}else b=sz(d,h,Math.min(h-d,g)).map(o);return f?b.reverse():b},e.tickFormat=function(s,l){if(l==null&&(l=r===10?".0e":","),typeof l!="function"&&(l=Zg(l)),s===1/0)return l;s==null&&(s=10);var c=Math.max(1,r*s/e.ticks().length);return function(u){var f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=function(){return n(ULt(n(),{floor:function(s){return o(Math.floor(i(s)))},ceil:function(s){return o(Math.ceil(i(s)))}}))},e}function Dye(){var t=qLt(y9()).domain([1,10]);return t.copy=function(){return v9(t,Dye()).base(t.base())},y3.apply(t,arguments),t}function vee(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function YLt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KLt(t){return t<0?-t*t:t*t}function ZLt(t){var e=t(xu,xu),n=1;function r(){return n===1?t(xu,xu):n===.5?t(YLt,KLt):t(vee(n),vee(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Nye(e)}function jye(){var t=ZLt(y9());return t.copy=function(){return v9(t,jye()).exponent(t.exponent())},y3.apply(t,arguments),t}function JLt(){return jye.apply(null,arguments).exponent(.5)}function QLt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const e3t=QLt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function C1(){return(C1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var QI=Math.PI/180;function t3t(t){return t.text}function n3t(){return"serif"}function yee(){return"normal"}function r3t(t){return Math.sqrt(t.value)}function i3t(){return 30*(~~(6*Math.random())-3)}function o3t(){return 1}function a3t(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,2048/o,2048/o);var a=0,s=0,l=0,c=n.length;for(--r;++r<c;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var u=i.measureText(e.text+"m").width*o,f=e.size<<1;if(e.rotate){var d=Math.sin(e.rotate*QI),h=Math.cos(e.rotate*QI),m=u*h,v=u*d,y=f*h,g=f*d;u=Math.max(Math.abs(m+g),Math.abs(m-g))+31>>5<<5,f=~~Math.max(Math.abs(v+y),Math.abs(v-y))}else u=u+31>>5<<5;if(f>l&&(l=f),a+u>=2048&&(a=0,s+=l,l=0),s+f>=2048)break;i.translate((a+(u>>1))/o,(s+(f>>1))/o),e.rotate&&i.rotate(e.rotate*QI),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=u,e.height=f,e.xoff=a,e.yoff=s,e.x1=u>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=u}for(var b=i.getImageData(0,0,2048/o,2048/o).data,x=[];--r>=0;)if((e=n[r]).hasText){for(var _=(u=e.width)>>5,T=(f=e.y1-e.y0,0);T<f*_;T++)x[T]=0;if((a=e.xoff)==null)return;s=e.yoff;for(var C=0,P=-1,I=0;I<f;I++){for(T=0;T<u;T++){var O=b[2048*(s+I)+(a+T)<<2]?1<<31-T%32:0;x[_*I+(T>>5)]|=O,C|=O}C?P=I:(e.y0++,f--,I--,s++)}e.y1=e.y0+P,e.sprite=x.slice(0,(e.y1-e.y0)*_)}}}function s3t(t,e,n){for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,l=32-s,c=t.y1-t.y0,u=(t.y+t.y0)*(n>>=5)+(a>>5),f=0;f<c;f++){r=0;for(var d=0;d<=o;d++)if((r<<l|(d<o?(r=i[f*o+d])>>>s:0))&e[u+d])return!0;u+=n}return!1}function l3t(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function Bye(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function c3t(){return document.createElement("canvas")}function rh(t){return typeof t=="function"?t:function(){return t}}var u3t={archimedean:Bye,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(i){var o=i<0?-1:1;switch(Math.sqrt(1+4*o*i)-o&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};function xee(t,e){return t[Math.floor(e()*t.length)]}function bee(t){return t.size+"px"}function eD(t){return t.text}function _ee(t){return"translate("+t.x+", "+t.y+")"+(typeof t.rotate=="number"?"rotate("+t.rotate+")":"")}function f3t(t){var e,n=t.callbacks,r=t.maxWords,i=t.options,o=t.selection,a=t.size,s=i.deterministic,l=i.enableOptimizations,c=i.fontFamily,u=i.fontStyle,f=i.fontSizes,d=i.fontWeight,h=i.padding,m=i.randomSeed,v=i.rotations,y=i.rotationAngles,g=i.spiral,b=i.scale,x=t.words.concat().sort(function(T,C){return XPt(T.value,C.value)}).slice(0,r),_=jRt(s?m||"deterministic":null);(e=l?function(){var T=[256,256],C=t3t,P=n3t,I=r3t,O=yee,N=yee,D=i3t,U=o3t,V=Bye,z=[],F=1/0,W=K6("word","end"),X=Math.random,B={},G=c3t,q=!1;function te(Y,J,re){for(var oe,pe,fe,we,ge,xe=J.x,Te=J.y,ee=Math.sqrt(T[0]*T[0]+T[1]*T[1]),Ce=V(T),ae=X()<.5?1:-1,be=-ae;(oe=Ce(be+=ae))&&(pe=~~oe[0],fe=~~oe[1],!(Math.min(Math.abs(pe),Math.abs(fe))>=ee));)if(J.x=xe+pe,J.y=Te+fe,!(J.x+J.x0<0||J.y+J.y0<0||J.x+J.x1>T[0]||J.y+J.y1>T[1]||re&&s3t(J,Y,T[0])||re&&!((we=J).x+we.x1>(ge=re)[0].x&&we.x+we.x0<ge[1].x&&we.y+we.y1>ge[0].y&&we.y+we.y0<ge[1].y))){for(var _e,He=J.sprite,Ve=J.width>>5,ne=T[0]>>5,Q=J.x-(Ve<<4),ve=127&Q,Se=32-ve,Le=J.y1-J.y0,Ie=(J.y+J.y0)*ne+(Q>>5),Ke=0;Ke<Le;Ke++){_e=0;for(var Ne=0;Ne<=Ve;Ne++)Y[Ie+Ne]|=_e<<Se|(Ne<Ve?(_e=He[Ke*Ve+Ne])>>>ve:0);Ie+=ne}return delete J.sprite,!0}return!1}return B.canvas=function(Y){return arguments.length?(G=rh(Y),B):G},B.start=function(){var Y=function(fe){fe.width=fe.height=1;var we=Math.sqrt(fe.getContext("2d").getImageData(0,0,1,1).data.length>>2);fe.width=2048/we,fe.height=2048/we;var ge=fe.getContext("2d");return ge.fillStyle=ge.strokeStyle="red",ge.textAlign="center",{context:ge,ratio:we}}(G()),J=new Uint32Array((T[0]>>5)*T[1]),re=null,oe=[],pe=z.map(function(fe,we){return fe.text=C.call(this,fe,we),fe.font=P.call(this,fe,we),fe.style=O.call(this,fe,we),fe.weight=N.call(this,fe,we),fe.rotate=D.call(this,fe,we),fe.size=~~I.call(this,fe,we),fe.padding=U.call(this,fe,we),fe}).sort(function(fe,we){return we.size-fe.size});return setTimeout(function(){return function fe(we){var ge=50*we,xe=Math.min(50*(we+1),z.length);(function(Te,ee){for(var Ce=Te;Ce<ee;Ce+=1){var ae=pe[Ce];ae.x=T[0]*(X()+.5)>>1,ae.y=T[1]*(X()+.5)>>1,a3t(Y,ae,pe,Ce),ae.hasText&&te(J,ae,re)&&(oe.push(ae),W.call("word",B,ae),re?l3t(re,ae):re=[{x:ae.x+ae.x0,y:ae.y+ae.y0},{x:ae.x+ae.x1,y:ae.y+ae.y1}],ae.x-=T[0]>>1,ae.y-=T[1]>>1)}})(ge,xe),q||(xe<z.length?setTimeout(function(){return fe(we+1)},0):(B.stop(),W.call("end",B,oe,re)))}(0)},0),B},B.revive=function(){return q=!1,B},B.stop=function(){return q=!0,B},B.timeInterval=function(Y){return arguments.length?(F=Y??1/0,B):F},B.words=function(Y){return arguments.length?(z=Y,B):z},B.size=function(Y){return arguments.length?(T=[+Y[0],+Y[1]],B):T},B.font=function(Y){return arguments.length?(P=rh(Y),B):P},B.fontStyle=function(Y){return arguments.length?(O=rh(Y),B):O},B.fontWeight=function(Y){return arguments.length?(N=rh(Y),B):N},B.rotate=function(Y){return arguments.length?(D=rh(Y),B):D},B.text=function(Y){return arguments.length?(C=rh(Y),B):C},B.spiral=function(Y){return arguments.length?(V=u3t[Y]||Y,B):V},B.fontSize=function(Y){return arguments.length?(I=rh(Y),B):I},B.padding=function(Y){return arguments.length?(U=rh(Y),B):U},B.random=function(Y){return arguments.length?(X=Y,B):X},B.on=function(){var Y=W.on.apply(W,arguments);return Y===W?B:Y},B}():vRt()).size(a).padding(h).words(xRt(x)).rotate(function(){return v===void 0?30*(~~(6*_())-3):function(T,C,P){if(T<1)return 0;var I=[];if(T===1)I=[C[0]];else{I=[].concat(C);for(var O=(C[1]-C[0])/(T-1),N=C[0]+O;N<C[1];)I.push(N),N+=O}return xee(I,P)}(v,y,_)}).spiral(g).random(_).text(eD).font(c).fontStyle(u).fontWeight(d),function T(C,P){P===void 0&&(P=1),l&&e.revive(),e.fontSize(function(I){return function(O,N,D){var U,V=KPt(O,function(F){return Number(F.value)}),z=YPt(O,function(F){return Number(F.value)});switch(D){case"log":U=Dye;break;case"sqrt":U=JLt;break;case"linear":default:U=Iye}return U().domain([V,z]).range(N)}(x,C,b)(I.value)}).on("end",function(I){if(x.length!==I.length&&P<=10){P===10&&console.warn("Unable to layout "+(x.length-I.length)+" word(s) after "+P+" attempts.  Consider: (1) Increasing the container/component size. (2) Lowering the max font size. (3) Limiting the rotation angles.");var O=Math.max(.95*C[0],1);T([O,Math.max(.95*C[1],O)],P+1)}else(function(N){var D,U=N.callbacks,V=N.options,z=N.random,F=N.words,W=U.getWordColor,X=U.getWordTooltip,B=U.onWordClick,G=U.onWordMouseOver,q=U.onWordMouseOut,te=V.colors,Y=V.enableTooltip,J=V.fontStyle,re=V.fontWeight,oe=V.textAttributes,pe=V.tooltipOptions,fe=V.fontFamily,we=V.transitionDuration;function ge(xe){return W?W(xe):xee(te,z)}N.selection.selectAll("text").data(F).join(function(xe){var Te=xe.append("text").on("click",function(ee){B&&B(ee,Hm)}).on("mouseover",function(ee){Y&&(D=$M(Hm.target,C1({animation:"scale",arrow:!0,content:function(){return X(ee)}},pe))),G&&G(ee,Hm)}).on("mouseout",function(ee){D&&D.destroy(),q&&q(ee,Hm)}).attr("cursor",B?"pointer":"default").attr("fill",ge).attr("font-family",fe).attr("font-style",J).attr("font-weight",re).attr("text-anchor","middle").attr("transform","translate(0, 0) rotate(0)");typeof oe=="object"&&Object.keys(oe).forEach(function(ee){Te=Te.attr(ee,oe[ee])}),Te=Te.call(function(ee){return ee.transition().duration(we).attr("font-size",bee).attr("transform",_ee).text(eD)})},function(xe){xe.transition().duration(we).attr("fill",ge).attr("font-family",fe).attr("font-size",bee).attr("transform",_ee).text(eD)},function(xe){xe.transition().duration(we).attr("fill-opacity",0).remove()})})({callbacks:n,options:i,random:_,selection:o,words:I})}).start()}(f)}var zye={getWordTooltip:function(t){return t.text+" ("+t.value+")"}},$ye={colors:ZPt(20).map(function(t){return t.toString()}).map(Rye(e3t)),deterministic:!1,enableOptimizations:!1,enableTooltip:!0,fontFamily:"times new roman",fontSizes:[4,32],fontStyle:"normal",fontWeight:"normal",padding:1,rotationAngles:[-90,90],scale:"sqrt",spiral:"rectangular",tooltipOptions:{},transitionDuration:600};function Fye(t){var e=t.callbacks,n=t.maxWords,r=n===void 0?100:n,i=t.minSize,o=t.options,a=t.size,s=t.words,l=function(y,g){if(y==null)return{};var b,x,_={},T=Object.keys(y);for(x=0;x<T.length;x++)g.indexOf(b=T[x])>=0||(_[b]=y[b]);return _}(t,["callbacks","maxWords","minSize","options","size","words"]),c=C1({},zye,e),u=C1({},$ye,o),f=function(y,g,b){var x=A.useRef(),_=A.useState(g),T=_[0],C=_[1],P=A.useState(null),I=P[0],O=P[1];return A.useEffect(function(){var N=x.current,D=_Q(N).append("svg").style("display","block");typeof b=="object"&&Object.keys(b).forEach(function(X){D=D.attr(X,b[X])});var U=D.append("g");function V(X,B){D.attr("height",B).attr("width",X),U.attr("transform","translate("+X/2+", "+B/2+")"),C([X,B])}O(U);var z=0,F=0;g===void 0?(z=N.parentElement.offsetWidth,F=N.parentElement.offsetHeight):(z=g[0],F=g[1]),V(z=Math.max(z,y[0]),F=Math.max(F,y[1]));var W=new uCt(function(X){if(X&&X.length!==0&&g===void 0){var B=X[0].contentRect;V(B.width,B.height)}});return W.observe(N),function(){W.unobserve(N),_Q(N).selectAll("*").remove()}},[g,y,b]),[x,I,T]}(i,a,o.svgAttributes),d=f[0],h=f[1],m=f[2],v=A.useRef(ATt(f3t,100));return A.useEffect(function(){h&&v.current({callbacks:c,maxWords:r,options:u,selection:h,size:m,words:s})},[r,c,u,h,m,s]),de.createElement("div",C1({ref:d,style:{height:"100%",width:"100%"}},l))}Fye.defaultProps={callbacks:zye,maxWords:100,minSize:[300,300],options:$ye};function d3t({className:t}){const{events:e}=Rr(),[n,r]=A.useState([]);return A.useEffect(()=>{const i={},o=new Set(["the","and","of","to","a","in","for","is","on","that","by","this","with","i","you","it","not","or","be","are","from","at","as"]);e.forEach(s=>{`${s.title} ${s.comment||""}`.toLowerCase().split(/\W+/).forEach(c=>{c.length>3&&!o.has(c)&&!/^\d+$/.test(c)&&(i[c]=(i[c]||0)+1)})});const a=Object.entries(i).map(([s,l])=>({text:s,value:l})).sort((s,l)=>l.value-s.value).slice(0,50);r(a)},[e]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Trending Topics"}),S.jsx("div",{className:"h-[300px]",children:S.jsx(Fye,{words:n,options:{rotations:2,rotationAngles:[-90,0],fontSizes:[12,60],colors:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],enableTooltip:!0,deterministic:!1,fontFamily:"Inter"}})})]})}function Qn(){return Qn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qn.apply(null,arguments)}function kp(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wee,h3t=A.memo(function(t){var e=t.years,n=t.legend,r=t.theme;return S.jsx(S.Fragment,{children:e.map(function(i){return S.jsx(Fl,{transform:"translate("+i.x+","+i.y+") rotate("+i.rotation+")",textAnchor:"middle",style:r.labels.text,children:n(i.year)},i.year)})})}),p3t=A.memo(function(t){var e=t.path,n=t.borderWidth,r=t.borderColor;return S.jsx("path",{d:e,style:{fill:"none",strokeWidth:n,stroke:r,pointerEvents:"none"}})}),Uye=A.memo(function(t){var e=t.months,n=t.legend,r=t.theme;return S.jsx(S.Fragment,{children:e.map(function(i){return S.jsx(Fl,{transform:"translate("+i.x+","+i.y+") rotate("+i.rotation+")",textAnchor:"middle",style:r.labels.text,children:n(i.year,i.month,i.date)},i.date.toString()+".legend")})})}),m3t=A.memo(function(t){var e=t.data,n=t.x,r=t.y,i=t.size,o=t.color,a=t.borderWidth,s=t.borderColor,l=t.isInteractive,c=t.tooltip,u=t.onMouseEnter,f=t.onMouseMove,d=t.onMouseLeave,h=t.onClick,m=t.formatValue,v=ro(),y=v.showTooltipFromEvent,g=v.hideTooltip,b=A.useCallback(function(C){if("value"in e){var P=Qn({},e,{value:m(e.value),data:Qn({},e.data)});y(A.createElement(c,Qn({},P)),C),u==null||u(e,C)}},[y,c,e,u,m]),x=A.useCallback(function(C){if("value"in e){var P=Qn({},e,{value:m(e.value),data:Qn({},e.data)});y(A.createElement(c,Qn({},P)),C),f==null||f(e,C)}},[y,c,e,f,m]),_=A.useCallback(function(C){"value"in e&&(g(),d==null||d(e,C))},[g,e,d]),T=A.useCallback(function(C){return h==null?void 0:h(e,C)},[e,h]);return S.jsx("rect",{x:n,y:r,width:i,height:i,style:{fill:o,strokeWidth:a,stroke:s},onMouseEnter:l?b:void 0,onMouseMove:l?x:void 0,onMouseLeave:l?_:void 0,onClick:l?T:void 0})}),g3t=A.memo(function(t){var e=t.value,n=t.day,r=t.color;return e===void 0||isNaN(Number(e))?null:S.jsx(od,{id:n,value:e,color:r,enableChip:!0})}),v3t=nv("%b"),Wye={colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],align:"center",direction:"horizontal",emptyColor:"#fff",minValue:0,maxValue:"auto",yearSpacing:30,yearLegend:function(t){return t},yearLegendPosition:"before",yearLegendOffset:10,monthBorderWidth:2,monthBorderColor:"#000",monthSpacing:0,monthLegend:function(t,e,n){return v3t(n)},monthLegendPosition:"before",monthLegendOffset:10,daySpacing:0,dayBorderWidth:1,dayBorderColor:"#000",isInteractive:!0,legends:[],tooltip:g3t},Yr=Qn({},Wye,{role:"img"}),xi=Qn({},Wye,{pixelRatio:typeof window<"u"&&(wee=window.devicePixelRatio)!=null?wee:1}),ki=Qn({},Yr,{dayBorderColor:"#fff",dayRadius:0,square:!0,weekdayLegendOffset:75,firstWeekday:"sunday",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}),y3t=function(t,e,n){var r=t.map(function(i){return i.value});return[e==="auto"?Math.min.apply(Math,r):e,n==="auto"?Math.max.apply(Math,r):n]},x3t=Sle(function(t){var e,n=t.date,r=t.cellSize,i=t.yearIndex,o=t.yearSpacing,a=t.monthSpacing,s=t.daySpacing,l=t.direction,c=t.originX,u=t.originY,f=new Date(n.getFullYear(),n.getMonth()+1,0),d=sd.count($l(n),n),h=sd.count($l(f),f),m=n.getDay(),v=f.getDay(),y=c,g=u,b=i*(7*(r+s)+o),x=n.getMonth()*a;l==="horizontal"?(g+=b,y+=x):(g+=x,y+=b);var _={x:y,y:g,width:0,height:0};return l==="horizontal"?(e=["M"+(y+(d+1)*(r+s))+","+(g+m*(r+s)),"H"+(y+d*(r+s))+"V"+(g+7*(r+s)),"H"+(y+h*(r+s))+"V"+(g+(v+1)*(r+s)),"H"+(y+(h+1)*(r+s))+"V"+g,"H"+(y+(d+1)*(r+s))+"Z"].join(""),_.x=y+d*(r+s),_.width=y+(h+1)*(r+s)-_.x,_.height=7*(r+s)):(e=["M"+(y+m*(r+s))+","+(g+(d+1)*(r+s)),"H"+y+"V"+(g+(h+1)*(r+s)),"H"+(y+(v+1)*(r+s))+"V"+(g+h*(r+s)),"H"+(y+7*(r+s))+"V"+(g+d*(r+s)),"H"+(y+m*(r+s))+"Z"].join(""),_.y=g+d*(r+s),_.width=7*(r+s),_.height=g+(h+1)*(r+s)-_.y),{path:e,bbox:_}},function(t){var e=t.date,n=t.cellSize,r=t.yearIndex,i=t.yearSpacing,o=t.monthSpacing,a=t.daySpacing,s=t.direction,l=t.originX,c=t.originY;return e.toString()+"."+n+"."+r+"."+i+"."+o+"."+a+"."+s+"."+l+"."+c}),b3t=nv("%Y-%m-%d"),_3t=function(t){var e,n=t.width,r=t.height,i=t.from,o=t.to,a=t.direction,s=t.yearSpacing,l=t.monthSpacing,c=t.daySpacing,u=t.align,f=Rg(i)?i:new Date(i),d=Rg(o)?o:new Date(o),h=Kw(f.getFullYear(),d.getFullYear()+1),m=Math.max.apply(Math,h.map(function(N){return eUe(new Date(N,0,1),new Date(N+1,0,1)).length}))+1,v=function(N){var D,U,V=N.width,z=N.height,F=N.direction,W=N.yearRange,X=N.yearSpacing,B=N.monthSpacing,G=N.daySpacing,q=N.maxWeeks;return F==="horizontal"?(D=(V-12*B-G*q)/q,U=(z-(W.length-1)*X-W.length*(8*G))/(7*W.length)):(D=(V-(W.length-1)*X-W.length*(8*G))/(7*W.length),U=(z-12*B-G*q)/q),Math.min(D,U)}({width:n,height:r,direction:a,yearRange:h,yearSpacing:s,monthSpacing:l,daySpacing:c,maxWeeks:m}),y=v*m+c*m+12*l,g=7*(v+c)*h.length+s*(h.length-1),b=a==="horizontal"?y:g,x=a==="horizontal"?g:y,_=QWe({width:b,height:x},{width:n,height:r},u),T=_[0],C=_[1];e=a==="horizontal"?function(N,D,U,V){return function(z,F,W,X){return{x:z+sd.count($l(W),W)*(N+V)+V/2+W.getMonth()*U,y:F+W.getDay()*(N+V)+V/2+X*(D+7*(N+V))}}}(v,s,l,c):function(N,D,U,V){return function(z,F,W,X){var B=sd.count($l(W),W);return{x:z+W.getDay()*(N+V)+V/2+X*(D+7*(N+V)),y:F+B*(N+V)+V/2+W.getMonth()*U}}}(v,s,l,c);var P=[],I=[],O=[];return h.forEach(function(N,D){var U=new Date(N,0,1),V=new Date(N+1,0,1);O=O.concat(Fce(U,V).map(function(F){return Qn({date:F,day:b3t(F),size:v},e(T,C,F,D))}));var z=tUe(U,V).map(function(F){return Qn({date:F,year:F.getFullYear(),month:F.getMonth()},x3t({originX:T,originY:C,date:F,direction:a,yearIndex:D,yearSpacing:s,monthSpacing:l,daySpacing:c,cellSize:v}))});I=I.concat(z),P.push({year:N,bbox:{x:z[0].bbox.x,y:z[0].bbox.y,width:z[11].bbox.x-z[0].bbox.x+z[11].bbox.width,height:z[11].bbox.y-z[0].bbox.y+z[11].bbox.height}})}),{years:P,months:I,days:O,cellSize:v,calendarWidth:b,calendarHeight:x,originX:T,originY:C}},w3t=function(t){var e=t.days,n=t.data,r=t.colorScale,i=t.emptyColor;return e.map(function(o){var a=n.find(function(s){return s.day===o.day});return Qn({},o,a?{color:r(a.value),data:a,value:a.value}:{color:i})})},S3t=function(t){var e=t.years,n=t.direction,r=t.position,i=t.offset;return e.map(function(o){var a=0,s=0,l=0;return n==="horizontal"&&r==="before"?(a=o.bbox.x-i,s=o.bbox.y+o.bbox.height/2,l=-90):n==="horizontal"&&r==="after"?(a=o.bbox.x+o.bbox.width+i,s=o.bbox.y+o.bbox.height/2,l=-90):n==="vertical"&&r==="before"?(a=o.bbox.x+o.bbox.width/2,s=o.bbox.y-i):(a=o.bbox.x+o.bbox.width/2,s=o.bbox.y+o.bbox.height+i),Qn({},o,{x:a,y:s,rotation:l})})},M3t=function(t){var e=t.months,n=t.direction,r=t.position,i=t.offset;return e.map(function(o){var a=0,s=0,l=0;return n==="horizontal"&&r==="before"?(a=o.bbox.x+o.bbox.width/2,s=o.bbox.y-i):n==="horizontal"&&r==="after"?(a=o.bbox.x+o.bbox.width/2,s=o.bbox.y+o.bbox.height+i):n==="vertical"&&r==="before"?(a=o.bbox.x-i,s=o.bbox.y+o.bbox.height/2,l=-90):(a=o.bbox.x+o.bbox.width+i,s=o.bbox.y+o.bbox.height/2,l=-90),Qn({},o,{x:a,y:s,rotation:l})})},Vye=function(t){var e=t.width,n=t.height,r=t.from,i=t.to,o=t.direction,a=t.yearSpacing,s=t.monthSpacing,l=t.daySpacing,c=t.align;return A.useMemo(function(){return _3t({width:e,height:n,from:r,to:i,direction:o,yearSpacing:a,monthSpacing:s,daySpacing:l,align:c})},[e,n,r,i,o,a,s,l,c])},x9=function(t){var e=t.data,n=t.minValue,r=t.maxValue,i=t.colors,o=t.colorScale;return A.useMemo(function(){if(o)return o;var a=y3t(e,n,r);return NU().domain(a).range(i)},[e,n,r,i,o])},Hye=function(t){var e=t.years,n=t.direction,r=t.yearLegendPosition,i=t.yearLegendOffset;return A.useMemo(function(){return S3t({years:e,direction:n,position:r,offset:i})},[e,n,r,i])},b9=function(t){var e=t.months,n=t.direction,r=t.monthLegendPosition,i=t.monthLegendOffset;return A.useMemo(function(){return M3t({months:e,direction:n,position:r,offset:i})},[e,n,r,i])},Gye=function(t){var e=t.days,n=t.data,r=t.colorScale,i=t.emptyColor;return A.useMemo(function(){return w3t({days:e,data:n,colorScale:r,emptyColor:i})},[e,n,r,i])},E3t=["months","years"],T3t=["isInteractive","renderWrapper","theme"],A3t=function(t){var e=t.margin,n=t.width,r=t.height,i=t.align,o=i===void 0?Yr.align:i,a=t.colors,s=a===void 0?Yr.colors:a,l=t.colorScale,c=t.data,u=t.direction,f=u===void 0?Yr.direction:u,d=t.emptyColor,h=d===void 0?Yr.emptyColor:d,m=t.from,v=t.to,y=t.minValue,g=y===void 0?Yr.minValue:y,b=t.maxValue,x=b===void 0?Yr.maxValue:b,_=t.valueFormat,T=t.legendFormat,C=t.yearLegend,P=C===void 0?Yr.yearLegend:C,I=t.yearLegendOffset,O=I===void 0?Yr.yearLegendOffset:I,N=t.yearLegendPosition,D=N===void 0?Yr.yearLegendPosition:N,U=t.yearSpacing,V=U===void 0?Yr.yearSpacing:U,z=t.monthBorderColor,F=z===void 0?Yr.monthBorderColor:z,W=t.monthBorderWidth,X=W===void 0?Yr.monthBorderWidth:W,B=t.monthLegend,G=B===void 0?Yr.monthLegend:B,q=t.monthLegendOffset,te=q===void 0?Yr.monthLegendOffset:q,Y=t.monthLegendPosition,J=Y===void 0?Yr.monthLegendPosition:Y,re=t.monthSpacing,oe=re===void 0?Yr.monthSpacing:re,pe=t.dayBorderColor,fe=pe===void 0?Yr.dayBorderColor:pe,we=t.dayBorderWidth,ge=we===void 0?Yr.dayBorderWidth:we,xe=t.daySpacing,Te=xe===void 0?Yr.daySpacing:xe,ee=t.isInteractive,Ce=ee===void 0?Yr.isInteractive:ee,ae=t.tooltip,be=ae===void 0?Yr.tooltip:ae,_e=t.onClick,He=t.onMouseEnter,Ve=t.onMouseLeave,ne=t.onMouseMove,Q=t.legends,ve=Q===void 0?Yr.legends:Q,Se=t.role,Le=Se===void 0?Yr.role:Se,Ie=t.forwardedRef,Ke=Bn(),Ne=Sa(n,r,e),Ye=Ne.margin,et=Ne.innerWidth,vt=Ne.innerHeight,ke=Ne.outerWidth,Ze=Ne.outerHeight,at=Vye({width:et,height:vt,from:m,to:v,direction:f,yearSpacing:V,monthSpacing:oe,daySpacing:Te,align:o}),pt=at.months,me=at.years,Ae=kp(at,E3t),le=x9({data:c,minValue:g,maxValue:x,colors:s,colorScale:l}),Ee=b9({months:pt,direction:f,monthLegendPosition:J,monthLegendOffset:te}),Ue=Hye({years:me,direction:f,yearLegendPosition:D,yearLegendOffset:O}),We=Gye({days:Ae.days,data:c,colorScale:le,emptyColor:h}),ze=ba(T),ce=ba(_);return S.jsxs(Ku,{width:ke,height:Ze,margin:Ye,role:Le,ref:Ie,children:[We.map(function(Re){return S.jsx(m3t,{data:Re,x:Re.x,y:Re.y,size:Re.size,color:Re.color,borderWidth:ge,borderColor:fe,onMouseEnter:He,onMouseLeave:Ve,onMouseMove:ne,isInteractive:Ce,tooltip:be,onClick:_e,formatValue:ce},Re.date.toString())}),pt.map(function(Re){return S.jsx(p3t,{path:Re.path,borderWidth:X,borderColor:F},Re.date.toString())}),S.jsx(Uye,{months:Ee,legend:G,theme:Ke}),S.jsx(h3t,{years:Ue,legend:P,theme:Ke}),ve.map(function(Re,Xe){var ct=le.ticks(Re.itemCount).map(function(De){return{id:De,label:ze(De),color:le(De)}});return S.jsx(iv,Qn({},Re,{containerWidth:n,containerHeight:r,data:ct}),Xe)})]})},C3t=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Yr.isInteractive:n,i=t.renderWrapper,o=t.theme,a=kp(t,T3t);return S.jsx(_a,{isInteractive:r,renderWrapper:i,theme:o,children:S.jsx(A3t,Qn({isInteractive:r},a,{forwardedRef:e}))})}),P3t=nv("%Y-%m-%d"),R3t=function(t){var e,n,r=t.direction,i=t.daySpacing,o=t.offset,a=t.square,s=t.totalDays,l=t.width,c=t.height;r==="horizontal"?(l-=o,e=7,n=Math.ceil(s/7)):(c-=o,n=7,e=Math.ceil(s/7));var u=(c-i*(e+1))/e,f=(l-i*(n+1))/n,d=Math.min(u,f);return{columns:n,rows:e,cellHeight:a?d:u,cellWidth:a?d:f}},Xye=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function _9(t){return Xye.findIndex(function(e){return e.toLowerCase()===t})}var See=function(t,e){var n=t.getDay()-_9(e);return[0,1,2,3,4,5,6].slice(n)[0]};function O3t(t){var e=t.startDate,n=t.date,r=t.direction,i=t.firstWeekday,o=function(f){return[sd,F0,HU,GU,cp,XU,qU][_9(f)]}(i),a=o.count(e,n),s=n.getMonth(),l=n.getFullYear(),c=0,u=0;return r==="horizontal"?(c=a,u=See(n,i)):(c=See(n,i),u=a),{currentColumn:c,year:l,currentRow:u,firstWeek:a,month:s,date:n}}var L3t=function(t){var e=t.direction,n=t.colorScale,r=t.emptyColor,i=t.from,o=t.to,a=t.data,s=t.cellWidth,l=t.cellHeight,c=t.daySpacing,u=t.offset,f=t.firstWeekday,d=c,h=c;e==="horizontal"?d+=u:h+=u;var m=i||a[0].date,v=o||a[a.length-1].date,y=Rg(m)?m:new Date(m),g=Rg(v)?v:new Date(v);return Fce(y,g).map(function(b){return{date:b,day:P3t(b)}}).map(function(b){var x=a.find(function(U){return U.day===b.day}),_=O3t({startDate:y,date:b.date,direction:e,firstWeekday:f}),T=_.currentColumn,C=_.currentRow,P=_.firstWeek,I=_.year,O=_.month,N=_.date,D={x:d+c*T+s*T,y:h+c*C+l*C};return x?Qn({},x,{coordinates:D,firstWeek:P,month:O,year:I,date:N,color:n(x.value),width:s,height:l}):Qn({},b,{coordinates:D,firstWeek:P,month:O,year:I,date:N,color:r,width:s,height:l})})},k3t=function(t){var e,n,r=t.cellHeight,i=t.cellWidth,o=t.direction,a=t.daySpacing,s=t.ticks,l=s===void 0?[1,3,5]:s,c=t.firstWeekday,u=t.arrayOfWeekdays,f=i+a,d=r+a,h=(e=u===void 0?Xye:u,n=_9(c),e.length&&n?(n%=e.length,e.slice(n,e.length).concat(e.slice(0,n))):e);return l.map(function(m){return{value:h[m],rotation:o==="horizontal"?0:-90,y:o==="horizontal"?d*(m+1)-d/3:0,x:o==="horizontal"?0:f*(m+1)-f/3}})},N3t=function(t){var e=t.direction,n=t.daySpacing,r=t.days,i=t.cellHeight,o=t.cellWidth;return r.reduce(function(a,s){if(a.weeks.length===s.firstWeek||!a.weeks.length&&s.firstWeek===1){a.weeks.push(s);var l=s.year+"-"+s.month;if(Object.keys(a.months).includes(l))e==="horizontal"?a.months[l].bbox.width=(s.firstWeek-a.months[l].firstWeek)*(o+n):a.months[l].bbox.height=(s.firstWeek-a.months[l].firstWeek)*(i+n);else{var c={x:0,y:0,width:0,height:0};e==="horizontal"?(c.x=s.coordinates.x-n,c.height=i+n,c.width=o+2*n):(c.y=s.coordinates.y-n,c.height=i+2*n,c.width=o+2*n),a.months[l]={date:s.date,bbox:c,firstWeek:s.firstWeek,month:0,year:0}}}return a},{months:{},weeks:[]})},I3t=function(t){var e,n,r=t.from,i=t.to,o=t.data;return e=r?Rg(r)?r:new Date(r):o[0].date,n=r&&i?Rg(i)?i:new Date(i):o[o.length-1].date,e.getDay()+gO.count(e,n)},D3t=A.memo(function(t){var e=t.data,n=t.x,r=t.ry,i=r===void 0?5:r,o=t.rx,a=o===void 0?5:o,s=t.y,l=t.width,c=t.height,u=t.color,f=t.borderWidth,d=t.borderColor,h=t.isInteractive,m=t.tooltip,v=t.onMouseEnter,y=t.onMouseMove,g=t.onMouseLeave,b=t.onClick,x=t.formatValue,_=ro(),T=_.showTooltipFromEvent,C=_.hideTooltip,P=A.useCallback(function(D){if("value"in e){var U=Qn({},e,{value:x(e.value)});T(A.createElement(m,Qn({},U)),D),v==null||v(e,D)}},[T,m,e,v,x]),I=A.useCallback(function(D){if("value"in e){var U=Qn({},e,{value:x(e.value)});T(A.createElement(m,Qn({},U)),D),y==null||y(e,D)}},[T,m,e,y,x]),O=A.useCallback(function(D){"value"in e&&(C(),g==null||g(e,D))},[C,e,g]),N=A.useCallback(function(D){return b==null?void 0:b(e,D)},[e,b]);return S.jsx("rect",{x:n,y:s,rx:a,ry:i,width:l,height:c,style:{fill:u,strokeWidth:f,stroke:d},onMouseEnter:h?P:void 0,onMouseMove:h?I:void 0,onMouseLeave:h?O:void 0,onClick:h?N:void 0})}),j3t=["isInteractive","renderWrapper","theme"],B3t=function(t){var e=t.margin,n=t.width,r=t.height,i=t.square,o=i===void 0?ki.square:i,a=t.colors,s=a===void 0?ki.colors:a,l=t.colorScale,c=t.emptyColor,u=c===void 0?ki.emptyColor:c,f=t.from,d=t.to,h=t.data,m=t.direction,v=m===void 0?ki.direction:m,y=t.minValue,g=y===void 0?ki.minValue:y,b=t.maxValue,x=b===void 0?ki.maxValue:b,_=t.valueFormat,T=t.legendFormat,C=t.monthLegend,P=C===void 0?ki.monthLegend:C,I=t.monthLegendOffset,O=I===void 0?ki.monthLegendOffset:I,N=t.monthLegendPosition,D=N===void 0?ki.monthLegendPosition:N,U=t.weekdayLegendOffset,V=U===void 0?ki.weekdayLegendOffset:U,z=t.weekdayTicks,F=t.weekdays,W=F===void 0?ki.weekdays:F,X=t.dayBorderColor,B=X===void 0?ki.dayBorderColor:X,G=t.dayBorderWidth,q=G===void 0?ki.dayBorderWidth:G,te=t.daySpacing,Y=te===void 0?ki.daySpacing:te,J=t.dayRadius,re=J===void 0?ki.dayRadius:J,oe=t.isInteractive,pe=oe===void 0?ki.isInteractive:oe,fe=t.tooltip,we=fe===void 0?ki.tooltip:fe,ge=t.onClick,xe=t.onMouseEnter,Te=t.onMouseLeave,ee=t.onMouseMove,Ce=t.legends,ae=Ce===void 0?ki.legends:Ce,be=t.role,_e=be===void 0?ki.role:be,He=t.firstWeekday,Ve=He===void 0?ki.firstWeekday:He,ne=t.forwardedRef,Q=Sa(n,r,e),ve=Q.margin,Se=Q.innerWidth,Le=Q.innerHeight,Ie=Q.outerWidth,Ke=Q.outerHeight,Ne=A.useMemo(function(){return h.map(function(We){return Qn({},We,{date:new Date(We.day+"T00:00:00")})}).sort(function(We,ze){return We.day.localeCompare(ze.day)})},[h]),Ye=Bn(),et=x9({data:Ne,minValue:g,maxValue:x,colors:s,colorScale:l}),vt=I3t({from:f,to:d,data:Ne}),ke=R3t({square:o,offset:V,totalDays:vt,width:Se,height:Le,daySpacing:Y,direction:v}),Ze=ke.cellHeight,at=ke.cellWidth,pt=L3t({offset:V,colorScale:et,emptyColor:u,cellHeight:Ze,cellWidth:at,from:f,to:d,data:Ne,direction:v,daySpacing:Y,firstWeekday:Ve}),me=Object.values(N3t({daySpacing:Y,direction:v,cellHeight:Ze,cellWidth:at,days:pt}).months),Ae=k3t({direction:v,cellHeight:Ze,cellWidth:at,daySpacing:Y,ticks:z,firstWeekday:Ve,arrayOfWeekdays:W}),le=b9({months:me,direction:v,monthLegendPosition:D,monthLegendOffset:O}),Ee=ba(_),Ue=ba(T);return S.jsxs(Ku,{width:Ie,height:Ke,margin:ve,role:_e,ref:ne,children:[Ae.map(function(We){return S.jsx(Fl,{transform:"translate("+We.x+","+We.y+") rotate("+We.rotation+")",textAnchor:"left",style:Ye.labels.text,children:We.value},We.value+"-"+We.x+"-"+We.y)}),pt.map(function(We){return S.jsx(D3t,{data:We,x:We.coordinates.x,rx:re,y:We.coordinates.y,ry:re,width:at,height:Ze,color:We.color,borderWidth:q,borderColor:B,onMouseEnter:xe,onMouseLeave:Te,onMouseMove:ee,isInteractive:pe,tooltip:we,onClick:ge,formatValue:Ee},We.date.toString())}),S.jsx(Uye,{months:le,legend:P,theme:Ye}),ae.map(function(We,ze){var ce=et.ticks(We.itemCount).map(function(Re){return{id:Re,label:Ue(Re),color:et(Re)}});return S.jsx(iv,Qn({},We,{containerWidth:n,containerHeight:r,data:ce}),ze)})]})},z3t=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?ki.isInteractive:n,i=t.renderWrapper,o=t.theme,a=kp(t,j3t);return S.jsx(_a,{isInteractive:r,renderWrapper:i,theme:o,children:S.jsx(B3t,Qn({isInteractive:r},a,{forwardedRef:e}))})}),$3t=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=kp(t,$3t);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(z3t,Qn({width:l,height:c},a,{ref:e}))}})});var F3t=["defaultWidth","defaultHeight","onResize","debounceResize"],U3t=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=kp(t,F3t);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(C3t,Qn({width:l,height:c},a,{ref:e}))}})}),W3t=["months","years"],V3t=["isInteractive","renderWrapper","theme"],Mee=function(t,e,n,r,i,o){var a=Gf(e,t),s=a[0],l=a[1];return n.find(function(c){return"value"in c&&qO(c.x+o.left-i/2,c.y+o.top-i/2,r+i,r+i,s,l)})},H3t=A.memo(function(t){var e=t.margin,n=t.width,r=t.height,i=t.pixelRatio,o=i===void 0?xi.pixelRatio:i,a=t.align,s=a===void 0?xi.align:a,l=t.colors,c=l===void 0?xi.colors:l,u=t.colorScale,f=t.data,d=t.direction,h=d===void 0?xi.direction:d,m=t.emptyColor,v=m===void 0?xi.emptyColor:m,y=t.from,g=t.to,b=t.minValue,x=b===void 0?xi.minValue:b,_=t.maxValue,T=_===void 0?xi.maxValue:_,C=t.valueFormat,P=t.legendFormat,I=t.yearLegend,O=I===void 0?xi.yearLegend:I,N=t.yearLegendOffset,D=N===void 0?xi.yearLegendOffset:N,U=t.yearLegendPosition,V=U===void 0?xi.yearLegendPosition:U,z=t.yearSpacing,F=z===void 0?xi.yearSpacing:z,W=t.monthLegend,X=W===void 0?xi.monthLegend:W,B=t.monthLegendOffset,G=B===void 0?xi.monthLegendOffset:B,q=t.monthLegendPosition,te=q===void 0?xi.monthLegendPosition:q,Y=t.monthSpacing,J=Y===void 0?xi.monthSpacing:Y,re=t.dayBorderColor,oe=re===void 0?xi.dayBorderColor:re,pe=t.dayBorderWidth,fe=pe===void 0?xi.dayBorderWidth:pe,we=t.daySpacing,ge=we===void 0?xi.daySpacing:we,xe=t.isInteractive,Te=xe===void 0?xi.isInteractive:xe,ee=t.tooltip,Ce=ee===void 0?xi.tooltip:ee,ae=t.onClick,be=t.onMouseEnter,_e=t.onMouseLeave,He=t.onMouseMove,Ve=t.legends,ne=Ve===void 0?xi.legends:Ve,Q=t.forwardedRef,ve=A.useRef(null),Se=Sa(n,r,e),Le=Se.innerWidth,Ie=Se.innerHeight,Ke=Se.outerWidth,Ne=Se.outerHeight,Ye=Se.margin,et=Vye({width:Le,height:Ie,from:y,to:g,direction:h,yearSpacing:F,monthSpacing:J,daySpacing:ge,align:s}),vt=et.months,ke=et.years,Ze=kp(et,W3t),at=x9({data:f,minValue:x,maxValue:T,colors:c,colorScale:u}),pt=b9({months:vt,direction:h,monthLegendPosition:te,monthLegendOffset:G}),me=Hye({years:ke,direction:h,yearLegendPosition:V,yearLegendOffset:D}),Ae=Gye({days:Ze.days,data:f,colorScale:at,emptyColor:v}),le=A.useState(null),Ee=le[0],Ue=le[1],We=Bn(),ze=ba(C),ce=ba(P),Re=ro(),Xe=Re.showTooltipFromEvent,ct=Re.hideTooltip;A.useEffect(function(){if(ve.current){ve.current.width=Ke*o,ve.current.height=Ne*o;var rt=ve.current.getContext("2d");rt&&(rt.scale(o,o),rt.fillStyle=We.background,rt.fillRect(0,0,Ke,Ne),rt.translate(Ye.left,Ye.top),Ae.forEach(function(it){rt.fillStyle=it.color,fe>0&&(rt.strokeStyle=oe,rt.lineWidth=fe),rt.beginPath(),rt.rect(it.x,it.y,it.size,it.size),rt.fill(),fe>0&&rt.stroke()}),rt.textAlign="center",rt.textBaseline="middle",fp(rt,We.labels.text),pt.forEach(function(it){rt.save(),rt.translate(it.x,it.y),rt.rotate(ld(it.rotation)),cd(rt,We.labels.text,String(X(it.year,it.month,it.date))),rt.restore()}),me.forEach(function(it){rt.save(),rt.translate(it.x,it.y),rt.rotate(ld(it.rotation)),cd(rt,We.labels.text,String(O(it.year))),rt.restore()}),ne.forEach(function(it){var nt=at.ticks(it.itemCount).map(function(Pt){return{id:Pt,label:ce(Pt),color:at(Pt)}});KO(rt,Qn({},it,{data:nt,containerWidth:Le,containerHeight:Ie,theme:We}))}))}},[ve,Ie,Le,Ke,Ne,o,Ye,Ae,oe,fe,u,O,me,X,pt,ne,We,ce,at]);var De=A.useCallback(function(rt){if(ve.current){var it=Mee(rt,ve.current,Ae,Ae[0].size,fe,Ye);if(it){if(Ue(it),!("value"in it))return;var nt=Qn({},it,{value:ze(it.value),data:Qn({},it.data)});Xe(A.createElement(Ce,Qn({},nt)),rt),Ee||be==null||be(it,rt),He==null||He(it,rt),Ee&&(_e==null||_e(it,rt))}else ct(),it&&(_e==null||_e(it,rt))}},[ve,Ee,Ye,Ae,Ue,ze,fe,Xe,ct,be,He,_e,Ce]),st=A.useCallback(function(){Ue(null),ct()},[Ue,ct]),mt=A.useCallback(function(rt){if(ae&&ve.current){var it=Mee(rt,ve.current,Ae,Ae[0].size,ge,Ye);it&&ae(it,rt)}},[ve,ge,Ye,Ae,ae]);return S.jsx("canvas",{ref:gM(ve,Q),width:Ke*o,height:Ne*o,style:{width:Ke,height:Ne},onMouseEnter:Te?De:void 0,onMouseMove:Te?De:void 0,onMouseLeave:Te?st:void 0,onClick:Te?mt:void 0})}),G3t=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?xi.isInteractive:n,i=t.renderWrapper,o=t.theme,a=kp(t,V3t);return S.jsx(_a,{isInteractive:r,renderWrapper:i,theme:o,children:S.jsx(H3t,Qn({isInteractive:r},a,{forwardedRef:e}))})}),X3t=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=kp(t,X3t);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(G3t,Qn({width:l,height:c},a,{ref:e}))}})});function q3t({className:t}){const{events:e}=Rr(),[n,r]=A.useState([]);return A.useEffect(()=>{const i=new Date,o=[];for(let a=0;a<365;a++){const s=new Date(i);s.setDate(s.getDate()-a),o.push({day:s.toISOString().split("T")[0],value:Math.floor(Math.random()*100)})}r(o)},[]),S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Contribution Calendar"}),S.jsx("div",{className:"h-[200px]",children:S.jsx(U3t,{data:n,from:new Date(new Date().setFullYear(new Date().getFullYear()-1)).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0],emptyColor:"#1e293b",colors:["#1e293b","#064e3b","#065f46","#047857","#10b981"],margin:{top:20,right:20,bottom:20,left:20},yearSpacing:40,monthBorderColor:"#ffffff",dayBorderWidth:2,dayBorderColor:"#0f172a",theme:{text:{fill:"#888888"},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}function VP(){return VP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VP.apply(null,arguments)}function qye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cr={id:"id",value:"value",cornerRadius:0,layers:["arcs","arcLabels"],colors:{scheme:"nivo"},colorBy:"id",inheritColorFromParent:!0,childColor:{from:"color"},borderWidth:1,borderColor:"white",enableArcLabels:!1,arcLabel:"formattedValue",arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:0,arcLabelsSkipRadius:0,arcLabelsTextColor:{theme:"labels.text.fill"},animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",isInteractive:!0,defs:[],fill:[],tooltip:function(t){var e=t.id,n=t.formattedValue,r=t.color;return S.jsx(od,{id:e,value:n,enableChip:!0,color:r})},role:"img"},Y3t=function(t){var e=t.data,n=t.id,r=n===void 0?cr.id:n,i=t.value,o=i===void 0?cr.value:i,a=t.valueFormat,s=t.radius,l=t.cornerRadius,c=l===void 0?cr.cornerRadius:l,u=t.colors,f=u===void 0?cr.colors:u,d=t.colorBy,h=d===void 0?cr.colorBy:d,m=t.inheritColorFromParent,v=m===void 0?cr.inheritColorFromParent:m,y=t.childColor,g=y===void 0?cr.childColor:y,b=Bn(),x=rv(f,h),_=$i(g,b),T=Nl(r),C=Nl(o),P=ba(a),I=A.useMemo(function(){var O,N=G6(e),D=ub(N).sum(C),U=kSt().size([2*Math.PI,s*s])(D).descendants().slice(1),V=(O=D.value)!=null?O:0;return vM(U,"depth").reduce(function(z,F){var W,X=T(F.data),B=F.value,G=100*B/V,q=F.ancestors().map(function(J){return T(J.data)}),te={startAngle:F.x0,endAngle:F.x1,innerRadius:Math.sqrt(F.y0),outerRadius:Math.sqrt(F.y1)};F.parent&&(W=z.find(function(J){return J.id===T(F.parent.data)}));var Y={id:X,path:q,value:B,percentage:G,formattedValue:a?P(B):G.toFixed(2)+"%",color:"",arc:te,data:F.data,depth:F.depth,height:F.height};return v&&W&&Y.depth>1?Y.color=_(W,Y):Y.color=x(Y),[].concat(z,[Y])},[])},[e,s,C,T,a,P,x,v,_]);return{arcGenerator:D2t({cornerRadius:c}),nodes:I}},K3t=function(t){var e=t.nodes,n=t.arcGenerator,r=t.centerX,i=t.centerY,o=t.radius;return A.useMemo(function(){return{nodes:e,arcGenerator:n,centerX:r,centerY:i,radius:o}},[e,n,r,i,o])},Z3t=function(t){var e=t.center,n=t.data,r=t.arcGenerator,i=t.borderWidth,o=t.borderColor,a=t.isInteractive,s=t.onClick,l=t.onMouseEnter,c=t.onMouseMove,u=t.onMouseLeave,f=t.tooltip,d=t.transitionMode,h=ro(),m=h.showTooltipFromEvent,v=h.hideTooltip,y=A.useMemo(function(){if(a)return function(_,T){s==null||s(_,T)}},[a,s]),g=A.useMemo(function(){if(a)return function(_,T){m(A.createElement(f,_),T),l==null||l(_,T)}},[a,m,f,l]),b=A.useMemo(function(){if(a)return function(_,T){m(A.createElement(f,_),T),c==null||c(_,T)}},[a,m,f,c]),x=A.useMemo(function(){if(a)return function(_,T){v(),u==null||u(_,T)}},[a,v,u]);return S.jsx(k2t,{center:e,data:n,arcGenerator:r,borderWidth:i,borderColor:o,transitionMode:d,onClick:y,onMouseEnter:g,onMouseMove:b,onMouseLeave:x})},J3t=["isInteractive","animate","motionConfig","theme","renderWrapper"],Q3t=function(t){var e=t.data,n=t.id,r=n===void 0?cr.id:n,i=t.value,o=i===void 0?cr.value:i,a=t.valueFormat,s=t.cornerRadius,l=s===void 0?cr.cornerRadius:s,c=t.layers,u=c===void 0?cr.layers:c,f=t.colors,d=f===void 0?cr.colors:f,h=t.colorBy,m=h===void 0?cr.colorBy:h,v=t.inheritColorFromParent,y=v===void 0?cr.inheritColorFromParent:v,g=t.childColor,b=g===void 0?cr.childColor:g,x=t.borderWidth,_=x===void 0?cr.borderWidth:x,T=t.borderColor,C=T===void 0?cr.borderColor:T,P=t.margin,I=t.width,O=t.height,N=t.enableArcLabels,D=N===void 0?cr.enableArcLabels:N,U=t.arcLabel,V=U===void 0?cr.arcLabel:U,z=t.arcLabelsRadiusOffset,F=z===void 0?cr.arcLabelsRadiusOffset:z,W=t.arcLabelsSkipAngle,X=W===void 0?cr.arcLabelsSkipAngle:W,B=t.arcLabelsSkipRadius,G=B===void 0?cr.arcLabelsSkipRadius:B,q=t.arcLabelsTextColor,te=q===void 0?cr.arcLabelsTextColor:q,Y=t.arcLabelsComponent,J=t.defs,re=J===void 0?cr.defs:J,oe=t.fill,pe=oe===void 0?cr.fill:oe,fe=t.transitionMode,we=fe===void 0?cr.transitionMode:fe,ge=t.isInteractive,xe=ge===void 0?cr.isInteractive:ge,Te=t.onClick,ee=t.onMouseEnter,Ce=t.onMouseLeave,ae=t.onMouseMove,be=t.tooltip,_e=be===void 0?cr.tooltip:be,He=t.role,Ve=He===void 0?cr.role:He,ne=t.forwardedRef,Q=Sa(I,O,P),ve=Q.innerHeight,Se=Q.innerWidth,Le=Q.margin,Ie=Q.outerHeight,Ke=Q.outerWidth,Ne=A.useMemo(function(){return{radius:Math.min(Se,ve)/2,centerX:Se/2,centerY:ve/2}},[ve,Se]),Ye=Ne.centerX,et=Ne.centerY,vt=Ne.radius,ke=Y3t({data:e,id:r,value:o,valueFormat:a,radius:vt,cornerRadius:l,colors:d,colorBy:m,inheritColorFromParent:y,childColor:b}),Ze=ke.arcGenerator,at=ke.nodes,pt=mM(re,at,pe,{colorKey:"color",targetKey:"fill"}),me={arcs:null,arcLabels:null};u.includes("arcs")&&(me.arcs=S.jsx(Z3t,{center:[Ye,et],data:at,arcGenerator:Ze,borderWidth:_,borderColor:C,transitionMode:we,isInteractive:xe,tooltip:_e,onClick:Te,onMouseEnter:ee,onMouseLeave:Ce,onMouseMove:ae},"arcs")),D&&u.includes("arcLabels")&&(me.arcLabels=S.jsx(P2t,{center:[Ye,et],data:at,label:V,radiusOffset:F,skipAngle:X,skipRadius:G,textColor:te,transitionMode:we,component:Y},"arcLabels"));var Ae=K3t({nodes:at,arcGenerator:Ze,centerX:Ye,centerY:et,radius:vt});return S.jsx(Ku,{width:Ke,height:Ie,defs:pt,margin:Le,role:Ve,ref:ne,children:u.map(function(le,Ee){return me[le]!==void 0?me[le]:typeof le=="function"?S.jsx(A.Fragment,{children:A.createElement(le,Ae)},Ee):null})})},ekt=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?cr.isInteractive:n,i=t.animate,o=i===void 0?cr.animate:i,a=t.motionConfig,s=a===void 0?cr.motionConfig:a,l=t.theme,c=t.renderWrapper,u=qye(t,J3t);return S.jsx(_a,{isInteractive:r,animate:o,motionConfig:s,theme:l,renderWrapper:c,children:S.jsx(Q3t,VP({},u,{isInteractive:r,forwardedRef:e}))})}),tkt=["defaultWidth","defaultHeight","onResize","debounceResize"],nkt=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=qye(t,tkt);return S.jsx(wa,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var l=s.width,c=s.height;return S.jsx(ekt,VP({},a,{width:l,height:c,ref:e}))}})});function rkt({className:t}){const{events:e}=Rr(),[n,r]=A.useState(null);return A.useEffect(()=>{const i={name:"root",children:[]},o={};e.slice(0,200).forEach(a=>{const s=a.wiki||"other";o[s]||(o[s]={name:s,children:[{name:"Main",children:[]},{name:"Talk",children:[]}]},i.children.push(o[s]));const l=a.namespace===0?0:1,c=a.bot?"Bot":"Human";let u=o[s].children[l].children.find(f=>f.name===c);u||(u={name:c,loc:0},o[s].children[l].children.push(u)),u.loc++}),r(i)},[e]),n?S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Hierarchical Breakdown"}),S.jsx("div",{className:"h-[300px]",children:S.jsx(nkt,{data:n,margin:{top:10,right:10,bottom:10,left:10},id:"name",value:"loc",cornerRadius:2,borderColor:{theme:"background"},colors:{scheme:"nivo"},childColor:{from:"color",modifiers:[["brighter",.1]]},enableArcLabels:!0,arcLabelsSkipAngle:10,arcLabelsTextColor:{from:"color",modifiers:[["darker",1.4]]},theme:{tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]}):null}function ikt({events:t}){const[e,n]=A.useState([]),[r,i]=A.useState([]);return A.useEffect(()=>{const o=t.slice(0,50).map((s,l)=>({id:s.user,position:[(Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10],color:s.bot?"#3b82f6":"#10b981"})),a=[];for(let s=0;s<o.length;s++)for(let l=s+1;l<o.length;l++)Math.random()>.9&&a.push({start:o[s].position,end:o[l].position});n(o),i(a)},[t]),i3(o=>{o.clock.getElapsedTime()}),S.jsxs("group",{children:[e.map((o,a)=>S.jsx(ebt,{position:o.position,args:[.2,16,16],children:S.jsx("meshStandardMaterial",{color:o.color})},a)),r.map((o,a)=>S.jsx(Jxt,{points:[o.start,o.end],color:"#555",lineWidth:1,transparent:!0,opacity:.3},a))]})}function okt({className:t}){const{events:e}=Rr();return S.jsxs(bn,{className:`p-4 ${t}`,children:[S.jsx("h3",{className:"font-semibold text-sm mb-4",children:"3D Network Topology"}),S.jsx("div",{className:"h-[300px] bg-slate-950 rounded-lg overflow-hidden",children:S.jsxs(Age,{camera:{position:[0,0,15],fov:60},gl:{preserveDrawingBuffer:!0},children:[S.jsx("ambientLight",{intensity:.5}),S.jsx("pointLight",{position:[10,10,10]}),S.jsx(ikt,{events:e}),S.jsx(Lge,{autoRotate:!0,autoRotateSpeed:.5})]})})]})}const akt=()=>S.jsxs("div",{className:"min-h-screen bg-background",children:[S.jsx(qg,{}),S.jsxs("main",{className:"pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-[1800px] mx-auto",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs(ht.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold flex items-center gap-2",children:[S.jsx(X1,{className:"w-6 h-6 text-primary"}),"Advanced Visualizations"]}),S.jsx(ht.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-sm text-muted-foreground mt-1",children:"Deep dive into Wikipedia edit patterns and network topology"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:S.jsx(zSt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:S.jsx(mMt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:S.jsx(okt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:S.jsx(ZEt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:S.jsx(rkt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:S.jsx(JEt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:S.jsx(u2t,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:S.jsx(d3t,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:S.jsx(lTt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:S.jsx(f2t,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},children:S.jsx(sTt,{})}),S.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:S.jsx(q3t,{})})]})]})]});var Eee=1,skt=.9,lkt=.8,ckt=.17,tD=.1,nD=.999,ukt=.9999,fkt=.99,dkt=/[\\\/_+.#"@\[\(\{&]/,hkt=/[\\\/_+.#"@\[\(\{&]/g,pkt=/[\s-]/,Yye=/[\s-]/g;function mz(t,e,n,r,i,o,a){if(o===e.length)return i===t.length?Eee:fkt;var s=`${i},${o}`;if(a[s]!==void 0)return a[s];for(var l=r.charAt(o),c=n.indexOf(l,i),u=0,f,d,h,m;c>=0;)f=mz(t,e,n,r,c+1,o+1,a),f>u&&(c===i?f*=Eee:dkt.test(t.charAt(c-1))?(f*=lkt,h=t.slice(i,c-1).match(hkt),h&&i>0&&(f*=Math.pow(nD,h.length))):pkt.test(t.charAt(c-1))?(f*=skt,m=t.slice(i,c-1).match(Yye),m&&i>0&&(f*=Math.pow(nD,m.length))):(f*=ckt,i>0&&(f*=Math.pow(nD,c-i))),t.charAt(c)!==e.charAt(o)&&(f*=ukt)),(f<tD&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(d=mz(t,e,n,r,c+1,o+2,a),d*tD>f&&(f=d*tD)),f>u&&(u=f),c=n.indexOf(l,c+1);return a[s]=u,u}function Tee(t){return t.toLowerCase().replace(Yye," ")}function mkt(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,mz(t,e,Tee(t),Tee(e),0,0,{})}var rD="focusScope.autoFocusOnMount",iD="focusScope.autoFocusOnUnmount",Aee={bubbles:!1,cancelable:!0},gkt="FocusScope",Kye=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=A.useState(null),c=Uo(i),u=Uo(o),f=A.useRef(null),d=Sr(e,v=>l(v)),h=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let v=function(x){if(h.paused||!s)return;const _=x.target;s.contains(_)?f.current=_:sh(f.current,{select:!0})},y=function(x){if(h.paused||!s)return;const _=x.relatedTarget;_!==null&&(s.contains(_)||sh(f.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const T of x)T.removedNodes.length>0&&sh(s)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const b=new MutationObserver(g);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),b.disconnect()}}},[r,s,h.paused]),A.useEffect(()=>{if(s){Pee.add(h);const v=document.activeElement;if(!s.contains(v)){const g=new CustomEvent(rD,Aee);s.addEventListener(rD,c),s.dispatchEvent(g),g.defaultPrevented||(vkt(wkt(Zye(s)),{select:!0}),document.activeElement===v&&sh(s))}return()=>{s.removeEventListener(rD,c),setTimeout(()=>{const g=new CustomEvent(iD,Aee);s.addEventListener(iD,u),s.dispatchEvent(g),g.defaultPrevented||sh(v??document.body,{select:!0}),s.removeEventListener(iD,u),Pee.remove(h)},0)}}},[s,c,u,h]);const m=A.useCallback(v=>{if(!n&&!r||h.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(y&&g){const b=v.currentTarget,[x,_]=ykt(b);x&&_?!v.shiftKey&&g===_?(v.preventDefault(),n&&sh(x,{select:!0})):v.shiftKey&&g===x&&(v.preventDefault(),n&&sh(_,{select:!0})):g===b&&v.preventDefault()}},[n,r,h.paused]);return S.jsx(jn.div,{tabIndex:-1,...a,ref:d,onKeyDown:m})});Kye.displayName=gkt;function vkt(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(sh(r,{select:e}),document.activeElement!==n)return}function ykt(t){const e=Zye(t),n=Cee(e,t),r=Cee(e.reverse(),t);return[n,r]}function Zye(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cee(t,e){for(const n of t)if(!xkt(n,{upTo:e}))return n}function xkt(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bkt(t){return t instanceof HTMLInputElement&&"select"in t}function sh(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bkt(t)&&e&&t.select()}}var Pee=_kt();function _kt(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Ree(t,e),t.unshift(e)},remove(e){var n;t=Ree(t,e),(n=t[0])==null||n.resume()}}}function Ree(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function wkt(t){return t.filter(e=>e.tagName!=="A")}var oD=0;function Skt(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Oee()),document.body.insertAdjacentElement("beforeend",t[1]??Oee()),oD++,()=>{oD===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),oD--}},[])}function Oee(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var mu=function(){return mu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mu.apply(this,arguments)};function Jye(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Mkt(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var yA="right-scroll-bar-position",xA="width-before-scroll-bar",Ekt="with-scroll-bars-hidden",Tkt="--removed-body-scroll-bar-size";function aD(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Akt(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Ckt=typeof window<"u"?A.useLayoutEffect:A.useEffect,Lee=new WeakMap;function Pkt(t,e){var n=Akt(null,function(r){return t.forEach(function(i){return aD(i,r)})});return Ckt(function(){var r=Lee.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||aD(s,null)}),o.forEach(function(s){i.has(s)||aD(s,a)})}Lee.set(n,t)},[t]),n}function Rkt(t){return t}function Okt(t,e){e===void 0&&(e=Rkt);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function Lkt(t){t===void 0&&(t={});var e=Okt(null);return e.options=mu({async:!0,ssr:!1},t),e}var Qye=function(t){var e=t.sideCar,n=Jye(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,mu({},n))};Qye.isSideCarExport=!0;function kkt(t,e){return t.useMedium(e),Qye}var e0e=Lkt(),sD=function(){},x3=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:sD,onWheelCapture:sD,onTouchMoveCapture:sD}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,d=t.sideCar,h=t.noRelative,m=t.noIsolation,v=t.inert,y=t.allowPinchZoom,g=t.as,b=g===void 0?"div":g,x=t.gapMode,_=Jye(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=d,C=Pkt([n,e]),P=mu(mu({},_),i);return A.createElement(A.Fragment,null,u&&A.createElement(T,{sideCar:e0e,removeScrollBar:c,shards:f,noRelative:h,noIsolation:m,inert:v,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:x}),a?A.cloneElement(A.Children.only(s),mu(mu({},P),{ref:C})):A.createElement(b,mu({},P,{className:l,ref:C}),s))});x3.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};x3.classNames={fullWidth:xA,zeroRight:yA};var Nkt=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ikt(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Nkt();return e&&t.setAttribute("nonce",e),t}function Dkt(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function jkt(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Bkt=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Ikt())&&(Dkt(e,n),jkt(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zkt=function(){var t=Bkt();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},t0e=function(){var t=zkt(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},$kt={left:0,top:0,right:0,gap:0},lD=function(t){return parseInt(t||"",10)||0},Fkt=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[lD(n),lD(r),lD(i)]},Ukt=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $kt;var e=Fkt(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Wkt=t0e(),h0="data-scroll-locked",Vkt=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ekt,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(h0,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yA,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(xA,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(yA," .").concat(yA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xA," .").concat(xA,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(h0,`] {
    `).concat(Tkt,": ").concat(s,`px;
  }
`)},kee=function(){var t=parseInt(document.body.getAttribute(h0)||"0",10);return isFinite(t)?t:0},Hkt=function(){A.useEffect(function(){return document.body.setAttribute(h0,(kee()+1).toString()),function(){var t=kee()-1;t<=0?document.body.removeAttribute(h0):document.body.setAttribute(h0,t.toString())}},[])},Gkt=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Hkt();var o=A.useMemo(function(){return Ukt(i)},[i]);return A.createElement(Wkt,{styles:Vkt(o,!e,i,n?"":"!important")})},gz=!1;if(typeof window<"u")try{var PT=Object.defineProperty({},"passive",{get:function(){return gz=!0,!0}});window.addEventListener("test",PT,PT),window.removeEventListener("test",PT,PT)}catch{gz=!1}var cy=gz?{passive:!1}:!1,Xkt=function(t){return t.tagName==="TEXTAREA"},n0e=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xkt(t)&&n[e]==="visible")},qkt=function(t){return n0e(t,"overflowY")},Ykt=function(t){return n0e(t,"overflowX")},Nee=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=r0e(t,r);if(i){var o=i0e(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Kkt=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Zkt=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},r0e=function(t,e){return t==="v"?qkt(e):Ykt(e)},i0e=function(t,e){return t==="v"?Kkt(e):Zkt(e)},Jkt=function(t,e){return t==="h"&&e==="rtl"?-1:1},Qkt=function(t,e,n,r,i){var o=Jkt(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,u=a>0,f=0,d=0;do{if(!s)break;var h=i0e(t,s),m=h[0],v=h[1],y=h[2],g=v-y-o*m;(m||g)&&r0e(t,s)&&(f+=g,d+=m);var b=s.parentNode;s=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&Math.abs(f)<1||!u&&Math.abs(d)<1)&&(c=!0),c},RT=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Iee=function(t){return[t.deltaX,t.deltaY]},Dee=function(t){return t&&"current"in t?t.current:t},eNt=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tNt=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nNt=0,uy=[];function rNt(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(nNt++)[0],o=A.useState(t0e)[0],a=A.useRef(t);A.useEffect(function(){a.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=Mkt([t.lockRef.current],(t.shards||[]).map(Dee),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=A.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var g=RT(v),b=n.current,x="deltaX"in v?v.deltaX:b[0]-g[0],_="deltaY"in v?v.deltaY:b[1]-g[1],T,C=v.target,P=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in v&&P==="h"&&C.type==="range")return!1;var I=window.getSelection(),O=I&&I.anchorNode,N=O?O===C||O.contains(C):!1;if(N)return!1;var D=Nee(P,C);if(!D)return!0;if(D?T=P:(T=P==="v"?"h":"v",D=Nee(P,C)),!D)return!1;if(!r.current&&"changedTouches"in v&&(x||_)&&(r.current=T),!T)return!0;var U=r.current||T;return Qkt(U,y,v,U==="h"?x:_)},[]),l=A.useCallback(function(v){var y=v;if(!(!uy.length||uy[uy.length-1]!==o)){var g="deltaY"in y?Iee(y):RT(y),b=e.current.filter(function(T){return T.name===y.type&&(T.target===y.target||y.target===T.shadowParent)&&eNt(T.delta,g)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var x=(a.current.shards||[]).map(Dee).filter(Boolean).filter(function(T){return T.contains(y.target)}),_=x.length>0?s(y,x[0]):!a.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),c=A.useCallback(function(v,y,g,b){var x={name:v,delta:y,target:g,should:b,shadowParent:iNt(g)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(_){return _!==x})},1)},[]),u=A.useCallback(function(v){n.current=RT(v),r.current=void 0},[]),f=A.useCallback(function(v){c(v.type,Iee(v),v.target,s(v,t.lockRef.current))},[]),d=A.useCallback(function(v){c(v.type,RT(v),v.target,s(v,t.lockRef.current))},[]);A.useEffect(function(){return uy.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,cy),document.addEventListener("touchmove",l,cy),document.addEventListener("touchstart",u,cy),function(){uy=uy.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,cy),document.removeEventListener("touchmove",l,cy),document.removeEventListener("touchstart",u,cy)}},[]);var h=t.removeScrollBar,m=t.inert;return A.createElement(A.Fragment,null,m?A.createElement(o,{styles:tNt(i)}):null,h?A.createElement(Gkt,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function iNt(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oNt=kkt(e0e,rNt);var o0e=A.forwardRef(function(t,e){return A.createElement(x3,mu({},t,{ref:e,sideCar:oNt}))});o0e.classNames=x3.classNames;var aNt=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fy=new WeakMap,OT=new WeakMap,LT={},cD=0,a0e=function(t){return t&&(t.host||a0e(t.parentNode))},sNt=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=a0e(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},lNt=function(t,e,n,r){var i=sNt(e,Array.isArray(t)?t:[t]);LT[n]||(LT[n]=new WeakMap);var o=LT[n],a=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(s.has(d))u(d);else try{var h=d.getAttribute(r),m=h!==null&&h!=="false",v=(fy.get(d)||0)+1,y=(o.get(d)||0)+1;fy.set(d,v),o.set(d,y),a.push(d),v===1&&m&&OT.set(d,!0),y===1&&d.setAttribute(n,"true"),m||d.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",d,g)}})};return u(e),s.clear(),cD++,function(){a.forEach(function(f){var d=fy.get(f)-1,h=o.get(f)-1;fy.set(f,d),o.set(f,h),d||(OT.has(f)||f.removeAttribute(r),OT.delete(f)),h||f.removeAttribute(n)}),cD--,cD||(fy=new WeakMap,fy=new WeakMap,OT=new WeakMap,LT={})}},cNt=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=aNt(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),lNt(r,i,n,"aria-hidden")):function(){return null}};function uNt(t){const e=fNt(t),n=A.forwardRef((r,i)=>{const{children:o,...a}=r,s=A.Children.toArray(o),l=s.find(hNt);if(l){const c=l.props.children,u=s.map(f=>f===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:f);return S.jsx(e,{...a,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,u):null})}return S.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function fNt(t){const e=A.forwardRef((n,r)=>{const{children:i,...o}=n;if(A.isValidElement(i)){const a=mNt(i),s=pNt(o,i.props);return i.type!==A.Fragment&&(s.ref=r?Nu(r,a):a),A.cloneElement(i,s)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dNt=Symbol("radix.slottable");function hNt(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dNt}function pNt(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function mNt(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var b3="Dialog",[s0e]=xp(b3),[gNt,Hc]=s0e(b3),l0e=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=A.useRef(null),l=A.useRef(null),[c,u]=fR({prop:r,defaultProp:i??!1,onChange:o,caller:b3});return S.jsx(gNt,{scope:e,triggerRef:s,contentRef:l,contentId:Wf(),titleId:Wf(),descriptionId:Wf(),open:c,onOpenChange:u,onOpenToggle:A.useCallback(()=>u(f=>!f),[u]),modal:a,children:n})};l0e.displayName=b3;var c0e="DialogTrigger",vNt=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hc(c0e,n),o=Sr(e,i.triggerRef);return S.jsx(jn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":M9(i.open),...r,ref:o,onClick:$n(t.onClick,i.onOpenToggle)})});vNt.displayName=c0e;var w9="DialogPortal",[yNt,u0e]=s0e(w9,{forceMount:void 0}),f0e=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Hc(w9,e);return S.jsx(yNt,{scope:e,forceMount:n,children:A.Children.map(r,a=>S.jsx(Hu,{present:n||o.open,children:S.jsx(h$,{asChild:!0,container:i,children:a})}))})};f0e.displayName=w9;var HP="DialogOverlay",d0e=A.forwardRef((t,e)=>{const n=u0e(HP,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Hc(HP,t.__scopeDialog);return o.modal?S.jsx(Hu,{present:r||o.open,children:S.jsx(bNt,{...i,ref:e})}):null});d0e.displayName=HP;var xNt=uNt("DialogOverlay.RemoveScroll"),bNt=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hc(HP,n);return S.jsx(o0e,{as:xNt,allowPinchZoom:!0,shards:[i.contentRef],children:S.jsx(jn.div,{"data-state":M9(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Fg="DialogContent",h0e=A.forwardRef((t,e)=>{const n=u0e(Fg,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Hc(Fg,t.__scopeDialog);return S.jsx(Hu,{present:r||o.open,children:o.modal?S.jsx(_Nt,{...i,ref:e}):S.jsx(wNt,{...i,ref:e})})});h0e.displayName=Fg;var _Nt=A.forwardRef((t,e)=>{const n=Hc(Fg,t.__scopeDialog),r=A.useRef(null),i=Sr(e,n.contentRef,r);return A.useEffect(()=>{const o=r.current;if(o)return cNt(o)},[]),S.jsx(p0e,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$n(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:$n(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:$n(t.onFocusOutside,o=>o.preventDefault())})}),wNt=A.forwardRef((t,e)=>{const n=Hc(Fg,t.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return S.jsx(p0e,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),p0e=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=Hc(Fg,n),l=A.useRef(null),c=Sr(e,l);return Skt(),S.jsxs(S.Fragment,{children:[S.jsx(Kye,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:S.jsx(uR,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":M9(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(TNt,{titleId:s.titleId}),S.jsx(CNt,{contentRef:l,descriptionId:s.descriptionId})]})]})}),S9="DialogTitle",SNt=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hc(S9,n);return S.jsx(jn.h2,{id:i.titleId,...r,ref:e})});SNt.displayName=S9;var m0e="DialogDescription",MNt=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hc(m0e,n);return S.jsx(jn.p,{id:i.descriptionId,...r,ref:e})});MNt.displayName=m0e;var g0e="DialogClose",ENt=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hc(g0e,n);return S.jsx(jn.button,{type:"button",...r,ref:e,onClick:$n(t.onClick,()=>i.onOpenChange(!1))})});ENt.displayName=g0e;function M9(t){return t?"open":"closed"}var v0e="DialogTitleWarning",[hIt,y0e]=M_e(v0e,{contentName:Fg,titleName:S9,docsSlug:"dialog"}),TNt=({titleId:t})=>{const e=y0e(v0e),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},ANt="DialogDescriptionWarning",CNt=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${y0e(ANt).contentName}}.`;return A.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},PNt=l0e,RNt=f0e,ONt=d0e,LNt=h0e,A_='[cmdk-group=""]',uD='[cmdk-group-items=""]',kNt='[cmdk-group-heading=""]',x0e='[cmdk-item=""]',jee=`${x0e}:not([aria-disabled="true"])`,vz="cmdk-item-select",vy="data-value",NNt=(t,e,n)=>mkt(t,e,n),b0e=A.createContext(void 0),UM=()=>A.useContext(b0e),_0e=A.createContext(void 0),E9=()=>A.useContext(_0e),w0e=A.createContext(void 0),S0e=A.forwardRef((t,e)=>{let n=yy(()=>{var Y,J;return{search:"",value:(J=(Y=t.value)!=null?Y:t.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=yy(()=>new Set),i=yy(()=>new Map),o=yy(()=>new Map),a=yy(()=>new Set),s=M0e(t),{label:l,children:c,value:u,onValueChange:f,filter:d,shouldFilter:h,loop:m,disablePointerSelection:v=!1,vimBindings:y=!0,...g}=t,b=Wf(),x=Wf(),_=Wf(),T=A.useRef(null),C=HNt();Ug(()=>{if(u!==void 0){let Y=u.trim();n.current.value=Y,P.emit()}},[u]),Ug(()=>{C(6,V)},[]);let P=A.useMemo(()=>({subscribe:Y=>(a.current.add(Y),()=>a.current.delete(Y)),snapshot:()=>n.current,setState:(Y,J,re)=>{var oe,pe,fe,we;if(!Object.is(n.current[Y],J)){if(n.current[Y]=J,Y==="search")U(),N(),C(1,D);else if(Y==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ge=document.getElementById(_);ge?ge.focus():(oe=document.getElementById(b))==null||oe.focus()}if(C(7,()=>{var ge;n.current.selectedItemId=(ge=z())==null?void 0:ge.id,P.emit()}),re||C(5,V),((pe=s.current)==null?void 0:pe.value)!==void 0){let ge=J??"";(we=(fe=s.current).onValueChange)==null||we.call(fe,ge);return}}P.emit()}},emit:()=>{a.current.forEach(Y=>Y())}}),[]),I=A.useMemo(()=>({value:(Y,J,re)=>{var oe;J!==((oe=o.current.get(Y))==null?void 0:oe.value)&&(o.current.set(Y,{value:J,keywords:re}),n.current.filtered.items.set(Y,O(J,re)),C(2,()=>{N(),P.emit()}))},item:(Y,J)=>(r.current.add(Y),J&&(i.current.has(J)?i.current.get(J).add(Y):i.current.set(J,new Set([Y]))),C(3,()=>{U(),N(),n.current.value||D(),P.emit()}),()=>{o.current.delete(Y),r.current.delete(Y),n.current.filtered.items.delete(Y);let re=z();C(4,()=>{U(),(re==null?void 0:re.getAttribute("id"))===Y&&D(),P.emit()})}),group:Y=>(i.current.has(Y)||i.current.set(Y,new Set),()=>{o.current.delete(Y),i.current.delete(Y)}),filter:()=>s.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:b,inputId:_,labelId:x,listInnerRef:T}),[]);function O(Y,J){var re,oe;let pe=(oe=(re=s.current)==null?void 0:re.filter)!=null?oe:NNt;return Y?pe(Y,n.current.search,J):0}function N(){if(!n.current.search||s.current.shouldFilter===!1)return;let Y=n.current.filtered.items,J=[];n.current.filtered.groups.forEach(oe=>{let pe=i.current.get(oe),fe=0;pe.forEach(we=>{let ge=Y.get(we);fe=Math.max(ge,fe)}),J.push([oe,fe])});let re=T.current;F().sort((oe,pe)=>{var fe,we;let ge=oe.getAttribute("id"),xe=pe.getAttribute("id");return((fe=Y.get(xe))!=null?fe:0)-((we=Y.get(ge))!=null?we:0)}).forEach(oe=>{let pe=oe.closest(uD);pe?pe.appendChild(oe.parentElement===pe?oe:oe.closest(`${uD} > *`)):re.appendChild(oe.parentElement===re?oe:oe.closest(`${uD} > *`))}),J.sort((oe,pe)=>pe[1]-oe[1]).forEach(oe=>{var pe;let fe=(pe=T.current)==null?void 0:pe.querySelector(`${A_}[${vy}="${encodeURIComponent(oe[0])}"]`);fe==null||fe.parentElement.appendChild(fe)})}function D(){let Y=F().find(re=>re.getAttribute("aria-disabled")!=="true"),J=Y==null?void 0:Y.getAttribute(vy);P.setState("value",J||void 0)}function U(){var Y,J,re,oe;if(!n.current.search||s.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let pe=0;for(let fe of r.current){let we=(J=(Y=o.current.get(fe))==null?void 0:Y.value)!=null?J:"",ge=(oe=(re=o.current.get(fe))==null?void 0:re.keywords)!=null?oe:[],xe=O(we,ge);n.current.filtered.items.set(fe,xe),xe>0&&pe++}for(let[fe,we]of i.current)for(let ge of we)if(n.current.filtered.items.get(ge)>0){n.current.filtered.groups.add(fe);break}n.current.filtered.count=pe}function V(){var Y,J,re;let oe=z();oe&&(((Y=oe.parentElement)==null?void 0:Y.firstChild)===oe&&((re=(J=oe.closest(A_))==null?void 0:J.querySelector(kNt))==null||re.scrollIntoView({block:"nearest"})),oe.scrollIntoView({block:"nearest"}))}function z(){var Y;return(Y=T.current)==null?void 0:Y.querySelector(`${x0e}[aria-selected="true"]`)}function F(){var Y;return Array.from(((Y=T.current)==null?void 0:Y.querySelectorAll(jee))||[])}function W(Y){let J=F()[Y];J&&P.setState("value",J.getAttribute(vy))}function X(Y){var J;let re=z(),oe=F(),pe=oe.findIndex(we=>we===re),fe=oe[pe+Y];(J=s.current)!=null&&J.loop&&(fe=pe+Y<0?oe[oe.length-1]:pe+Y===oe.length?oe[0]:oe[pe+Y]),fe&&P.setState("value",fe.getAttribute(vy))}function B(Y){let J=z(),re=J==null?void 0:J.closest(A_),oe;for(;re&&!oe;)re=Y>0?WNt(re,A_):VNt(re,A_),oe=re==null?void 0:re.querySelector(jee);oe?P.setState("value",oe.getAttribute(vy)):X(Y)}let G=()=>W(F().length-1),q=Y=>{Y.preventDefault(),Y.metaKey?G():Y.altKey?B(1):X(1)},te=Y=>{Y.preventDefault(),Y.metaKey?W(0):Y.altKey?B(-1):X(-1)};return A.createElement(jn.div,{ref:e,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:Y=>{var J;(J=g.onKeyDown)==null||J.call(g,Y);let re=Y.nativeEvent.isComposing||Y.keyCode===229;if(!(Y.defaultPrevented||re))switch(Y.key){case"n":case"j":{y&&Y.ctrlKey&&q(Y);break}case"ArrowDown":{q(Y);break}case"p":case"k":{y&&Y.ctrlKey&&te(Y);break}case"ArrowUp":{te(Y);break}case"Home":{Y.preventDefault(),W(0);break}case"End":{Y.preventDefault(),G();break}case"Enter":{Y.preventDefault();let oe=z();if(oe){let pe=new Event(vz);oe.dispatchEvent(pe)}}}}},A.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:XNt},l),_3(t,Y=>A.createElement(_0e.Provider,{value:P},A.createElement(b0e.Provider,{value:I},Y))))}),INt=A.forwardRef((t,e)=>{var n,r;let i=Wf(),o=A.useRef(null),a=A.useContext(w0e),s=UM(),l=M0e(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:a==null?void 0:a.forceMount;Ug(()=>{if(!c)return s.item(i,a==null?void 0:a.id)},[c]);let u=E0e(i,o,[t.value,t.children,o],t.keywords),f=E9(),d=mp(C=>C.value&&C.value===u.current),h=mp(C=>c||s.filter()===!1?!0:C.search?C.filtered.items.get(i)>0:!0);A.useEffect(()=>{let C=o.current;if(!(!C||t.disabled))return C.addEventListener(vz,m),()=>C.removeEventListener(vz,m)},[h,t.onSelect,t.disabled]);function m(){var C,P;v(),(P=(C=l.current).onSelect)==null||P.call(C,u.current)}function v(){f.setState("value",u.current,!0)}if(!h)return null;let{disabled:y,value:g,onSelect:b,forceMount:x,keywords:_,...T}=t;return A.createElement(jn.div,{ref:Nu(o,e),...T,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!d,"data-disabled":!!y,"data-selected":!!d,onPointerMove:y||s.getDisablePointerSelection()?void 0:v,onClick:y?void 0:m},t.children)}),DNt=A.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...o}=t,a=Wf(),s=A.useRef(null),l=A.useRef(null),c=Wf(),u=UM(),f=mp(h=>i||u.filter()===!1?!0:h.search?h.filtered.groups.has(a):!0);Ug(()=>u.group(a),[]),E0e(a,s,[t.value,t.heading,l]);let d=A.useMemo(()=>({id:a,forceMount:i}),[i]);return A.createElement(jn.div,{ref:Nu(s,e),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&A.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),_3(t,h=>A.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},A.createElement(w0e.Provider,{value:d},h))))}),jNt=A.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=A.useRef(null),o=mp(a=>!a.search);return!n&&!o?null:A.createElement(jn.div,{ref:Nu(i,e),...r,"cmdk-separator":"",role:"separator"})}),BNt=A.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,o=E9(),a=mp(c=>c.search),s=mp(c=>c.selectedItemId),l=UM();return A.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),A.createElement(jn.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":s,id:l.inputId,type:"text",value:i?t.value:a,onChange:c=>{i||o.setState("search",c.target.value),n==null||n(c.target.value)}})}),zNt=A.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,o=A.useRef(null),a=A.useRef(null),s=mp(c=>c.selectedItemId),l=UM();return A.useEffect(()=>{if(a.current&&o.current){let c=a.current,u=o.current,f,d=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let h=c.offsetHeight;u.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return d.observe(c),()=>{cancelAnimationFrame(f),d.unobserve(c)}}},[]),A.createElement(jn.div,{ref:Nu(o,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:l.listId},_3(t,c=>A.createElement("div",{ref:Nu(a,l.listInnerRef),"cmdk-list-sizer":""},c)))}),$Nt=A.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:a,...s}=t;return A.createElement(PNt,{open:n,onOpenChange:r},A.createElement(RNt,{container:a},A.createElement(ONt,{"cmdk-overlay":"",className:i}),A.createElement(LNt,{"aria-label":t.label,"cmdk-dialog":"",className:o},A.createElement(S0e,{ref:e,...s}))))}),FNt=A.forwardRef((t,e)=>mp(n=>n.filtered.count===0)?A.createElement(jn.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),UNt=A.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...o}=t;return A.createElement(jn.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},_3(t,a=>A.createElement("div",{"aria-hidden":!0},a)))}),bl=Object.assign(S0e,{List:zNt,Item:INt,Input:BNt,Group:DNt,Separator:jNt,Dialog:$Nt,Empty:FNt,Loading:UNt});function WNt(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function VNt(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function M0e(t){let e=A.useRef(t);return Ug(()=>{e.current=t}),e}var Ug=typeof window>"u"?A.useEffect:A.useLayoutEffect;function yy(t){let e=A.useRef();return e.current===void 0&&(e.current=t()),e}function mp(t){let e=E9(),n=()=>t(e.snapshot());return A.useSyncExternalStore(e.subscribe,n,n)}function E0e(t,e,n,r=[]){let i=A.useRef(),o=UM();return Ug(()=>{var a;let s=(()=>{var c;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());o.value(t,s,l),(a=e.current)==null||a.setAttribute(vy,s),i.current=s}),i}var HNt=()=>{let[t,e]=A.useState(),n=yy(()=>new Map);return Ug(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function GNt(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function _3({asChild:t,children:e},n){return t&&A.isValidElement(e)?A.cloneElement(GNt(e),{ref:e.ref},n(e.props.children)):n(e)}var XNt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function qNt(){const[t,e]=A.useState(!1),n=XS();A.useEffect(()=>{const i=o=>{o.key==="k"&&(o.metaKey||o.ctrlKey)&&(o.preventDefault(),e(a=>!a))};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]);const r=i=>{e(!1),i()};return t?S.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-start justify-center pt-[20vh]",children:S.jsxs(bl,{className:"w-[640px] max-w-[90vw] bg-slate-950 border border-slate-800 rounded-xl shadow-2xl overflow-hidden",children:[S.jsxs("div",{className:"flex items-center border-b border-slate-800 px-3",children:[S.jsx(jre,{className:"w-5 h-5 text-slate-500 mr-2"}),S.jsx(bl.Input,{className:"flex-1 h-12 bg-transparent outline-none text-slate-200 placeholder:text-slate-500",placeholder:"Type a command or search..."})]}),S.jsxs(bl.List,{className:"max-h-[300px] overflow-y-auto p-2",children:[S.jsx(bl.Empty,{className:"py-6 text-center text-slate-500 text-sm",children:"No results found."}),S.jsxs(bl.Group,{heading:"Navigation",className:"text-xs font-medium text-slate-500 mb-2 px-2",children:[S.jsxs(bl.Item,{className:"flex items-center gap-2 px-2 py-2 rounded text-sm text-slate-200 hover:bg-slate-900 cursor-pointer aria-selected:bg-slate-900",onSelect:()=>r(()=>n("/")),children:[S.jsx(Ire,{className:"w-4 h-4"}),S.jsx("span",{children:"Dashboard"})]}),S.jsxs(bl.Item,{className:"flex items-center gap-2 px-2 py-2 rounded text-sm text-slate-200 hover:bg-slate-900 cursor-pointer aria-selected:bg-slate-900",onSelect:()=>r(()=>n("/analytics")),children:[S.jsx(X1,{className:"w-4 h-4"}),S.jsx("span",{children:"Analytics"})]}),S.jsxs(bl.Item,{className:"flex items-center gap-2 px-2 py-2 rounded text-sm text-slate-200 hover:bg-slate-900 cursor-pointer aria-selected:bg-slate-900",onSelect:()=>r(()=>n("/geography")),children:[S.jsx(Th,{className:"w-4 h-4"}),S.jsx("span",{children:"Geography"})]}),S.jsxs(bl.Item,{className:"flex items-center gap-2 px-2 py-2 rounded text-sm text-slate-200 hover:bg-slate-900 cursor-pointer aria-selected:bg-slate-900",onSelect:()=>r(()=>n("/visualizations")),children:[S.jsx(Qh,{className:"w-4 h-4"}),S.jsx("span",{children:"Visualizations"})]}),S.jsxs(bl.Item,{className:"flex items-center gap-2 px-2 py-2 rounded text-sm text-slate-200 hover:bg-slate-900 cursor-pointer aria-selected:bg-slate-900",onSelect:()=>r(()=>n("/monitor")),children:[S.jsx(Qh,{className:"w-4 h-4"}),S.jsx("span",{children:"System Monitor"})]})]}),S.jsx(bl.Group,{heading:"Settings",className:"text-xs font-medium text-slate-500 mb-2 px-2 mt-2",children:S.jsxs(bl.Item,{className:"flex items-center gap-2 px-2 py-2 rounded text-sm text-slate-200 hover:bg-slate-900 cursor-pointer aria-selected:bg-slate-900",onSelect:()=>r(()=>n("/settings")),children:[S.jsx(Bre,{className:"w-4 h-4"}),S.jsx("span",{children:"Settings"})]})})]})]})}):null}const YNt=()=>{const t=Hg();return A.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),S.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),S.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),S.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},KNt=new OEe,ZNt=()=>S.jsx(kEe,{client:KNt,children:S.jsx(rEe,{children:S.jsxs(V2e,{children:[S.jsx(jwe,{}),S.jsx(mSe,{}),S.jsxs(k2e,{children:[S.jsx(qNt,{}),S.jsxs(T2e,{children:[S.jsx(cc,{path:"/",element:S.jsx(NRe,{})}),S.jsx(cc,{path:"/login",element:S.jsx(FRe,{})}),S.jsx(cc,{path:"/dashboard",element:S.jsx(em,{children:S.jsx(GLe,{})})}),S.jsx(cc,{path:"/monitor",element:S.jsx(em,{children:S.jsx(fZe,{})})}),S.jsx(cc,{path:"/sources",element:S.jsx(em,{children:S.jsx(dZe,{})})}),S.jsx(cc,{path:"/analytics",element:S.jsx(em,{children:S.jsx(vft,{})})}),S.jsx(cc,{path:"/settings",element:S.jsx(em,{children:S.jsx(Dft,{})})}),S.jsx(cc,{path:"/geography",element:S.jsx(em,{children:S.jsx(ibt,{})})}),S.jsx(cc,{path:"/visualizations",element:S.jsx(em,{children:S.jsx(akt,{})})}),S.jsx(cc,{path:"*",element:S.jsx(YNt,{})})]})]})]})})});class JNt extends A.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("React Error Boundary caught an error:",e,n)}render(){var e,n;return this.state.hasError?S.jsxs("div",{style:{padding:"2rem",color:"white",backgroundColor:"#1a1a1a"},children:[S.jsx("h1",{children:"Something went wrong"}),S.jsxs("pre",{style:{color:"#ff6b6b",whiteSpace:"pre-wrap"},children:[(e=this.state.error)==null?void 0:e.toString(),`

`,(n=this.state.error)==null?void 0:n.stack]})]}):this.props.children}}sre(document.getElementById("root")).render(S.jsx(JNt,{children:S.jsx(ZNt,{})}));
