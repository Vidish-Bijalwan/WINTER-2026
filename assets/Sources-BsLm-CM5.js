import{r as o,j as e,o as w,v as D,as as _,S as Q,a_ as U,g as q,a$ as k,b0 as H,G as A,b1 as J,b2 as K,b3 as V,s as X,b4 as Y,b5 as Z,b6 as ee,b7 as ae,b8 as se}from"./vendor-DGrUDQ2I.js";import{N as te}from"./Navigation-CoRmuU1R.js";import{C as oe,d as re}from"./card-_tlfF8ea.js";import{D as le,a as ie,b as ne,c as ce,d as de,f as me,B as h}from"./dialog-DwvOAkVq.js";import{B as r}from"./button-1vLT016S.js";import{u as ge,d as xe,a as pe,S as he}from"./index-BR0G-Dds.js";import{I as c}from"./input-B_BW0ggm.js";import{L as d}from"./label-CkOlayJF.js";const ye=()=>{const{isConnected:l,connect:E,disconnect:M,eventsPerSecond:u,totalEventsProcessed:v}=ge(),{activeSourceIds:m,sourceStats:b,toggleSource:j}=xe(),{toast:g}=pe(),[f,F]=o.useState([]),[L,N]=o.useState(!1),[t,i]=o.useState({name:"",url:"",type:"Custom",description:""}),[x,T]=o.useState("All"),[p,G]=o.useState(""),P=[{id:"wikipedia",name:"Wikipedia Recent Changes",description:"Real-time SSE stream of all Wikipedia edits across all languages",type:"Social Media",protocol:"SSE",icon:A,url:"stream.wikimedia.org",eventsPerSecond:l?u:0,totalEvents:l?v:0,color:"text-blue-500",bgColor:"bg-blue-500/10",active:l}],z=a=>({"Social Media":se,"News & Media":ae,Development:ee,Environmental:Z,Geographic:A,Finance:Y,Cybersecurity:X,Gaming:V,Culture:K,Government:J})[a]||D,I=a=>({"Social Media":{color:"text-blue-500",bgColor:"bg-blue-500/10"},"News & Media":{color:"text-orange-500",bgColor:"bg-orange-500/10"},Development:{color:"text-purple-500",bgColor:"bg-purple-500/10"},Environmental:{color:"text-green-500",bgColor:"bg-green-500/10"},Geographic:{color:"text-cyan-500",bgColor:"bg-cyan-500/10"},Finance:{color:"text-yellow-500",bgColor:"bg-yellow-500/10"},Cybersecurity:{color:"text-red-500",bgColor:"bg-red-500/10"},Gaming:{color:"text-pink-500",bgColor:"bg-pink-500/10"},Culture:{color:"text-indigo-500",bgColor:"bg-indigo-500/10"},Government:{color:"text-slate-500",bgColor:"bg-slate-500/10"}})[a]||{color:"text-gray-500",bgColor:"bg-gray-500/10"},R=async()=>{const a=he.map(s=>{const n=I(s.type),S=b[s.id]||{eps:0,total:0},y=m.has(s.id);return{...s,icon:z(s.type),eventsPerSecond:y?S.eps:0,totalEvents:S.total,active:y,...n}});F([...P,...a])};o.useEffect(()=>{R()},[l,u,v,b,m]);const B=async()=>{g({title:"Source Added",description:"New data source configured successfully (Demo Mode)."}),N(!1),i({name:"",url:"",type:"Custom",description:""})},O=async a=>{a!=="wikipedia"&&(j(a),g({title:"Source Deleted",description:"Data source removed (Demo Mode)."}))},C=a=>{a==="wikipedia"?l?M():E():(j(a),m.has(a)||g({title:"Connected",description:`Streaming data from ${a}...`}))},$=["All",...Array.from(new Set(f.map(a=>a.type)))],W=f.filter(a=>{const s=x==="All"||a.type===x,n=a.name.toLowerCase().includes(p.toLowerCase())||a.description.toLowerCase().includes(p.toLowerCase());return s&&n});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(te,{}),e.jsxs("main",{className:"pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-[1400px] mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs(w.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(D,{className:"w-6 h-6 text-primary"}),"Data Sources"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your real-time data stream connections"})]}),e.jsxs(le,{open:L,onOpenChange:N,children:[e.jsx(ie,{asChild:!0,children:e.jsxs(r,{variant:"default",size:"sm",className:"gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Add Custom Source"]})}),e.jsxs(ne,{className:"bg-slate-900 border-slate-800 text-slate-100",children:[e.jsx(ce,{children:e.jsx(de,{children:"Add New Data Source"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"name",children:"Name"}),e.jsx(c,{id:"name",value:t.name,onChange:a=>i({...t,name:a.target.value}),className:"bg-slate-800 border-slate-700"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"url",children:"URL / Endpoint"}),e.jsx(c,{id:"url",value:t.url,onChange:a=>i({...t,url:a.target.value}),className:"bg-slate-800 border-slate-700"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"type",children:"Type"}),e.jsx(c,{id:"type",value:t.type,onChange:a=>i({...t,type:a.target.value}),className:"bg-slate-800 border-slate-700"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"desc",children:"Description"}),e.jsx(c,{id:"desc",value:t.description,onChange:a=>i({...t,description:a.target.value}),className:"bg-slate-800 border-slate-700"})]})]}),e.jsx(me,{children:e.jsx(r,{onClick:B,children:"Add Source"})})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(c,{placeholder:"Search sources...",value:p,onChange:a=>G(a.target.value),className:"pl-10"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:$.map(a=>e.jsxs(r,{variant:x===a?"default":"outline",size:"sm",onClick:()=>T(a),className:"whitespace-nowrap",children:[a==="All"&&e.jsx(U,{className:"w-3 h-3 mr-1"}),a]},a))})]}),e.jsx("div",{className:"grid gap-4",children:W.map((a,s)=>{const n=a.icon;return e.jsx(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05},children:e.jsx(oe,{className:"overflow-hidden hover:border-primary/30 transition-all group",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${a.active?a.bgColor:"bg-muted"} transition-colors`,children:e.jsx(n,{className:`w-6 h-6 ${a.active?a.color:"text-muted-foreground"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold",children:a.name}),a.active?e.jsx(h,{variant:"success",className:"animate-pulse bg-green-500/20 text-green-500 hover:bg-green-500/30 border-green-500/50",children:"Live"}):e.jsx(h,{variant:"outline",children:"Inactive"}),e.jsx(h,{variant:"secondary",className:"text-[10px]",children:a.type})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-mono",children:a.url}),a.active&&e.jsxs("span",{className:"flex items-center gap-1 text-primary",children:[e.jsx(q,{className:"w-3 h-3"}),a.eventsPerSecond," EPS"]}),a.totalEvents>0&&e.jsxs("span",{children:[a.totalEvents.toLocaleString()," events"]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:a.id==="wikipedia"?e.jsxs(r,{variant:a.active?"outline":"default",size:"sm",onClick:()=>C(a.id),children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),a.active?"Disconnect":"Connect"]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r,{variant:a.active?"outline":"default",size:"sm",onClick:()=>C(a.id),className:a.active?"border-red-500/50 text-red-500 hover:bg-red-500/10":"",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),a.active?"Stop":"Connect"]}),e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>O(a.id),className:"text-muted-foreground hover:text-red-500",children:e.jsx(H,{className:"w-4 h-4"})})]})})]})})})},a.id)})})]})]})};export{ye as default};
