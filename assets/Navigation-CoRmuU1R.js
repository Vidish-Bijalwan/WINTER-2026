import{c8 as se,c9 as ae,r as i,j as e,ca as te,cb as R,cc as A,cd as re,ce as le,cf as D,cg as oe,a9 as M,aU as E,X as O,S as P,_ as c,u as B,L as G,g as U,v as F,f as k,G as K,h as H,bi as V,bj as J,ch as ne,ci as de,p as f,x as _,cj as ie,o as w,w as z,ck as ce,a6 as I,aa as me}from"./vendor-DGrUDQ2I.js";import{c as d,a as xe,e as he,g as pe,b as ue}from"./index-BR0G-Dds.js";import{B as h}from"./button-1vLT016S.js";import{D as ge,b as fe}from"./dialog-DwvOAkVq.js";const je=se,be=ae,W=i.forwardRef(({className:a,align:s="center",sideOffset:t=4,...r},n)=>e.jsx(te,{children:e.jsx(R,{ref:n,align:s,sideOffset:t,className:d("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}));W.displayName=R.displayName;const X=i.forwardRef(({className:a,children:s,...t},r)=>e.jsxs(A,{ref:r,className:d("relative overflow-hidden",a),...t,children:[e.jsx(re,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(Y,{}),e.jsx(le,{})]}));X.displayName=A.displayName;const Y=i.forwardRef(({className:a,orientation:s="vertical",...t},r)=>e.jsx(D,{ref:r,orientation:s,className:d("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...t,children:e.jsx(oe,{className:"relative flex-1 rounded-full bg-border"})}));Y.displayName=D.displayName;const Ne=[{id:"1",title:"High Anomaly Detected",message:'Unusual edit volume detected in "Politics" category.',time:"2 mins ago",read:!1,type:"critical"},{id:"2",title:"System Update",message:"Backend services successfully updated to v2.1.0.",time:"1 hour ago",read:!1,type:"info"},{id:"3",title:"New Data Source",message:'Connected to "Wikimedia Commons" stream.',time:"3 hours ago",read:!0,type:"info"},{id:"4",title:"Performance Alert",message:"High latency detected in region: US-East.",time:"5 hours ago",read:!0,type:"warning"}];function ve(){const[a,s]=M.useState(Ne),t=a.filter(l=>!l.read).length,r=l=>{s(a.map(m=>m.id===l?{...m,read:!0}:m))},n=()=>{s(a.map(l=>({...l,read:!0})))},p=(l,m)=>{m.stopPropagation(),s(a.filter(j=>j.id!==l))};return e.jsxs(je,{children:[e.jsx(be,{asChild:!0,children:e.jsxs(h,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(E,{className:"w-4 h-4"}),t>0&&e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})}),e.jsxs(W,{className:"w-80 p-0 bg-slate-900 border-slate-800",align:"end",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-800",children:[e.jsx("h4",{className:"font-semibold text-sm text-slate-200",children:"Notifications"}),t>0&&e.jsx(h,{variant:"ghost",size:"sm",className:"text-xs text-primary hover:text-primary/80 h-auto p-0 px-2",onClick:n,children:"Mark all as read"})]}),e.jsx(X,{className:"h-[300px]",children:a.length>0?e.jsx("div",{className:"divide-y divide-slate-800",children:a.map(l=>e.jsx("div",{className:d("p-4 hover:bg-slate-800/50 transition-colors cursor-pointer relative group",!l.read&&"bg-slate-800/20"),onClick:()=>r(l.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:d("w-2 h-2 mt-1.5 rounded-full shrink-0",l.type==="critical"?"bg-red-500":l.type==="warning"?"bg-amber-500":"bg-blue-500")}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:d("text-sm font-medium leading-none",l.read?"text-slate-400":"text-slate-200"),children:l.title}),e.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:l.message}),e.jsx("p",{className:"text-[10px] text-slate-600",children:l.time})]}),e.jsx(h,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity absolute top-2 right-2 text-slate-500 hover:text-slate-300",onClick:m=>p(l.id,m),children:e.jsx(O,{className:"w-3 h-3"})})]})},l.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 p-4",children:[e.jsx(E,{className:"w-8 h-8 mb-2 opacity-20"}),e.jsx("p",{className:"text-sm",children:"No notifications"})]})})]})]})}const $=i.forwardRef(({className:a,...s},t)=>e.jsx(c,{ref:t,className:d("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...s}));$.displayName=c.displayName;const ye=({children:a,...s})=>e.jsx(ge,{...s,children:e.jsx(fe,{className:"overflow-hidden p-0 shadow-lg",children:e.jsx($,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:a})})}),q=i.forwardRef(({className:a,...s},t)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(P,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(c.Input,{ref:t,className:d("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...s})]}));q.displayName=c.Input.displayName;const Q=i.forwardRef(({className:a,...s},t)=>e.jsx(c.List,{ref:t,className:d("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...s}));Q.displayName=c.List.displayName;const Z=i.forwardRef((a,s)=>e.jsx(c.Empty,{ref:s,className:"py-6 text-center text-sm",...a}));Z.displayName=c.Empty.displayName;const v=i.forwardRef(({className:a,...s},t)=>e.jsx(c.Group,{ref:t,className:d("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...s}));v.displayName=c.Group.displayName;const y=i.forwardRef(({className:a,...s},t)=>e.jsx(c.Separator,{ref:t,className:d("-mx-1 h-px bg-border",a),...s}));y.displayName=c.Separator.displayName;const x=i.forwardRef(({className:a,...s},t)=>e.jsx(c.Item,{ref:t,className:d("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",a),...s}));x.displayName=c.Item.displayName;function we(){const[a,s]=i.useState(!1),t=B();i.useEffect(()=>{const n=p=>{p.key==="k"&&(p.metaKey||p.ctrlKey)&&(p.preventDefault(),s(l=>!l))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[]);const r=M.useCallback(n=>{s(!1),n()},[]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm text-muted-foreground hidden lg:flex",children:e.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[e.jsx("span",{className:"text-xs",children:"⌘"}),"K"]})}),e.jsxs(ye,{open:a,onOpenChange:s,children:[e.jsx(q,{placeholder:"Type a command or search..."}),e.jsxs(Q,{children:[e.jsx(Z,{children:"No results found."}),e.jsxs(v,{heading:"Suggestions",children:[e.jsxs(x,{onSelect:()=>r(()=>t("/dashboard")),children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs(x,{onSelect:()=>r(()=>t("/monitor")),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Monitor"})]}),e.jsxs(x,{onSelect:()=>r(()=>t("/sources")),children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Data Sources"})]})]}),e.jsx(y,{}),e.jsxs(v,{heading:"Navigation",children:[e.jsxs(x,{onSelect:()=>r(()=>t("/analytics")),children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Analytics"})]}),e.jsxs(x,{onSelect:()=>r(()=>t("/geography")),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Geography"})]}),e.jsxs(x,{onSelect:()=>r(()=>t("/settings")),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]})]}),e.jsx(y,{}),e.jsxs(v,{heading:"Theme",children:[e.jsxs(x,{onSelect:()=>r(()=>{document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark"),localStorage.setTheme="dark"}),children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{children:"Dark Mode"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Use dark theme"})]})]}),e.jsxs(x,{onSelect:()=>r(()=>{document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),localStorage.theme="light"}),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{children:"Light Mode"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Use light theme"})]})]}),e.jsxs(x,{onSelect:()=>r(()=>{document.documentElement.classList.remove("dark","light"),localStorage.removeItem("theme")}),children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{children:"System"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Follow system preference"})]})]})]}),e.jsx(y,{}),e.jsx("div",{className:"border-t border-border p-2 text-xs text-muted-foreground",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted border border-border",children:"↑↓"}),e.jsx("span",{children:"Navigate"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted border border-border",children:"↵"}),e.jsx("span",{children:"Select"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted border border-border",children:"Esc"}),e.jsx("span",{children:"Close"})]})]})})]})]})]})}function ke(){const[a,s]=i.useState("dark");i.useEffect(()=>{const r=localStorage.getItem("theme");r==="light"||r==="dark"?(s(r),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r)):(s("dark"),document.documentElement.classList.add("dark"))},[]);const t=()=>{const r=a==="dark"?"light":"dark";s(r),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r),localStorage.setItem("theme",r)};return e.jsxs(h,{variant:"ghost",size:"icon",onClick:t,className:"relative overflow-hidden hover-glow","aria-label":"Toggle theme",children:[e.jsx(J,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(V,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}const T=[{path:"/dashboard",label:"Dashboard",icon:G},{path:"/monitor",label:"Monitor",icon:U},{path:"/sources",label:"Data Sources",icon:F},{path:"/analytics",label:"Analytics",icon:k},{path:"/visualizations",label:"Visualizations",icon:k},{path:"/geography",label:"Geography",icon:K},{path:"/settings",label:"Settings",icon:H}];function Te({className:a}){const s=de(),t=B(),{toast:r}=xe(),{isSidebarCollapsed:n,toggleSidebar:p,setSidebarCollapsed:l}=he(),[m,j]=i.useState(!1),[Se,Ce]=i.useState(!1),[Le]=i.useState(3),u=pe(),S=u?u.username.slice(0,2).toUpperCase():"JD";i.useEffect(()=>{const o=g=>{const b=document.getElementById("sidebar-nav"),N=document.getElementById("sidebar-toggle");!n&&b&&!b.contains(g.target)&&N&&!N.contains(g.target)&&l(!0)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[n,l]);const C=()=>{ue(),r({title:"Logged Out",description:"You have been successfully logged out."}),t("/login")},L=s.pathname.split("/").filter(Boolean),ee=L.map((o,g)=>{const b=`/${L.slice(0,g+1).join("/")}`,N=o.charAt(0).toUpperCase()+o.slice(1);return{path:b,label:N}});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 border-b border-border/50 bg-background/80 backdrop-blur-xl px-4 h-16 flex items-center justify-between",children:[e.jsxs(f,{to:"/",className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-bold",children:"TopoForge"})]}),e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>j(!m),children:m?e.jsx(O,{className:"h-5 w-5"}):e.jsx(ie,{className:"h-5 w-5"})})]}),e.jsxs(w.nav,{id:"sidebar-nav",initial:!1,animate:{width:n?"80px":"280px"},className:d("hidden md:flex fixed left-0 top-0 bottom-0 bg-background/95 backdrop-blur-md border-r border-border z-40 flex-col transition-all duration-300",a),children:[e.jsxs("div",{className:d("p-6 flex items-center",n?"justify-center":"justify-between"),children:[!n&&e.jsxs(f,{to:"/",className:"flex items-center gap-2 group",children:[e.jsx("div",{className:"relative w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-primary/50 flex items-center justify-center overflow-hidden",children:e.jsx(_,{className:"w-4 h-4 text-primary-foreground relative z-10"})}),e.jsx("span",{className:"font-bold text-lg",children:"TopoForge"})]}),e.jsx(h,{id:"sidebar-toggle",variant:"ghost",size:"icon",onClick:p,className:"h-6 w-6",children:n?e.jsx(z,{className:"h-4 w-4"}):e.jsx(ce,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:T.map(o=>{const g=s.pathname===o.path;return e.jsxs(f,{to:o.path,className:d("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group relative",g?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",n&&"justify-center px-2"),title:n?o.label:void 0,children:[e.jsx(o.icon,{className:d("h-5 w-5",g&&"animate-pulse")}),!n&&e.jsx("span",{className:"font-medium",children:o.label}),g&&e.jsx(w.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-6 bg-primary rounded-r-full"})]},o.path)})}),e.jsx("div",{className:"p-4 border-t border-border",children:n?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-xs font-bold cursor-pointer",title:u==null?void 0:u.username,children:S})}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-xs font-bold",children:S}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:(u==null?void 0:u.username)||"Guest"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Online"})]})]}),e.jsx(h,{variant:"ghost",size:"icon",onClick:C,children:e.jsx(I,{className:"w-4 h-4"})})]})})]}),e.jsxs("div",{className:d("hidden md:flex fixed top-0 right-0 h-16 items-center justify-between px-8 border-b border-border/50 bg-background/80 backdrop-blur-xl z-30 transition-all duration-300",n?"left-[80px]":"left-[280px]"),children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(f,{to:"/",className:"hover:text-foreground",children:"Home"}),ee.map(o=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx(f,{to:o.path,className:d("hover:text-foreground",s.pathname===o.path&&"text-foreground font-medium"),children:o.label})]},o.path))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>document.dispatchEvent(new KeyboardEvent("keydown",{key:"k",metaKey:!0})),children:e.jsx(P,{className:"w-4 h-4"})}),e.jsx("span",{"data-tour":"theme-toggle",children:e.jsx(ke,{})}),e.jsx(we,{})]}),e.jsx(ve,{})]})]}),e.jsx(me,{children:m&&e.jsx(w.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden fixed top-16 left-0 right-0 bg-background border-b border-border z-40",children:e.jsxs("div",{className:"p-4 space-y-2",children:[T.map(o=>e.jsxs(f,{to:o.path,onClick:()=>j(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-secondary",children:[e.jsx(o.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:o.label})]},o.path)),e.jsxs(h,{variant:"ghost",className:"w-full justify-start gap-3 px-4",onClick:C,children:[e.jsx(I,{className:"w-5 h-5"}),"Logout"]})]})})})]})}export{Te as N,X as S};
