import{r as A,u as qe,j as C,z as Er,D as be,F as lc,t as sh,C as uh}from"./index--xrktNsK.js";import{N as lh}from"./Navigation-CCnB3BJO.js";import{w as cc,at as iu,au as Se,f as ch,h as qn,g as an,av as Ko,aw as ou,j as ln,p as au,s as vr,ax as ye,ay as su,az as fh,aA as dh,aB as hh,aC as ph,aD as vh,aE as Gn,aF as uu,aG as gh,aH as lu,k as ro,ac as mh,ab as yh,t as fc,I as xh,D as bh,l as wh,S as _h,aI as Mh,aJ as Ch,aK as Ah,aL as kh,aM as Sh,aN as dc,aO as es,aP as Oh,aQ as hc,as as Rh,aR as ni,aS as io,aT as Eh,aU as Lh,aV as $h,aW as Th,aX as Nh,aY as jh,aZ as Ih,L as Ph}from"./_baseAssignValue-Dol-jihx.js";import{C as Ge}from"./card-3sR0m8q4.js";import{B as cu}from"./badge-DyOow1xh.js";import{_ as Wh,$ as Qe,F as tn,d as en,S as zh,i as zn,E as vi,R as ar,M as ce,m as gi,Y as me,k as kn,l as Je,D as nn,U as Bh,I as pc,u as Oo,z as ze,a as Oe,T as er,J as ri,g as ns,t as Fe,y as Dh,e as Lr,s as rs,b as oo,o as ao,v as so,w as is,x as vc,X as Hh,Z as Fh,a0 as Vh,a1 as Uh,a2 as qh,j as Gh,V as Xh,H as gc,c as Yh,a3 as os,f as Kh,B as Zh,a4 as Jh,N as Qh,a5 as mc,L as yc,a6 as tp,a7 as br,a8 as ep,a9 as np}from"./nivo-legends-CmabIw_H.js";import{d as rp,e as ip,q as op,D as ap}from"./range-D9bsgeQp.js";import{R as sp,I as up,F as fu,a as Ma,b as gr,W as lp,B as as,S as xc,V as yn,c as cp,U as du,d as hu,e as bc,M as fp,f as $r,L as dp,g as hp,h as pp,i as vp,j as gp,_ as Ca,C as mp,O as yp,u as xp}from"./OrbitControls-WkqYFJsJ.js";import{m as ke}from"./button-qKzjhVfS.js";import"./database-BhRGqcbv.js";import"./log-out-CriHxoqG.js";function bp(t){return t.innerRadius}function wp(t){return t.outerRadius}function _p(t){return t.startAngle}function Mp(t){return t.endAngle}function Cp(t){return t&&t.padAngle}function Ap(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,d=s-o,f=d*u-c*l;if(!(f*f<Se))return f=(c*(e-o)-d*(t-i))/f,[t+f*u,e+f*l]}function $i(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/vr(s*s+u*u),c=l*u,d=-l*s,f=t+c,h=e+d,v=n+c,g=r+d,y=(f+v)/2,x=(h+g)/2,b=v-f,m=g-h,p=b*b+m*m,w=i-o,_=f*g-v*h,O=(m<0?-1:1)*vr(dh(0,w*w*p-_*_)),S=(_*m-b*O)/p,T=(-_*b-m*O)/p,k=(_*m+b*O)/p,$=(-_*b+m*O)/p,N=S-y,R=T-x,W=k-y,E=$-x;return N*N+R*R>W*W+E*E&&(S=k,T=$),{cx:S,cy:T,x01:-c,y01:-d,x11:S*(i/w-1),y11:T*(i/w-1)}}function wc(){var t=bp,e=wp,n=ln(0),r=null,i=_p,o=Mp,a=Cp,s=null,u=cc(l);function l(){var c,d,f=+t.apply(this,arguments),h=+e.apply(this,arguments),v=i.apply(this,arguments)-iu,g=o.apply(this,arguments)-iu,y=ou(g-v),x=g>v;if(s||(s=c=u()),h<f&&(d=h,h=f,f=d),!(h>Se))s.moveTo(0,0);else if(y>ch-Se)s.moveTo(h*qn(v),h*an(v)),s.arc(0,0,h,v,g,!x),f>Se&&(s.moveTo(f*qn(g),f*an(g)),s.arc(0,0,f,g,v,x));else{var b=v,m=g,p=v,w=g,_=y,O=y,S=a.apply(this,arguments)/2,T=S>Se&&(r?+r.apply(this,arguments):vr(f*f+h*h)),k=Ko(ou(h-f)/2,+n.apply(this,arguments)),$=k,N=k,R,W;if(T>Se){var E=su(T/f*an(S)),I=su(T/h*an(S));(_-=E*2)>Se?(E*=x?1:-1,p+=E,w-=E):(_=0,p=w=(v+g)/2),(O-=I*2)>Se?(I*=x?1:-1,b+=I,m-=I):(O=0,b=m=(v+g)/2)}var P=h*qn(b),L=h*an(b),B=f*qn(w),D=f*an(w);if(k>Se){var K=h*qn(m),V=h*an(m),U=f*qn(p),tt=f*an(p),nt;if(y<au)if(nt=Ap(P,L,U,tt,K,V,B,D)){var st=P-nt[0],G=L-nt[1],Y=K-nt[0],at=V-nt[1],ct=1/an(fh((st*Y+G*at)/(vr(st*st+G*G)*vr(Y*Y+at*at)))/2),xt=vr(nt[0]*nt[0]+nt[1]*nt[1]);$=Ko(k,(f-xt)/(ct-1)),N=Ko(k,(h-xt)/(ct+1))}else $=N=0}O>Se?N>Se?(R=$i(U,tt,P,L,h,N,x),W=$i(K,V,B,D,h,N,x),s.moveTo(R.cx+R.x01,R.cy+R.y01),N<k?s.arc(R.cx,R.cy,N,ye(R.y01,R.x01),ye(W.y01,W.x01),!x):(s.arc(R.cx,R.cy,N,ye(R.y01,R.x01),ye(R.y11,R.x11),!x),s.arc(0,0,h,ye(R.cy+R.y11,R.cx+R.x11),ye(W.cy+W.y11,W.cx+W.x11),!x),s.arc(W.cx,W.cy,N,ye(W.y11,W.x11),ye(W.y01,W.x01),!x))):(s.moveTo(P,L),s.arc(0,0,h,b,m,!x)):s.moveTo(P,L),!(f>Se)||!(_>Se)?s.lineTo(B,D):$>Se?(R=$i(B,D,K,V,f,-$,x),W=$i(P,L,U,tt,f,-$,x),s.lineTo(R.cx+R.x01,R.cy+R.y01),$<k?s.arc(R.cx,R.cy,$,ye(R.y01,R.x01),ye(W.y01,W.x01),!x):(s.arc(R.cx,R.cy,$,ye(R.y01,R.x01),ye(R.y11,R.x11),!x),s.arc(0,0,f,ye(R.cy+R.y11,R.cx+R.x11),ye(W.cy+W.y11,W.cx+W.x11),x),s.arc(W.cx,W.cy,$,ye(W.y11,W.x11),ye(W.y01,W.x01),!x))):s.arc(0,0,f,w,p,x)}if(s.closePath(),c)return s=null,c+""||null}return l.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-au/2;return[qn(d)*c,an(d)*c]},l.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ln(+c),l):t},l.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ln(+c),l):e},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ln(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ln(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ln(+c),l):i},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ln(+c),l):o},l.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:ln(+c),l):a},l.context=function(c){return arguments.length?(s=c??null,l):s},l}function kp(t){return t.source}function Sp(t){return t.target}function Op(t){let e=kp,n=Sp,r=ph,i=vh,o=null,a=null,s=cc(u);function u(){let l;const c=hh.call(arguments),d=e.apply(this,c),f=n.apply(this,c);if(o==null&&(a=t(l=s())),a.lineStart(),c[0]=d,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),l)return a=null,l+""||null}return u.source=function(l){return arguments.length?(e=l,u):e},u.target=function(l){return arguments.length?(n=l,u):n},u.x=function(l){return arguments.length?(r=typeof l=="function"?l:ln(+l),u):r},u.y=function(l){return arguments.length?(i=typeof l=="function"?l:ln(+l),u):i},u.context=function(l){return arguments.length?(l==null?o=a=null:a=t(o=l),u):o},u}function Rp(){const t=Op(rp);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Ep(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var pu=180/Math.PI,Aa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _c(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*pu,skewX:Math.atan(u)*pu,scaleX:a,scaleY:s}}var Ti;function Lp(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Aa:_c(e.a,e.b,e.c,e.d,e.e,e.f)}function $p(t){return t==null||(Ti||(Ti=document.createElementNS("http://www.w3.org/2000/svg","g")),Ti.setAttribute("transform",t),!(t=Ti.transform.baseVal.consolidate()))?Aa:(t=t.matrix,_c(t.a,t.b,t.c,t.d,t.e,t.f))}function Mc(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,d,f,h,v){if(l!==d||c!==f){var g=h.push("translate(",null,e,null,n);v.push({i:g-4,x:Gn(l,d)},{i:g-2,x:Gn(c,f)})}else(d||f)&&h.push("translate("+d+e+f+n)}function a(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Gn(l,c)})):c&&d.push(i(d)+"rotate("+c+r)}function s(l,c,d,f){l!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Gn(l,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(l,c,d,f,h,v){if(l!==d||c!==f){var g=h.push(i(h)+"scale(",null,",",null,")");v.push({i:g-4,x:Gn(l,d)},{i:g-2,x:Gn(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,d,f),a(l.rotate,c.rotate,d,f),s(l.skewX,c.skewX,d,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(h){for(var v=-1,g=f.length,y;++v<g;)d[(y=f[v]).i]=y.x(h);return d.join("")}}}var Tp=Mc(Lp,"px, ","px)","deg)"),Np=Mc($p,", ",")",")");const Cc=parseInt(sp.replace(/\D+/g,"")),Ac=Cc>=125?"uv1":"uv2",vu=new as,Ni=new yn;class ss extends up{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new fu(e,3)),this.setAttribute("uv",new fu(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new Ma(n,6,1);return this.setAttribute("instanceStart",new gr(r,3,0)),this.setAttribute("instanceEnd",new gr(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,n=3){let r;e instanceof Float32Array?r=e:Array.isArray(e)&&(r=new Float32Array(e));const i=new Ma(r,n*2,1);return this.setAttribute("instanceColorStart",new gr(i,n,0)),this.setAttribute("instanceColorEnd",new gr(i,n,n)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new lp(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new as);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),vu.setFromBufferAttribute(n),this.boundingBox.union(vu))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xc),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Ni.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Ni)),Ni.fromBufferAttribute(n,o),i=Math.max(i,r.distanceToSquared(Ni));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class kc extends ss{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e,n=3){const r=e.length-n,i=new Float32Array(2*r);if(n===3)for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5];else for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5],i[2*o+6]=e[o+6],i[2*o+7]=e[o+7];return super.setColors(i,n),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class us extends cp{constructor(e){super({type:"LineMaterial",uniforms:du.clone(du.merge([hu.common,hu.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new bc(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${Cc>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const Zo=new $r,gu=new yn,mu=new yn,pe=new $r,ve=new $r,sn=new $r,Jo=new yn,Qo=new hp,ge=new dp,yu=new yn,ji=new as,Ii=new xc,un=new $r;let fn,Jn;function xu(t,e,n){return un.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),un.multiplyScalar(1/un.w),un.x=Jn/n.width,un.y=Jn/n.height,un.applyMatrix4(t.projectionMatrixInverse),un.multiplyScalar(1/un.w),Math.abs(Math.max(un.x,un.y))}function jp(t,e){const n=t.matrixWorld,r=t.geometry,i=r.attributes.instanceStart,o=r.attributes.instanceEnd,a=Math.min(r.instanceCount,i.count);for(let s=0,u=a;s<u;s++){ge.start.fromBufferAttribute(i,s),ge.end.fromBufferAttribute(o,s),ge.applyMatrix4(n);const l=new yn,c=new yn;fn.distanceSqToSegment(ge.start,ge.end,c,l),c.distanceTo(l)<Jn*.5&&e.push({point:c,pointOnLine:l,distance:fn.origin.distanceTo(c),object:t,face:null,faceIndex:s,uv:null,[Ac]:null})}}function Ip(t,e,n){const r=e.projectionMatrix,o=t.material.resolution,a=t.matrixWorld,s=t.geometry,u=s.attributes.instanceStart,l=s.attributes.instanceEnd,c=Math.min(s.instanceCount,u.count),d=-e.near;fn.at(1,sn),sn.w=1,sn.applyMatrix4(e.matrixWorldInverse),sn.applyMatrix4(r),sn.multiplyScalar(1/sn.w),sn.x*=o.x/2,sn.y*=o.y/2,sn.z=0,Jo.copy(sn),Qo.multiplyMatrices(e.matrixWorldInverse,a);for(let f=0,h=c;f<h;f++){if(pe.fromBufferAttribute(u,f),ve.fromBufferAttribute(l,f),pe.w=1,ve.w=1,pe.applyMatrix4(Qo),ve.applyMatrix4(Qo),pe.z>d&&ve.z>d)continue;if(pe.z>d){const m=pe.z-ve.z,p=(pe.z-d)/m;pe.lerp(ve,p)}else if(ve.z>d){const m=ve.z-pe.z,p=(ve.z-d)/m;ve.lerp(pe,p)}pe.applyMatrix4(r),ve.applyMatrix4(r),pe.multiplyScalar(1/pe.w),ve.multiplyScalar(1/ve.w),pe.x*=o.x/2,pe.y*=o.y/2,ve.x*=o.x/2,ve.y*=o.y/2,ge.start.copy(pe),ge.start.z=0,ge.end.copy(ve),ge.end.z=0;const g=ge.closestPointToPointParameter(Jo,!0);ge.at(g,yu);const y=pp.lerp(pe.z,ve.z,g),x=y>=-1&&y<=1,b=Jo.distanceTo(yu)<Jn*.5;if(x&&b){ge.start.fromBufferAttribute(u,f),ge.end.fromBufferAttribute(l,f),ge.start.applyMatrix4(a),ge.end.applyMatrix4(a);const m=new yn,p=new yn;fn.distanceSqToSegment(ge.start,ge.end,p,m),n.push({point:p,pointOnLine:m,distance:fn.origin.distanceTo(p),object:t,face:null,faceIndex:f,uv:null,[Ac]:null})}}}class Sc extends fp{constructor(e=new ss,n=new us({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let a=0,s=0,u=n.count;a<u;a++,s+=2)gu.fromBufferAttribute(n,a),mu.fromBufferAttribute(r,a),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+gu.distanceTo(mu);const o=new Ma(i,2,1);return e.setAttribute("instanceDistanceStart",new gr(o,1,0)),e.setAttribute("instanceDistanceEnd",new gr(o,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const o=e.params.Line2!==void 0&&e.params.Line2.threshold||0;fn=e.ray;const a=this.matrixWorld,s=this.geometry,u=this.material;Jn=u.linewidth+o,s.boundingSphere===null&&s.computeBoundingSphere(),Ii.copy(s.boundingSphere).applyMatrix4(a);let l;if(r)l=Jn*.5;else{const d=Math.max(i.near,Ii.distanceToPoint(fn.origin));l=xu(i,d,u.resolution)}if(Ii.radius+=l,fn.intersectsSphere(Ii)===!1)return;s.boundingBox===null&&s.computeBoundingBox(),ji.copy(s.boundingBox).applyMatrix4(a);let c;if(r)c=Jn*.5;else{const d=Math.max(i.near,ji.distanceToPoint(fn.origin));c=xu(i,d,u.resolution)}ji.expandByScalar(c),fn.intersectsBox(ji)!==!1&&(r?jp(this,n):Ip(this,i,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(Zo),this.material.uniforms.resolution.value.set(Zo.z,Zo.w))}}class Pp extends Sc{constructor(e=new kc,n=new us({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}const Wp=A.forwardRef(function({points:e,color:n=16777215,vertexColors:r,linewidth:i,lineWidth:o,segments:a,dashed:s,...u},l){var c,d;const f=vp(x=>x.size),h=A.useMemo(()=>a?new Sc:new Pp,[a]),[v]=A.useState(()=>new us),g=(r==null||(c=r[0])==null?void 0:c.length)===4?4:3,y=A.useMemo(()=>{const x=a?new ss:new kc,b=e.map(m=>{const p=Array.isArray(m);return m instanceof yn||m instanceof $r?[m.x,m.y,m.z]:m instanceof bc?[m.x,m.y,0]:p&&m.length===3?[m[0],m[1],m[2]]:p&&m.length===2?[m[0],m[1],0]:m});if(x.setPositions(b.flat()),r){n=16777215;const m=r.map(p=>p instanceof gp?p.toArray():p);x.setColors(m.flat(),g)}return x},[e,a,r,g]);return A.useLayoutEffect(()=>{h.computeLineDistances()},[e,h]),A.useLayoutEffect(()=>{s?v.defines.USE_DASH="":delete v.defines.USE_DASH,v.needsUpdate=!0},[s,v]),A.useEffect(()=>()=>{y.dispose(),v.dispose()},[y]),A.createElement("primitive",Ca({object:h,ref:l},u),A.createElement("primitive",{object:y,attach:"geometry"}),A.createElement("primitive",Ca({object:v,attach:"material",color:n,vertexColors:!!r,resolution:[f.width,f.height],linewidth:(d=i??o)!==null&&d!==void 0?d:1,dashed:s,transparent:g===4},u)))});function zp(t,e){const n=t+"Geometry";return A.forwardRef(({args:r,children:i,...o},a)=>{const s=A.useRef(null);return A.useImperativeHandle(a,()=>s.current),A.useLayoutEffect(()=>void(e==null?void 0:e(s.current))),A.createElement("mesh",Ca({ref:s},o),A.createElement(n,{attach:"geometry",args:r}),i)})}const Bp=zp("sphere");function Dp(t){return t}var Hp=4,bu=1e-6;function Fp(t){return"translate(0,"+t+")"}function Vp(t){return e=>+t(e)}function Up(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function qp(){return!this.__axis}function Gp(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=-1,c="x",d=Fp;function f(h){var v=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):Dp),y=Math.max(o,0)+s,x=e.range(),b=+x[0]+u,m=+x[x.length-1]+u,p=(e.bandwidth?Up:Vp)(e.copy(),u),w=h.selection?h.selection():h,_=w.selectAll(".domain").data([null]),O=w.selectAll(".tick").data(v,e).order(),S=O.exit(),T=O.enter().append("g").attr("class","tick"),k=O.select("line"),$=O.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(T),k=k.merge(T.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),$=$.merge(T.append("text").attr("fill","currentColor").attr(c,l*y).attr("dy","0.32em")),h!==w&&(_=_.transition(h),O=O.transition(h),k=k.transition(h),$=$.transition(h),S=S.transition(h).attr("opacity",bu).attr("transform",function(N){return isFinite(N=p(N))?d(N+u):this.getAttribute("transform")}),T.attr("opacity",bu).attr("transform",function(N){var R=this.parentNode.__axis;return d((R&&isFinite(R=R(N))?R:p(N))+u)})),S.remove(),_.attr("d",a?"M"+l*a+","+b+"H"+u+"V"+m+"H"+l*a:"M"+u+","+b+"V"+m),O.attr("opacity",1).attr("transform",function(N){return d(p(N)+u)}),k.attr(c+"2",l*o),$.attr(c,l*y).text(g),w.filter(qp).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","end"),w.each(function(){this.__axis=p})}return f.scale=function(h){return arguments.length?(e=h,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),f):n.slice()},f.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),f):r&&r.slice()},f.tickFormat=function(h){return arguments.length?(i=h,f):i},f.tickSize=function(h){return arguments.length?(o=a=+h,f):o},f.tickSizeInner=function(h){return arguments.length?(o=+h,f):o},f.tickSizeOuter=function(h){return arguments.length?(a=+h,f):a},f.tickPadding=function(h){return arguments.length?(s=+h,f):s},f.offset=function(h){return arguments.length?(u=+h,f):u},f}function Xp(t){return Gp(Hp,t)}var Yp={value:()=>{}};function Ro(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Xi(n)}function Xi(t){this._=t}function Kp(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Xi.prototype=Ro.prototype={constructor:Xi,on:function(t,e){var n=this._,r=Kp(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Zp(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=wu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=wu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Xi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Zp(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function wu(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Yp,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ka="http://www.w3.org/1999/xhtml";const _u={svg:"http://www.w3.org/2000/svg",xhtml:ka,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Eo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_u.hasOwnProperty(e)?{space:_u[e],local:t}:t}function Jp(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ka&&e.documentElement.namespaceURI===ka?e.createElement(t):e.createElementNS(n,t)}}function Qp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Oc(t){var e=Eo(t);return(e.local?Qp:Jp)(e)}function t0(){}function ls(t){return t==null?t0:function(){return this.querySelector(t)}}function e0(t){typeof t!="function"&&(t=ls(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Ie(r,this._parents)}function n0(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function r0(){return[]}function Rc(t){return t==null?r0:function(){return this.querySelectorAll(t)}}function i0(t){return function(){return n0(t.apply(this,arguments))}}function o0(t){typeof t=="function"?t=i0(t):t=Rc(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new Ie(r,i)}function Ec(t){return function(){return this.matches(t)}}function Lc(t){return function(e){return e.matches(t)}}var a0=Array.prototype.find;function s0(t){return function(){return a0.call(this.children,t)}}function u0(){return this.firstElementChild}function l0(t){return this.select(t==null?u0:s0(typeof t=="function"?t:Lc(t)))}var c0=Array.prototype.filter;function f0(){return Array.from(this.children)}function d0(t){return function(){return c0.call(this.children,t)}}function h0(t){return this.selectAll(t==null?f0:d0(typeof t=="function"?t:Lc(t)))}function p0(t){typeof t!="function"&&(t=Ec(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new Ie(r,this._parents)}function $c(t){return new Array(t.length)}function v0(){return new Ie(this._enter||this._groups.map($c),this._parents)}function uo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}uo.prototype={constructor:uo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function g0(t){return function(){return t}}function m0(t,e,n,r,i,o){for(var a=0,s,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new uo(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function y0(t,e,n,r,i,o,a){var s,u,l=new Map,c=e.length,d=o.length,f=new Array(c),h;for(s=0;s<c;++s)(u=e[s])&&(f[s]=h=a.call(u,u.__data__,s,e)+"",l.has(h)?i[s]=u:l.set(h,u));for(s=0;s<d;++s)h=a.call(t,o[s],s,o)+"",(u=l.get(h))?(r[s]=u,u.__data__=o[s],l.delete(h)):n[s]=new uo(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(f[s])===u&&(i[s]=u)}function x0(t){return t.__data__}function b0(t,e){if(!arguments.length)return Array.from(this,x0);var n=e?y0:m0,r=this._parents,i=this._groups;typeof t!="function"&&(t=g0(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],d=i[l],f=d.length,h=w0(t.call(c,c&&c.__data__,l,r)),v=h.length,g=s[l]=new Array(v),y=a[l]=new Array(v),x=u[l]=new Array(f);n(c,d,g,y,x,h,e);for(var b=0,m=0,p,w;b<v;++b)if(p=g[b]){for(b>=m&&(m=b+1);!(w=y[m])&&++m<v;);p._next=w||null}}return a=new Ie(a,r),a._enter=s,a._exit=u,a}function w0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _0(){return new Ie(this._exit||this._groups.map($c),this._parents)}function M0(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function C0(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l=n[u],c=r[u],d=l.length,f=s[u]=new Array(d),h,v=0;v<d;++v)(h=l[v]||c[v])&&(f[v]=h);for(;u<i;++u)s[u]=n[u];return new Ie(s,this._parents)}function A0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function k0(t){t||(t=S0);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(e)}return new Ie(i,this._parents).order()}function S0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function O0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function R0(){return Array.from(this)}function E0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function L0(){let t=0;for(const e of this)++t;return t}function $0(){return!this.node()}function T0(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function N0(t){return function(){this.removeAttribute(t)}}function j0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function I0(t,e){return function(){this.setAttribute(t,e)}}function P0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function W0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function z0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function B0(t,e){var n=Eo(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?j0:N0:typeof e=="function"?n.local?z0:W0:n.local?P0:I0)(n,e))}function Tc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function D0(t){return function(){this.style.removeProperty(t)}}function H0(t,e,n){return function(){this.style.setProperty(t,e,n)}}function F0(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function V0(t,e,n){return arguments.length>1?this.each((e==null?D0:typeof e=="function"?F0:H0)(t,e,n??"")):wr(this.node(),t)}function wr(t,e){return t.style.getPropertyValue(e)||Tc(t).getComputedStyle(t,null).getPropertyValue(e)}function U0(t){return function(){delete this[t]}}function q0(t,e){return function(){this[t]=e}}function G0(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function X0(t,e){return arguments.length>1?this.each((e==null?U0:typeof e=="function"?G0:q0)(t,e)):this.node()[t]}function Nc(t){return t.trim().split(/^|\s+/)}function cs(t){return t.classList||new jc(t)}function jc(t){this._node=t,this._names=Nc(t.getAttribute("class")||"")}jc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ic(t,e){for(var n=cs(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Pc(t,e){for(var n=cs(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Y0(t){return function(){Ic(this,t)}}function K0(t){return function(){Pc(this,t)}}function Z0(t,e){return function(){(e.apply(this,arguments)?Ic:Pc)(this,t)}}function J0(t,e){var n=Nc(t+"");if(arguments.length<2){for(var r=cs(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Z0:e?Y0:K0)(n,e))}function Q0(){this.textContent=""}function tv(t){return function(){this.textContent=t}}function ev(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function nv(t){return arguments.length?this.each(t==null?Q0:(typeof t=="function"?ev:tv)(t)):this.node().textContent}function rv(){this.innerHTML=""}function iv(t){return function(){this.innerHTML=t}}function ov(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function av(t){return arguments.length?this.each(t==null?rv:(typeof t=="function"?ov:iv)(t)):this.node().innerHTML}function sv(){this.nextSibling&&this.parentNode.appendChild(this)}function uv(){return this.each(sv)}function lv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cv(){return this.each(lv)}function fv(t){var e=typeof t=="function"?t:Oc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function dv(){return null}function hv(t,e){var n=typeof t=="function"?t:Oc(t),r=e==null?dv:typeof e=="function"?e:ls(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function pv(){var t=this.parentNode;t&&t.removeChild(this)}function vv(){return this.each(pv)}function gv(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mv(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yv(t){return this.select(t?mv:gv)}function xv(t){return arguments.length?this.property("__data__",t):this.node().__data__}function bv(t){return function(e){t.call(this,e,this.__data__)}}function wv(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function _v(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Mv(t,e,n){return function(){var r=this.__on,i,o=bv(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Cv(t,e,n){var r=wv(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?Mv:_v,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Wc(t,e,n){var r=Tc(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Av(t,e){return function(){return Wc(this,t,e)}}function kv(t,e){return function(){return Wc(this,t,e.apply(this,arguments))}}function Sv(t,e){return this.each((typeof e=="function"?kv:Av)(t,e))}function*Ov(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var zc=[null];function Ie(t,e){this._groups=t,this._parents=e}function mi(){return new Ie([[document.documentElement]],zc)}function Rv(){return this}Ie.prototype=mi.prototype={constructor:Ie,select:e0,selectAll:o0,selectChild:l0,selectChildren:h0,filter:p0,data:b0,enter:v0,exit:_0,join:M0,merge:C0,selection:Rv,order:A0,sort:k0,call:O0,nodes:R0,node:E0,size:L0,empty:$0,each:T0,attr:B0,style:V0,property:X0,classed:J0,text:nv,html:av,raise:uv,lower:cv,append:fv,insert:hv,remove:vv,clone:yv,datum:xv,on:Cv,dispatch:Sv,[Symbol.iterator]:Ov};function xn(t){return typeof t=="string"?new Ie([[document.querySelector(t)]],[document.documentElement]):new Ie([[t]],zc)}function Ev(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Mu(t,e){if(t=Ev(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Lv={passive:!1},ii={capture:!0,passive:!1};function ta(t){t.stopImmediatePropagation()}function mr(t){t.preventDefault(),t.stopImmediatePropagation()}function $v(t){var e=t.document.documentElement,n=xn(t).on("dragstart.drag",mr,ii);"onselectstart"in e?n.on("selectstart.drag",mr,ii):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Tv(t,e){var n=t.document.documentElement,r=xn(t).on("dragstart.drag",null);e&&(r.on("click.drag",mr,ii),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Pi=t=>()=>t;function Sa(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Sa.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Nv(t){return!t.ctrlKey&&!t.button}function jv(){return this.parentNode}function Iv(t,e){return e??{x:t.x,y:t.y}}function Pv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wv(){var t=Nv,e=jv,n=Iv,r=Pv,i={},o=Ro("start","drag","end"),a=0,s,u,l,c,d=0;function f(p){p.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",x,Lv).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(p,w){if(!(c||!t.call(this,p,w))){var _=m(this,e.call(this,p,w),p,w,"mouse");_&&(xn(p.view).on("mousemove.drag",v,ii).on("mouseup.drag",g,ii),$v(p.view),ta(p),l=!1,s=p.clientX,u=p.clientY,_("start",p))}}function v(p){if(mr(p),!l){var w=p.clientX-s,_=p.clientY-u;l=w*w+_*_>d}i.mouse("drag",p)}function g(p){xn(p.view).on("mousemove.drag mouseup.drag",null),Tv(p.view,l),mr(p),i.mouse("end",p)}function y(p,w){if(t.call(this,p,w)){var _=p.changedTouches,O=e.call(this,p,w),S=_.length,T,k;for(T=0;T<S;++T)(k=m(this,O,p,w,_[T].identifier,_[T]))&&(ta(p),k("start",p,_[T]))}}function x(p){var w=p.changedTouches,_=w.length,O,S;for(O=0;O<_;++O)(S=i[w[O].identifier])&&(mr(p),S("drag",p,w[O]))}function b(p){var w=p.changedTouches,_=w.length,O,S;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),O=0;O<_;++O)(S=i[w[O].identifier])&&(ta(p),S("end",p,w[O]))}function m(p,w,_,O,S,T){var k=o.copy(),$=Mu(T||_,w),N,R,W;if((W=n.call(p,new Sa("beforestart",{sourceEvent:_,target:f,identifier:S,active:a,x:$[0],y:$[1],dx:0,dy:0,dispatch:k}),O))!=null)return N=W.x-$[0]||0,R=W.y-$[1]||0,function E(I,P,L){var B=$,D;switch(I){case"start":i[S]=E,D=a++;break;case"end":delete i[S],--a;case"drag":$=Mu(L||P,w),D=a;break}k.call(I,p,new Sa(I,{sourceEvent:P,subject:W,target:f,identifier:S,active:D,x:$[0]+N,y:$[1]+R,dx:$[0]-B[0],dy:$[1]-B[1],dispatch:k}),O)}}return f.filter=function(p){return arguments.length?(t=typeof p=="function"?p:Pi(!!p),f):t},f.container=function(p){return arguments.length?(e=typeof p=="function"?p:Pi(p),f):e},f.subject=function(p){return arguments.length?(n=typeof p=="function"?p:Pi(p),f):n},f.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Pi(!!p),f):r},f.on=function(){var p=o.on.apply(o,arguments);return p===o?f:p},f.clickDistance=function(p){return arguments.length?(d=(p=+p)*p,f):Math.sqrt(d)},f}var _r=0,Ur=0,Dr=0,Bc=1e3,lo,qr,co=0,nr=0,Lo=0,oi=typeof performance=="object"&&performance.now?performance:Date,Dc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fs(){return nr||(Dc(zv),nr=oi.now()+Lo)}function zv(){nr=0}function fo(){this._call=this._time=this._next=null}fo.prototype=ds.prototype={constructor:fo,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?fs():+n)+(e==null?0:+e),!this._next&&qr!==this&&(qr?qr._next=this:lo=this,qr=this),this._call=t,this._time=n,Oa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Oa())}};function ds(t,e,n){var r=new fo;return r.restart(t,e,n),r}function Bv(){fs(),++_r;for(var t=lo,e;t;)(e=nr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_r}function Cu(){nr=(co=oi.now())+Lo,_r=Ur=0;try{Bv()}finally{_r=0,Hv(),nr=0}}function Dv(){var t=oi.now(),e=t-co;e>Bc&&(Lo-=e,co=t)}function Hv(){for(var t,e=lo,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:lo=n);qr=t,Oa(r)}function Oa(t){if(!_r){Ur&&(Ur=clearTimeout(Ur));var e=t-nr;e>24?(t<1/0&&(Ur=setTimeout(Cu,t-oi.now()-Lo)),Dr&&(Dr=clearInterval(Dr))):(Dr||(co=oi.now(),Dr=setInterval(Dv,Bc)),_r=1,Dc(Cu))}}function Au(t,e,n){var r=new fo;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Fv=Ro("start","end","cancel","interrupt"),Vv=[],Hc=0,ku=1,Ra=2,Yi=3,Su=4,Ea=5,Ki=6;function $o(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Uv(t,n,{name:e,index:r,group:i,on:Fv,tween:Vv,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Hc})}function hs(t,e){var n=rn(t,e);if(n.state>Hc)throw new Error("too late; already scheduled");return n}function wn(t,e){var n=rn(t,e);if(n.state>Yi)throw new Error("too late; already running");return n}function rn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Uv(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ds(o,0,n.time);function o(l){n.state=ku,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,d,f,h;if(n.state!==ku)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Yi)return Au(a);h.state===Su?(h.state=Ki,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=Ki,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(Au(function(){n.state===Yi&&(n.state=Su,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=Ra,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ra){for(n.state=Yi,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Ea,1),d=-1,f=i.length;++d<f;)i[d].call(t,c);n.state===Ea&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Ki,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function qv(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Ra&&r.state<Ea,r.state=Ki,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Gv(t){return this.each(function(){qv(this,t)})}function Xv(t,e){var n,r;return function(){var i=wn(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Yv(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=wn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Kv(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=rn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Xv:Yv)(n,t,e))}function ps(t,e,n){var r=t._id;return t.each(function(){var i=wn(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return rn(i,r).value[e]}}function Fc(t,e){var n;return(typeof e=="number"?Gn:e instanceof lu?uu:(n=lu(e))?(e=n,uu):gh)(t,e)}function Zv(t){return function(){this.removeAttribute(t)}}function Jv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qv(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function tg(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function eg(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function ng(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function rg(t,e){var n=Eo(t),r=n==="transform"?Np:Fc;return this.attrTween(t,typeof e=="function"?(n.local?ng:eg)(n,r,ps(this,"attr."+t,e)):e==null?(n.local?Jv:Zv)(n):(n.local?tg:Qv)(n,r,e))}function ig(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function og(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ag(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&og(t,o)),n}return i._value=e,i}function sg(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ig(t,o)),n}return i._value=e,i}function ug(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Eo(t);return this.tween(n,(r.local?ag:sg)(r,e))}function lg(t,e){return function(){hs(this,t).delay=+e.apply(this,arguments)}}function cg(t,e){return e=+e,function(){hs(this,t).delay=e}}function fg(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lg:cg)(e,t)):rn(this.node(),e).delay}function dg(t,e){return function(){wn(this,t).duration=+e.apply(this,arguments)}}function hg(t,e){return e=+e,function(){wn(this,t).duration=e}}function pg(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dg:hg)(e,t)):rn(this.node(),e).duration}function vg(t,e){if(typeof e!="function")throw new Error;return function(){wn(this,t).ease=e}}function gg(t){var e=this._id;return arguments.length?this.each(vg(e,t)):rn(this.node(),e).ease}function mg(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;wn(this,t).ease=n}}function yg(t){if(typeof t!="function")throw new Error;return this.each(mg(this._id,t))}function xg(t){typeof t!="function"&&(t=Ec(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new On(r,this._parents,this._name,this._id)}function bg(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],l=n[s],c=u.length,d=a[s]=new Array(c),f,h=0;h<c;++h)(f=u[h]||l[h])&&(d[h]=f);for(;s<r;++s)a[s]=e[s];return new On(a,this._parents,this._name,this._id)}function wg(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _g(t,e,n){var r,i,o=wg(e)?hs:wn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function Mg(t,e){var n=this._id;return arguments.length<2?rn(this.node(),n).on.on(t):this.each(_g(n,t,e))}function Cg(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ag(){return this.on("end.remove",Cg(this._id))}function kg(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ls(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,l=o[a]=new Array(u),c,d,f=0;f<u;++f)(c=s[f])&&(d=t.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,$o(l[f],e,n,f,l,rn(c,n)));return new On(o,this._parents,e,n)}function Sg(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rc(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var f=t.call(c,c.__data__,d,u),h,v=rn(c,n),g=0,y=f.length;g<y;++g)(h=f[g])&&$o(h,e,n,g,f,v);o.push(f),a.push(c)}return new On(o,a,e,n)}var Og=mi.prototype.constructor;function Rg(){return new Og(this._groups,this._parents)}function Eg(t,e){var n,r,i;return function(){var o=wr(this,t),a=(this.style.removeProperty(t),wr(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Vc(t){return function(){this.style.removeProperty(t)}}function Lg(t,e,n){var r,i=n+"",o;return function(){var a=wr(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function $g(t,e,n){var r,i,o;return function(){var a=wr(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),wr(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function Tg(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var u=wn(this,t),l=u.on,c=u.value[o]==null?s||(s=Vc(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function Ng(t,e,n){var r=(t+="")=="transform"?Tp:Fc;return e==null?this.styleTween(t,Eg(t,r)).on("end.style."+t,Vc(t)):typeof e=="function"?this.styleTween(t,$g(t,r,ps(this,"style."+t,e))).each(Tg(this._id,t)):this.styleTween(t,Lg(t,r,e),n).on("end.style."+t,null)}function jg(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ig(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&jg(t,a,n)),r}return o._value=e,o}function Pg(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ig(t,e,n??""))}function Wg(t){return function(){this.textContent=t}}function zg(t){return function(){var e=t(this);this.textContent=e??""}}function Bg(t){return this.tween("text",typeof t=="function"?zg(ps(this,"text",t)):Wg(t==null?"":t+""))}function Dg(t){return function(e){this.textContent=t.call(this,e)}}function Hg(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Dg(i)),e}return r._value=t,r}function Fg(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Hg(t))}function Vg(){for(var t=this._name,e=this._id,n=Uc(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=rn(u,e);$o(u,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new On(r,this._parents,t,n)}function Ug(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var l=wn(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),i===0&&o()})}var qg=0;function On(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Uc(){return++qg}var An=mi.prototype;On.prototype={constructor:On,select:kg,selectAll:Sg,selectChild:An.selectChild,selectChildren:An.selectChildren,filter:xg,merge:bg,selection:Rg,transition:Vg,call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:Mg,attr:rg,attrTween:ug,style:Ng,styleTween:Pg,text:Bg,textTween:Fg,remove:Ag,tween:Kv,delay:fg,duration:pg,ease:gg,easeVarying:yg,end:Ug,[Symbol.iterator]:An[Symbol.iterator]};function Gg(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Xg={time:null,delay:0,duration:250,ease:Gg};function Yg(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Kg(t){var e,n;t instanceof On?(e=t._id,t=t._name):(e=Uc(),(n=Xg).time=fs(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&$o(u,t,e,l,a,n||Yg(u,e));return new On(r,this._parents,t,e)}mi.prototype.interrupt=Gv;mi.prototype.transition=Kg;function Zg(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,a=n.length,s,u=0,l=0;for(o=0;o<a;++o)s=n[o],u+=s.x,l+=s.y;for(u=(u/a-t)*r,l=(l/a-e)*r,o=0;o<a;++o)s=n[o],s.x-=u,s.y-=l}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Jg(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return qc(this.cover(e,n),e,n,t)}function qc(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,a={data:r},s=t._x0,u=t._y0,l=t._x1,c=t._y1,d,f,h,v,g,y,x,b;if(!o)return t._root=a,t;for(;o.length;)if((g=e>=(d=(s+l)/2))?s=d:l=d,(y=n>=(f=(u+c)/2))?u=f:c=f,i=o,!(o=o[x=y<<1|g]))return i[x]=a,t;if(h=+t._x.call(null,o.data),v=+t._y.call(null,o.data),e===h&&n===v)return a.next=o,i?i[x]=a:t._root=a,t;do i=i?i[x]=new Array(4):t._root=new Array(4),(g=e>=(d=(s+l)/2))?s=d:l=d,(y=n>=(f=(u+c)/2))?u=f:c=f;while((x=y<<1|g)===(b=(v>=f)<<1|h>=d));return i[b]=o,i[x]=a,t}function Qg(t){var e,n,r=t.length,i,o,a=new Array(r),s=new Array(r),u=1/0,l=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=i,s[n]=o,i<u&&(u=i),i>c&&(c=i),o<l&&(l=o),o>d&&(d=o));if(u>c||l>d)return this;for(this.cover(u,l).cover(c,d),n=0;n<r;++n)qc(this,a[n],s[n],t[n]);return this}function tm(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a=i-n||1,s=this._root,u,l;n>t||t>=i||r>e||e>=o;)switch(l=(e<r)<<1|t<n,u=new Array(4),u[l]=s,s=u,a*=2,l){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function em(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function nm(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function xe(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function rm(t,e,n){var r,i=this._x0,o=this._y0,a,s,u,l,c=this._x1,d=this._y1,f=[],h=this._root,v,g;for(h&&f.push(new xe(h,i,o,c,d)),n==null?n=1/0:(i=t-n,o=e-n,c=t+n,d=e+n,n*=n);v=f.pop();)if(!(!(h=v.node)||(a=v.x0)>c||(s=v.y0)>d||(u=v.x1)<i||(l=v.y1)<o))if(h.length){var y=(a+u)/2,x=(s+l)/2;f.push(new xe(h[3],y,x,u,l),new xe(h[2],a,x,y,l),new xe(h[1],y,s,u,x),new xe(h[0],a,s,y,x)),(g=(e>=x)<<1|t>=y)&&(v=f[f.length-1],f[f.length-1]=f[f.length-1-g],f[f.length-1-g]=v)}else{var b=t-+this._x.call(null,h.data),m=e-+this._y.call(null,h.data),p=b*b+m*m;if(p<n){var w=Math.sqrt(n=p);i=t-w,o=e-w,c=t+w,d=e+w,r=h.data}}return r}function im(t){if(isNaN(c=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,s=this._y0,u=this._x1,l=this._y1,c,d,f,h,v,g,y,x;if(!n)return this;if(n.length)for(;;){if((v=c>=(f=(a+u)/2))?a=f:u=f,(g=d>=(h=(s+l)/2))?s=h:l=h,e=n,!(n=n[y=g<<1|v]))return this;if(!n.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,x=y)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[y]=o:delete e[y],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=o,this)}function om(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function am(){return this._root}function sm(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function um(t){var e=[],n,r=this._root,i,o,a,s,u;for(r&&e.push(new xe(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,s=n.x1,u=n.y1)&&r.length){var l=(o+s)/2,c=(a+u)/2;(i=r[3])&&e.push(new xe(i,l,c,s,u)),(i=r[2])&&e.push(new xe(i,o,c,l,u)),(i=r[1])&&e.push(new xe(i,l,a,s,c)),(i=r[0])&&e.push(new xe(i,o,a,l,c))}return this}function lm(t){var e=[],n=[],r;for(this._root&&e.push(new xe(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,u=r.x1,l=r.y1,c=(a+u)/2,d=(s+l)/2;(o=i[0])&&e.push(new xe(o,a,s,c,d)),(o=i[1])&&e.push(new xe(o,c,s,u,d)),(o=i[2])&&e.push(new xe(o,a,d,c,l)),(o=i[3])&&e.push(new xe(o,c,d,u,l))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function cm(t){return t[0]}function fm(t){return arguments.length?(this._x=t,this):this._x}function dm(t){return t[1]}function hm(t){return arguments.length?(this._y=t,this):this._y}function vs(t,e,n){var r=new gs(e??cm,n??dm,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function gs(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ou(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var we=vs.prototype=gs.prototype;we.copy=function(){var t=new gs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Ou(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Ou(r));return t};we.add=Jg;we.addAll=Qg;we.cover=tm;we.data=em;we.extent=nm;we.find=rm;we.remove=im;we.removeAll=om;we.root=am;we.size=sm;we.visit=um;we.visitAfter=lm;we.x=fm;we.y=hm;function Qn(t){return function(){return t}}function Wn(t){return(t()-.5)*1e-6}function pm(t){return t.x+t.vx}function vm(t){return t.y+t.vy}function gm(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=Qn(t==null?1:+t));function a(){for(var l,c=e.length,d,f,h,v,g,y,x=0;x<o;++x)for(d=vs(e,pm,vm).visitAfter(s),l=0;l<c;++l)f=e[l],g=n[f.index],y=g*g,h=f.x+f.vx,v=f.y+f.vy,d.visit(b);function b(m,p,w,_,O){var S=m.data,T=m.r,k=g+T;if(S){if(S.index>f.index){var $=h-S.x-S.vx,N=v-S.y-S.vy,R=$*$+N*N;R<k*k&&($===0&&($=Wn(r),R+=$*$),N===0&&(N=Wn(r),R+=N*N),R=(k-(R=Math.sqrt(R)))/R*i,f.vx+=($*=R)*(k=(T*=T)/(y+T)),f.vy+=(N*=R)*k,S.vx-=$*(k=1-k),S.vy-=N*k)}return}return p>h+k||_<h-k||w>v+k||O<v-k}}function s(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function u(){if(e){var l,c=e.length,d;for(n=new Array(c),l=0;l<c;++l)d=e[l],n[d.index]=+t(d,l,e)}}return a.initialize=function(l,c){e=l,r=c,u()},a.iterations=function(l){return arguments.length?(o=+l,a):o},a.strength=function(l){return arguments.length?(i=+l,a):i},a.radius=function(l){return arguments.length?(t=typeof l=="function"?l:Qn(+l),u(),a):t},a}function mm(t){return t.index}function Ru(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function ym(t){var e=mm,n=d,r,i=Qn(30),o,a,s,u,l,c=1;t==null&&(t=[]);function d(y){return 1/Math.min(s[y.source.index],s[y.target.index])}function f(y){for(var x=0,b=t.length;x<c;++x)for(var m=0,p,w,_,O,S,T,k;m<b;++m)p=t[m],w=p.source,_=p.target,O=_.x+_.vx-w.x-w.vx||Wn(l),S=_.y+_.vy-w.y-w.vy||Wn(l),T=Math.sqrt(O*O+S*S),T=(T-o[m])/T*y*r[m],O*=T,S*=T,_.vx-=O*(k=u[m]),_.vy-=S*k,w.vx+=O*(k=1-k),w.vy+=S*k}function h(){if(a){var y,x=a.length,b=t.length,m=new Map(a.map((w,_)=>[e(w,_,a),w])),p;for(y=0,s=new Array(x);y<b;++y)p=t[y],p.index=y,typeof p.source!="object"&&(p.source=Ru(m,p.source)),typeof p.target!="object"&&(p.target=Ru(m,p.target)),s[p.source.index]=(s[p.source.index]||0)+1,s[p.target.index]=(s[p.target.index]||0)+1;for(y=0,u=new Array(b);y<b;++y)p=t[y],u[y]=s[p.source.index]/(s[p.source.index]+s[p.target.index]);r=new Array(b),v(),o=new Array(b),g()}}function v(){if(a)for(var y=0,x=t.length;y<x;++y)r[y]=+n(t[y],y,t)}function g(){if(a)for(var y=0,x=t.length;y<x;++y)o[y]=+i(t[y],y,t)}return f.initialize=function(y,x){a=y,l=x,h()},f.links=function(y){return arguments.length?(t=y,h(),f):t},f.id=function(y){return arguments.length?(e=y,f):e},f.iterations=function(y){return arguments.length?(c=+y,f):c},f.strength=function(y){return arguments.length?(n=typeof y=="function"?y:Qn(+y),v(),f):n},f.distance=function(y){return arguments.length?(i=typeof y=="function"?y:Qn(+y),g(),f):i},f}const xm=1664525,bm=1013904223,Eu=4294967296;function wm(){let t=1;return()=>(t=(xm*t+bm)%Eu)/Eu}function _m(t){return t.x}function Mm(t){return t.y}var Cm=10,Am=Math.PI*(3-Math.sqrt(5));function km(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=ds(d),l=Ro("tick","end"),c=wm();t==null&&(t=[]);function d(){f(),l.call("tick",e),n<r&&(u.stop(),l.call("end",e))}function f(g){var y,x=t.length,b;g===void 0&&(g=1);for(var m=0;m<g;++m)for(n+=(o-n)*i,s.forEach(function(p){p(n)}),y=0;y<x;++y)b=t[y],b.fx==null?b.x+=b.vx*=a:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=a:(b.y=b.fy,b.vy=0);return e}function h(){for(var g=0,y=t.length,x;g<y;++g){if(x=t[g],x.index=g,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var b=Cm*Math.sqrt(.5+g),m=g*Am;x.x=b*Math.cos(m),x.y=b*Math.sin(m)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function v(g){return g.initialize&&g.initialize(t,c),g}return h(),e={tick:f,restart:function(){return u.restart(d),e},stop:function(){return u.stop(),e},nodes:function(g){return arguments.length?(t=g,h(),s.forEach(v),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(r=+g,e):r},alphaDecay:function(g){return arguments.length?(i=+g,e):+i},alphaTarget:function(g){return arguments.length?(o=+g,e):o},velocityDecay:function(g){return arguments.length?(a=1-g,e):1-a},randomSource:function(g){return arguments.length?(c=g,s.forEach(v),e):c},force:function(g,y){return arguments.length>1?(y==null?s.delete(g):s.set(g,v(y)),e):s.get(g)},find:function(g,y,x){var b=0,m=t.length,p,w,_,O,S;for(x==null?x=1/0:x*=x,b=0;b<m;++b)O=t[b],p=g-O.x,w=y-O.y,_=p*p+w*w,_<x&&(S=O,x=_);return S},on:function(g,y){return arguments.length>1?(l.on(g,y),e):l.on(g)}}}function Sm(){var t,e,n,r,i=Qn(-30),o,a=1,s=1/0,u=.81;function l(h){var v,g=t.length,y=vs(t,_m,Mm).visitAfter(d);for(r=h,v=0;v<g;++v)e=t[v],y.visit(f)}function c(){if(t){var h,v=t.length,g;for(o=new Array(v),h=0;h<v;++h)g=t[h],o[g.index]=+i(g,h,t)}}function d(h){var v=0,g,y,x=0,b,m,p;if(h.length){for(b=m=p=0;p<4;++p)(g=h[p])&&(y=Math.abs(g.value))&&(v+=g.value,x+=y,b+=y*g.x,m+=y*g.y);h.x=b/x,h.y=m/x}else{g=h,g.x=g.data.x,g.y=g.data.y;do v+=o[g.data.index];while(g=g.next)}h.value=v}function f(h,v,g,y){if(!h.value)return!0;var x=h.x-e.x,b=h.y-e.y,m=y-v,p=x*x+b*b;if(m*m/u<p)return p<s&&(x===0&&(x=Wn(n),p+=x*x),b===0&&(b=Wn(n),p+=b*b),p<a&&(p=Math.sqrt(a*p)),e.vx+=x*h.value*r/p,e.vy+=b*h.value*r/p),!0;if(h.length||p>=s)return;(h.data!==e||h.next)&&(x===0&&(x=Wn(n),p+=x*x),b===0&&(b=Wn(n),p+=b*b),p<a&&(p=Math.sqrt(a*p)));do h.data!==e&&(m=o[h.data.index]*r/p,e.vx+=x*m,e.vy+=b*m);while(h=h.next)}return l.initialize=function(h,v){t=h,n=v,c()},l.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Qn(+h),c(),l):i},l.distanceMin=function(h){return arguments.length?(a=h*h,l):Math.sqrt(a)},l.distanceMax=function(h){return arguments.length?(s=h*h,l):Math.sqrt(s)},l.theta=function(h){return arguments.length?(u=h*h,l):Math.sqrt(u)},l}function Om(t,e){return t.parent===e.parent?1:2}function Rm(t){return t.reduce(Em,0)/t.length}function Em(t,e){return t+e.x}function Lm(t){return 1+t.reduce($m,0)}function $m(t,e){return Math.max(t,e.y)}function Tm(t){for(var e;e=t.children;)t=e[0];return t}function Nm(t){for(var e;e=t.children;)t=e[e.length-1];return t}function jm(){var t=Om,e=1,n=1,r=!1;function i(o){var a,s=0;o.eachAfter(function(f){var h=f.children;h?(f.x=Rm(h),f.y=Lm(h)):(f.x=a?s+=t(f,a):0,f.y=0,a=f)});var u=Tm(o),l=Nm(o),c=u.x-t(u,l)/2,d=l.x+t(l,u)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*e,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*e,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,e=+o[0],n=+o[1],i):r?null:[e,n]},i.nodeSize=function(o){return arguments.length?(r=!0,e=+o[0],n=+o[1],i):r?[e,n]:null},i}function Im(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Pm(){return this.eachAfter(Im)}function Wm(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function zm(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Bm(t,e){for(var n=this,r=[n],i=[],o,a,s,u=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++u,this);return this}function Dm(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Hm(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Fm(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Vm(t){for(var e=this,n=Um(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Um(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function qm(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Gm(){return Array.from(this)}function Xm(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Ym(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Km(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Tr(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Qm)):e===void 0&&(e=Jm);for(var n=new ho(t),r,i=[n],o,a,s,u;r=i.pop();)if((a=e(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,s=u-1;s>=0;--s)i.push(o=a[s]=new ho(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(ey)}function Zm(){return Tr(this).eachBefore(ty)}function Jm(t){return t.children}function Qm(t){return Array.isArray(t)?t[1]:null}function ty(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function ey(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ho(t){this.data=t,this.depth=this.height=0,this.parent=null}ho.prototype=Tr.prototype={constructor:ho,count:Pm,each:Wm,eachAfter:Bm,eachBefore:zm,find:Dm,sum:Hm,sort:Fm,path:Vm,ancestors:qm,descendants:Gm,leaves:Xm,links:Ym,copy:Zm,[Symbol.iterator]:Km};function ny(t){return t==null?null:Gc(t)}function Gc(t){if(typeof t!="function")throw new Error;return t}function Kn(){return 0}function dr(t){return function(){return t}}const ry=1664525,iy=1013904223,Lu=4294967296;function oy(){let t=1;return()=>(t=(ry*t+iy)%Lu)/Lu}function ay(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sy(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function uy(t,e){for(var n=0,r=(t=sy(Array.from(t),e)).length,i=[],o,a;n<r;)o=t[n],a&&Xc(a,o)?++n:(a=cy(i=ly(i,o)),n=0);return a}function ly(t,e){var n,r;if(ea(e,t))return[e];for(n=0;n<t.length;++n)if(Wi(e,t[n])&&ea(Gr(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Wi(Gr(t[n],t[r]),e)&&Wi(Gr(t[n],e),t[r])&&Wi(Gr(t[r],e),t[n])&&ea(Yc(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Wi(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Xc(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function ea(t,e){for(var n=0;n<e.length;++n)if(!Xc(t,e[n]))return!1;return!0}function cy(t){switch(t.length){case 1:return fy(t[0]);case 2:return Gr(t[0],t[1]);case 3:return Yc(t[0],t[1],t[2])}}function fy(t){return{x:t.x,y:t.y,r:t.r}}function Gr(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,d=Math.sqrt(u*u+l*l);return{x:(n+o+u/d*c)/2,y:(r+a+l/d*c)/2,r:(d+i+s)/2}}function Yc(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,d=n.r,f=r-a,h=r-l,v=i-s,g=i-c,y=u-o,x=d-o,b=r*r+i*i-o*o,m=b-a*a-s*s+u*u,p=b-l*l-c*c+d*d,w=h*v-f*g,_=(v*p-g*m)/(w*2)-r,O=(g*y-v*x)/w,S=(h*m-f*p)/(w*2)-i,T=(f*x-h*y)/w,k=O*O+T*T-1,$=2*(o+_*O+S*T),N=_*_+S*S-o*o,R=-(Math.abs(k)>1e-6?($+Math.sqrt($*$-4*k*N))/(2*k):N/$);return{x:r+_+O*R,y:i+S+T*R,r:R}}function $u(t,e,n){var r=t.x-e.x,i,o,a=t.y-e.y,s,u,l=r*r+a*a;l?(o=e.r+n.r,o*=o,u=t.r+n.r,u*=u,o>u?(i=(l+u-o)/(2*l),s=Math.sqrt(Math.max(0,u/l-i*i)),n.x=t.x-i*r-s*a,n.y=t.y-i*a+s*r):(i=(l+o-u)/(2*l),s=Math.sqrt(Math.max(0,o/l-i*i)),n.x=e.x+i*r-s*a,n.y=e.y+i*a+s*r)):(n.x=e.x+n.r,n.y=e.y)}function Tu(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Nu(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function zi(t){this._=t,this.next=null,this.previous=null}function dy(t,e){if(!(o=(t=ay(t)).length))return 0;var n,r,i,o,a,s,u,l,c,d,f;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;$u(r,n,i=t[2]),n=new zi(n),r=new zi(r),i=new zi(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(u=3;u<o;++u){$u(n._,r._,i=t[u]),i=new zi(i),l=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(Tu(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue t}d+=l._.r,l=l.next}else{if(Tu(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue t}f+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=Nu(n);(i=i.next)!==r;)(s=Nu(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=uy(n,e),u=0;u<o;++u)n=t[u],n.x-=i.x,n.y-=i.y;return i.r}function hy(t){return Math.sqrt(t.value)}function py(){var t=null,e=1,n=1,r=Kn;function i(o){const a=oy();return o.x=e/2,o.y=n/2,t?o.eachBefore(ju(t)).eachAfter(na(r,.5,a)).eachBefore(Iu(1)):o.eachBefore(ju(hy)).eachAfter(na(Kn,1,a)).eachAfter(na(r,o.r/Math.min(e,n),a)).eachBefore(Iu(Math.min(e,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=ny(o),i):t},i.size=function(o){return arguments.length?(e=+o[0],n=+o[1],i):[e,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:dr(+o),i):r},i}function ju(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function na(t,e,n){return function(r){if(i=r.children){var i,o,a=i.length,s=t(r)*e||0,u;if(s)for(o=0;o<a;++o)i[o].r+=s;if(u=dy(i,n),s)for(o=0;o<a;++o)i[o].r-=s;r.r=u+s}}}function Iu(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Kc(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function To(t,e,n,r,i){for(var o=t.children,a,s=-1,u=o.length,l=t.value&&(r-e)/t.value;++s<u;)a=o[s],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*l}function vy(){var t=1,e=1,n=0,r=!1;function i(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/s,a.eachBefore(o(e,s)),r&&a.eachBefore(Kc),a}function o(a,s){return function(u){u.children&&To(u,u.x0,a*(u.depth+1)/s,u.x1,a*(u.depth+2)/s);var l=u.x0,c=u.y0,d=u.x1-n,f=u.y1-n;d<l&&(l=d=(l+d)/2),f<c&&(c=f=(c+f)/2),u.x0=l,u.y0=c,u.x1=d,u.y1=f}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(t=+a[0],e=+a[1],i):[t,e]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}function ms(t,e,n,r,i){for(var o=t.children,a,s=-1,u=o.length,l=t.value&&(i-n)/t.value;++s<u;)a=o[s],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*l}var gy=(1+Math.sqrt(5))/2;function my(t,e,n,r,i,o){for(var a=[],s=e.children,u,l,c=0,d=0,f=s.length,h,v,g=e.value,y,x,b,m,p,w,_;c<f;){h=i-n,v=o-r;do y=s[d++].value;while(!y&&d<f);for(x=b=y,w=Math.max(v/h,h/v)/(g*t),_=y*y*w,p=Math.max(b/_,_/x);d<f;++d){if(y+=l=s[d].value,l<x&&(x=l),l>b&&(b=l),_=y*y*w,m=Math.max(b/_,_/x),m>p){y-=l;break}p=m}a.push(u={value:y,dice:h<v,children:s.slice(c,d)}),u.dice?To(u,n,r,i,g?r+=v*y/g:o):ms(u,n,r,g?n+=h*y/g:i,o),g-=y,c=d}return a}const Zc=function t(e){function n(r,i,o,a,s){my(e,r,i,o,a,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(gy);function yy(){var t=Zc,e=!1,n=1,r=1,i=[0],o=Kn,a=Kn,s=Kn,u=Kn,l=Kn;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],e&&f.eachBefore(Kc),f}function d(f){var h=i[f.depth],v=f.x0+h,g=f.y0+h,y=f.x1-h,x=f.y1-h;y<v&&(v=y=(v+y)/2),x<g&&(g=x=(g+x)/2),f.x0=v,f.y0=g,f.x1=y,f.y1=x,f.children&&(h=i[f.depth+1]=o(f)/2,v+=l(f)-h,g+=a(f)-h,y-=s(f)-h,x-=u(f)-h,y<v&&(v=y=(v+y)/2),x<g&&(g=x=(g+x)/2),t(f,v,g,y,x))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(t=Gc(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:dr(+f),c):o},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(a=typeof f=="function"?f:dr(+f),c):a},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:dr(+f),c):s},c.paddingBottom=function(f){return arguments.length?(u=typeof f=="function"?f:dr(+f),c):u},c.paddingLeft=function(f){return arguments.length?(l=typeof f=="function"?f:dr(+f),c):l},c}function xy(t,e,n,r,i){var o=t.children,a,s=o.length,u,l=new Array(s+1);for(l[0]=u=a=0;a<s;++a)l[a+1]=u+=o[a].value;c(0,s,t.value,e,n,r,i);function c(d,f,h,v,g,y,x){if(d>=f-1){var b=o[d];b.x0=v,b.y0=g,b.x1=y,b.y1=x;return}for(var m=l[d],p=h/2+m,w=d+1,_=f-1;w<_;){var O=w+_>>>1;l[O]<p?w=O+1:_=O}p-l[w-1]<l[w]-p&&d+1<w&&--w;var S=l[w]-m,T=h-S;if(y-v>x-g){var k=h?(v*T+y*S)/h:y;c(d,w,S,v,g,k,x),c(w,f,T,k,g,y,x)}else{var $=h?(g*T+x*S)/h:x;c(d,w,S,v,g,y,$),c(w,f,T,v,$,y,x)}}}function by(t,e,n,r,i){(t.depth&1?ms:To)(t,e,n,r,i)}function Xr(t,e,n){this.k=t,this.x=e,this.y=n}Xr.prototype={constructor:Xr,scale:function(t){return t===1?this:new Xr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Xr.prototype;function wy({className:t}){const e=A.useRef(null),{events:n}=qe(),[r,i]=A.useState({nodes:0,links:0});return A.useEffect(()=>{if(!e.current||n.length===0)return;const o=new Map,a=[];n.slice(0,50).forEach(g=>{o.has(g.user)?o.get(g.user).value++:o.set(g.user,{id:g.user,group:"user",value:1}),o.has(g.title)?o.get(g.title).value++:o.set(g.title,{id:g.title,group:"article",value:1}),a.push({source:g.user,target:g.title})});const s=Array.from(o.values());i({nodes:s.length,links:a.length}),xn(e.current).selectAll("*").remove();const u=e.current.clientWidth,l=e.current.clientHeight,c=xn(e.current).attr("viewBox",[0,0,u,l]),d=km(s).force("link",ym(a).id(g=>g.id).distance(50)).force("charge",Sm().strength(-100)).force("center",Zg(u/2,l/2)).force("collide",gm().radius(20)),f=c.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(a).join("line").attr("stroke-width",1),h=c.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(s).join("circle").attr("r",g=>g.group==="user"?5:8).attr("fill",g=>g.group==="user"?"#3b82f6":"#10b981").call(v(d));h.append("title").text(g=>g.id),d.on("tick",()=>{f.attr("x1",g=>g.source.x).attr("y1",g=>g.source.y).attr("x2",g=>g.target.x).attr("y2",g=>g.target.y),h.attr("cx",g=>g.x).attr("cy",g=>g.y)});function v(g){function y(m){m.active||g.alphaTarget(.3).restart(),m.subject.fx=m.subject.x,m.subject.fy=m.subject.y}function x(m){m.subject.fx=m.x,m.subject.fy=m.y}function b(m){m.active||g.alphaTarget(0),m.subject.fx=null,m.subject.fy=null}return Wv().on("start",y).on("drag",x).on("end",b)}return()=>{d.stop()}},[n]),C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("h3",{className:"font-semibold text-sm",children:"Editor-Article Network"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs(cu,{variant:"secondary",children:[r.nodes," Nodes"]}),C.jsxs(cu,{variant:"secondary",children:[r.links," Links"]})]})]}),C.jsx("svg",{ref:e,className:"w-full h-[300px] bg-slate-950/50 rounded-lg"})]})}function Pu(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Jc(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function ra(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function _y(t){return t.target.depth}function My(t){return t.depth}function Cy(t,e){return e-1-t.height}function Qc(t,e){return t.sourceLinks.length?t.depth:e-1}function Ay(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Jc(t.sourceLinks,_y)-1:0}function Bi(t){return function(){return t}}function Wu(t,e){return po(t.source,e.source)||t.index-e.index}function zu(t,e){return po(t.target,e.target)||t.index-e.index}function po(t,e){return t.y0-e.y0}function ia(t){return t.value}function ky(t){return t.index}function Sy(t){return t.nodes}function Oy(t){return t.links}function Bu(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Du({nodes:t}){for(const e of t){let n=e.y0,r=n;for(const i of e.sourceLinks)i.y0=n+i.width/2,n+=i.width;for(const i of e.targetLinks)i.y1=r+i.width/2,r+=i.width}}function Ry(){let t=0,e=0,n=1,r=1,i=24,o=8,a,s=ky,u=Qc,l,c,d=Sy,f=Oy,h=6;function v(){const E={nodes:d.apply(null,arguments),links:f.apply(null,arguments)};return g(E),y(E),x(E),b(E),w(E),Du(E),E}v.update=function(E){return Du(E),E},v.nodeId=function(E){return arguments.length?(s=typeof E=="function"?E:Bi(E),v):s},v.nodeAlign=function(E){return arguments.length?(u=typeof E=="function"?E:Bi(E),v):u},v.nodeSort=function(E){return arguments.length?(l=E,v):l},v.nodeWidth=function(E){return arguments.length?(i=+E,v):i},v.nodePadding=function(E){return arguments.length?(o=a=+E,v):o},v.nodes=function(E){return arguments.length?(d=typeof E=="function"?E:Bi(E),v):d},v.links=function(E){return arguments.length?(f=typeof E=="function"?E:Bi(E),v):f},v.linkSort=function(E){return arguments.length?(c=E,v):c},v.size=function(E){return arguments.length?(t=e=0,n=+E[0],r=+E[1],v):[n-t,r-e]},v.extent=function(E){return arguments.length?(t=+E[0][0],n=+E[1][0],e=+E[0][1],r=+E[1][1],v):[[t,e],[n,r]]},v.iterations=function(E){return arguments.length?(h=+E,v):h};function g({nodes:E,links:I}){for(const[L,B]of E.entries())B.index=L,B.sourceLinks=[],B.targetLinks=[];const P=new Map(E.map((L,B)=>[s(L,B,E),L]));for(const[L,B]of I.entries()){B.index=L;let{source:D,target:K}=B;typeof D!="object"&&(D=B.source=Bu(P,D)),typeof K!="object"&&(K=B.target=Bu(P,K)),D.sourceLinks.push(B),K.targetLinks.push(B)}if(c!=null)for(const{sourceLinks:L,targetLinks:B}of E)L.sort(c),B.sort(c)}function y({nodes:E}){for(const I of E)I.value=I.fixedValue===void 0?Math.max(ra(I.sourceLinks,ia),ra(I.targetLinks,ia)):I.fixedValue}function x({nodes:E}){const I=E.length;let P=new Set(E),L=new Set,B=0;for(;P.size;){for(const D of P){D.depth=B;for(const{target:K}of D.sourceLinks)L.add(K)}if(++B>I)throw new Error("circular link");P=L,L=new Set}}function b({nodes:E}){const I=E.length;let P=new Set(E),L=new Set,B=0;for(;P.size;){for(const D of P){D.height=B;for(const{source:K}of D.targetLinks)L.add(K)}if(++B>I)throw new Error("circular link");P=L,L=new Set}}function m({nodes:E}){const I=Pu(E,B=>B.depth)+1,P=(n-t-i)/(I-1),L=new Array(I);for(const B of E){const D=Math.max(0,Math.min(I-1,Math.floor(u.call(null,B,I))));B.layer=D,B.x0=t+D*P,B.x1=B.x0+i,L[D]?L[D].push(B):L[D]=[B]}if(l)for(const B of L)B.sort(l);return L}function p(E){const I=Jc(E,P=>(r-e-(P.length-1)*a)/ra(P,ia));for(const P of E){let L=e;for(const B of P){B.y0=L,B.y1=L+B.value*I,L=B.y1+a;for(const D of B.sourceLinks)D.width=D.value*I}L=(r-L+a)/(P.length+1);for(let B=0;B<P.length;++B){const D=P[B];D.y0+=L*(B+1),D.y1+=L*(B+1)}N(P)}}function w(E){const I=m(E);a=Math.min(o,(r-e)/(Pu(I,P=>P.length)-1)),p(I);for(let P=0;P<h;++P){const L=Math.pow(.99,P),B=Math.max(1-L,(P+1)/h);O(I,L,B),_(I,L,B)}}function _(E,I,P){for(let L=1,B=E.length;L<B;++L){const D=E[L];for(const K of D){let V=0,U=0;for(const{source:nt,value:st}of K.targetLinks){let G=st*(K.layer-nt.layer);V+=R(nt,K)*G,U+=G}if(!(U>0))continue;let tt=(V/U-K.y0)*I;K.y0+=tt,K.y1+=tt,$(K)}l===void 0&&D.sort(po),S(D,P)}}function O(E,I,P){for(let L=E.length,B=L-2;B>=0;--B){const D=E[B];for(const K of D){let V=0,U=0;for(const{target:nt,value:st}of K.sourceLinks){let G=st*(nt.layer-K.layer);V+=W(K,nt)*G,U+=G}if(!(U>0))continue;let tt=(V/U-K.y0)*I;K.y0+=tt,K.y1+=tt,$(K)}l===void 0&&D.sort(po),S(D,P)}}function S(E,I){const P=E.length>>1,L=E[P];k(E,L.y0-a,P-1,I),T(E,L.y1+a,P+1,I),k(E,r,E.length-1,I),T(E,e,0,I)}function T(E,I,P,L){for(;P<E.length;++P){const B=E[P],D=(I-B.y0)*L;D>1e-6&&(B.y0+=D,B.y1+=D),I=B.y1+a}}function k(E,I,P,L){for(;P>=0;--P){const B=E[P],D=(B.y1-I)*L;D>1e-6&&(B.y0-=D,B.y1-=D),I=B.y0-a}}function $({sourceLinks:E,targetLinks:I}){if(c===void 0){for(const{source:{sourceLinks:P}}of I)P.sort(zu);for(const{target:{targetLinks:P}}of E)P.sort(Wu)}}function N(E){if(c===void 0)for(const{sourceLinks:I,targetLinks:P}of E)I.sort(zu),P.sort(Wu)}function R(E,I){let P=E.y0-(E.sourceLinks.length-1)*a/2;for(const{target:L,width:B}of E.sourceLinks){if(L===I)break;P+=B+a}for(const{source:L,width:B}of I.targetLinks){if(L===E)break;P-=B}return P}function W(E,I){let P=I.y0-(I.targetLinks.length-1)*a/2;for(const{source:L,width:B}of I.targetLinks){if(L===E)break;P+=B+a}for(const{target:L,width:B}of E.sourceLinks){if(L===I)break;P-=B}return P}return v}var La=Math.PI,$a=2*La,Xn=1e-6,Ey=$a-Xn;function Ta(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function tf(){return new Ta}Ta.prototype=tf.prototype={constructor:Ta,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,d=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Xn)if(!(Math.abs(c*s-u*l)>Xn)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-o,h=r-a,v=s*s+u*u,g=f*f+h*h,y=Math.sqrt(v),x=Math.sqrt(d),b=i*Math.tan((La-Math.acos((v+d-g)/(2*y*x)))/2),m=b/x,p=b/y;Math.abs(m-1)>Xn&&(this._+="L"+(t+m*l)+","+(e+m*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*h)+","+(this._x1=t+p*s)+","+(this._y1=e+p*u)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>Xn||Math.abs(this._y1-l)>Xn)&&(this._+="L"+u+","+l),n&&(d<0&&(d=d%$a+$a),d>Ey?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):d>Xn&&(this._+="A"+n+","+n+",0,"+ +(d>=La)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Ly=Wh,$y=1,Ty=4;function Ny(t){return Ly(t,$y|Ty)}var jy=Ny;const ys=Er(jy);function rr(){return rr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rr.apply(null,arguments)}function ef(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oa={container:{display:"flex",alignItems:"center"},sourceChip:{marginRight:7},targetChip:{marginLeft:7,marginRight:7}},Iy={center:Ay,justify:Qc,start:My,end:Cy},Py=function(t){return Iy[t]},It={layout:"horizontal",align:"center",sort:"auto",colors:{scheme:"nivo"},nodeOpacity:.75,nodeHoverOpacity:1,nodeHoverOthersOpacity:.15,nodeThickness:12,nodeInnerPadding:0,nodeBorderWidth:1,nodeBorderColor:{from:"color",modifiers:[["darker",.5]]},nodeBorderRadius:0,linkOpacity:.25,linkHoverOpacity:.6,linkHoverOthersOpacity:.15,linkContract:0,linkBlendMode:"multiply",enableLinkGradient:!1,enableLabels:!0,label:"id",labelPosition:"inside",labelPadding:9,labelOrientation:"horizontal",labelTextColor:{from:"color",modifiers:[["darker",.8]]},labelComponent:zn,isInteractive:!0,nodeTooltip:function(t){var e=t.node;return C.jsx(er,{id:e.label,enableChip:!0,color:e.color})},linkTooltip:function(t){var e=t.link;return C.jsx(er,{id:C.jsxs("span",{style:oa.container,children:[C.jsx(ri,{color:e.source.color,style:oa.sourceChip}),C.jsx("strong",{children:e.source.label})," > ",C.jsx("strong",{children:e.target.label}),C.jsx(ri,{color:e.target.color,style:oa.targetChip}),C.jsx("strong",{children:e.formattedValue})]})})},legends:[],layers:["links","nodes","labels","legends"],role:"img",animate:!0,motionConfig:"gentle"},Wy=function(t){return t.id},zy=function(t){var e=t.data,n=t.valueFormat,r=t.layout,i=t.width,o=t.height,a=t.sort,s=t.align,u=t.colors,l=t.nodeThickness,c=t.nodeSpacing,d=t.nodeInnerPadding,f=t.nodeBorderColor,h=t.label,v=t.labelTextColor,g=A.useState(null),y=g[0],x=g[1],b=A.useState(null),m=b[0],p=b[1],w=A.useMemo(function(){if(a!=="auto")return a==="input"?null:a==="ascending"?function(L,B){return L.value-B.value}:a==="descending"?function(L,B){return B.value-L.value}:a},[a]),_=a==="input"?null:void 0,O=A.useMemo(function(){return typeof s=="function"?s:Py(s)},[s]),S=ce(),T=gi(u,"id"),k=me(f,S),$=kn(h),N=me(v,S),R=Je(n),W=A.useMemo(function(){return function(L){var B=L.data,D=L.formatValue,K=L.layout,V=L.alignFunction,U=L.sortFunction,tt=L.linkSortMode,nt=L.nodeThickness,st=L.nodeSpacing,G=L.nodeInnerPadding,Y=L.width,at=L.height,ct=L.getColor,xt=L.getLabel,pt=Ry().nodeAlign(V).nodeSort(U).linkSort(tt).nodeWidth(nt).nodePadding(st).size(K==="horizontal"?[Y,at]:[at,Y]).nodeId(Wy),Ot=ys(B);return pt(Ot),Ot.nodes.forEach(function(H){if(H.color=ct(H),H.label=xt(H),H.formattedValue=D(H.value),K==="horizontal")H.x=H.x0+G,H.y=H.y0,H.width=Math.max(H.x1-H.x0-2*G,0),H.height=Math.max(H.y1-H.y0,0);else{H.x=H.y0,H.y=H.x0+G,H.width=Math.max(H.y1-H.y0,0),H.height=Math.max(H.x1-H.x0-2*G,0);var _t=H.x0,vt=H.x1;H.x0=H.y0,H.x1=H.y1,H.y0=_t,H.y1=vt}}),Ot.links.forEach(function(H){H.formattedValue=D(H.value),H.color=H.source.color,H.pos0=H.y0,H.pos1=H.y1,H.thickness=H.width,delete H.y0,delete H.y1,delete H.width}),Ot}({data:e,formatValue:R,layout:r,alignFunction:O,sortFunction:w,linkSortMode:_,nodeThickness:l,nodeSpacing:c,nodeInnerPadding:d,width:i,height:o,getColor:T,getLabel:$})},[e,R,r,O,w,_,l,c,d,i,o,T,$]),E=W.nodes,I=W.links,P=A.useMemo(function(){return E.map(function(L){return{id:L.id,label:L.label,color:L.color}})},[E]);return{nodes:E,links:I,legendData:P,getNodeBorderColor:k,currentNode:y,setCurrentNode:x,currentLink:m,setCurrentLink:p,getLabelTextColor:N}},By=function(t){var e=t.node,n=t.x,r=t.y,i=t.width,o=t.height,a=t.color,s=t.opacity,u=t.borderWidth,l=t.borderColor,c=t.borderRadius,d=t.setCurrent,f=t.isInteractive,h=t.onClick,v=t.tooltip,g=nn(),y=g.animate,x=g.config,b=Oo({x:n,y:r,width:i,height:o,opacity:s,color:a,config:x,immediate:!y}),m=ze(),p=m.showTooltipFromEvent,w=m.hideTooltip,_=A.useCallback(function(k){d(e),p(A.createElement(v,{node:e}),k,"left")},[d,e,p,v]),O=A.useCallback(function(k){p(A.createElement(v,{node:e}),k,"left")},[p,e,v]),S=A.useCallback(function(){d(null),w()},[d,w]),T=A.useCallback(function(k){h==null||h(e,k)},[h,e]);return C.jsx(Oe.rect,{x:b.x,y:b.y,rx:c,ry:c,width:b.width.to(function(k){return Math.max(k,0)}),height:b.height.to(function(k){return Math.max(k,0)}),fill:b.color,fillOpacity:b.opacity,strokeWidth:u,stroke:l,strokeOpacity:s,onMouseEnter:f?_:void 0,onMouseMove:f?O:void 0,onMouseLeave:f?S:void 0,onClick:f?T:void 0})},Dy=function(t){var e=t.nodes,n=t.nodeOpacity,r=t.nodeHoverOpacity,i=t.nodeHoverOthersOpacity,o=t.borderWidth,a=t.getBorderColor,s=t.borderRadius,u=t.setCurrentNode,l=t.currentNode,c=t.currentLink,d=t.isCurrentNode,f=t.isInteractive,h=t.onClick,v=t.tooltip,g=function(y){return l||c?d(y)?r:i:n};return C.jsx(C.Fragment,{children:e.map(function(y){return C.jsx(By,{node:y,x:y.x,y:y.y,width:y.width,height:y.height,color:y.color,opacity:g(y),borderWidth:o,borderColor:a(y),borderRadius:s,setCurrent:u,isInteractive:f,onClick:h,tooltip:v},y.id)})})},Hy=function(t){var e=t.id,n=t.layout,r=t.startColor,i=t.endColor;return C.jsxs("linearGradient",rr({id:e,spreadMethod:"pad"},n==="horizontal"?{x1:"0%",x2:"100%",y1:"0%",y2:"0%"}:{x1:"0%",x2:"0%",y1:"0%",y2:"100%"},{children:[C.jsx("stop",{offset:"0%",stopColor:r}),C.jsx("stop",{offset:"100%",stopColor:i})]}))},Fy=function(t){var e=t.link,n=t.layout,r=t.path,i=t.color,o=t.opacity,a=t.blendMode,s=t.enableGradient,u=t.setCurrent,l=t.tooltip,c=t.isInteractive,d=t.onClick,f=e.source.id+"."+e.target.id+"."+e.index,h=nn(),v=h.animate,g=h.config,y=pc(r),x=Oo({color:i,opacity:o,config:g,immediate:!v}),b=ze(),m=b.showTooltipFromEvent,p=b.hideTooltip,w=A.useCallback(function(T){u(e),m(A.createElement(l,{link:e}),T,"left")},[u,e,m,l]),_=A.useCallback(function(T){m(A.createElement(l,{link:e}),T,"left")},[m,e,l]),O=A.useCallback(function(){u(null),p()},[u,p]),S=A.useCallback(function(T){d==null||d(e,T)},[d,e]);return C.jsxs(C.Fragment,{children:[s&&C.jsx(Hy,{id:f,layout:n,startColor:e.startColor||e.source.color,endColor:e.endColor||e.target.color}),C.jsx(Oe.path,{fill:s?'url("#'+encodeURI(f)+'")':x.color,d:y,fillOpacity:x.opacity,onMouseEnter:c?w:void 0,onMouseMove:c?_:void 0,onMouseLeave:c?O:void 0,onClick:c?S:void 0,style:{mixBlendMode:a}})]})},Vy=function(t){var e=t.links,n=t.layout,r=t.linkOpacity,i=t.linkHoverOpacity,o=t.linkHoverOthersOpacity,a=t.linkContract,s=t.linkBlendMode,u=t.enableLinkGradient,l=t.setCurrentLink,c=t.currentLink,d=t.currentNode,f=t.isCurrentLink,h=t.isInteractive,v=t.onClick,g=t.tooltip,y=function(b){return d||c?f(b)?i:o:r},x=A.useMemo(function(){return n==="horizontal"?(b=ro().curve(mh),function(m,p){var w=Math.max(1,m.thickness-2*p)/2,_=.12*(m.target.x0-m.source.x1),O=[[m.source.x1,m.pos0-w],[m.source.x1+_,m.pos0-w],[m.target.x0-_,m.pos1-w],[m.target.x0,m.pos1-w],[m.target.x0,m.pos1+w],[m.target.x0-_,m.pos1+w],[m.source.x1+_,m.pos0+w],[m.source.x1,m.pos0+w],[m.source.x1,m.pos0-w]];return b(O)+"Z"}):function(){var m=ro().curve(yh);return function(p,w){var _=Math.max(1,p.thickness-2*w)/2,O=.12*(p.target.y0-p.source.y1),S=[[p.pos0+_,p.source.y1],[p.pos0+_,p.source.y1+O],[p.pos1+_,p.target.y0-O],[p.pos1+_,p.target.y0],[p.pos1-_,p.target.y0],[p.pos1-_,p.target.y0-O],[p.pos0-_,p.source.y1+O],[p.pos0-_,p.source.y1],[p.pos0+_,p.source.y1]];return m(S)+"Z"}}();var b},[n]);return C.jsx(C.Fragment,{children:e.map(function(b){return C.jsx(Fy,{link:b,layout:n,path:x(b,a),color:b.color,opacity:y(b),blendMode:s,enableGradient:u,setCurrent:l,isInteractive:h,onClick:v,tooltip:g},b.source.id+"."+b.target.id+"."+b.index)})})},Uy=function(t){var e=t.nodes,n=t.layout,r=t.width,i=t.height,o=t.labelPosition,a=t.labelPadding,s=t.labelOrientation,u=t.getLabelTextColor,l=t.labelComponent,c=ce(),d=s==="vertical"?-90:0,f=e.map(function(x){var b,m,p;return n==="horizontal"?(m=x.y+x.height/2,x.x<r/2?o==="inside"?(b=x.x1+a,p=s==="vertical"?"middle":"start"):(b=x.x-a,p=s==="vertical"?"middle":"end"):o==="inside"?(b=x.x-a,p=s==="vertical"?"middle":"end"):(b=x.x1+a,p=s==="vertical"?"middle":"start")):n==="vertical"&&(b=x.x+x.width/2,x.y<i/2?o==="inside"?(m=x.y1+a,p=s==="vertical"?"end":"middle"):(m=x.y-a,p=s==="vertical"?"start":"middle"):o==="inside"?(m=x.y-a,p=s==="vertical"?"start":"middle"):(m=x.y1+a,p=s==="vertical"?"end":"middle")),{id:x.id,label:x.label,x:b,y:m,textAnchor:p,color:u(x)}}),h=nn(),v=h.animate,g=h.config,y=Bh(f.length,f.map(function(x){return{transform:"translate("+x.x+", "+x.y+") rotate("+d+")",color:x.color,config:g,immediate:!v}}));return C.jsx(C.Fragment,{children:y.map(function(x,b){var m=f[b];return C.jsx(l,{dominantBaseline:"central",textAnchor:m.textAnchor,transform:x.transform,style:rr({},c.labels.text,{fill:x.color,pointerEvents:"none"}),node:e[b],children:m.label},m.id)})})},qy=["isInteractive","animate","motionConfig","theme","renderWrapper"],Gy=function(t){var e=t.data,n=t.valueFormat,r=t.layout,i=r===void 0?It.layout:r,o=t.sort,a=o===void 0?It.sort:o,s=t.align,u=s===void 0?It.align:s,l=t.width,c=t.height,d=t.margin,f=t.colors,h=f===void 0?It.colors:f,v=t.nodeThickness,g=v===void 0?It.nodeThickness:v,y=t.nodeSpacing,x=y===void 0?It.nodeThickness:y,b=t.nodeInnerPadding,m=b===void 0?It.nodeInnerPadding:b,p=t.nodeBorderColor,w=p===void 0?It.nodeBorderColor:p,_=t.nodeOpacity,O=_===void 0?It.nodeOpacity:_,S=t.nodeHoverOpacity,T=S===void 0?It.nodeHoverOpacity:S,k=t.nodeHoverOthersOpacity,$=k===void 0?It.nodeHoverOthersOpacity:k,N=t.nodeBorderWidth,R=N===void 0?It.nodeBorderWidth:N,W=t.nodeBorderRadius,E=W===void 0?It.nodeBorderRadius:W,I=t.linkOpacity,P=I===void 0?It.linkOpacity:I,L=t.linkHoverOpacity,B=L===void 0?It.linkHoverOpacity:L,D=t.linkHoverOthersOpacity,K=D===void 0?It.linkHoverOthersOpacity:D,V=t.linkContract,U=V===void 0?It.linkContract:V,tt=t.linkBlendMode,nt=tt===void 0?It.linkBlendMode:tt,st=t.enableLinkGradient,G=st===void 0?It.enableLinkGradient:st,Y=t.enableLabels,at=Y===void 0?It.enableLabels:Y,ct=t.labelComponent,xt=ct===void 0?It.labelComponent:ct,pt=t.labelPosition,Ot=pt===void 0?It.labelPosition:pt,H=t.labelPadding,_t=H===void 0?It.labelPadding:H,vt=t.labelOrientation,Rt=vt===void 0?It.labelOrientation:vt,Lt=t.label,Tt=Lt===void 0?It.label:Lt,dt=t.labelTextColor,gt=dt===void 0?It.labelTextColor:dt,X=t.nodeTooltip,Mt=X===void 0?It.nodeTooltip:X,At=t.linkTooltip,ut=At===void 0?It.linkTooltip:At,Z=t.isInteractive,St=Z===void 0?It.isInteractive:Z,bt=t.onClick,Nt=t.legends,lt=Nt===void 0?It.legends:Nt,J=t.layers,wt=J===void 0?It.layers:J,$t=t.role,j=$t===void 0?It.role:$t,q=t.ariaLabel,Q=t.ariaLabelledBy,ft=t.ariaDescribedBy,rt=t.forwardedRef,it=en(l,c,d),mt=it.margin,ot=it.innerWidth,yt=it.innerHeight,Wt=it.outerWidth,jt=it.outerHeight,Et=zy({data:e,valueFormat:n,layout:i,width:ot,height:yt,sort:a,align:u,colors:h,nodeThickness:g,nodeSpacing:x,nodeInnerPadding:m,nodeBorderColor:w,label:Tt,labelTextColor:gt}),qt=Et.nodes,Yt=Et.links,kt=Et.legendData,Ct=Et.getNodeBorderColor,Dt=Et.currentNode,fe=Et.setCurrentNode,Jt=Et.currentLink,Le=Et.setCurrentLink,_e=Et.getLabelTextColor,oe=A.useMemo(function(){var se=function(){return!1},ue=function(){return!1};if(Jt&&(se=function(re){var ae=re.id;return ae===Jt.source.id||ae===Jt.target.id},ue=function(re){var ae=re.source,Be=re.target;return ae.id===Jt.source.id&&Be.id===Jt.target.id}),Dt){var de=[Dt.id];Yt.filter(function(re){var ae=re.source,Be=re.target;return ae.id===Dt.id||Be.id===Dt.id}).forEach(function(re){var ae=re.source,Be=re.target;de.push(ae.id),de.push(Be.id)}),de=zh(de),se=function(re){var ae=re.id;return de.includes(ae)},ue=function(re){var ae=re.source,Be=re.target;return ae.id===Dt.id||Be.id===Dt.id}}return{isCurrentNode:se,isCurrentLink:ue}},[Jt,Dt,Yt]),et=oe.isCurrentNode,Ft=oe.isCurrentLink,Hn=A.useMemo(function(){return{links:Yt,nodes:qt,margin:mt,width:l,height:c,outerWidth:Wt,outerHeight:jt,currentNode:Dt,isCurrentNode:et,setCurrentNode:fe,currentLink:Jt,isCurrentLink:Ft,setCurrentLink:Le,isInteractive:St}},[Yt,qt,mt,l,c,Wt,jt,Dt,et,fe,Jt,Ft,Le,St]),Ht={links:null,nodes:null,labels:null,legends:null};return wt.includes("links")&&(Ht.links=C.jsx(Vy,{links:Yt,layout:i,linkContract:U,linkOpacity:P,linkHoverOpacity:B,linkHoverOthersOpacity:K,linkBlendMode:nt,enableLinkGradient:G,setCurrentLink:Le,currentNode:Dt,currentLink:Jt,isCurrentLink:Ft,isInteractive:St,onClick:bt,tooltip:ut},"links")),wt.includes("nodes")&&(Ht.nodes=C.jsx(Dy,{nodes:qt,nodeOpacity:O,nodeHoverOpacity:T,nodeHoverOthersOpacity:$,borderWidth:R,borderRadius:E,getBorderColor:Ct,setCurrentNode:fe,currentNode:Dt,currentLink:Jt,isCurrentNode:et,isInteractive:St,onClick:bt,tooltip:Mt},"nodes")),wt.includes("labels")&&at&&(Ht.labels=C.jsx(Uy,{nodes:qt,layout:i,width:ot,height:yt,labelPosition:Ot,labelPadding:_t,labelOrientation:Rt,getLabelTextColor:_e,labelComponent:xt},"labels")),wt.includes("legends")&&(Ht.legends=C.jsx(A.Fragment,{children:lt.map(function(se,ue){return C.jsx(vi,rr({},se,{containerWidth:ot,containerHeight:yt,data:kt}),"legend"+ue)})},"legends")),C.jsx(ar,{width:Wt,height:jt,margin:mt,role:j,ariaLabel:q,ariaLabelledBy:Q,ariaDescribedBy:ft,ref:rt,children:wt.map(function(se,ue){var de;return typeof se=="function"?C.jsx(A.Fragment,{children:A.createElement(se,Hn)},ue):(de=Ht==null?void 0:Ht[se])!=null?de:null})})},Xy=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?It.isInteractive:n,i=t.animate,o=i===void 0?It.animate:i,a=t.motionConfig,s=a===void 0?It.motionConfig:a,u=t.theme,l=t.renderWrapper,c=ef(t,qy);return C.jsx(tn,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:l,theme:u,children:C.jsx(Gy,rr({isInteractive:r},c,{forwardedRef:e}))})}),Yy=["defaultWidth","defaultHeight","onResize","debounceResize"],Ky=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=ef(t,Yy);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(Xy,rr({width:u,height:l},a,{ref:e}))}})});function Zy({className:t}){const{events:e}=qe(),[n,r]=A.useState({nodes:[],links:[]});return A.useEffect(()=>{const i=new Set,o=new Map;e.slice(0,100).forEach(u=>{const l=u.bot?"Bot":"Human",c=u.namespace===0?"Article":"Talk/Other",d=u.type==="new"?"Create":"Edit";i.add(l),i.add(c),i.add(d);const f=`${l}|${c}`;o.set(f,(o.get(f)||0)+1);const h=`${c}|${d}`;o.set(h,(o.get(h)||0)+1)});const a=Array.from(i).map(u=>({id:u})),s=Array.from(o.entries()).map(([u,l])=>{const[c,d]=u.split("|");return{source:c,target:d,value:l}});a.length>0&&s.length>0&&r({nodes:a,links:s})},[e]),C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Edit Flow Analysis"}),C.jsx("div",{className:"h-[300px]",children:C.jsx(Ky,{data:n,margin:{top:20,right:20,bottom:20,left:20},align:"justify",colors:{scheme:"category10"},nodeOpacity:1,nodeHoverOthersOpacity:.35,nodeThickness:18,nodeSpacing:24,nodeBorderWidth:0,nodeBorderColor:{from:"color",modifiers:[["darker",.8]]},linkOpacity:.5,linkHoverOthersOpacity:.1,enableLinkGradient:!0,labelPosition:"outside",labelOrientation:"vertical",labelPadding:16,labelTextColor:{from:"color",modifiers:[["darker",1]]},theme:{text:{fill:"#888888"},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}function Jy(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}var Qy=Jy;function tx(t){return function(e){return t==null?void 0:t[e]}}var ex=tx,nx=ex,rx={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ix=nx(rx),ox=ix,ax=ox,sx=fc,ux=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lx="\\u0300-\\u036f",cx="\\ufe20-\\ufe2f",fx="\\u20d0-\\u20ff",dx=lx+cx+fx,hx="["+dx+"]",px=RegExp(hx,"g");function vx(t){return t=sx(t),t&&t.replace(ux,ax).replace(px,"")}var gx=vx,mx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function yx(t){return t.match(mx)||[]}var xx=yx,bx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function wx(t){return bx.test(t)}var _x=wx,nf="\\ud800-\\udfff",Mx="\\u0300-\\u036f",Cx="\\ufe20-\\ufe2f",Ax="\\u20d0-\\u20ff",kx=Mx+Cx+Ax,rf="\\u2700-\\u27bf",of="a-z\\xdf-\\xf6\\xf8-\\xff",Sx="\\xac\\xb1\\xd7\\xf7",Ox="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rx="\\u2000-\\u206f",Ex=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",af="A-Z\\xc0-\\xd6\\xd8-\\xde",Lx="\\ufe0e\\ufe0f",sf=Sx+Ox+Rx+Ex,uf="[']",Hu="["+sf+"]",$x="["+kx+"]",lf="\\d+",Tx="["+rf+"]",cf="["+of+"]",ff="[^"+nf+sf+lf+rf+of+af+"]",Nx="\\ud83c[\\udffb-\\udfff]",jx="(?:"+$x+"|"+Nx+")",Ix="[^"+nf+"]",df="(?:\\ud83c[\\udde6-\\uddff]){2}",hf="[\\ud800-\\udbff][\\udc00-\\udfff]",hr="["+af+"]",Px="\\u200d",Fu="(?:"+cf+"|"+ff+")",Wx="(?:"+hr+"|"+ff+")",Vu="(?:"+uf+"(?:d|ll|m|re|s|t|ve))?",Uu="(?:"+uf+"(?:D|LL|M|RE|S|T|VE))?",pf=jx+"?",vf="["+Lx+"]?",zx="(?:"+Px+"(?:"+[Ix,df,hf].join("|")+")"+vf+pf+")*",Bx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hx=vf+pf+zx,Fx="(?:"+[Tx,df,hf].join("|")+")"+Hx,Vx=RegExp([hr+"?"+cf+"+"+Vu+"(?="+[Hu,hr,"$"].join("|")+")",Wx+"+"+Uu+"(?="+[Hu,hr+Fu,"$"].join("|")+")",hr+"?"+Fu+"+"+Vu,hr+"+"+Uu,Dx,Bx,lf,Fx].join("|"),"g");function Ux(t){return t.match(Vx)||[]}var qx=Ux,Gx=xx,Xx=_x,Yx=fc,Kx=qx;function Zx(t,e,n){return t=Yx(t),e=n?void 0:e,e===void 0?Xx(t)?Kx(t):Gx(t):t.match(e)||[]}var Jx=Zx,Qx=Qy,tb=gx,eb=Jx,nb="[']",rb=RegExp(nb,"g");function ib(t){return function(e){return Qx(eb(tb(e).replace(rb,"")),t,"")}}var ob=ib,ab=ob,sb=ip,ub=ab(function(t,e,n){return t+(n?" ":"")+sb(e)}),lb=ub;const cb=Er(lb);function le(){return le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},le.apply(null,arguments)}function Nr(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fb=function(t,e){return Fe([t,e],function(n,r){return"translate("+n+","+r+")"})},db=function(t,e){return Fe([t,e],function(n,r){return"translate("+n+"px, "+r+"px)"})},qu=function(t,e,n){return Fe([t,e,n],function(r,i,o){return"translate("+r+","+i+") rotate("+o+")"})},hb=function(t,e,n){return Fe([t,e,n],function(r,i,o){return"translate("+r+"px,"+i+"px) rotate("+o+"deg)"})},pb=function(t,e,n){return Fe([t,e,n],function(r,i,o){return"translate("+(r-(o===0?0:5))+"px,"+(i-(o===0?5:0))+"px) rotate("+o+"deg)"})},vb=A.memo(function(t){var e=t.node,n=t.animatedProps,r=t.borderWidth,i=t.enableLabel,o=t.enableParentLabel,a=t.labelSkipSize,s=ce(),u=i&&e.isLeaf&&(a===0||Math.min(e.width,e.height)>a),l=o&&e.isParent;return C.jsxs(Oe.g,{transform:fb(n.x,n.y),children:[C.jsx(Oe.rect,{"data-testid":"node."+e.id,width:Fe(n.width,function(c){return Math.max(c,0)}),height:Fe(n.height,function(c){return Math.max(c,0)}),fill:e.fill?e.fill:n.color,strokeWidth:r,stroke:e.borderColor,fillOpacity:e.opacity,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick}),u&&C.jsx(zn,{"data-testid":"label."+e.id,textAnchor:"middle",dominantBaseline:"central",style:le({},s.labels.text,{fill:e.labelTextColor,pointerEvents:"none"}),fillOpacity:n.labelOpacity,transform:qu(n.labelX,n.labelY,n.labelRotation),children:e.label}),l&&C.jsx(zn,{"data-testid":"parentLabel."+e.id,dominantBaseline:"central",style:le({},s.labels.text,{fill:e.parentLabelTextColor,pointerEvents:"none"}),fillOpacity:n.parentLabelOpacity,transform:qu(n.parentLabelX,n.parentLabelY,n.parentLabelRotation),children:e.parentLabel})]})}),gb=A.memo(function(t){var e=t.node;return C.jsx(er,{id:e.id,value:e.formattedValue,enableChip:!0,color:e.color})}),mb=A.memo(function(t){var e=t.node,n=t.animatedProps,r=t.borderWidth,i=t.enableLabel,o=t.enableParentLabel,a=t.labelSkipSize,s=ce(),u=i&&e.isLeaf&&(a===0||Math.min(e.width,e.height)>a),l=o&&e.isParent;return C.jsxs(Oe.div,{"data-testid":"node."+e.id,id:e.path.replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:0,left:0,transform:db(n.x,n.y),width:n.width,height:n.height,borderWidth:r,borderStyle:"solid",borderColor:e.borderColor,overflow:"hidden"},children:[C.jsx(Oe.div,{style:{boxSizing:"border-box",position:"absolute",top:0,left:0,opacity:e.opacity,width:n.width,height:n.height,background:n.color},onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick}),u&&C.jsx(Oe.span,{"data-testid":"label."+e.id,style:le({},s.labels.text,{position:"absolute",display:"flex",top:-5,left:-5,width:10,height:10,justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",color:e.labelTextColor,transformOrigin:"center center",transform:hb(n.labelX,n.labelY,n.labelRotation),opacity:n.labelOpacity,pointerEvents:"none"}),children:e.label}),l&&C.jsx(Oe.span,{"data-testid":"parentLabel."+e.id,style:le({},s.labels.text,{position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",whiteSpace:"nowrap",width:10,height:10,color:e.parentLabelTextColor,transformOrigin:"top left",transform:pb(n.parentLabelX,n.parentLabelY,n.parentLabelRotation),opacity:n.parentLabelOpacity,pointerEvents:"none"}),children:e.parentLabel})]})}),te={layers:["nodes"],identity:"id",value:"value",tile:"squarify",leavesOnly:!1,innerPadding:0,outerPadding:0,colors:{scheme:"nivo"},colorBy:"pathComponents.1",nodeOpacity:.33,enableLabel:!0,label:"formattedValue",labelSkipSize:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},orientLabel:!0,enableParentLabel:!0,parentLabel:"id",parentLabelSize:20,parentLabelPosition:"top",parentLabelPadding:6,parentLabelTextColor:{from:"color",modifiers:[["darker",1]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,tooltip:gb,role:"img",animate:!0,motionConfig:"gentle"},zt=le({},te,{nodeComponent:vb,defs:[],fill:[]}),Vt=le({},te,{nodeComponent:mb}),ee=le({},te,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),yb={binary:xy,dice:To,slice:ms,sliceDice:by,squarify:Zc},xb=function(t){var e=t.root,n=t.getValue;return A.useMemo(function(){return Tr(e).sum(n)},[e,n])},xs=function(t){var e=t.data,n=t.width,r=t.height,i=t.identity,o=i===void 0?te.identity:i,a=t.value,s=a===void 0?te.value:a,u=t.valueFormat,l=t.leavesOnly,c=l===void 0?te.leavesOnly:l,d=t.tile,f=d===void 0?te.tile:d,h=t.innerPadding,v=h===void 0?te.innerPadding:h,g=t.outerPadding,y=g===void 0?te.outerPadding:g,x=t.label,b=x===void 0?te.label:x,m=t.orientLabel,p=m===void 0?te.orientLabel:m,w=t.enableParentLabel,_=w===void 0?te.enableParentLabel:w,O=t.parentLabel,S=O===void 0?te.parentLabel:O,T=t.parentLabelSize,k=T===void 0?te.parentLabelSize:T,$=t.parentLabelPosition,N=$===void 0?te.parentLabelPosition:$,R=t.parentLabelPadding,W=R===void 0?te.parentLabelPadding:R,E=t.colors,I=E===void 0?te.colors:E,P=t.colorBy,L=P===void 0?te.colorBy:P,B=t.nodeOpacity,D=B===void 0?te.nodeOpacity:B,K=t.borderColor,V=K===void 0?te.borderColor:K,U=t.labelTextColor,tt=U===void 0?te.labelTextColor:U,nt=t.parentLabelTextColor,st=nt===void 0?te.parentLabelTextColor:nt,G=kn(o),Y=kn(s),at=Je(u),ct=kn(b),xt=kn(S),pt=function(X){var Mt=X.width,At=X.height,ut=X.tile,Z=X.innerPadding,St=X.outerPadding,bt=X.enableParentLabel,Nt=X.parentLabelSize,lt=X.parentLabelPosition,J=X.leavesOnly;return A.useMemo(function(){var wt=yy().size([Mt,At]).tile(yb[ut]).round(!0).paddingInner(Z).paddingOuter(St);if(bt&&!J){var $t=Nt+2*St;wt["padding"+cb(lt)]($t)}return wt},[Mt,At,ut,Z,St,bt,Nt,lt,J])}({width:n,height:r,tile:f,innerPadding:v,outerPadding:y,enableParentLabel:_,parentLabelSize:k,parentLabelPosition:N,leavesOnly:c}),Ot=xb({root:e,getValue:Y}),H=A.useMemo(function(){var X=ys(Ot);return pt(X),c?X.leaves():X.descendants()},[Ot,pt,c]),_t=A.useMemo(function(){return H.map(function(X){var Mt=function(St,bt){var Nt=St.ancestors().map(function(lt){return bt(lt.data)}).reverse();return{path:Nt.join("."),pathComponents:Nt}}(X,G),At=Mt.path,ut=Mt.pathComponents,Z={id:G(X.data),path:At,pathComponents:ut,data:Dh(X.data,"children"),x:X.x0,y:X.y0,width:X.x1-X.x0,height:X.y1-X.y0,value:X.value,formattedValue:at(X.value),treeDepth:X.depth,treeHeight:X.height,isParent:X.height>0,isLeaf:X.height===0,parentLabelX:0,parentLabelY:0,parentLabelRotation:0};return Z.labelRotation=p&&Z.height>Z.width?-90:0,N==="top"&&(Z.parentLabelX=y+W,Z.parentLabelY=y+k/2),N==="right"&&(Z.parentLabelX=Z.width-y-k/2,Z.parentLabelY=Z.height-y-W,Z.parentLabelRotation=-90),N==="bottom"&&(Z.parentLabelX=y+W,Z.parentLabelY=Z.height-y-k/2),N==="left"&&(Z.parentLabelX=y+k/2,Z.parentLabelY=Z.height-y-W,Z.parentLabelRotation=-90),Z.label=ct(Z),Z.parentLabel=xt(Z),Z})},[H,G,at,ct,p,xt,k,N,W,y]),vt=ce(),Rt=gi(I,L),Lt=me(V,vt),Tt=me(tt,vt),dt=me(st,vt),gt=A.useMemo(function(){return _t.map(function(X){var Mt=le({},X,{color:Rt(X),opacity:D});return Mt.borderColor=Lt(Mt),Mt.labelTextColor=Tt(Mt),Mt.parentLabelTextColor=dt(Mt),Mt})},[_t,Rt,D,Lt,Tt,dt]);return{hierarchy:Ot,nodes:gt,layout:pt}},gf=function(t){var e=t.nodes;return A.useMemo(function(){return{nodes:e}},[e])},aa=function(t){return{x:t.x,y:t.y,width:t.width,height:t.height,color:t.color,labelX:t.width/2,labelY:t.height/2,labelRotation:t.labelRotation,labelOpacity:1,parentLabelX:t.parentLabelX,parentLabelY:t.parentLabelY,parentLabelRotation:t.parentLabelRotation,parentLabelOpacity:1}},Gu=function(t){return{x:t.x+t.width/2,y:t.y+t.height/2,width:0,height:0,color:t.color,labelX:0,labelY:0,labelRotation:t.labelRotation,labelOpacity:0,parentLabelX:0,parentLabelY:0,parentLabelRotation:t.parentLabelRotation,parentLabelOpacity:0}},mf=A.memo(function(t){var e=t.nodes,n=t.nodeComponent,r=t.borderWidth,i=t.enableLabel,o=t.labelSkipSize,a=t.enableParentLabel,s=function(f,h){var v=h.isInteractive,g=h.onMouseEnter,y=h.onMouseMove,x=h.onMouseLeave,b=h.onClick,m=h.tooltip,p=ze(),w=p.showTooltipFromEvent,_=p.hideTooltip,O=A.useCallback(function(N,R){w(A.createElement(m,{node:N}),R,"left")},[w,m]),S=A.useCallback(function(N,R){O(N,R),g==null||g(N,R)},[g,O]),T=A.useCallback(function(N,R){O(N,R),y==null||y(N,R)},[y,O]),k=A.useCallback(function(N,R){_(),x==null||x(N,R)},[x,_]),$=A.useCallback(function(N,R){b==null||b(N,R)},[b]);return A.useMemo(function(){return f.map(function(N){return v?le({},N,{onMouseEnter:function(R){return S(N,R)},onMouseMove:function(R){return T(N,R)},onMouseLeave:function(R){return k(N,R)},onClick:function(R){return $(N,R)}}):N})},[v,f,S,T,k,$])}(e,{isInteractive:t.isInteractive,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick,tooltip:t.tooltip}),u=nn(),l=u.animate,c=u.config,d=Lr(s,{keys:function(f){return f.path},initial:aa,from:Gu,enter:aa,update:aa,leave:Gu,config:c,immediate:!l});return C.jsx(C.Fragment,{children:d(function(f,h){return A.createElement(n,{key:h.path,node:h,animatedProps:f,borderWidth:r,enableLabel:i,labelSkipSize:o,enableParentLabel:a})})})}),bb=["isInteractive","animate","motionConfig","theme","renderWrapper"],wb=function(t){var e=t.data,n=t.identity,r=n===void 0?zt.identity:n,i=t.value,o=i===void 0?zt.value:i,a=t.valueFormat,s=t.tile,u=s===void 0?zt.tile:s,l=t.nodeComponent,c=l===void 0?zt.nodeComponent:l,d=t.innerPadding,f=d===void 0?zt.innerPadding:d,h=t.outerPadding,v=h===void 0?zt.outerPadding:h,g=t.leavesOnly,y=g===void 0?zt.leavesOnly:g,x=t.width,b=t.height,m=t.margin,p=t.layers,w=p===void 0?zt.layers:p,_=t.colors,O=_===void 0?zt.colors:_,S=t.colorBy,T=S===void 0?zt.colorBy:S,k=t.nodeOpacity,$=k===void 0?zt.nodeOpacity:k,N=t.borderWidth,R=N===void 0?zt.borderWidth:N,W=t.borderColor,E=W===void 0?zt.borderColor:W,I=t.defs,P=I===void 0?zt.defs:I,L=t.fill,B=L===void 0?zt.fill:L,D=t.enableLabel,K=D===void 0?zt.enableLabel:D,V=t.label,U=V===void 0?zt.label:V,tt=t.labelTextColor,nt=tt===void 0?zt.labelTextColor:tt,st=t.orientLabel,G=st===void 0?zt.orientLabel:st,Y=t.labelSkipSize,at=Y===void 0?zt.labelSkipSize:Y,ct=t.enableParentLabel,xt=ct===void 0?zt.enableParentLabel:ct,pt=t.parentLabel,Ot=pt===void 0?zt.parentLabel:pt,H=t.parentLabelSize,_t=H===void 0?zt.parentLabelSize:H,vt=t.parentLabelPosition,Rt=vt===void 0?zt.parentLabelPosition:vt,Lt=t.parentLabelPadding,Tt=Lt===void 0?zt.parentLabelPadding:Lt,dt=t.parentLabelTextColor,gt=dt===void 0?zt.parentLabelTextColor:dt,X=t.isInteractive,Mt=X===void 0?zt.isInteractive:X,At=t.onMouseEnter,ut=t.onMouseMove,Z=t.onMouseLeave,St=t.onClick,bt=t.tooltip,Nt=bt===void 0?zt.tooltip:bt,lt=t.role,J=t.ariaLabel,wt=t.ariaLabelledBy,$t=t.ariaDescribedBy,j=t.forwardedRef,q=en(x,b,m),Q=q.margin,ft=q.innerWidth,rt=q.innerHeight,it=q.outerWidth,mt=q.outerHeight,ot=xs({data:e,identity:r,value:o,valueFormat:a,leavesOnly:y,width:ft,height:rt,tile:u,innerPadding:f,outerPadding:v,colors:O,colorBy:T,nodeOpacity:$,borderColor:E,label:U,labelTextColor:nt,orientLabel:G,enableParentLabel:xt,parentLabel:Ot,parentLabelSize:_t,parentLabelPosition:Rt,parentLabelPadding:Tt,parentLabelTextColor:gt}).nodes,yt={nodes:null};w.includes("nodes")&&(yt.nodes=C.jsx(mf,{nodes:ot,nodeComponent:c,borderWidth:R,enableLabel:K,labelSkipSize:at,enableParentLabel:xt,isInteractive:Mt,onMouseEnter:At,onMouseMove:ut,onMouseLeave:Z,onClick:St,tooltip:Nt},"nodes"));var Wt=gf({nodes:ot}),jt=ns(P,ot,B);return C.jsx(ar,{width:it,height:mt,margin:Q,defs:jt,role:lt,ariaLabel:J,ariaLabelledBy:wt,ariaDescribedBy:$t,ref:j,children:w.map(function(Et,qt){var Yt;return typeof Et=="function"?C.jsx(A.Fragment,{children:A.createElement(Et,Wt)},qt):(Yt=yt==null?void 0:yt[Et])!=null?Yt:null})})},_b=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?zt.isInteractive:n,i=t.animate,o=i===void 0?zt.animate:i,a=t.motionConfig,s=a===void 0?zt.motionConfig:a,u=t.theme,l=t.renderWrapper,c=Nr(t,bb);return C.jsx(tn,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:l,theme:u,children:C.jsx(wb,le({},c,{isInteractive:r,forwardedRef:e}))})}),Mb=["defaultWidth","defaultHeight","onResize","debounceResize"],Cb=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=Nr(t,Mb);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(_b,le({},a,{width:u,height:l,ref:e}))}})}),Ab=["isInteractive","animate","motionConfig","theme","renderWrapper"],kb=function(t){var e=t.data,n=t.identity,r=n===void 0?Vt.identity:n,i=t.value,o=i===void 0?Vt.value:i,a=t.tile,s=a===void 0?Vt.tile:a,u=t.nodeComponent,l=u===void 0?Vt.nodeComponent:u,c=t.valueFormat,d=t.innerPadding,f=d===void 0?Vt.innerPadding:d,h=t.outerPadding,v=h===void 0?Vt.outerPadding:h,g=t.leavesOnly,y=g===void 0?Vt.leavesOnly:g,x=t.width,b=t.height,m=t.margin,p=t.layers,w=p===void 0?zt.layers:p,_=t.colors,O=_===void 0?Vt.colors:_,S=t.colorBy,T=S===void 0?Vt.colorBy:S,k=t.nodeOpacity,$=k===void 0?Vt.nodeOpacity:k,N=t.borderWidth,R=N===void 0?Vt.borderWidth:N,W=t.borderColor,E=W===void 0?Vt.borderColor:W,I=t.enableLabel,P=I===void 0?Vt.enableLabel:I,L=t.label,B=L===void 0?Vt.label:L,D=t.labelTextColor,K=D===void 0?Vt.labelTextColor:D,V=t.orientLabel,U=V===void 0?Vt.orientLabel:V,tt=t.labelSkipSize,nt=tt===void 0?Vt.labelSkipSize:tt,st=t.enableParentLabel,G=st===void 0?Vt.enableParentLabel:st,Y=t.parentLabel,at=Y===void 0?Vt.parentLabel:Y,ct=t.parentLabelSize,xt=ct===void 0?Vt.parentLabelSize:ct,pt=t.parentLabelPosition,Ot=pt===void 0?Vt.parentLabelPosition:pt,H=t.parentLabelPadding,_t=H===void 0?Vt.parentLabelPadding:H,vt=t.parentLabelTextColor,Rt=vt===void 0?Vt.parentLabelTextColor:vt,Lt=t.isInteractive,Tt=Lt===void 0?Vt.isInteractive:Lt,dt=t.onMouseEnter,gt=t.onMouseMove,X=t.onMouseLeave,Mt=t.onClick,At=t.tooltip,ut=At===void 0?Vt.tooltip:At,Z=t.role,St=t.ariaLabel,bt=t.ariaLabelledBy,Nt=t.ariaDescribedBy,lt=t.forwardedRef,J=en(x,b,m),wt=J.margin,$t=J.innerWidth,j=J.innerHeight,q=J.outerWidth,Q=J.outerHeight,ft=xs({data:e,identity:r,value:o,valueFormat:c,leavesOnly:y,width:$t,height:j,tile:s,innerPadding:f,outerPadding:v,colors:O,colorBy:T,nodeOpacity:$,borderColor:E,label:B,labelTextColor:K,orientLabel:U,enableParentLabel:G,parentLabel:at,parentLabelSize:xt,parentLabelPosition:Ot,parentLabelPadding:_t,parentLabelTextColor:Rt}).nodes,rt={nodes:null};w.includes("nodes")&&(rt.nodes=C.jsx(mf,{nodes:ft,nodeComponent:l,borderWidth:R,enableLabel:P,labelSkipSize:nt,enableParentLabel:G,isInteractive:Tt,onMouseEnter:dt,onMouseMove:gt,onMouseLeave:X,onClick:Mt,tooltip:ut},"nodes"));var it=gf({nodes:ft});return C.jsx("div",{role:Z,"aria-label":St,"aria-labelledby":bt,"aria-describedby":Nt,style:{position:"relative",width:q,height:Q},ref:lt,children:C.jsx("div",{style:{position:"absolute",top:wt.top,left:wt.left},children:w.map(function(mt,ot){var yt;return typeof mt=="function"?C.jsx(A.Fragment,{children:A.createElement(mt,it)},ot):(yt=rt==null?void 0:rt[mt])!=null?yt:null})})})},Sb=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Vt.isInteractive:n,i=t.animate,o=i===void 0?Vt.animate:i,a=t.motionConfig,s=a===void 0?Vt.motionConfig:a,u=t.theme,l=t.renderWrapper,c=Nr(t,Ab);return C.jsx(tn,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:l,theme:u,children:C.jsx(kb,le({},c,{isInteractive:r,forwardedRef:e}))})}),Ob=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=Nr(t,Ob);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(Sb,le({},a,{width:u,height:l,ref:e}))}})});var Rb=["theme","isInteractive","animate","motionConfig","renderWrapper"],Xu=function(t,e,n,r){return t.find(function(i){return vc(i.x+e.left,i.y+e.top,i.width,i.height,n,r)})},Eb=function(t){var e=t.data,n=t.identity,r=n===void 0?ee.identity:n,i=t.value,o=i===void 0?ee.identity:i,a=t.tile,s=a===void 0?ee.tile:a,u=t.valueFormat,l=t.innerPadding,c=l===void 0?ee.innerPadding:l,d=t.outerPadding,f=d===void 0?ee.outerPadding:d,h=t.leavesOnly,v=h===void 0?ee.leavesOnly:h,g=t.width,y=t.height,x=t.margin,b=t.colors,m=b===void 0?ee.colors:b,p=t.colorBy,w=p===void 0?ee.colorBy:p,_=t.nodeOpacity,O=_===void 0?ee.nodeOpacity:_,S=t.borderWidth,T=S===void 0?ee.borderWidth:S,k=t.borderColor,$=k===void 0?ee.borderColor:k,N=t.enableLabel,R=N===void 0?ee.enableLabel:N,W=t.label,E=W===void 0?ee.label:W,I=t.labelTextColor,P=I===void 0?ee.labelTextColor:I,L=t.orientLabel,B=L===void 0?ee.orientLabel:L,D=t.labelSkipSize,K=D===void 0?ee.labelSkipSize:D,V=t.isInteractive,U=V===void 0?ee.isInteractive:V,tt=t.onMouseMove,nt=t.onClick,st=t.tooltip,G=st===void 0?ee.tooltip:st,Y=t.pixelRatio,at=Y===void 0?ee.pixelRatio:Y,ct=t.role,xt=t.ariaLabel,pt=t.ariaLabelledBy,Ot=t.ariaDescribedBy,H=t.forwardedRef,_t=A.useRef(null),vt=en(g,y,x),Rt=vt.margin,Lt=vt.innerWidth,Tt=vt.innerHeight,dt=vt.outerWidth,gt=vt.outerHeight,X=xs({data:e,identity:r,value:o,valueFormat:u,leavesOnly:v,width:Lt,height:Tt,tile:s,innerPadding:c,outerPadding:f,colors:m,colorBy:w,nodeOpacity:O,borderColor:$,label:E,labelTextColor:P,orientLabel:B,enableParentLabel:!1}).nodes,Mt=ce();A.useEffect(function(){if(_t.current!==null){var lt=_t.current.getContext("2d");lt!==null&&(_t.current.width=dt*at,_t.current.height=gt*at,lt.scale(at,at),lt.fillStyle=Mt.background,lt.fillRect(0,0,dt,gt),lt.translate(Rt.left,Rt.top),X.forEach(function(J){lt.fillStyle=J.color,lt.fillRect(J.x,J.y,J.width,J.height),T>0&&(lt.strokeStyle=J.borderColor,lt.lineWidth=T,lt.strokeRect(J.x,J.y,J.width,J.height))}),R&&(lt.textAlign="center",lt.textBaseline="middle",rs(lt,Mt.labels.text),X.forEach(function(J){if(J.isLeaf&&(K===0||Math.min(J.width,J.height)>K)){var wt=B&&J.height>J.width;lt.save(),lt.translate(J.x+J.width/2,J.y+J.height/2),lt.rotate(oo(wt?-90:0)),ao(lt,le({},Mt.labels.text,{fill:J.labelTextColor}),String(J.label)),lt.restore()}})))}},[_t,X,dt,gt,Lt,Tt,Rt,T,R,B,K,Mt,at]);var At=ze(),ut=At.showTooltipFromEvent,Z=At.hideTooltip,St=A.useCallback(function(lt){if(_t.current!==null){var J=so(_t.current,lt),wt=J[0],$t=J[1],j=Xu(X,Rt,wt,$t);j!==void 0?(ut(A.createElement(G,{node:j}),lt,"left"),tt==null||tt(j,lt)):Z()}},[_t,X,Rt,ut,Z,G,tt]),bt=A.useCallback(function(){Z()},[Z]),Nt=A.useCallback(function(lt){if(_t.current!==null){var J=so(_t.current,lt),wt=J[0],$t=J[1],j=Xu(X,Rt,wt,$t);j!==void 0&&(nt==null||nt(j,lt))}},[_t,X,Rt,nt]);return C.jsx("canvas",{ref:is(_t,H),width:dt*at,height:gt*at,style:{width:dt,height:gt},onMouseEnter:U?St:void 0,onMouseMove:U?St:void 0,onMouseLeave:U?bt:void 0,onClick:U?Nt:void 0,role:ct,"aria-label":xt,"aria-labelledby":pt,"aria-describedby":Ot})},Lb=A.forwardRef(function(t,e){var n=t.theme,r=t.isInteractive,i=r===void 0?ee.isInteractive:r,o=t.animate,a=o===void 0?ee.animate:o,s=t.motionConfig,u=s===void 0?ee.motionConfig:s,l=t.renderWrapper,c=Nr(t,Rb);return C.jsx(tn,{isInteractive:i,animate:a,motionConfig:u,theme:n,renderWrapper:l,children:C.jsx(Eb,le({},c,{isInteractive:i,forwardedRef:e}))})}),$b=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=Nr(t,$b);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(Lb,le({},a,{width:u,height:l,ref:e}))}})});function Tb({className:t}){const{events:e}=qe(),[n,r]=A.useState(null);return A.useEffect(()=>{const i={name:"Wikipedia",children:[]},o={};e.slice(0,100).forEach(a=>{const s=a.wiki||"other";o[s]||(o[s]={name:s,children:[]},i.children.push(o[s])),o[s].children.length<20&&o[s].children.push({name:a.title.substring(0,15)+(a.title.length>15?"...":""),loc:Math.abs(a.delta||100)})}),r(i)},[e]),n?C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Volume by Language & Article"}),C.jsx("div",{className:"h-[300px]",children:C.jsx(Cb,{data:n,identity:"name",value:"loc",valueFormat:".02s",margin:{top:10,right:10,bottom:10,left:10},labelSkipSize:12,labelTextColor:{from:"color",modifiers:[["darker",1.2]]},parentLabelTextColor:{from:"color",modifiers:[["darker",2]]},colors:{scheme:"nivo"},borderColor:{from:"color",modifiers:[["darker",.1]]},theme:{text:{fill:"#ffffff",fontWeight:600},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]}):null}function Nb({className:t}){const e=A.useRef(null),{events:n}=qe();return A.useEffect(()=>{if(!e.current||n.length===0)return;const r={name:"Wiki",children:[]},i={};n.slice(0,50).forEach(f=>{const h=f.wiki||"other";i[h]||(i[h]={name:h,children:[]},r.children.push(i[h]));let v=i[h].children.find(g=>g.name===f.user);v||(v={name:f.user,children:[]},i[h].children.push(v)),v.children.push({name:f.title.substring(0,10),value:1})});const o=600,a=600,s=o/2,u=jm().size([2*Math.PI,s-100]),l=Tr(r);u(l);const c=xn(e.current);c.selectAll("*").remove();const d=c.attr("viewBox",`${-o/2} ${-a/2} ${o} ${a}`).append("g");d.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5).selectAll("path").data(l.links()).join("path").attr("d",Rp().angle(f=>f.x).radius(f=>f.y)),d.append("g").selectAll("circle").data(l.descendants()).join("circle").attr("transform",f=>`
        rotate(${f.x*180/Math.PI-90})
        translate(${f.y},0)
      `).attr("fill",f=>f.children?"#555":"#999").attr("r",2.5),d.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("stroke-linejoin","round").attr("stroke-width",3).selectAll("text").data(l.descendants()).join("text").attr("transform",f=>`
        rotate(${f.x*180/Math.PI-90}) 
        translate(${f.y},0) 
        rotate(${f.x>=Math.PI?180:0})
      `).attr("dy","0.31em").attr("x",f=>f.x<Math.PI==!f.children?6:-6).attr("text-anchor",f=>f.x<Math.PI==!f.children?"start":"end").text(f=>f.data.name).clone(!0).lower().attr("stroke","white")},[n]),C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Topic Clustering"}),C.jsx("div",{className:"flex justify-center overflow-hidden",children:C.jsx("svg",{ref:e,className:"w-full h-[300px]"})})]})}function Sn(){return Sn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sn.apply(null,arguments)}function yf(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jb=function(t){var e=t.layer,n=t.fillOpacity,r=t.borderWidth,i=t.getBorderColor,o=t.isInteractive,a=t.tooltip,s=ze(),u=s.showTooltipFromEvent,l=s.hideTooltip,c=A.useCallback(function(y){u(A.createElement(a,{layer:e}),y,"left")},[u,a,e]),d=nn(),f=d.animate,h=d.config,v=pc(e.path),g=Oo({color:e.color,config:h,immediate:!f});return C.jsx(Oe.path,{d:v,fill:e.fill?e.fill:g.color,fillOpacity:n,stroke:i(e),strokeWidth:r,onMouseMove:o?c:void 0,onMouseEnter:o?c:void 0,onMouseLeave:o?l:void 0})},Ib=function(t){var e=t.layers,n=t.fillOpacity,r=t.borderWidth,i=t.getBorderColor,o=t.isInteractive,a=t.tooltip;return C.jsx("g",{children:e.map(function(s,u){return C.jsx(jb,{layer:s,getBorderColor:i,borderWidth:r,fillOpacity:n,isInteractive:o,tooltip:a},u)})})},Pb=function(t,e){var n=t.y2;return e==="center"?n=t.y1+(t.y2-t.y1)/2:e==="start"&&(n=t.y1),n},Wb=function(t){var e=t.data,n=t.dotComponent,r=t.position,i=t.getSize,o=t.getColor,a=t.getBorderWidth,s=t.getBorderColor;return C.jsx(C.Fragment,{children:e.map(function(u,l){return A.createElement(n,{key:l,datum:u,x:u.x,y:Pb(u,r),size:i(u),color:o(u),borderWidth:a(u),borderColor:s(u)})})})},zb=function(t){var e=t.slice,n=t.height,r=t.tooltip,i=A.useState(!1),o=i[0],a=i[1],s=ze(),u=s.showTooltipFromEvent,l=s.hideTooltip,c=A.useCallback(function(f){a(!0),u(A.createElement(r,{slice:e}),f,"left")},[a,u,r,e]),d=A.useCallback(function(){a(!1),l()},[a,l]);return C.jsxs("g",{transform:"translate("+e.x+", 0)",children:[o&&C.jsx("line",{x1:0,x2:0,y1:0,y2:n,stroke:"#000",strokeOpacity:.35,strokeWidth:1}),C.jsx("rect",{x:-20,width:40,height:n,fill:"#000",fillOpacity:0,onMouseEnter:c,onMouseMove:c,onMouseLeave:d})]})},Bb=function(t){var e=t.slices,n=t.height,r=t.tooltip;return C.jsx("g",{children:e.map(function(i){return C.jsx(zb,{slice:i,height:n,tooltip:r},i.index)})})},Ke={label:"id",order:"none",offsetType:"wiggle",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,colors:{scheme:"nivo"},fillOpacity:1,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableDots:!1,dotPosition:"center",dotComponent:function(t){var e=t.x,n=t.y,r=t.size,i=t.color,o=t.borderWidth,a=t.borderColor,s=nn(),u=s.animate,l=s.config,c=Oo({x:e,y:n,radius:.5*r,color:i,config:l,immediate:!u});return C.jsx(Oe.circle,{cx:c.x,cy:c.y,r:c.radius,fill:c.color,strokeWidth:o,stroke:a})},dotSize:6,dotColor:{from:"color"},dotBorderWidth:0,dotBorderColor:{from:"color"},isInteractive:!0,tooltip:function(t){var e=t.layer;return C.jsx(er,{id:e.label,enableChip:!0,color:e.color})},enableStackTooltip:!0,stackTooltip:function(t){var e=t.slice,n=A.useMemo(function(){return e.stack.map(function(r){return[C.jsx(ri,{color:r.color},r.layerId),r.layerLabel,r.formattedValue]})},[e]);return C.jsx(gc,{rows:n})},legends:[],legendLabel:"id",role:"application"},ie=Sn({},Ke,{layers:["grid","axes","layers","dots","slices","legends"],defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),Db=["isInteractive","animate","motionConfig","theme","renderWrapper"],Hb=function(t){var e=t.data,n=t.keys,r=t.label,i=t.valueFormat,o=t.offsetType,a=t.order,s=t.curve,u=t.layers,l=u===void 0?ie.layers:u,c=t.width,d=t.height,f=t.margin,h=t.axisTop,v=t.axisRight,g=t.axisBottom,y=g===void 0?ie.axisBottom:g,x=t.axisLeft,b=x===void 0?ie.axisLeft:x,m=t.enableGridX,p=m===void 0?ie.enableGridX:m,w=t.enableGridY,_=w===void 0?ie.enableGridY:w,O=t.colors,S=t.fillOpacity,T=S===void 0?ie.fillOpacity:S,k=t.borderWidth,$=k===void 0?ie.borderWidth:k,N=t.borderColor,R=t.defs,W=R===void 0?ie.defs:R,E=t.fill,I=E===void 0?ie.fill:E,P=t.enableDots,L=P===void 0?ie.enableDots:P,B=t.dotPosition,D=B===void 0?ie.dotPosition:B,K=t.dotComponent,V=K===void 0?ie.dotComponent:K,U=t.dotSize,tt=t.dotColor,nt=t.dotBorderWidth,st=t.dotBorderColor,G=t.isInteractive,Y=G===void 0?ie.isInteractive:G,at=t.tooltip,ct=at===void 0?ie.tooltip:at,xt=t.enableStackTooltip,pt=xt===void 0?ie.enableStackTooltip:xt,Ot=t.stackTooltip,H=Ot===void 0?ie.stackTooltip:Ot,_t=t.legends,vt=_t===void 0?ie.legends:_t,Rt=t.role,Lt=t.ariaLabel,Tt=t.ariaLabelledBy,dt=t.ariaDescribedBy,gt=t.forwardedRef,X=en(c,d,f),Mt=X.margin,At=X.innerWidth,ut=X.innerHeight,Z=X.outerWidth,St=X.outerHeight,bt=function(ot){var yt=ot.width,Wt=ot.height,jt=ot.data,Et=ot.keys,qt=ot.label,Yt=qt===void 0?Ke.label:qt,kt=ot.valueFormat,Ct=ot.offsetType,Dt=Ct===void 0?Ke.offsetType:Ct,fe=ot.order,Jt=fe===void 0?Ke.order:fe,Le=ot.curve,_e=Le===void 0?Ke.curve:Le,oe=ot.colors,et=oe===void 0?Ke.colors:oe,Ft=ot.borderColor,Hn=Ft===void 0?Ke.borderColor:Ft,Ht=ot.dotSize,se=Ht===void 0?Ke.dotSize:Ht,ue=ot.dotColor,de=ue===void 0?Ke.dotColor:ue,re=ot.dotBorderWidth,ae=re===void 0?Ke.dotBorderWidth:re,Be=ot.dotBorderColor,Fo=Be===void 0?Ke.dotBorderColor:Be,Ci=Hh(_e),_n=A.useMemo(function(){return xh().x(function($e){return $e.x}).y0(function($e){return $e.y1}).y1(function($e){return $e.y2}).curve(Ci)},[Ci]),Ai=A.useMemo(function(){return bh().keys(Et).offset(Fh(Dt)).order(Vh(Jt))},[Et,Dt,Jt]),jr=A.useMemo(function(){var $e=[],Xe=[],Nn=Ai(jt).map(function(Me){return Me.map(function(Ye){return $e.push(Ye[0]),Xe.push(Ye[1]),Sn({},Ye,{value:Ye.data[Me.key]})})}),De=Math.min.apply(Math,$e),Mn=Math.max.apply(Math,Xe);return[Nn,Uh({},{all:Array.from({length:jt.length},function(Me,Ye){return Ye}),max:jt.length},yt),qh({min:De},{min:De,max:Mn},Wt,"y")]},[Ai,jt,yt,Wt]),ki=jr[0],Fn=jr[1],$n=jr[2],Ir=ce(),Pr=gi(et,"id"),ur=me(Hn,Ir),Vo=A.useMemo(function(){return typeof se=="function"?se:function(){return se}},[se]),Wr=me(de,Ir),Uo=A.useMemo(function(){return typeof ae=="function"?ae:function(){return ae}},[ae]),qo=me(Fo,Ir),Si=kn(Yt),Oi=Je(kt),Tn=A.useMemo(function(){return ki.map(function($e,Xe){var Nn=$e.map(function(Me,Ye){return{layerId:Et[Xe],layerLabel:"",index:Ye,color:"",x:Fn(Ye),value:Me.value,formattedValue:Oi(Me.value),y1:$n(Me[0]),y2:$n(Me[1])}}),De={id:Et[Xe],path:_n(Nn)},Mn=Sn({},De,{label:Si(De),color:Pr(De)});return Sn({},Mn,{data:Nn.map(function(Me){return Me.layerLabel=Mn.label,Me.color=Mn.color,Me})})})},[ki,Et,Si,_n,Pr,Fn,$n,Oi]),zr=A.useMemo(function(){return Array.from({length:jt.length},function($e,Xe){var Nn=Tn.map(function(De){return De.data[Xe]}).sort(function(De,Mn){return De.y2-Mn.y2});return{index:Xe,x:Tn[0].data[Xe].x,stack:Nn}})},[jt.length,Tn]),Br=A.useMemo(function(){return{xScale:Fn,yScale:$n,layers:Tn,slices:zr}},[Fn,$n,Tn,zr]);return{xScale:Fn,yScale:$n,layers:Tn,slices:zr,getBorderColor:ur,getDotSize:Vo,getDotColor:Wr,getDotBorderWidth:Uo,getDotBorderColor:qo,layerContext:Br}}({width:At,height:ut,data:e,keys:n,label:r,valueFormat:i,offsetType:o,order:a,curve:s,colors:O,borderColor:N,dotSize:U,dotColor:tt,dotBorderWidth:nt,dotBorderColor:st}),Nt=bt.xScale,lt=bt.yScale,J=bt.layers,wt=bt.slices,$t=bt.getBorderColor,j=bt.getDotSize,q=bt.getDotColor,Q=bt.getDotBorderWidth,ft=bt.getDotBorderColor,rt=bt.layerContext,it=ns(W,J,I),mt={grid:null,axes:null,layers:null,dots:null,slices:null,legends:null};return l.includes("grid")&&(mt.grid=C.jsx(Gh,{width:At,height:ut,xScale:p?Nt:null,yScale:_?lt:null},"grid")),l.includes("axes")&&(mt.axes=C.jsx(Xh,{xScale:Nt,yScale:lt,width:At,height:ut,top:h,right:v,bottom:y,left:b},"axes")),l.includes("layers")&&(mt.layers=C.jsx(Ib,{layers:J,fillOpacity:T,borderWidth:$,getBorderColor:$t,isInteractive:Y,tooltip:ct},"layers")),l.includes("dots")&&L&&(mt.dots=C.jsx(A.Fragment,{children:J.map(function(ot){return C.jsx(Wb,{id:ot.id,color:ot.color,data:ot.data,dotComponent:V,position:D,getSize:j,getColor:q,getBorderWidth:Q,getBorderColor:ft},ot.id)})},"dots")),l.includes("slices")&&Y&&pt&&(mt.slices=C.jsx(Bb,{slices:wt,height:ut,tooltip:H},"slices")),l.includes("legends")&&(mt.legends=C.jsx(A.Fragment,{children:vt.map(function(ot,yt){var Wt=J.map(function(jt){return{id:jt.id,label:jt.label,color:jt.color,fill:jt.fill}}).reverse();return C.jsx(vi,Sn({},ot,{containerWidth:At,containerHeight:ut,data:Wt}),yt)})},"legends")),C.jsx(ar,{width:Z,height:St,margin:Mt,defs:it,role:Rt,ariaLabel:Lt,ariaLabelledBy:Tt,ariaDescribedBy:dt,ref:gt,children:l.map(function(ot,yt){var Wt;return typeof ot=="function"?C.jsx(A.Fragment,{children:A.createElement(ot,rt)},yt):(Wt=mt==null?void 0:mt[ot])!=null?Wt:null})})},Fb=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?ie.isInteractive:n,i=t.animate,o=i===void 0?ie.animate:i,a=t.motionConfig,s=a===void 0?ie.motionConfig:a,u=t.theme,l=t.renderWrapper,c=yf(t,Db);return C.jsx(tn,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:l,theme:u,children:C.jsx(Hb,Sn({},c,{isInteractive:r,forwardedRef:e}))})}),Vb=["defaultWidth","defaultHeight","onResize","debounceResize"],Ub=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=yf(t,Vb);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(Fb,Sn({},a,{width:u,height:l,ref:e}))}})});function qb({className:t}){const{events:e}=qe(),[n,r]=A.useState([]);return A.useEffect(()=>{const i=Date.now(),o={};for(let a=0;a<20;a++)o[a]={"Human Edit":0,"Bot Edit":0,"New Page":0,"Minor Edit":0};e.forEach(a=>{const s=i-a.timestamp.getTime(),u=Math.floor(s/3e3);u<20&&u>=0&&(a.bot?o[u]["Bot Edit"]++:a.type==="new"?o[u]["New Page"]++:a.minor?o[u]["Minor Edit"]++:o[u]["Human Edit"]++)}),r(Object.values(o).reverse())},[e]),C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Edit Types Stream"}),C.jsx("div",{className:"h-[300px]",children:C.jsx(Ub,{data:n,keys:["Human Edit","Bot Edit","New Page","Minor Edit"],margin:{top:20,right:110,bottom:20,left:30},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Time (relative)",legendOffset:36},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Volume",legendOffset:-40},enableGridX:!1,enableGridY:!1,offsetType:"silhouette",colors:{scheme:"nivo"},fillOpacity:.85,borderColor:{theme:"background"},legends:[{anchor:"bottom-right",direction:"column",translateX:100,itemWidth:80,itemHeight:20,itemTextColor:"#999",symbolSize:12,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}],theme:{tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}function Gb({className:t}){const e=A.useRef(null),{events:n}=qe();return A.useEffect(()=>{if(!e.current||n.length===0)return;const r=["length","namespace","bot","minor"],i=n.slice(0,50).map(f=>({length:Math.abs(f.delta||0),namespace:f.namespace,bot:f.bot?1:0,minor:f.minor?1:0})),o={top:30,right:10,bottom:10,left:10},a=e.current.clientWidth-o.left-o.right,s=e.current.clientHeight-o.top-o.bottom,u=xn(e.current);u.selectAll("*").remove();const l=u.append("g").attr("transform",`translate(${o.left},${o.top})`),c={};r.forEach(f=>{c[f]=wh().domain(Ep(i,h=>h[f])).range([s,0])});const d=_h().range([0,a]).padding(1).domain(r);l.selectAll("path").data(i).join("path").attr("d",f=>ro()(r.map(h=>[d(h),c[h](f[h])]))).style("fill","none").style("stroke","#3b82f6").style("opacity",.5),l.selectAll("myAxis").data(r).enter().append("g").attr("transform",f=>`translate(${d(f)},0)`).each(function(f){xn(this).call(Xp(c[f]))}).append("text").style("text-anchor","middle").attr("y",-9).text(f=>f).style("fill","white")},[n]),C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Multi-Dimensional Analysis"}),C.jsx("svg",{ref:e,className:"w-full h-[300px]"})]})}function xf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xb(t){return t.length===1&&(t=Yb(t)),{left:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function Yb(t){return function(e,n){return xf(t(e),n)}}Xb(xf);function Yu(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var Ku=Math.cos,Zu=Math.sin,bf=Math.PI,Di=bf/2,Ju=bf*2,Qu=Math.max;function Kb(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Zb(){var t=0,e=null,n=null,r=null;function i(o){var a=o.length,s=[],u=Yu(a),l=[],c=[],d=c.groups=new Array(a),f=new Array(a*a),h,v,g,y,x,b;for(h=0,x=-1;++x<a;){for(v=0,b=-1;++b<a;)v+=o[x][b];s.push(v),l.push(Yu(a)),h+=v}for(e&&u.sort(function(k,$){return e(s[k],s[$])}),n&&l.forEach(function(k,$){k.sort(function(N,R){return n(o[$][N],o[$][R])})}),h=Qu(0,Ju-t*a)/h,y=h?t:Ju/a,v=0,x=-1;++x<a;){for(g=v,b=-1;++b<a;){var m=u[x],p=l[m][b],w=o[m][p],_=v,O=v+=w*h;f[p*a+m]={index:m,subindex:p,startAngle:_,endAngle:O,value:w}}d[m]={index:m,startAngle:g,endAngle:v,value:s[m]},v+=y}for(x=-1;++x<a;)for(b=x-1;++b<a;){var S=f[b*a+x],T=f[x*a+b];(S.value||T.value)&&c.push(S.value<T.value?{source:T,target:S}:{source:S,target:T})}return r?c.sort(r):c}return i.padAngle=function(o){return arguments.length?(t=Qu(0,o),i):t},i.sortGroups=function(o){return arguments.length?(e=o,i):e},i.sortSubgroups=function(o){return arguments.length?(n=o,i):n},i.sortChords=function(o){return arguments.length?(o==null?r=null:(r=Kb(o))._=o,i):r&&r._},i}var Jb=Array.prototype.slice;function sa(t){return function(){return t}}function Qb(t){return t.source}function t1(t){return t.target}function e1(t){return t.radius}function n1(t){return t.startAngle}function r1(t){return t.endAngle}function i1(){var t=Qb,e=t1,n=e1,r=n1,i=r1,o=null;function a(){var s,u=Jb.call(arguments),l=t.apply(this,u),c=e.apply(this,u),d=+n.apply(this,(u[0]=l,u)),f=r.apply(this,u)-Di,h=i.apply(this,u)-Di,v=d*Ku(f),g=d*Zu(f),y=+n.apply(this,(u[0]=c,u)),x=r.apply(this,u)-Di,b=i.apply(this,u)-Di;if(o||(o=s=tf()),o.moveTo(v,g),o.arc(0,0,d,f,h),(f!==x||h!==b)&&(o.quadraticCurveTo(0,0,y*Ku(x),y*Zu(x)),o.arc(0,0,y,x,b)),o.quadraticCurveTo(0,0,v,g),o.closePath(),s)return o=null,s+""||null}return a.radius=function(s){return arguments.length?(n=typeof s=="function"?s:sa(+s),a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:sa(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:sa(+s),a):i},a.source=function(s){return arguments.length?(t=s,a):t},a.target=function(s){return arguments.length?(e=s,a):e},a.context=function(s){return arguments.length?(o=s??null,a):o},a}function Zt(){return Zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zt.apply(null,arguments)}var o1={pointerEvents:"none"},a1=function(t){var e=t.label,n=t.style,r=ce();return C.jsx(Oe.g,{transform:n.transform,opacity:n.progress,style:o1,children:C.jsx(zn,{textAnchor:"middle",dominantBaseline:"central",style:Zt({},r.labels.text,{fill:n.textColor}),children:e})})},s1={startAngle:{enter:function(t){return Zt({},t,{endAngle:t.startAngle})},update:function(t){return t},leave:function(t){return Zt({},t,{startAngle:t.endAngle})}},middleAngle:{enter:function(t){var e=t.startAngle+(t.endAngle-t.startAngle)/2;return Zt({},t,{startAngle:e,endAngle:e})},update:function(t){return t},leave:function(t){var e=t.startAngle+(t.endAngle-t.startAngle)/2;return Zt({},t,{startAngle:e,endAngle:e})}},endAngle:{enter:function(t){return Zt({},t,{startAngle:t.endAngle})},update:function(t){return t},leave:function(t){return Zt({},t,{endAngle:t.startAngle})}},innerRadius:{enter:function(t){return Zt({},t,{outerRadius:t.innerRadius})},update:function(t){return t},leave:function(t){return Zt({},t,{innerRadius:t.outerRadius})}},centerRadius:{enter:function(t){var e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;return Zt({},t,{innerRadius:e,outerRadius:e})},update:function(t){return t},leave:function(t){var e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;return Zt({},t,{innerRadius:e,outerRadius:e})}},outerRadius:{enter:function(t){return Zt({},t,{innerRadius:t.outerRadius})},update:function(t){return t},leave:function(t){return Zt({},t,{outerRadius:t.innerRadius})}},pushIn:{enter:function(t){return Zt({},t,{innerRadius:t.innerRadius-t.outerRadius+t.innerRadius,outerRadius:t.innerRadius})},update:function(t){return t},leave:function(t){return Zt({},t,{innerRadius:t.outerRadius,outerRadius:t.outerRadius+t.outerRadius-t.innerRadius})}},pushOut:{enter:function(t){return Zt({},t,{innerRadius:t.outerRadius,outerRadius:t.outerRadius+t.outerRadius-t.innerRadius})},update:function(t){return t},leave:function(t){return Zt({},t,{innerRadius:t.innerRadius-t.outerRadius+t.innerRadius,outerRadius:t.innerRadius})}}},wf=function(t,e){return A.useMemo(function(){var n=s1[t];return{enter:function(r){return Zt({progress:0},n.enter(r.arc),e?e.enter(r):{})},update:function(r){return Zt({progress:1},n.update(r.arc),e?e.update(r):{})},leave:function(r){return Zt({progress:0},n.leave(r.arc),e?e.leave(r):{})}}},[t,e])},u1=function(t,e){var n=os(t)-Math.PI/2,r=t.innerRadius+(t.outerRadius-t.innerRadius)*e;return Kh(n,r)},l1=function(t){return function(e,n,r,i){return Fe([e,n,r,i],function(o,a,s,u){var l=u1({startAngle:o,endAngle:a,innerRadius:s,outerRadius:u},t);return"translate("+l.x+","+l.y+")"})}},c1=function(t,e,n,r){e===void 0&&(e=.5),n===void 0&&(n="innerRadius");var i=nn(),o=i.animate,a=i.config,s=wf(n,r);return{transition:Lr(t,{keys:function(u){return u.id},initial:s.update,from:s.enter,enter:s.update,update:s.update,leave:s.leave,config:a,immediate:!o}),interpolate:l1(e)}},f1=function(t){var e=t.center,n=t.data,r=t.transitionMode,i=t.label,o=t.radiusOffset,a=t.skipAngle,s=t.skipRadius,u=t.textColor,l=t.component,c=l===void 0?a1:l,d=kn(i),f=ce(),h=me(u,f),v=A.useMemo(function(){return n.filter(function(m){var p=Math.abs(Yh(m.arc.endAngle-m.arc.startAngle)),w=Math.abs(m.arc.outerRadius-m.arc.innerRadius);return p>=a&&w>=s})},[n,a,s]),g=c1(v,o,r),y=g.transition,x=g.interpolate,b=c;return C.jsx("g",{transform:"translate("+e[0]+","+e[1]+")",children:y(function(m,p){return A.createElement(b,{key:p.id,datum:p,label:d(p),style:{progress:m.progress,transform:x(m.startAngle,m.endAngle,m.innerRadius,m.outerRadius),textColor:h(p)}})})})};ro().x(function(t){return t.x}).y(function(t){return t.y});var d1=function(t){var e=t.datum,n=t.style,r=t.onClick,i=t.onMouseEnter,o=t.onMouseMove,a=t.onMouseLeave,s=A.useCallback(function(d){return r==null?void 0:r(e,d)},[r,e]),u=A.useCallback(function(d){return i==null?void 0:i(e,d)},[i,e]),l=A.useCallback(function(d){return o==null?void 0:o(e,d)},[o,e]),c=A.useCallback(function(d){return a==null?void 0:a(e,d)},[a,e]);return C.jsx(Oe.path,{d:n.path,opacity:n.opacity,fill:e.fill||n.color,stroke:n.borderColor,strokeWidth:n.borderWidth,onClick:r?s:void 0,onMouseEnter:i?u:void 0,onMouseMove:o?l:void 0,onMouseLeave:a?c:void 0,"data-testid":"arc."+e.id})},h1=function(t,e,n,r,i){return Fe([t,e,n,r],function(o,a,s,u){return i({startAngle:o,endAngle:a,innerRadius:Math.max(0,s),outerRadius:Math.max(0,u)})})},p1=function(t,e,n){e===void 0&&(e="innerRadius");var r=nn(),i=r.animate,o=r.config,a=wf(e,n);return{transition:Lr(t,{keys:function(s){return s.id},initial:a.update,from:a.enter,enter:a.update,update:a.update,leave:a.leave,config:o,immediate:!i}),interpolate:h1}},v1=function(t){var e=t.center,n=t.data,r=t.arcGenerator,i=t.borderWidth,o=t.borderColor,a=t.onClick,s=t.onMouseEnter,u=t.onMouseMove,l=t.onMouseLeave,c=t.transitionMode,d=t.component,f=d===void 0?d1:d,h=ce(),v=me(o,h),g=p1(n,c,{enter:function(m){return{opacity:0,color:m.color,borderColor:v(m)}},update:function(m){return{opacity:1,color:m.color,borderColor:v(m)}},leave:function(m){return{opacity:0,color:m.color,borderColor:v(m)}}}),y=g.transition,x=g.interpolate,b=f;return C.jsx("g",{transform:"translate("+e[0]+","+e[1]+")",children:y(function(m,p){return A.createElement(b,{key:p.id,datum:p,style:Zt({},m,{borderWidth:i,path:x(m.startAngle,m.endAngle,m.innerRadius,m.outerRadius,r)}),onClick:a,onMouseEnter:s,onMouseMove:u,onMouseLeave:l})})})},g1=function(t,e,n,r,i,o){var a=Zh(i,o,t,e);return a<n&&a>r},m1=function(t,e,n,r,i,o,a){if(g1(t,e,n,r,o,a)){var s=Jh(o,a,t,e);return i.find(function(u){var l=u.startAngle,c=u.endAngle;return s>=l&&s<c})}},y1=function(t){var e=t===void 0?{}:t,n=e.cornerRadius,r=n===void 0?0:n,i=e.padAngle,o=i===void 0?0:i;return A.useMemo(function(){return wc().innerRadius(function(a){return a.innerRadius}).outerRadius(function(a){return a.outerRadius}).cornerRadius(r).padAngle(o)},[r,o])};function Kt(){return Kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kt.apply(null,arguments)}function No(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x1=A.memo(function(t){var e=t.arc;return C.jsx(er,{id:e.label,value:e.formattedValue,color:e.color,enableChip:!0})}),b1=A.memo(function(t){var e=t.ribbon;return C.jsx(gc,{rows:[[C.jsx(ri,{color:e.source.color},"chip"),C.jsx("strong",{children:e.source.label},"id"),e.source.formattedValue],[C.jsx(ri,{color:e.target.color},"chip"),C.jsx("strong",{children:e.target.label},"id"),e.target.formattedValue]]})}),Te={layers:["ribbons","arcs","labels","legends"],padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,colors:{scheme:"nivo"},arcOpacity:1,activeArcOpacity:1,inactiveArcOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:x1,ribbonOpacity:.5,activeRibbonOpacity:.85,inactiveRibbonOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,legends:[],animate:!0,motionConfig:"gentle",role:"img"},Ut=Kt({},Te,{ribbonBlendMode:"normal",ribbonTooltip:b1}),Gt=Kt({},Te,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),w1=function(t){var e=t.padAngle;return Zb().padAngle(e)},_1=function(t){var e=t.width,n=t.height,r=t.innerRadiusRatio,i=t.innerRadiusOffset,o=[e/2,n/2],a=Math.min(e,n)/2,s=a*r,u=a*(r-i);return{center:o,radius:a,innerRadius:s,arcGenerator:wc().outerRadius(a).innerRadius(s),ribbonGenerator:i1().radius(u)}},M1=function(t){var e=t.chord,n=t.data,r=t.keys,i=t.getLabel,o=t.formatValue,a=t.getColor,s=e(n),u=s.groups.map(function(l){var c=Kt({},l,{id:r[l.index],formattedValue:o(l.value)});return Kt({},c,{label:i(c),color:a(c)})});return{arcs:u,ribbons:s.map(function(l){var c=Kt({},l.source,{id:r[l.source.index],formattedValue:o(l.source.value)}),d=Kt({},l.target,{id:r[l.target.index],formattedValue:o(l.target.value)});return Kt({},l,{id:[c.id,d.id].sort().join("."),source:Kt({},c,{label:i(c),color:a(c)}),target:Kt({},d,{label:i(d),color:a(d)})})})}},C1=function(t){var e=t.startAngle,n=t.endAngle,r=t.arcGenerator;return Fe([e,n],function(i,o){return r({startAngle:i,endAngle:o})})},A1=function(t){var e=t.sourceStartAngle,n=t.sourceEndAngle,r=t.targetStartAngle,i=t.targetEndAngle,o=t.ribbonGenerator;return Fe([e,n,r,i],function(a,s,u,l){return o({source:{startAngle:Math.min(a,s),endAngle:Math.max(s,a)},target:{startAngle:Math.min(u,l),endAngle:Math.max(l,u)}})})},k1=function(t){var e=t.padAngle;return A.useMemo(function(){return w1({padAngle:e})},[e])},S1=function(t){var e=t.width,n=t.height,r=t.innerRadiusRatio,i=t.innerRadiusOffset;return A.useMemo(function(){return _1({width:e,height:n,innerRadiusRatio:r,innerRadiusOffset:i})},[e,n,r,i])},O1=function(t){var e=t.chord,n=t.getColor,r=t.keys,i=t.data,o=t.getLabel,a=t.formatValue;return A.useMemo(function(){return M1({chord:e,data:i,keys:r,getLabel:o,formatValue:a,getColor:n})},[e,n,r,i,o,a])},_f=function(t){var e=t.data,n=t.keys,r=t.label,i=r===void 0?Te.label:r,o=t.valueFormat,a=t.width,s=t.height,u=t.innerRadiusRatio,l=u===void 0?Te.innerRadiusRatio:u,c=t.innerRadiusOffset,d=c===void 0?Te.innerRadiusOffset:c,f=t.padAngle,h=f===void 0?Te.padAngle:f,v=t.colors,g=v===void 0?Te.colors:v,y=k1({padAngle:h}),x=S1({width:a,height:s,innerRadiusRatio:l,innerRadiusOffset:d}),b=x.center,m=x.radius,p=x.innerRadius,w=x.arcGenerator,_=x.ribbonGenerator,O=A.useMemo(function(){return Qh(i)},[i]),S=Je(o),T=gi(g,"id"),k=O1({chord:y,getColor:T,keys:n,data:e,getLabel:O,formatValue:S});return{center:b,chord:y,radius:m,innerRadius:p,arcGenerator:w,ribbonGenerator:_,getColor:T,arcs:k.arcs,ribbons:k.ribbons}},Mf=function(t){var e=t.arcOpacity,n=e===void 0?Te.arcOpacity:e,r=t.activeArcOpacity,i=r===void 0?Te.activeArcOpacity:r,o=t.inactiveArcOpacity,a=o===void 0?Te.inactiveArcOpacity:o,s=t.ribbons,u=t.ribbonOpacity,l=u===void 0?Te.ribbonOpacity:u,c=t.activeRibbonOpacity,d=c===void 0?Te.activeRibbonOpacity:c,f=t.inactiveRibbonOpacity,h=f===void 0?Te.inactiveRibbonOpacity:f,v=A.useState(null),g=v[0],y=v[1],x=A.useState(null),b=x[0],m=x[1],p=A.useMemo(function(){var S=[],T=[];return g&&(S.push(g.id),s.filter(function(k){return k.source.id===g.id||k.target.id===g.id}).forEach(function(k){T.push(k.id)})),b&&(S.push(b.source.id),S.push(b.target.id),T.push(b.id)),{selectedArcIds:S,selectedRibbonIds:T}},[g,b,s]),w=p.selectedArcIds.length>1||p.selectedRibbonIds.length>0,_=A.useMemo(function(){return function(S){return w?p.selectedArcIds.includes(S.id)?i:a:n}},[w,p.selectedArcIds,n,i,a]),O=A.useMemo(function(){return function(S){return w?p.selectedRibbonIds.includes(S.id)?d:h:l}},[w,p.selectedRibbonIds,l,d,h]);return Kt({currentArc:g,setCurrentArc:y,currentRibbon:b,setCurrentRibbon:m,hasSelection:w},p,{getArcOpacity:_,getRibbonOpacity:O})},Cf=function(t){var e=t.center,n=t.radius,r=t.arcs,i=t.arcGenerator,o=t.ribbons,a=t.ribbonGenerator;return A.useMemo(function(){return{center:e,radius:n,arcs:r,arcGenerator:i,ribbons:o,ribbonGenerator:a}},[e,n,r,i,o,a])},R1=A.memo(function(t){var e=t.ribbon,n=t.ribbonGenerator,r=t.animatedProps,i=t.borderWidth,o=t.blendMode,a=t.isInteractive,s=t.setCurrent,u=t.onMouseEnter,l=t.onMouseMove,c=t.onMouseLeave,d=t.onClick,f=t.tooltip,h=ze(),v=h.showTooltipFromEvent,g=h.hideTooltip,y=A.useMemo(function(){if(a)return function(p){s(e),v(A.createElement(f,{ribbon:e}),p),u==null||u(e,p)}},[a,v,f,e,u,s]),x=A.useMemo(function(){if(a)return function(p){v(A.createElement(f,{ribbon:e}),p),l==null||l(e,p)}},[a,v,f,e,l]),b=A.useMemo(function(){if(a)return function(p){s(null),g(),c==null||c(e,p)}},[a,g,e,c,s]),m=A.useMemo(function(){if(a&&d)return function(p){return d==null?void 0:d(e,p)}},[a,e,d]);return C.jsx(Oe.path,{"data-testid":"ribbon."+e.source.id+"."+e.target.id,d:A1({sourceStartAngle:r.sourceStartAngle,sourceEndAngle:r.sourceEndAngle,targetStartAngle:r.targetStartAngle,targetEndAngle:r.targetEndAngle,ribbonGenerator:n}),fill:r.color,opacity:r.opacity,strokeWidth:i,stroke:r.borderColor,style:{mixBlendMode:o},onMouseEnter:y,onMouseMove:x,onMouseLeave:b,onClick:m})}),Hi=function(t,e){var n,r,i=t.source,o=t.target;return i.startAngle<o.startAngle?(n=i,r=o):(n=o,r=i),{sourceStartAngle:n.startAngle,sourceEndAngle:n.endAngle,targetStartAngle:r.startAngle,targetEndAngle:r.endAngle}},E1=A.memo(function(t){var e=t.ribbons,n=t.ribbonGenerator,r=t.borderWidth,i=t.borderColor,o=t.getOpacity,a=t.blendMode,s=t.isInteractive,u=t.setCurrent,l=t.onMouseEnter,c=t.onMouseMove,d=t.onMouseLeave,f=t.onClick,h=t.tooltip,v=nn(),g=v.animate,y=v.config,x=ce(),b=me(i,x),m=Lr(e,{keys:function(p){return p.id},initial:function(p){return Kt({},Hi(p,!1),{color:p.source.color,opacity:o(p),borderColor:b(p.source)})},from:function(p){return Kt({},Hi(p,!1),{color:p.source.color,opacity:0,borderColor:b(p.source)})},update:function(p){return Kt({},Hi(p,!1),{color:p.source.color,opacity:o(p),borderColor:b(p.source)})},leave:function(p){return Kt({},Hi(p,!1),{color:p.source.color,opacity:0,borderColor:b(p.source)})},expires:!0,config:y,immediate:!g});return C.jsx(C.Fragment,{children:m(function(p,w){return C.jsx(R1,{ribbon:w,ribbonGenerator:n,animatedProps:p,borderWidth:r,blendMode:a,setCurrent:u,isInteractive:s,tooltip:h,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:f},w.id)})})}),L1=A.memo(function(t){var e=t.arc,n=t.animatedProps,r=t.borderWidth,i=t.arcGenerator,o=t.setCurrent,a=t.isInteractive,s=t.onMouseEnter,u=t.onMouseMove,l=t.onMouseLeave,c=t.onClick,d=t.tooltip,f=ze(),h=f.showTooltipFromEvent,v=f.hideTooltip,g=A.useMemo(function(){if(a)return function(m){o(e),h(A.createElement(d,{arc:e}),m),s==null||s(e,m)}},[a,h,d,e,s,o]),y=A.useMemo(function(){if(a)return function(m){h(A.createElement(d,{arc:e}),m),u==null||u(e,m)}},[a,h,d,e,u]),x=A.useMemo(function(){if(a)return function(m){o(null),v(),l==null||l(e,m)}},[a,v,e,l,o]),b=A.useMemo(function(){if(a&&c)return function(m){return c==null?void 0:c(e,m)}},[a,e,c]);return C.jsx(Oe.path,{"data-testid":"arc."+e.id,d:C1({startAngle:n.startAngle,endAngle:n.endAngle,arcGenerator:i}),fill:n.color,opacity:n.opacity,strokeWidth:r,stroke:n.borderColor,onMouseEnter:g,onMouseMove:y,onMouseLeave:x,onClick:b})}),$1=A.memo(function(t){var e=t.arcs,n=t.borderWidth,r=t.borderColor,i=t.getOpacity,o=t.arcGenerator,a=t.setCurrent,s=t.isInteractive,u=t.onMouseEnter,l=t.onMouseMove,c=t.onMouseLeave,d=t.onClick,f=t.tooltip,h=nn(),v=h.animate,g=h.config,y=ce(),x=me(r,y),b=Lr(e,{keys:function(m){return m.id},initial:function(m){return{startAngle:m.startAngle,endAngle:m.endAngle,color:m.color,opacity:i(m),borderColor:x(m)}},from:function(m){return{startAngle:m.startAngle,endAngle:m.endAngle,color:m.color,opacity:0,borderColor:x(m)}},update:function(m){return{startAngle:m.startAngle,endAngle:m.endAngle,color:m.color,opacity:i(m),borderColor:x(m)}},leave:function(m){return{startAngle:m.startAngle,endAngle:m.endAngle,color:m.color,opacity:0,borderColor:x(m)}},expires:!0,config:g,immediate:!v});return C.jsx(C.Fragment,{children:b(function(m,p){return C.jsx(L1,{arc:p,arcGenerator:o,animatedProps:m,borderWidth:n,setCurrent:a,isInteractive:s,tooltip:f,onMouseEnter:u,onMouseMove:l,onMouseLeave:c,onClick:d},p.id)})})}),T1=A.memo(function(t){var e=t.arcs,n=t.radius,r=t.rotation,i=t.color,o=nn(),a=o.animate,s=o.config,u=ce(),l=me(i,u),c=A.useMemo(function(){return e.map(function(f){var h=os(f),v=mc(n,h,r);return{id:f.id,label:f.label,x:v.x,y:v.y,rotation:v.rotate,color:l(f),textAnchor:v.align,dominantBaseline:v.baseline}})},[e,n,r,l]),d=Lr(c,{keys:function(f){return f.id},initial:function(f){return{x:f.x,y:f.y,rotation:f.rotation,color:f.color}},from:function(f){return{x:f.x,y:f.y,rotation:f.rotation,color:f.color}},enter:function(f){return{x:f.x,y:f.y,rotation:f.rotation,color:f.color}},update:function(f){return{x:f.x,y:f.y,rotation:f.rotation,color:f.color}},expires:!0,config:s,immediate:!a});return C.jsx(C.Fragment,{children:d(function(f,h){return C.jsx(zn,{"data-testid":"label."+h.id,style:Kt({},u.labels.text,{pointerEvents:"none",fill:f.color}),transform:Fe([f.x,f.y,f.rotation],function(v,g,y){return"translate("+v+", "+g+") rotate("+y+")"}),textAnchor:h.textAnchor,dominantBaseline:h.dominantBaseline,children:h.label},h.id)})})}),N1=["isInteractive","animate","motionConfig","theme","renderWrapper"],j1=function(t){var e=t.data,n=t.keys,r=t.label,i=t.valueFormat,o=t.margin,a=t.width,s=t.height,u=t.innerRadiusRatio,l=u===void 0?Ut.innerRadiusRatio:u,c=t.innerRadiusOffset,d=c===void 0?Ut.innerRadiusOffset:c,f=t.padAngle,h=f===void 0?Ut.padAngle:f,v=t.layers,g=v===void 0?Ut.layers:v,y=t.colors,x=y===void 0?Ut.colors:y,b=t.arcBorderWidth,m=b===void 0?Ut.arcBorderWidth:b,p=t.arcBorderColor,w=p===void 0?Ut.arcBorderColor:p,_=t.arcOpacity,O=_===void 0?Ut.arcOpacity:_,S=t.activeArcOpacity,T=S===void 0?Ut.activeArcOpacity:S,k=t.inactiveArcOpacity,$=k===void 0?Ut.inactiveArcOpacity:k,N=t.arcTooltip,R=N===void 0?Ut.arcTooltip:N,W=t.ribbonBorderWidth,E=W===void 0?Ut.ribbonBorderWidth:W,I=t.ribbonBorderColor,P=I===void 0?Ut.ribbonBorderColor:I,L=t.ribbonBlendMode,B=L===void 0?Ut.ribbonBlendMode:L,D=t.ribbonOpacity,K=D===void 0?Ut.ribbonOpacity:D,V=t.activeRibbonOpacity,U=V===void 0?Ut.activeRibbonOpacity:V,tt=t.inactiveRibbonOpacity,nt=tt===void 0?Ut.inactiveRibbonOpacity:tt,st=t.ribbonTooltip,G=st===void 0?Ut.ribbonTooltip:st,Y=t.enableLabel,at=Y===void 0?Ut.enableLabel:Y,ct=t.labelOffset,xt=ct===void 0?Ut.labelOffset:ct,pt=t.labelRotation,Ot=pt===void 0?Ut.labelRotation:pt,H=t.labelTextColor,_t=H===void 0?Ut.labelTextColor:H,vt=t.isInteractive,Rt=vt===void 0?Ut.isInteractive:vt,Lt=t.onArcMouseEnter,Tt=t.onArcMouseMove,dt=t.onArcMouseLeave,gt=t.onArcClick,X=t.onRibbonMouseEnter,Mt=t.onRibbonMouseMove,At=t.onRibbonMouseLeave,ut=t.onRibbonClick,Z=t.legends,St=Z===void 0?Ut.legends:Z,bt=t.role,Nt=bt===void 0?Ut.role:bt,lt=t.ariaLabel,J=t.ariaLabelledBy,wt=t.ariaDescribedBy,$t=t.forwardedRef,j=en(a,s,o),q=j.margin,Q=j.innerWidth,ft=j.innerHeight,rt=j.outerWidth,it=j.outerHeight,mt=_f({data:e,keys:n,label:r,valueFormat:i,width:Q,height:ft,innerRadiusRatio:l,innerRadiusOffset:d,padAngle:h,colors:x}),ot=mt.center,yt=mt.radius,Wt=mt.arcGenerator,jt=mt.ribbonGenerator,Et=mt.arcs,qt=mt.ribbons,Yt=Mf({arcOpacity:O,activeArcOpacity:T,inactiveArcOpacity:$,ribbons:qt,ribbonOpacity:K,activeRibbonOpacity:U,inactiveRibbonOpacity:nt}),kt=Yt.setCurrentArc,Ct=Yt.setCurrentRibbon,Dt=Yt.getArcOpacity,fe=Yt.getRibbonOpacity,Jt=Cf({center:ot,radius:yt,arcs:Et,arcGenerator:Wt,ribbons:qt,ribbonGenerator:jt});if(yt<=0)return null;var Le=Et.map(function(oe){return{id:oe.id,label:oe.label,color:oe.color}}),_e={ribbons:null,arcs:null,labels:null,legends:null};return g.includes("ribbons")&&(_e.ribbons=C.jsx("g",{transform:"translate("+ot[0]+", "+ot[1]+")",children:C.jsx(E1,{ribbons:qt,ribbonGenerator:jt,borderWidth:E,borderColor:P,getOpacity:fe,blendMode:B,setCurrent:Ct,isInteractive:Rt,onMouseEnter:X,onMouseMove:Mt,onMouseLeave:At,onClick:ut,tooltip:G})},"ribbons")),g.includes("arcs")&&(_e.arcs=C.jsx("g",{transform:"translate("+ot[0]+", "+ot[1]+")",children:C.jsx($1,{arcs:Et,arcGenerator:Wt,borderWidth:m,borderColor:w,getOpacity:Dt,setCurrent:kt,isInteractive:Rt,onMouseEnter:Lt,onMouseMove:Tt,onMouseLeave:dt,onClick:gt,tooltip:R})},"arcs")),g.includes("labels")&&at&&(_e.labels=C.jsx("g",{transform:"translate("+ot[0]+", "+ot[1]+")",children:C.jsx(T1,{arcs:Et,radius:yt+xt,rotation:Ot,color:_t})},"labels")),g.includes("legends")&&St.length>0&&(_e.legends=C.jsx(A.Fragment,{children:St.map(function(oe,et){return C.jsx(vi,Kt({},oe,{containerWidth:Q,containerHeight:ft,data:Le}),et)})},"legends")),C.jsx(ar,{width:rt,height:it,margin:q,role:Nt,ariaLabel:lt,ariaLabelledBy:J,ariaDescribedBy:wt,ref:$t,children:g.map(function(oe,et){var Ft;return typeof oe=="function"?C.jsx(A.Fragment,{children:A.createElement(oe,Jt)},et):(Ft=_e==null?void 0:_e[oe])!=null?Ft:null})})},I1=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Ut.isInteractive:n,i=t.animate,o=i===void 0?Ut.animate:i,a=t.motionConfig,s=a===void 0?Ut.motionConfig:a,u=t.theme,l=t.renderWrapper,c=No(t,N1);return C.jsx(tn,{animate:o,isInteractive:r,motionConfig:s,renderWrapper:l,theme:u,children:C.jsx(j1,Kt({isInteractive:r},c,{forwardedRef:e}))})}),P1=["theme","isInteractive","animate","motionConfig","renderWrapper"],tl=function(t){var e=t.event,n=t.canvasEl,r=t.center,i=t.margin,o=t.radius,a=t.innerRadius,s=t.arcs,u=so(n,e),l=u[0],c=u[1],d=i.left+r[0],f=i.top+r[1];return m1(d,f,o,a,s,l,c)},W1=function(t){var e=t.pixelRatio,n=e===void 0?Gt.pixelRatio:e,r=t.margin,i=t.data,o=t.keys,a=t.width,s=t.height,u=t.label,l=u===void 0?Gt.label:u,c=t.valueFormat,d=t.innerRadiusRatio,f=d===void 0?Gt.innerRadiusRatio:d,h=t.innerRadiusOffset,v=h===void 0?Gt.innerRadiusOffset:h,g=t.padAngle,y=g===void 0?Gt.padAngle:g,x=t.layers,b=x===void 0?Gt.layers:x,m=t.colors,p=m===void 0?Gt.colors:m,w=t.arcBorderWidth,_=w===void 0?Gt.arcBorderWidth:w,O=t.arcBorderColor,S=O===void 0?Gt.arcBorderColor:O,T=t.arcOpacity,k=T===void 0?Gt.arcOpacity:T,$=t.activeArcOpacity,N=$===void 0?Gt.activeArcOpacity:$,R=t.inactiveArcOpacity,W=R===void 0?Gt.inactiveArcOpacity:R,E=t.arcTooltip,I=E===void 0?Gt.arcTooltip:E,P=t.ribbonBorderWidth,L=P===void 0?Gt.ribbonBorderWidth:P,B=t.ribbonBorderColor,D=B===void 0?Gt.ribbonBorderColor:B,K=t.ribbonOpacity,V=K===void 0?Gt.ribbonOpacity:K,U=t.activeRibbonOpacity,tt=U===void 0?Gt.activeRibbonOpacity:U,nt=t.inactiveRibbonOpacity,st=nt===void 0?Gt.inactiveRibbonOpacity:nt,G=t.enableLabel,Y=G===void 0?Gt.enableLabel:G,at=t.labelOffset,ct=at===void 0?Gt.labelOffset:at,xt=t.labelRotation,pt=xt===void 0?Gt.labelRotation:xt,Ot=t.labelTextColor,H=Ot===void 0?Gt.labelTextColor:Ot,_t=t.isInteractive,vt=_t===void 0?Gt.isInteractive:_t,Rt=t.onArcMouseEnter,Lt=t.onArcMouseMove,Tt=t.onArcMouseLeave,dt=t.onArcClick,gt=t.legends,X=gt===void 0?Gt.legends:gt,Mt=t.role,At=t.forwardedRef,ut=A.useRef(null),Z=en(a,s,r),St=Z.innerWidth,bt=Z.innerHeight,Nt=Z.outerWidth,lt=Z.outerHeight,J=Z.margin,wt=_f({data:i,keys:o,label:l,valueFormat:c,width:St,height:bt,innerRadiusRatio:f,innerRadiusOffset:v,padAngle:y,colors:p}),$t=wt.center,j=wt.radius,q=wt.innerRadius,Q=wt.arcGenerator,ft=wt.ribbonGenerator,rt=wt.arcs,it=wt.ribbons,mt=Mf({arcOpacity:k,activeArcOpacity:N,inactiveArcOpacity:W,ribbons:it,ribbonOpacity:V,activeRibbonOpacity:tt,inactiveRibbonOpacity:st}),ot=mt.currentArc,yt=mt.setCurrentArc,Wt=mt.getArcOpacity,jt=mt.getRibbonOpacity,Et=ce(),qt=me(H,Et),Yt=me(S,Et),kt=me(D,Et),Ct=Cf({center:$t,radius:j,arcs:rt,arcGenerator:Q,ribbons:it,ribbonGenerator:ft});A.useEffect(function(){if(ut.current!==null){ut.current.width=Nt*n,ut.current.height=lt*n;var et=ut.current.getContext("2d");et.scale(n,n),et.fillStyle=Et.background,et.fillRect(0,0,Nt,lt),j<=0||b.forEach(function(Ft){if(Ft==="ribbons"&&(et.save(),et.translate(J.left+$t[0],J.top+$t[1]),ft.context(et),it.forEach(function(Ht){et.save(),et.globalAlpha=jt(Ht),et.fillStyle=Ht.source.color,et.beginPath(),ft(Ht),et.fill(),L>0&&(et.strokeStyle=kt(Ht.source),et.lineWidth=L,et.stroke()),et.restore()}),et.restore()),Ft==="arcs"&&(et.save(),et.translate(J.left+$t[0],J.top+$t[1]),Q.context(et),rt.forEach(function(Ht){et.save(),et.globalAlpha=Wt(Ht),et.fillStyle=Ht.color,et.beginPath(),Q(Ht),et.fill(),_>0&&(et.strokeStyle=Yt(Ht),et.lineWidth=_,et.stroke()),et.restore()}),et.restore()),Ft==="labels"&&Y===!0&&(et.save(),et.translate(J.left+$t[0],J.top+$t[1]),rs(et,Et.labels.text),rt.forEach(function(Ht){var se=os(Ht),ue=mc(j+ct,se,pt);et.save(),et.translate(ue.x,ue.y),et.rotate(oo(ue.rotate)),et.textAlign=ue.align,et.textBaseline=ue.baseline,ao(et,Kt({},Et.labels.text,{fill:qt(Ht)}),Ht.label),et.restore()}),et.restore()),Ft==="legends"){et.save(),et.translate(J.left,J.top);var Hn=rt.map(function(Ht){return{id:Ht.id,label:Ht.label,color:Ht.color}});X.forEach(function(Ht){yc(et,Kt({},Ht,{data:Hn,containerWidth:St,containerHeight:bt,theme:Et}))}),et.restore()}typeof Ft=="function"&&Ft(et,Ct)})}},[ut,St,bt,Nt,lt,J,n,$t,j,Et,b,rt,Q,Wt,_,Yt,it,ft,jt,L,kt,Y,ct,pt,qt,X,Ct]);var Dt=ze(),fe=Dt.showTooltipFromEvent,Jt=Dt.hideTooltip,Le=A.useCallback(function(et){if(ut.current!==null){var Ft=tl({event:et,canvasEl:ut.current,center:$t,margin:J,radius:j,innerRadius:q,arcs:rt});Ft?(yt(Ft),fe(A.createElement(I,{arc:Ft}),et),ot||Rt==null||Rt(Ft,et),Lt==null||Lt(Ft,et),ot&&ot.id!==Ft.id&&(Tt==null||Tt(Ft,et))):(yt(null),Jt(),ot&&(Tt==null||Tt(ot,et)))}},[ut,$t,J,j,q,rt,yt,ot,fe,Jt,I,Rt,Lt,Tt]),_e=A.useCallback(function(){yt(null),Jt()},[yt,Jt]),oe=A.useCallback(function(et){if(ut.current!==null&&dt){var Ft=tl({event:et,canvasEl:ut.current,center:$t,margin:J,radius:j,innerRadius:q,arcs:rt});Ft&&dt(Ft,et)}},[ut,$t,J,j,q,rt,dt]);return C.jsx("canvas",{ref:is(ut,At),width:Nt*n,height:lt*n,style:{width:Nt,height:lt,cursor:vt?"auto":"normal"},onMouseEnter:vt?Le:void 0,onMouseMove:vt?Le:void 0,onMouseLeave:vt?_e:void 0,onClick:vt?oe:void 0,role:Mt})},z1=A.forwardRef(function(t,e){var n=t.theme,r=t.isInteractive,i=r===void 0?Gt.isInteractive:r,o=t.animate,a=o===void 0?Gt.animate:o,s=t.motionConfig,u=s===void 0?Gt.motionConfig:s,l=t.renderWrapper,c=No(t,P1);return C.jsx(tn,{isInteractive:i,animate:a,motionConfig:u,theme:n,renderWrapper:l,children:C.jsx(W1,Kt({isInteractive:i},c,{forwardedRef:e}))})}),B1=["defaultWidth","defaultHeight","onResize","debounceResize"],D1=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=No(t,B1);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(I1,Kt({},a,{width:u,height:l,ref:e}))}})}),H1=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=No(t,H1);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(z1,Kt({},a,{width:u,height:l,ref:e}))}})});function F1({className:t}){const{events:e}=qe(),[n,r]=A.useState([]),[i,o]=A.useState([]);return A.useEffect(()=>{const a=["en","de","fr","es","it"],s=a.length,u=Array(s).fill(0).map(()=>Array(s).fill(0));e.forEach(l=>{const c=(l.wiki||"en").substring(0,2),d=a.indexOf(c);if(d!==-1){const f=Math.floor(Math.random()*s);u[f][d]+=1}}),r(u),o(a.map(l=>l.toUpperCase()))},[e]),C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Cross-Wiki Edit Flow"}),C.jsx("div",{className:"h-[300px]",children:C.jsx(D1,{data:n,keys:i,margin:{top:20,right:20,bottom:20,left:20},valueFormat:".2f",padAngle:.02,innerRadiusRatio:.96,innerRadiusOffset:.02,inactiveArcOpacity:.25,arcBorderColor:{from:"color",modifiers:[["darker",.6]]},activeRibbonOpacity:.75,ribbonBorderColor:{from:"color",modifiers:[["darker",.6]]},labelRotation:-90,labelTextColor:{from:"color",modifiers:[["darker",1]]},colors:{scheme:"category10"},theme:{text:{fill:"#888888"},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}function V1({className:t}){const e=A.useRef(null),{events:n}=qe(),[r,i]=A.useState({});return A.useEffect(()=>{const o={...r};n.forEach(a=>{o[a.user]=(o[a.user]||0)+1}),i(o)},[n]),A.useEffect(()=>{if(!e.current)return;const o=Object.entries(r).map(([v,g])=>({name:v,value:g})).sort((v,g)=>g.value-v.value).slice(0,15),a=e.current.clientWidth,s=e.current.clientHeight,u=xn(e.current);u.selectAll("*").remove();const l=py().size([a,s]).padding(2),c=Tr({children:o}).sum(v=>v.value),d=l(c).leaves(),h=u.append("g").selectAll("g").data(d).join("g").attr("transform",v=>`translate(${v.x},${v.y})`);h.append("circle").attr("r",v=>v.r).attr("fill",(v,g)=>tp[g%10]).attr("opacity",.8),h.append("text").attr("dy","0.3em").style("text-anchor","middle").style("font-size",v=>Math.min(v.r/2,12)).style("fill","white").text(v=>v.data.name?String(v.data.name).substring(0,8):"")},[r]),C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Top Editors Race"}),C.jsx("svg",{ref:e,className:"w-full h-[300px]"})]})}var U1="Expected a function",el=NaN,q1="[object Symbol]",G1=/^\s+|\s+$/g,X1=/^[-+]0x[0-9a-f]+$/i,Y1=/^0b[01]+$/i,K1=/^0o[0-7]+$/i,Z1=parseInt,J1=typeof be=="object"&&be&&be.Object===Object&&be,Q1=typeof self=="object"&&self&&self.Object===Object&&self,tw=J1||Q1||Function("return this")(),ew=Object.prototype,nw=ew.toString,rw=Math.max,iw=Math.min,ua=function(){return tw.Date.now()};function ow(t,e,n){var r,i,o,a,s,u,l=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(U1);e=nl(e)||0,Na(n)&&(c=!!n.leading,d="maxWait"in n,o=d?rw(nl(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(_){var O=r,S=i;return r=i=void 0,l=_,a=t.apply(S,O),a}function v(_){return l=_,s=setTimeout(x,e),c?h(_):a}function g(_){var O=_-u,S=_-l,T=e-O;return d?iw(T,o-S):T}function y(_){var O=_-u,S=_-l;return u===void 0||O>=e||O<0||d&&S>=o}function x(){var _=ua();if(y(_))return b(_);s=setTimeout(x,g(_))}function b(_){return s=void 0,f&&r?h(_):(r=i=void 0,a)}function m(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function p(){return s===void 0?a:b(ua())}function w(){var _=ua(),O=y(_);if(r=arguments,i=this,u=_,O){if(s===void 0)return v(u);if(d)return s=setTimeout(x,e),h(u)}return s===void 0&&(s=setTimeout(x,e)),a}return w.cancel=m,w.flush=p,w}function Na(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function aw(t){return!!t&&typeof t=="object"}function sw(t){return typeof t=="symbol"||aw(t)&&nw.call(t)==q1}function nl(t){if(typeof t=="number")return t;if(sw(t))return el;if(Na(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Na(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(G1,"");var n=Y1.test(t);return n||K1.test(t)?Z1(t.slice(2),n?2:8):X1.test(t)?el:+t}var uw=ow;const lw=Er(uw);var ja="http://www.w3.org/1999/xhtml";const rl={svg:"http://www.w3.org/2000/svg",xhtml:ja,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),rl.hasOwnProperty(e)?{space:rl[e],local:t}:t}function cw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ja&&e.documentElement.namespaceURI===ja?e.createElement(t):e.createElementNS(n,t)}}function fw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Af(t){var e=jo(t);return(e.local?fw:cw)(e)}function dw(){}function bs(t){return t==null?dw:function(){return this.querySelector(t)}}function hw(t){typeof t!="function"&&(t=bs(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Pe(r,this._parents)}function pw(){return[]}function kf(t){return t==null?pw:function(){return this.querySelectorAll(t)}}function vw(t){typeof t!="function"&&(t=kf(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new Pe(r,i)}function Sf(t){return function(){return this.matches(t)}}function gw(t){typeof t!="function"&&(t=Sf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new Pe(r,this._parents)}function Of(t){return new Array(t.length)}function mw(){return new Pe(this._enter||this._groups.map(Of),this._parents)}function vo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}vo.prototype={constructor:vo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yw(t){return function(){return t}}var il="$";function xw(t,e,n,r,i,o){for(var a=0,s,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new vo(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function bw(t,e,n,r,i,o,a){var s,u,l={},c=e.length,d=o.length,f=new Array(c),h;for(s=0;s<c;++s)(u=e[s])&&(f[s]=h=il+a.call(u,u.__data__,s,e),h in l?i[s]=u:l[h]=u);for(s=0;s<d;++s)h=il+a.call(t,o[s],s,o),(u=l[h])?(r[s]=u,u.__data__=o[s],l[h]=null):n[s]=new vo(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&l[f[s]]===u&&(i[s]=u)}function ww(t,e){if(!t)return h=new Array(this.size()),l=-1,this.each(function(_){h[++l]=_}),h;var n=e?bw:xw,r=this._parents,i=this._groups;typeof t!="function"&&(t=yw(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],d=i[l],f=d.length,h=t.call(c,c&&c.__data__,l,r),v=h.length,g=s[l]=new Array(v),y=a[l]=new Array(v),x=u[l]=new Array(f);n(c,d,g,y,x,h,e);for(var b=0,m=0,p,w;b<v;++b)if(p=g[b]){for(b>=m&&(m=b+1);!(w=y[m])&&++m<v;);p._next=w||null}}return a=new Pe(a,r),a._enter=s,a._exit=u,a}function _w(){return new Pe(this._exit||this._groups.map(Of),this._parents)}function Mw(t,e,n){var r=this.enter(),i=this,o=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Cw(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],l=n[s],c=u.length,d=a[s]=new Array(c),f,h=0;h<c;++h)(f=u[h]||l[h])&&(d[h]=f);for(;s<r;++s)a[s]=e[s];return new Pe(a,this._parents)}function Aw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function kw(t){t||(t=Sw);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(e)}return new Pe(i,this._parents).order()}function Sw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ow(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Rw(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function Ew(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Lw(){var t=0;return this.each(function(){++t}),t}function $w(){return!this.node()}function Tw(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Nw(t){return function(){this.removeAttribute(t)}}function jw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Iw(t,e){return function(){this.setAttribute(t,e)}}function Pw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ww(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function zw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Bw(t,e){var n=jo(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?jw:Nw:typeof e=="function"?n.local?zw:Ww:n.local?Pw:Iw)(n,e))}function Rf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Dw(t){return function(){this.style.removeProperty(t)}}function Hw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Fw(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Vw(t,e,n){return arguments.length>1?this.each((e==null?Dw:typeof e=="function"?Fw:Hw)(t,e,n??"")):Mr(this.node(),t)}function Mr(t,e){return t.style.getPropertyValue(e)||Rf(t).getComputedStyle(t,null).getPropertyValue(e)}function Uw(t){return function(){delete this[t]}}function qw(t,e){return function(){this[t]=e}}function Gw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Xw(t,e){return arguments.length>1?this.each((e==null?Uw:typeof e=="function"?Gw:qw)(t,e)):this.node()[t]}function Ef(t){return t.trim().split(/^|\s+/)}function ws(t){return t.classList||new Lf(t)}function Lf(t){this._node=t,this._names=Ef(t.getAttribute("class")||"")}Lf.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $f(t,e){for(var n=ws(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Tf(t,e){for(var n=ws(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Yw(t){return function(){$f(this,t)}}function Kw(t){return function(){Tf(this,t)}}function Zw(t,e){return function(){(e.apply(this,arguments)?$f:Tf)(this,t)}}function Jw(t,e){var n=Ef(t+"");if(arguments.length<2){for(var r=ws(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Zw:e?Yw:Kw)(n,e))}function Qw(){this.textContent=""}function t_(t){return function(){this.textContent=t}}function e_(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function n_(t){return arguments.length?this.each(t==null?Qw:(typeof t=="function"?e_:t_)(t)):this.node().textContent}function r_(){this.innerHTML=""}function i_(t){return function(){this.innerHTML=t}}function o_(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function a_(t){return arguments.length?this.each(t==null?r_:(typeof t=="function"?o_:i_)(t)):this.node().innerHTML}function s_(){this.nextSibling&&this.parentNode.appendChild(this)}function u_(){return this.each(s_)}function l_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function c_(){return this.each(l_)}function f_(t){var e=typeof t=="function"?t:Af(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function d_(){return null}function h_(t,e){var n=typeof t=="function"?t:Af(t),r=e==null?d_:typeof e=="function"?e:bs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function p_(){var t=this.parentNode;t&&t.removeChild(this)}function v_(){return this.each(p_)}function g_(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function m_(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function y_(t){return this.select(t?m_:g_)}function x_(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Nf={},Zn=null;if(typeof document<"u"){var b_=document.documentElement;"onmouseenter"in b_||(Nf={mouseenter:"mouseover",mouseleave:"mouseout"})}function w_(t,e,n){return t=jf(t,e,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function jf(t,e,n){return function(r){var i=Zn;Zn=r;try{t.call(this,this.__data__,e,n)}finally{Zn=i}}}function __(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function M_(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.capture):e[++r]=o;++r?e.length=r:delete this.__on}}}function C_(t,e,n){var r=Nf.hasOwnProperty(t.type)?w_:jf;return function(i,o,a){var s=this.__on,u,l=r(e,o,a);if(s){for(var c=0,d=s.length;c<d;++c)if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),u.value=e;return}}this.addEventListener(t.type,l,n),u={type:t.type,name:t.name,value:e,listener:l,capture:n},s?s.push(u):this.__on=[u]}}function A_(t,e,n){var r=__(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?C_:M_,n==null&&(n=!1),i=0;i<o;++i)this.each(s(r[i],e,n));return this}function If(t,e,n){var r=Rf(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function k_(t,e){return function(){return If(this,t,e)}}function S_(t,e){return function(){return If(this,t,e.apply(this,arguments))}}function O_(t,e){return this.each((typeof e=="function"?S_:k_)(t,e))}var Pf=[null];function Pe(t,e){this._groups=t,this._parents=e}function yi(){return new Pe([[document.documentElement]],Pf)}Pe.prototype=yi.prototype={constructor:Pe,select:hw,selectAll:vw,filter:gw,data:ww,enter:mw,exit:_w,join:Mw,merge:Cw,order:Aw,sort:kw,call:Ow,nodes:Rw,node:Ew,size:Lw,empty:$w,each:Tw,attr:Bw,style:Vw,property:Xw,classed:Jw,text:n_,html:a_,raise:u_,lower:c_,append:f_,insert:h_,remove:v_,clone:y_,datum:x_,on:A_,dispatch:O_};function ol(t){return typeof t=="string"?new Pe([[document.querySelector(t)]],[document.documentElement]):new Pe([[t]],Pf)}var Wf=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),Ia=typeof window<"u"&&typeof document<"u"&&window.document===document,go=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),R_=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(go):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),E_=2;function L_(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){R_(o)}function s(){var u=Date.now();if(n){if(u-i<E_)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=u}return s}var $_=20,T_=["top","right","bottom","left","width","height","size","weight"],N_=typeof MutationObserver<"u",j_=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=L_(this.refresh.bind(this),$_)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Ia||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),N_?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Ia||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=T_.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),zf=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Cr=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||go},Bf=Io(0,0,0,0);function mo(t){return parseFloat(t)||0}function al(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+mo(o)},0)}function I_(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=mo(a)}return n}function P_(t){var e=t.getBBox();return Io(0,0,e.width,e.height)}function W_(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Bf;var r=Cr(t).getComputedStyle(t),i=I_(r),o=i.left+i.right,a=i.top+i.bottom,s=mo(r.width),u=mo(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=al(r,"left","right")+o),Math.round(u+a)!==n&&(u-=al(r,"top","bottom")+a)),!B_(t)){var l=Math.round(s+o)-e,c=Math.round(u+a)-n;Math.abs(l)!==1&&(s-=l),Math.abs(c)!==1&&(u-=c)}return Io(i.left,i.top,s,u)}var z_=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Cr(t).SVGGraphicsElement}:function(t){return t instanceof Cr(t).SVGElement&&typeof t.getBBox=="function"}}();function B_(t){return t===Cr(t).document.documentElement}function D_(t){return Ia?z_(t)?P_(t):W_(t):Bf}function H_(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return zf(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function Io(t,e,n,r){return{x:t,y:e,width:n,height:r}}var F_=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Io(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=D_(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),V_=function(){function t(e,n){var r=H_(n);zf(this,{target:e,contentRect:r})}return t}(),U_=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Wf,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Cr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new F_(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Cr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new V_(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Df=typeof WeakMap<"u"?new WeakMap:new Wf,Hf=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=j_.getInstance(),r=new U_(e,n,this);Df.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Hf.prototype[t]=function(){var e;return(e=Df.get(this))[t].apply(e,arguments)}});var q_=function(){return typeof go.ResizeObserver<"u"?go.ResizeObserver:Hf}(),G_={value:function(){}};function _s(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zi(n)}function Zi(t){this._=t}function X_(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zi.prototype=_s.prototype={constructor:Zi,on:function(t,e){var n=this._,r=X_(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Y_(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=sl(n[i],t.name,e);else if(e==null)for(i in n)n[i]=sl(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Zi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Y_(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function sl(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=G_,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ar=0,Yr=0,Hr=0,Ff=1e3,yo,Kr,xo=0,ir=0,Po=0,ai=typeof performance=="object"&&performance.now?performance:Date,Vf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wo(){return ir||(Vf(K_),ir=ai.now()+Po)}function K_(){ir=0}function bo(){this._call=this._time=this._next=null}bo.prototype=Uf.prototype={constructor:bo,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Wo():+n)+(e==null?0:+e),!this._next&&Kr!==this&&(Kr?Kr._next=this:yo=this,Kr=this),this._call=t,this._time=n,Pa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pa())}};function Uf(t,e,n){var r=new bo;return r.restart(t,e,n),r}function Z_(){Wo(),++Ar;for(var t=yo,e;t;)(e=ir-t._time)>=0&&t._call.call(null,e),t=t._next;--Ar}function ul(){ir=(xo=ai.now())+Po,Ar=Yr=0;try{Z_()}finally{Ar=0,Q_(),ir=0}}function J_(){var t=ai.now(),e=t-xo;e>Ff&&(Po-=e,xo=t)}function Q_(){for(var t,e=yo,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:yo=n);Kr=t,Pa(r)}function Pa(t){if(!Ar){Yr&&(Yr=clearTimeout(Yr));var e=t-ir;e>24?(t<1/0&&(Yr=setTimeout(ul,t-ai.now()-Po)),Hr&&(Hr=clearInterval(Hr))):(Hr||(xo=ai.now(),Hr=setInterval(J_,Ff)),Ar=1,Vf(ul))}}function ll(t,e,n){var r=new bo;return e=e==null?0:+e,r.restart(function(i){r.stop(),t(i+e)},e,n),r}var t2=_s("start","end","cancel","interrupt"),e2=[],qf=0,cl=1,Wa=2,Ji=3,fl=4,za=5,Qi=6;function zo(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;n2(t,n,{name:e,index:r,group:i,on:t2,tween:e2,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:qf})}function Ms(t,e){var n=on(t,e);if(n.state>qf)throw new Error("too late; already scheduled");return n}function Ln(t,e){var n=on(t,e);if(n.state>Ji)throw new Error("too late; already running");return n}function on(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function n2(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Uf(o,0,n.time);function o(l){n.state=cl,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,d,f,h;if(n.state!==cl)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Ji)return ll(a);h.state===fl?(h.state=Qi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=Qi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(ll(function(){n.state===Ji&&(n.state=fl,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=Wa,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Wa){for(n.state=Ji,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=za,1),d=-1,f=i.length;++d<f;)i[d].call(t,c);n.state===za&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Qi,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function r2(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Wa&&r.state<za,r.state=Qi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function i2(t){return this.each(function(){r2(this,t)})}function Cs(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Gf(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xi(){}var si=.7,wo=1/si,yr="\\s*([+-]?\\d+)\\s*",ui="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o2=/^#([0-9a-f]{3,8})$/,a2=new RegExp("^rgb\\("+[yr,yr,yr]+"\\)$"),s2=new RegExp("^rgb\\("+[vn,vn,vn]+"\\)$"),u2=new RegExp("^rgba\\("+[yr,yr,yr,ui]+"\\)$"),l2=new RegExp("^rgba\\("+[vn,vn,vn,ui]+"\\)$"),c2=new RegExp("^hsl\\("+[ui,vn,vn]+"\\)$"),f2=new RegExp("^hsla\\("+[ui,vn,vn,ui]+"\\)$"),dl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cs(xi,li,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:hl,formatHex:hl,formatHsl:d2,formatRgb:pl,toString:pl});function hl(){return this.rgb().formatHex()}function d2(){return Xf(this).formatHsl()}function pl(){return this.rgb().formatRgb()}function li(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=o2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vl(e):n===3?new Ne(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=a2.exec(t))?new Ne(e[1],e[2],e[3],1):(e=s2.exec(t))?new Ne(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=u2.exec(t))?Fi(e[1],e[2],e[3],e[4]):(e=l2.exec(t))?Fi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=c2.exec(t))?yl(e[1],e[2]/100,e[3]/100,1):(e=f2.exec(t))?yl(e[1],e[2]/100,e[3]/100,e[4]):dl.hasOwnProperty(t)?vl(dl[t]):t==="transparent"?new Ne(NaN,NaN,NaN,0):null}function vl(t){return new Ne(t>>16&255,t>>8&255,t&255,1)}function Fi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ne(t,e,n,r)}function h2(t){return t instanceof xi||(t=li(t)),t?(t=t.rgb(),new Ne(t.r,t.g,t.b,t.opacity)):new Ne}function Ba(t,e,n,r){return arguments.length===1?h2(t):new Ne(t,e,n,r??1)}function Ne(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Cs(Ne,Ba,Gf(xi,{brighter:function(t){return t=t==null?wo:Math.pow(wo,t),new Ne(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?si:Math.pow(si,t),new Ne(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gl,formatHex:gl,formatRgb:ml,toString:ml}));function gl(){return"#"+la(this.r)+la(this.g)+la(this.b)}function ml(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function la(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function yl(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new dn(t,e,n,r)}function Xf(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);if(t instanceof xi||(t=li(t)),!t)return new dn;if(t instanceof dn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new dn(a,s,u,t.opacity)}function p2(t,e,n,r){return arguments.length===1?Xf(t):new dn(t,e,n,r??1)}function dn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Cs(dn,p2,Gf(xi,{brighter:function(t){return t=t==null?wo:Math.pow(wo,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?si:Math.pow(si,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ne(ca(t>=240?t-240:t+120,i,r),ca(t,i,r),ca(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function ca(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Yf(t){return function(){return t}}function v2(t,e){return function(n){return t+n*e}}function g2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function m2(t){return(t=+t)==1?Kf:function(e,n){return n-e?g2(e,n,t):Yf(isNaN(e)?n:e)}}function Kf(t,e){var n=e-t;return n?v2(t,n):Yf(isNaN(t)?e:t)}const xl=function t(e){var n=m2(e);function r(i,o){var a=n((i=Ba(i)).r,(o=Ba(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=Kf(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Pn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Da=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fa=new RegExp(Da.source,"g");function y2(t){return function(){return t}}function x2(t){return function(e){return t(e)+""}}function b2(t,e){var n=Da.lastIndex=fa.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Da.exec(t))&&(i=fa.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Pn(r,i)})),n=fa.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?x2(u[0].x):y2(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}var bl=180/Math.PI,Ha={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zf(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*bl,skewX:Math.atan(u)*bl,scaleX:a,scaleY:s}}var Fr,da,wl,Vi;function w2(t){return t==="none"?Ha:(Fr||(Fr=document.createElement("DIV"),da=document.documentElement,wl=document.defaultView),Fr.style.transform=t,t=wl.getComputedStyle(da.appendChild(Fr),null).getPropertyValue("transform"),da.removeChild(Fr),t=t.slice(7,-1).split(","),Zf(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function _2(t){return t==null||(Vi||(Vi=document.createElementNS("http://www.w3.org/2000/svg","g")),Vi.setAttribute("transform",t),!(t=Vi.transform.baseVal.consolidate()))?Ha:(t=t.matrix,Zf(t.a,t.b,t.c,t.d,t.e,t.f))}function Jf(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,d,f,h,v){if(l!==d||c!==f){var g=h.push("translate(",null,e,null,n);v.push({i:g-4,x:Pn(l,d)},{i:g-2,x:Pn(c,f)})}else(d||f)&&h.push("translate("+d+e+f+n)}function a(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Pn(l,c)})):c&&d.push(i(d)+"rotate("+c+r)}function s(l,c,d,f){l!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Pn(l,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(l,c,d,f,h,v){if(l!==d||c!==f){var g=h.push(i(h)+"scale(",null,",",null,")");v.push({i:g-4,x:Pn(l,d)},{i:g-2,x:Pn(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,d,f),a(l.rotate,c.rotate,d,f),s(l.skewX,c.skewX,d,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(h){for(var v=-1,g=f.length,y;++v<g;)d[(y=f[v]).i]=y.x(h);return d.join("")}}}var M2=Jf(w2,"px, ","px)","deg)"),C2=Jf(_2,", ",")",")");function A2(t,e){var n,r;return function(){var i=Ln(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function k2(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ln(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function S2(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=on(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?A2:k2)(n,t,e))}function As(t,e,n){var r=t._id;return t.each(function(){var i=Ln(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return on(i,r).value[e]}}function Qf(t,e){var n;return(typeof e=="number"?Pn:e instanceof li?xl:(n=li(e))?(e=n,xl):b2)(t,e)}function O2(t){return function(){this.removeAttribute(t)}}function R2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E2(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function L2(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function $2(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function T2(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function N2(t,e){var n=jo(t),r=n==="transform"?C2:Qf;return this.attrTween(t,typeof e=="function"?(n.local?T2:$2)(n,r,As(this,"attr."+t,e)):e==null?(n.local?R2:O2)(n):(n.local?L2:E2)(n,r,e))}function j2(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function I2(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function P2(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&I2(t,o)),n}return i._value=e,i}function W2(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&j2(t,o)),n}return i._value=e,i}function z2(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=jo(t);return this.tween(n,(r.local?P2:W2)(r,e))}function B2(t,e){return function(){Ms(this,t).delay=+e.apply(this,arguments)}}function D2(t,e){return e=+e,function(){Ms(this,t).delay=e}}function H2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?B2:D2)(e,t)):on(this.node(),e).delay}function F2(t,e){return function(){Ln(this,t).duration=+e.apply(this,arguments)}}function V2(t,e){return e=+e,function(){Ln(this,t).duration=e}}function U2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?F2:V2)(e,t)):on(this.node(),e).duration}function q2(t,e){if(typeof e!="function")throw new Error;return function(){Ln(this,t).ease=e}}function G2(t){var e=this._id;return arguments.length?this.each(q2(e,t)):on(this.node(),e).ease}function X2(t){typeof t!="function"&&(t=Sf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new Rn(r,this._parents,this._name,this._id)}function Y2(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],l=n[s],c=u.length,d=a[s]=new Array(c),f,h=0;h<c;++h)(f=u[h]||l[h])&&(d[h]=f);for(;s<r;++s)a[s]=e[s];return new Rn(a,this._parents,this._name,this._id)}function K2(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Z2(t,e,n){var r,i,o=K2(e)?Ms:Ln;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function J2(t,e){var n=this._id;return arguments.length<2?on(this.node(),n).on.on(t):this.each(Z2(n,t,e))}function Q2(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function tM(){return this.on("end.remove",Q2(this._id))}function eM(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bs(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,l=o[a]=new Array(u),c,d,f=0;f<u;++f)(c=s[f])&&(d=t.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,zo(l[f],e,n,f,l,on(c,n)));return new Rn(o,this._parents,e,n)}function nM(t){var e=this._name,n=this._id;typeof t!="function"&&(t=kf(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var f=t.call(c,c.__data__,d,u),h,v=on(c,n),g=0,y=f.length;g<y;++g)(h=f[g])&&zo(h,e,n,g,f,v);o.push(f),a.push(c)}return new Rn(o,a,e,n)}var rM=yi.prototype.constructor;function iM(){return new rM(this._groups,this._parents)}function oM(t,e){var n,r,i;return function(){var o=Mr(this,t),a=(this.style.removeProperty(t),Mr(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function td(t){return function(){this.style.removeProperty(t)}}function aM(t,e,n){var r,i=n+"",o;return function(){var a=Mr(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function sM(t,e,n){var r,i,o;return function(){var a=Mr(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),Mr(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function uM(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var u=Ln(this,t),l=u.on,c=u.value[o]==null?s||(s=td(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function lM(t,e,n){var r=(t+="")=="transform"?M2:Qf;return e==null?this.styleTween(t,oM(t,r)).on("end.style."+t,td(t)):typeof e=="function"?this.styleTween(t,sM(t,r,As(this,"style."+t,e))).each(uM(this._id,t)):this.styleTween(t,aM(t,r,e),n).on("end.style."+t,null)}function cM(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function fM(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&cM(t,a,n)),r}return o._value=e,o}function dM(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,fM(t,e,n??""))}function hM(t){return function(){this.textContent=t}}function pM(t){return function(){var e=t(this);this.textContent=e??""}}function vM(t){return this.tween("text",typeof t=="function"?pM(As(this,"text",t)):hM(t==null?"":t+""))}function gM(t){return function(e){this.textContent=t.call(this,e)}}function mM(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&gM(i)),e}return r._value=t,r}function yM(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,mM(t))}function xM(){for(var t=this._name,e=this._id,n=ed(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=on(u,e);zo(u,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Rn(r,this._parents,t,n)}function bM(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var l=Ln(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e})})}var wM=0;function Rn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ed(){return++wM}var fr=yi.prototype;Rn.prototype={constructor:Rn,select:eM,selectAll:nM,filter:X2,merge:Y2,selection:iM,transition:xM,call:fr.call,nodes:fr.nodes,node:fr.node,size:fr.size,empty:fr.empty,each:fr.each,on:J2,attr:N2,attrTween:z2,style:lM,styleTween:dM,text:vM,textTween:yM,remove:tM,tween:S2,delay:H2,duration:U2,ease:G2,end:bM};function _M(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Fa={time:null,delay:0,duration:250,ease:_M};function MM(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Fa.time=Wo(),Fa;return n}function CM(t){var e,n;t instanceof Rn?(e=t._id,t=t._name):(e=ed(),(n=Fa).time=Wo(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&zo(u,t,e,l,a,n||MM(u,e));return new Rn(r,this._parents,t,e)}yi.prototype.interrupt=i2;yi.prototype.transition=CM;function nd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function rd(t){let e=t,n=t;t.length===1&&(e=(a,s)=>t(a)-s,n=AM(t));function r(a,s,u,l){for(u==null&&(u=0),l==null&&(l=a.length);u<l;){const c=u+l>>>1;n(a[c],s)<0?u=c+1:l=c}return u}function i(a,s,u,l){for(u==null&&(u=0),l==null&&(l=a.length);u<l;){const c=u+l>>>1;n(a[c],s)>0?l=c:u=c+1}return u}function o(a,s,u,l){u==null&&(u=0),l==null&&(l=a.length);const c=r(a,s,u,l-1);return c>u&&e(a[c-1],s)>-e(a[c],s)?c-1:c}return{left:r,center:o,right:i}}function AM(t){return(e,n)=>nd(t(e),n)}function kM(t){return t===null?NaN:+t}const SM=rd(nd),OM=SM.right;rd(kM).center;function RM(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}var Va=Math.sqrt(50),Ua=Math.sqrt(10),qa=Math.sqrt(2);function Ga(t,e,n){var r,i=-1,o,a,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(s=id(t,e,n))===0||!isFinite(s))return[];if(s>0){let u=Math.round(t/s),l=Math.round(e/s);for(u*s<t&&++u,l*s>e&&--l,a=new Array(o=l-u+1);++i<o;)a[i]=(u+i)*s}else{s=-s;let u=Math.round(t*s),l=Math.round(e*s);for(u/s<t&&++u,l/s>e&&--l,a=new Array(o=l-u+1);++i<o;)a[i]=(u+i)/s}return r&&a.reverse(),a}function id(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Va?10:o>=Ua?5:o>=qa?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Va?10:o>=Ua?5:o>=qa?2:1)}function EM(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Va?i*=10:o>=Ua?i*=5:o>=qa&&(i*=2),e<t?-i:i}function LM(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function $M(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function TM(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var NM={value:function(){}};function od(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new to(n)}function to(t){this._=t}function jM(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}to.prototype=od.prototype={constructor:to,on:function(t,e){var n=this._,r=jM(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=IM(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=_l(n[i],t.name,e);else if(e==null)for(i in n)n[i]=_l(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new to(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function IM(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function _l(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=NM,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const PM=Object.freeze(Object.defineProperty({__proto__:null,dispatch:od},Symbol.toStringTag,{value:"Module"})),WM=lc(PM),zM=WM.dispatch,ha=Math.PI/180,BM={archimedean:ad,rectangular:KM},Zr=64,eo=2048;var DM=function(){var t=[256,256],e=HM,n=FM,r=VM,i=Ml,o=Ml,a=UM,s=ad,u=[],l=1/0,c=zM("word","end"),d=null,f=Math.random,h=()=>(~~(f()*6)-3)*30,v={},g=JM;v.canvas=function(b){return arguments.length?(g=jn(b),v):g},v.start=function(){var b=y(g()),m=ZM((t[0]>>5)*t[1]),p=null,w=u.length,_=-1,O=[],S=u.map(function(k,$){return k.text=e.call(this,k,$),k.font=n.call(this,k,$),k.style=i.call(this,k,$),k.weight=o.call(this,k,$),k.rotate=h.call(this,k,$),k.size=~~r.call(this,k,$),k.padding=a.call(this,k,$),k}).sort(function(k,$){return $.size-k.size});return d&&clearInterval(d),d=setInterval(T,0),T(),v;function T(){for(var k=Date.now();Date.now()-k<l&&++_<w&&d;){var $=S[_];$.x=t[0]*(f()+.5)>>1,$.y=t[1]*(f()+.5)>>1,qM(b,$,S,_),$.hasText&&x(m,$,p)&&(O.push($),c.call("word",v,$),p?XM(p,$):p=[{x:$.x+$.x0,y:$.y+$.y0},{x:$.x+$.x1,y:$.y+$.y1}],$.x-=t[0]>>1,$.y-=t[1]>>1)}_>=w&&(v.stop(),c.call("end",v,O,p))}},v.stop=function(){d&&(clearInterval(d),d=null);for(const b of u)delete b.sprite;return v};function y(b){const m=b.getContext("2d",{willReadFrequently:!0});b.width=b.height=1;const p=Math.sqrt(m.getImageData(0,0,1,1).data.length>>2);return b.width=(Zr<<5)/p,b.height=eo/p,m.fillStyle=m.strokeStyle="red",{context:m,ratio:p}}function x(b,m,p){t[0],t[1];for(var w=m.x,_=m.y,O=Math.sqrt(t[0]*t[0]+t[1]*t[1]),S=s(t),T=f()<.5?1:-1,k=-T,$,N,R;($=S(k+=T))&&(N=~~$[0],R=~~$[1],!(Math.min(Math.abs(N),Math.abs(R))>=O));)if(m.x=w+N,m.y=_+R,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>t[0]||m.y+m.y1>t[1])&&(!p||YM(m,p))&&!GM(m,b,t[0])){for(var W=m.sprite,E=m.width>>5,I=t[0]>>5,P=m.x-(E<<4),L=P&127,B=32-L,D=m.y1-m.y0,K=(m.y+m.y0)*I+(P>>5),V,U=0;U<D;U++){V=0;for(var tt=0;tt<=E;tt++)b[K+tt]|=V<<B|(tt<E?(V=W[U*E+tt])>>>L:0);K+=I}return!0}return!1}return v.timeInterval=function(b){return arguments.length?(l=b??1/0,v):l},v.words=function(b){return arguments.length?(u=b,v):u},v.size=function(b){return arguments.length?(t=[+b[0],+b[1]],v):t},v.font=function(b){return arguments.length?(n=jn(b),v):n},v.fontStyle=function(b){return arguments.length?(i=jn(b),v):i},v.fontWeight=function(b){return arguments.length?(o=jn(b),v):o},v.rotate=function(b){return arguments.length?(h=jn(b),v):h},v.text=function(b){return arguments.length?(e=jn(b),v):e},v.spiral=function(b){return arguments.length?(s=BM[b]||b,v):s},v.fontSize=function(b){return arguments.length?(r=jn(b),v):r},v.padding=function(b){return arguments.length?(a=jn(b),v):a},v.random=function(b){return arguments.length?(f=b,v):f},v.on=function(){var b=c.on.apply(c,arguments);return b===c?v:b},v};function HM(t){return t.text}function FM(){return"serif"}function Ml(){return"normal"}function VM(t){return Math.sqrt(t.value)}function UM(){return 1}function qM(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(Zr<<5)/o,eo/o);var a=0,s=0,u=0,l=n.length;for(--r;++r<l;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;const $=i.measureText(e.text),N=-Math.floor($.width/2);let R=($.width+1)*o,W=e.size<<1;if(e.rotate){var c=Math.sin(e.rotate*ha),d=Math.cos(e.rotate*ha),f=R*d,h=R*c,v=W*d,g=W*c;R=Math.max(Math.abs(f+g),Math.abs(f-g))+31>>5<<5,W=~~Math.max(Math.abs(h+v),Math.abs(h-v))}else R=R+31>>5<<5;if(W>u&&(u=W),a+R>=Zr<<5&&(a=0,s+=u,u=0),s+W>=eo)break;i.translate((a+(R>>1))/o,(s+(W>>1))/o),e.rotate&&i.rotate(e.rotate*ha),i.fillText(e.text,N,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,N,0)),i.restore(),e.width=R,e.height=W,e.xoff=a,e.yoff=s,e.x1=R>>1,e.y1=W>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=R}for(var y=i.getImageData(0,0,(Zr<<5)/o,eo/o).data,x=[];--r>=0;)if(e=n[r],!!e.hasText){for(var b=e.width,m=b>>5,p=e.y1-e.y0,w=0;w<p*m;w++)x[w]=0;if(a=e.xoff,a==null)return;s=e.yoff;for(var _=0,O=-1,S=0;S<p;S++){for(var w=0;w<b;w++){var T=m*S+(w>>5),k=y[(s+S)*(Zr<<5)+(a+w)<<2]?1<<31-w%32:0;x[T]|=k,_|=k}_?O=S:(e.y0++,p--,S--,s++)}e.y1=e.y0+O,e.sprite=x.slice(0,(e.y1-e.y0)*m)}}}function GM(t,e,n){n>>=5;for(var r=t.sprite,i=t.width>>5,o=t.x-(i<<4),a=o&127,s=32-a,u=t.y1-t.y0,l=(t.y+t.y0)*n+(o>>5),c,d=0;d<u;d++){c=0;for(var f=0;f<=i;f++)if((c<<s|(f<i?(c=r[d*i+f])>>>a:0))&e[l+f])return!0;l+=n}return!1}function XM(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function YM(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function ad(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function KM(t){var e=4,n=e*t[0]/t[1],r=0,i=0;return function(o){var a=o<0?-1:1;switch(Math.sqrt(1+4*a*o)-a&3){case 0:r+=n;break;case 1:i+=e;break;case 2:r-=n;break;default:i-=e;break}return[r,i]}}function ZM(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function JM(){return document.createElement("canvas")}function jn(t){return typeof t=="function"?t:function(){return t}}const QM=Er(DM);var _o={exports:{}};_o.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",l="[object Error]",c="[object Function]",d="[object GeneratorFunction]",f="[object Map]",h="[object Number]",v="[object Object]",g="[object Promise]",y="[object RegExp]",x="[object Set]",b="[object String]",m="[object Symbol]",p="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",O="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",k="[object Int16Array]",$="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",W="[object Uint16Array]",E="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,P=/\w*$/,L=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,D={};D[o]=D[a]=D[w]=D[_]=D[s]=D[u]=D[O]=D[S]=D[T]=D[k]=D[$]=D[f]=D[h]=D[v]=D[y]=D[x]=D[b]=D[m]=D[N]=D[R]=D[W]=D[E]=!0,D[l]=D[c]=D[p]=!1;var K=typeof be=="object"&&be&&be.Object===Object&&be,V=typeof self=="object"&&self&&self.Object===Object&&self,U=K||V||Function("return this")(),tt=e&&!e.nodeType&&e,nt=tt&&!0&&t&&!t.nodeType&&t,st=nt&&nt.exports===tt;function G(M,z){return M.set(z[0],z[1]),M}function Y(M,z){return M.add(z),M}function at(M,z){for(var F=-1,ht=M?M.length:0;++F<ht&&z(M[F],F,M)!==!1;);return M}function ct(M,z){for(var F=-1,ht=z.length,he=M.length;++F<ht;)M[he+F]=z[F];return M}function xt(M,z,F,ht){for(var he=-1,Ce=M?M.length:0;++he<Ce;)F=z(F,M[he],he,M);return F}function pt(M,z){for(var F=-1,ht=Array(M);++F<M;)ht[F]=z(F);return ht}function Ot(M,z){return M==null?void 0:M[z]}function H(M){var z=!1;if(M!=null&&typeof M.toString!="function")try{z=!!(M+"")}catch{}return z}function _t(M){var z=-1,F=Array(M.size);return M.forEach(function(ht,he){F[++z]=[he,ht]}),F}function vt(M,z){return function(F){return M(z(F))}}function Rt(M){var z=-1,F=Array(M.size);return M.forEach(function(ht){F[++z]=ht}),F}var Lt=Array.prototype,Tt=Function.prototype,dt=Object.prototype,gt=U["__core-js_shared__"],X=function(){var M=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}(),Mt=Tt.toString,At=dt.hasOwnProperty,ut=dt.toString,Z=RegExp("^"+Mt.call(At).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),St=st?U.Buffer:void 0,bt=U.Symbol,Nt=U.Uint8Array,lt=vt(Object.getPrototypeOf,Object),J=Object.create,wt=dt.propertyIsEnumerable,$t=Lt.splice,j=Object.getOwnPropertySymbols,q=St?St.isBuffer:void 0,Q=vt(Object.keys,Object),ft=lr(U,"DataView"),rt=lr(U,"Map"),it=lr(U,"Promise"),mt=lr(U,"Set"),ot=lr(U,"WeakMap"),yt=lr(Object,"create"),Wt=Un(ft),jt=Un(rt),Et=Un(it),qt=Un(mt),Yt=Un(ot),kt=bt?bt.prototype:void 0,Ct=kt?kt.valueOf:void 0;function Dt(M){var z=-1,F=M?M.length:0;for(this.clear();++z<F;){var ht=M[z];this.set(ht[0],ht[1])}}function fe(){this.__data__=yt?yt(null):{}}function Jt(M){return this.has(M)&&delete this.__data__[M]}function Le(M){var z=this.__data__;if(yt){var F=z[M];return F===r?void 0:F}return At.call(z,M)?z[M]:void 0}function _e(M){var z=this.__data__;return yt?z[M]!==void 0:At.call(z,M)}function oe(M,z){var F=this.__data__;return F[M]=yt&&z===void 0?r:z,this}Dt.prototype.clear=fe,Dt.prototype.delete=Jt,Dt.prototype.get=Le,Dt.prototype.has=_e,Dt.prototype.set=oe;function et(M){var z=-1,F=M?M.length:0;for(this.clear();++z<F;){var ht=M[z];this.set(ht[0],ht[1])}}function Ft(){this.__data__=[]}function Hn(M){var z=this.__data__,F=ur(z,M);if(F<0)return!1;var ht=z.length-1;return F==ht?z.pop():$t.call(z,F,1),!0}function Ht(M){var z=this.__data__,F=ur(z,M);return F<0?void 0:z[F][1]}function se(M){return ur(this.__data__,M)>-1}function ue(M,z){var F=this.__data__,ht=ur(F,M);return ht<0?F.push([M,z]):F[ht][1]=z,this}et.prototype.clear=Ft,et.prototype.delete=Hn,et.prototype.get=Ht,et.prototype.has=se,et.prototype.set=ue;function de(M){var z=-1,F=M?M.length:0;for(this.clear();++z<F;){var ht=M[z];this.set(ht[0],ht[1])}}function re(){this.__data__={hash:new Dt,map:new(rt||et),string:new Dt}}function ae(M){return Ri(this,M).delete(M)}function Be(M){return Ri(this,M).get(M)}function Fo(M){return Ri(this,M).has(M)}function Ci(M,z){return Ri(this,M).set(M,z),this}de.prototype.clear=re,de.prototype.delete=ae,de.prototype.get=Be,de.prototype.has=Fo,de.prototype.set=Ci;function _n(M){this.__data__=new et(M)}function Ai(){this.__data__=new et}function jr(M){return this.__data__.delete(M)}function ki(M){return this.__data__.get(M)}function Fn(M){return this.__data__.has(M)}function $n(M,z){var F=this.__data__;if(F instanceof et){var ht=F.__data__;if(!rt||ht.length<n-1)return ht.push([M,z]),this;F=this.__data__=new de(ht)}return F.set(M,z),this}_n.prototype.clear=Ai,_n.prototype.delete=jr,_n.prototype.get=ki,_n.prototype.has=Fn,_n.prototype.set=$n;function Ir(M,z){var F=Go(M)||th(M)?pt(M.length,String):[],ht=F.length,he=!!ht;for(var Ce in M)At.call(M,Ce)&&!(he&&(Ce=="length"||Kd(Ce,ht)))&&F.push(Ce);return F}function Pr(M,z,F){var ht=M[z];(!(At.call(M,z)&&Zs(ht,F))||F===void 0&&!(z in M))&&(M[z]=F)}function ur(M,z){for(var F=M.length;F--;)if(Zs(M[F][0],z))return F;return-1}function Vo(M,z){return M&&Xs(z,Xo(z),M)}function Wr(M,z,F,ht,he,Ce,Cn){var Ae;if(ht&&(Ae=Ce?ht(M,he,Ce,Cn):ht(M)),Ae!==void 0)return Ae;if(!Ei(M))return M;var tu=Go(M);if(tu){if(Ae=Gd(M),!z)return Ye(M,Ae)}else{var cr=Vn(M),eu=cr==c||cr==d;if(nh(M))return zr(M,z);if(cr==v||cr==o||eu&&!Ce){if(H(M))return Ce?M:{};if(Ae=Xd(eu?{}:M),!z)return Ud(M,Vo(Ae,M))}else{if(!D[cr])return Ce?M:{};Ae=Yd(M,cr,Wr,z)}}Cn||(Cn=new _n);var nu=Cn.get(M);if(nu)return nu;if(Cn.set(M,Ae),!tu)var ru=F?qd(M):Xo(M);return at(ru||M,function(Yo,Li){ru&&(Li=Yo,Yo=M[Li]),Pr(Ae,Li,Wr(Yo,z,F,ht,Li,M,Cn))}),Ae}function Uo(M){return Ei(M)?J(M):{}}function qo(M,z,F){var ht=z(M);return Go(M)?ht:ct(ht,F(M))}function Si(M){return ut.call(M)}function Oi(M){if(!Ei(M)||Jd(M))return!1;var z=Qs(M)||H(M)?Z:L;return z.test(Un(M))}function Tn(M){if(!Ks(M))return Q(M);var z=[];for(var F in Object(M))At.call(M,F)&&F!="constructor"&&z.push(F);return z}function zr(M,z){if(z)return M.slice();var F=new M.constructor(M.length);return M.copy(F),F}function Br(M){var z=new M.constructor(M.byteLength);return new Nt(z).set(new Nt(M)),z}function $e(M,z){var F=z?Br(M.buffer):M.buffer;return new M.constructor(F,M.byteOffset,M.byteLength)}function Xe(M,z,F){var ht=z?F(_t(M),!0):_t(M);return xt(ht,G,new M.constructor)}function Nn(M){var z=new M.constructor(M.source,P.exec(M));return z.lastIndex=M.lastIndex,z}function De(M,z,F){var ht=z?F(Rt(M),!0):Rt(M);return xt(ht,Y,new M.constructor)}function Mn(M){return Ct?Object(Ct.call(M)):{}}function Me(M,z){var F=z?Br(M.buffer):M.buffer;return new M.constructor(F,M.byteOffset,M.length)}function Ye(M,z){var F=-1,ht=M.length;for(z||(z=Array(ht));++F<ht;)z[F]=M[F];return z}function Xs(M,z,F,ht){F||(F={});for(var he=-1,Ce=z.length;++he<Ce;){var Cn=z[he],Ae=void 0;Pr(F,Cn,Ae===void 0?M[Cn]:Ae)}return F}function Ud(M,z){return Xs(M,Ys(M),z)}function qd(M){return qo(M,Xo,Ys)}function Ri(M,z){var F=M.__data__;return Zd(z)?F[typeof z=="string"?"string":"hash"]:F.map}function lr(M,z){var F=Ot(M,z);return Oi(F)?F:void 0}var Ys=j?vt(j,Object):oh,Vn=Si;(ft&&Vn(new ft(new ArrayBuffer(1)))!=_||rt&&Vn(new rt)!=f||it&&Vn(it.resolve())!=g||mt&&Vn(new mt)!=x||ot&&Vn(new ot)!=p)&&(Vn=function(M){var z=ut.call(M),F=z==v?M.constructor:void 0,ht=F?Un(F):void 0;if(ht)switch(ht){case Wt:return _;case jt:return f;case Et:return g;case qt:return x;case Yt:return p}return z});function Gd(M){var z=M.length,F=M.constructor(z);return z&&typeof M[0]=="string"&&At.call(M,"index")&&(F.index=M.index,F.input=M.input),F}function Xd(M){return typeof M.constructor=="function"&&!Ks(M)?Uo(lt(M)):{}}function Yd(M,z,F,ht){var he=M.constructor;switch(z){case w:return Br(M);case s:case u:return new he(+M);case _:return $e(M,ht);case O:case S:case T:case k:case $:case N:case R:case W:case E:return Me(M,ht);case f:return Xe(M,ht,F);case h:case b:return new he(M);case y:return Nn(M);case x:return De(M,ht,F);case m:return Mn(M)}}function Kd(M,z){return z=z??i,!!z&&(typeof M=="number"||B.test(M))&&M>-1&&M%1==0&&M<z}function Zd(M){var z=typeof M;return z=="string"||z=="number"||z=="symbol"||z=="boolean"?M!=="__proto__":M===null}function Jd(M){return!!X&&X in M}function Ks(M){var z=M&&M.constructor,F=typeof z=="function"&&z.prototype||dt;return M===F}function Un(M){if(M!=null){try{return Mt.call(M)}catch{}try{return M+""}catch{}}return""}function Qd(M){return Wr(M,!0,!0)}function Zs(M,z){return M===z||M!==M&&z!==z}function th(M){return eh(M)&&At.call(M,"callee")&&(!wt.call(M,"callee")||ut.call(M)==o)}var Go=Array.isArray;function Js(M){return M!=null&&rh(M.length)&&!Qs(M)}function eh(M){return ih(M)&&Js(M)}var nh=q||ah;function Qs(M){var z=Ei(M)?ut.call(M):"";return z==c||z==d}function rh(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=i}function Ei(M){var z=typeof M;return!!M&&(z=="object"||z=="function")}function ih(M){return!!M&&typeof M=="object"}function Xo(M){return Js(M)?Ir(M):Tn(M)}function oh(){return[]}function ah(){return!1}t.exports=Qd})(_o,_o.exports);var tC=_o.exports;const eC=Er(tC);var ks={exports:{}};ks.exports;(function(t){(function(e,n,r){function i(u){var l=this,c=s();l.next=function(){var d=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=d|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(u),l.s0<0&&(l.s0+=1),l.s1-=c(u),l.s1<0&&(l.s1+=1),l.s2-=c(u),l.s2<0&&(l.s2+=1),c=null}function o(u,l){return l.c=u.c,l.s0=u.s0,l.s1=u.s1,l.s2=u.s2,l}function a(u,l){var c=new i(u),d=l&&l.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&o(d,c),f.state=function(){return o(c,{})}),f}function s(){var u=4022871197,l=function(c){c=String(c);for(var d=0;d<c.length;d++){u+=c.charCodeAt(d);var f=.02519603282416938*u;u=f>>>0,f-=u,f*=u,u=f>>>0,f-=u,u+=f*4294967296}return(u>>>0)*23283064365386963e-26};return l}n&&n.exports?n.exports=a:this.alea=a})(be,t)})(ks);var nC=ks.exports,Ss={exports:{}};Ss.exports;(function(t){(function(e,n,r){function i(s){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var d=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^d^d>>>8},s===(s|0)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,u.next()}function o(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function a(s,u){var l=new i(s),c=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,v=(f+h)/(1<<21);while(v===0);return v},d.int32=l.next,d.quick=d,c&&(typeof c=="object"&&o(c,l),d.state=function(){return o(l,{})}),d}n&&n.exports?n.exports=a:this.xor128=a})(be,t)})(Ss);var rC=Ss.exports,Os={exports:{}};Os.exports;(function(t){(function(e,n,r){function i(s){var u=this,l="";u.next=function(){var d=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(d^d<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(s|0)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,c==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function o(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function a(s,u){var l=new i(s),c=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,v=(f+h)/(1<<21);while(v===0);return v},d.int32=l.next,d.quick=d,c&&(typeof c=="object"&&o(c,l),d.state=function(){return o(l,{})}),d}n&&n.exports?n.exports=a:this.xorwow=a})(be,t)})(Os);var iC=Os.exports,Rs={exports:{}};Rs.exports;(function(t){(function(e,n,r){function i(s){var u=this;u.next=function(){var c=u.x,d=u.i,f,h;return f=c[d],f^=f>>>7,h=f^f<<24,f=c[d+1&7],h^=f^f>>>10,f=c[d+3&7],h^=f^f>>>3,f=c[d+4&7],h^=f^f<<7,f=c[d+7&7],f=f^f<<13,h^=f^f<<9,c[d]=h,u.i=d+1&7,h};function l(c,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],c.x=h,c.i=0,f=256;f>0;--f)c.next()}l(u,s)}function o(s,u){return u.x=s.x.slice(),u.i=s.i,u}function a(s,u){s==null&&(s=+new Date);var l=new i(s),c=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,v=(f+h)/(1<<21);while(v===0);return v},d.int32=l.next,d.quick=d,c&&(c.x&&o(c,l),d.state=function(){return o(l,{})}),d}n&&n.exports?n.exports=a:this.xorshift7=a})(be,t)})(Rs);var oC=Rs.exports,Es={exports:{}};Es.exports;(function(t){(function(e,n,r){function i(s){var u=this;u.next=function(){var c=u.w,d=u.X,f=u.i,h,v;return u.w=c=c+1640531527|0,v=d[f+34&127],h=d[f=f+1&127],v^=v<<13,h^=h<<17,v^=v>>>15,h^=h>>>12,v=d[f]=v^h,u.i=f,v+(c^c>>>16)|0};function l(c,d){var f,h,v,g,y,x=[],b=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,b=Math.max(b,d.length)),v=0,g=-32;g<b;++g)d&&(h^=d.charCodeAt((g+32)%d.length)),g===0&&(y=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,g>=0&&(y=y+1640531527|0,f=x[g&127]^=h+y,v=f==0?v+1:0);for(v>=128&&(x[(d&&d.length||0)&127]=-1),v=127,g=4*128;g>0;--g)h=x[v+34&127],f=x[v=v+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,x[v]=h^f;c.w=y,c.X=x,c.i=v}l(u,s)}function o(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function a(s,u){s==null&&(s=+new Date);var l=new i(s),c=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,v=(f+h)/(1<<21);while(v===0);return v},d.int32=l.next,d.quick=d,c&&(c.X&&o(c,l),d.state=function(){return o(l,{})}),d}n&&n.exports?n.exports=a:this.xor4096=a})(be,t)})(Es);var aC=Es.exports,Ls={exports:{}};Ls.exports;(function(t){(function(e,n,r){function i(s){var u=this,l="";u.next=function(){var d=u.b,f=u.c,h=u.d,v=u.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^v,v=v-d|0,u.b=d=d<<20^d>>>12^f,u.c=f=f-h|0,u.d=h<<16^f>>>16^v,u.a=v-d|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=s|0):l+=s;for(var c=0;c<l.length+20;c++)u.b^=l.charCodeAt(c)|0,u.next()}function o(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function a(s,u){var l=new i(s),c=u&&u.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,v=(f+h)/(1<<21);while(v===0);return v},d.int32=l.next,d.quick=d,c&&(typeof c=="object"&&o(c,l),d.state=function(){return o(l,{})}),d}n&&n.exports?n.exports=a:this.tychei=a})(be,t)})(Ls);var sC=Ls.exports,sd={exports:{}};const uC={},lC=Object.freeze(Object.defineProperty({__proto__:null,default:uC},Symbol.toStringTag,{value:"Module"})),cC=lc(lC);(function(t){(function(e,n,r){var i=256,o=6,a=52,s="random",u=r.pow(i,o),l=r.pow(2,a),c=l*2,d=i-1,f;function h(p,w,_){var O=[];w=w==!0?{entropy:!0}:w||{};var S=x(y(w.entropy?[p,m(n)]:p??b(),3),O),T=new v(O),k=function(){for(var $=T.g(o),N=u,R=0;$<l;)$=($+R)*i,N*=i,R=T.g(1);for(;$>=c;)$/=2,N/=2,R>>>=1;return($+R)/N};return k.int32=function(){return T.g(4)|0},k.quick=function(){return T.g(4)/4294967296},k.double=k,x(m(T.S),n),(w.pass||_||function($,N,R,W){return W&&(W.S&&g(W,T),$.state=function(){return g(T,{})}),R?(r[s]=$,N):$})(k,S,"global"in w?w.global:this==r,w.state)}function v(p){var w,_=p.length,O=this,S=0,T=O.i=O.j=0,k=O.S=[];for(_||(p=[_++]);S<i;)k[S]=S++;for(S=0;S<i;S++)k[S]=k[T=d&T+p[S%_]+(w=k[S])],k[T]=w;(O.g=function($){for(var N,R=0,W=O.i,E=O.j,I=O.S;$--;)N=I[W=d&W+1],R=R*i+I[d&(I[W]=I[E=d&E+N])+(I[E]=N)];return O.i=W,O.j=E,R})(i)}function g(p,w){return w.i=p.i,w.j=p.j,w.S=p.S.slice(),w}function y(p,w){var _=[],O=typeof p,S;if(w&&O=="object")for(S in p)try{_.push(y(p[S],w-1))}catch{}return _.length?_:O=="string"?p:p+"\0"}function x(p,w){for(var _=p+"",O,S=0;S<_.length;)w[d&S]=d&(O^=w[d&S]*19)+_.charCodeAt(S++);return m(w)}function b(){try{var p;return f&&(p=f.randomBytes)?p=p(i):(p=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(p)),m(p)}catch{var w=e.navigator,_=w&&w.plugins;return[+new Date,e,_,e.screen,m(n)]}}function m(p){return String.fromCharCode.apply(0,p)}if(x(r.random(),n),t.exports){t.exports=h;try{f=cC}catch{}}else r["seed"+s]=h})(typeof self<"u"?self:be,[],Math)})(sd);var fC=sd.exports,dC=nC,hC=rC,pC=iC,vC=oC,gC=aC,mC=sC,sr=fC;sr.alea=dC;sr.xor128=hC;sr.xorwow=pC;sr.xorshift7=vC;sr.xor4096=gC;sr.tychei=mC;var yC=sr;const xC=Er(yC);var Re="top",Ve="bottom",Ue="right",Ee="left",$s="auto",bi=[Re,Ve,Ue,Ee],kr="start",ci="end",bC="clippingParents",ud="viewport",Vr="popper",wC="reference",Cl=bi.reduce(function(t,e){return t.concat([e+"-"+kr,e+"-"+ci])},[]),ld=[].concat(bi,[$s]).reduce(function(t,e){return t.concat([e,e+"-"+kr,e+"-"+ci])},[]),_C="beforeRead",MC="read",CC="afterRead",AC="beforeMain",kC="main",SC="afterMain",OC="beforeWrite",RC="write",EC="afterWrite",LC=[_C,MC,CC,AC,kC,SC,OC,RC,EC];function bn(t){return t?(t.nodeName||"").toLowerCase():null}function We(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function or(t){var e=We(t).Element;return t instanceof e||t instanceof Element}function He(t){var e=We(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ts(t){if(typeof ShadowRoot>"u")return!1;var e=We(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function $C(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!He(o)||!bn(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function TC(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(u,l){return u[l]="",u},{});!He(i)||!bn(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}const cd={name:"applyStyles",enabled:!0,phase:"write",fn:$C,effect:TC,requires:["computeStyles"]};function gn(t){return t.split("-")[0]}var tr=Math.max,Mo=Math.min,Sr=Math.round;function Xa(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function fd(){return!/^((?!chrome|android).)*safari/i.test(Xa())}function Or(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&He(t)&&(i=t.offsetWidth>0&&Sr(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Sr(r.height)/t.offsetHeight||1);var a=or(t)?We(t):window,s=a.visualViewport,u=!fd()&&n,l=(r.left+(u&&s?s.offsetLeft:0))/i,c=(r.top+(u&&s?s.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:c,right:l+d,bottom:c+f,left:l,x:l,y:c}}function Ns(t){var e=Or(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function dd(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ts(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function En(t){return We(t).getComputedStyle(t)}function NC(t){return["table","td","th"].indexOf(bn(t))>=0}function Bn(t){return((or(t)?t.ownerDocument:t.document)||window.document).documentElement}function Bo(t){return bn(t)==="html"?t:t.assignedSlot||t.parentNode||(Ts(t)?t.host:null)||Bn(t)}function Al(t){return!He(t)||En(t).position==="fixed"?null:t.offsetParent}function jC(t){var e=/firefox/i.test(Xa()),n=/Trident/i.test(Xa());if(n&&He(t)){var r=En(t);if(r.position==="fixed")return null}var i=Bo(t);for(Ts(i)&&(i=i.host);He(i)&&["html","body"].indexOf(bn(i))<0;){var o=En(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function wi(t){for(var e=We(t),n=Al(t);n&&NC(n)&&En(n).position==="static";)n=Al(n);return n&&(bn(n)==="html"||bn(n)==="body"&&En(n).position==="static")?e:n||jC(t)||e}function js(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Jr(t,e,n){return tr(t,Mo(e,n))}function IC(t,e,n){var r=Jr(t,e,n);return r>n?n:r}function hd(){return{top:0,right:0,bottom:0,left:0}}function pd(t){return Object.assign({},hd(),t)}function vd(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var PC=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,pd(typeof e!="number"?e:vd(e,bi))};function WC(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=gn(n.placement),u=js(s),l=[Ee,Ue].indexOf(s)>=0,c=l?"height":"width";if(!(!o||!a)){var d=PC(i.padding,n),f=Ns(o),h=u==="y"?Re:Ee,v=u==="y"?Ve:Ue,g=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],y=a[u]-n.rects.reference[u],x=wi(o),b=x?u==="y"?x.clientHeight||0:x.clientWidth||0:0,m=g/2-y/2,p=d[h],w=b-f[c]-d[v],_=b/2-f[c]/2+m,O=Jr(p,_,w),S=u;n.modifiersData[r]=(e={},e[S]=O,e.centerOffset=O-_,e)}}function zC(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||dd(e.elements.popper,i)&&(e.elements.arrow=i))}const BC={name:"arrow",enabled:!0,phase:"main",fn:WC,effect:zC,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rr(t){return t.split("-")[1]}var DC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function HC(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Sr(n*i)/i||0,y:Sr(r*i)/i||0}}function kl(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=a.x,h=f===void 0?0:f,v=a.y,g=v===void 0?0:v,y=typeof c=="function"?c({x:h,y:g}):{x:h,y:g};h=y.x,g=y.y;var x=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),m=Ee,p=Re,w=window;if(l){var _=wi(n),O="clientHeight",S="clientWidth";if(_===We(n)&&(_=Bn(n),En(_).position!=="static"&&s==="absolute"&&(O="scrollHeight",S="scrollWidth")),_=_,i===Re||(i===Ee||i===Ue)&&o===ci){p=Ve;var T=d&&_===w&&w.visualViewport?w.visualViewport.height:_[O];g-=T-r.height,g*=u?1:-1}if(i===Ee||(i===Re||i===Ve)&&o===ci){m=Ue;var k=d&&_===w&&w.visualViewport?w.visualViewport.width:_[S];h-=k-r.width,h*=u?1:-1}}var $=Object.assign({position:s},l&&DC),N=c===!0?HC({x:h,y:g},We(n)):{x:h,y:g};if(h=N.x,g=N.y,u){var R;return Object.assign({},$,(R={},R[p]=b?"0":"",R[m]=x?"0":"",R.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",R))}return Object.assign({},$,(e={},e[p]=b?g+"px":"",e[m]=x?h+"px":"",e.transform="",e))}function FC(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,u=s===void 0?!0:s,l={placement:gn(e.placement),variation:Rr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,kl(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,kl(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const VC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:FC,data:{}};var Ui={passive:!0};function UC(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,u=We(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(c){c.addEventListener("scroll",n.update,Ui)}),s&&u.addEventListener("resize",n.update,Ui),function(){o&&l.forEach(function(c){c.removeEventListener("scroll",n.update,Ui)}),s&&u.removeEventListener("resize",n.update,Ui)}}const qC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UC,data:{}};var GC={left:"right",right:"left",bottom:"top",top:"bottom"};function no(t){return t.replace(/left|right|bottom|top/g,function(e){return GC[e]})}var XC={start:"end",end:"start"};function Sl(t){return t.replace(/start|end/g,function(e){return XC[e]})}function Is(t){var e=We(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ps(t){return Or(Bn(t)).left+Is(t).scrollLeft}function YC(t,e){var n=We(t),r=Bn(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var l=fd();(l||!l&&e==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+Ps(t),y:u}}function KC(t){var e,n=Bn(t),r=Is(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=tr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=tr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Ps(t),u=-r.scrollTop;return En(i||n).direction==="rtl"&&(s+=tr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}function Ws(t){var e=En(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function gd(t){return["html","body","#document"].indexOf(bn(t))>=0?t.ownerDocument.body:He(t)&&Ws(t)?t:gd(Bo(t))}function Qr(t,e){var n;e===void 0&&(e=[]);var r=gd(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=We(r),a=i?[o].concat(o.visualViewport||[],Ws(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(Qr(Bo(a)))}function Ya(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ZC(t,e){var n=Or(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Ol(t,e,n){return e===ud?Ya(YC(t,n)):or(e)?ZC(e,n):Ya(KC(Bn(t)))}function JC(t){var e=Qr(Bo(t)),n=["absolute","fixed"].indexOf(En(t).position)>=0,r=n&&He(t)?wi(t):t;return or(r)?e.filter(function(i){return or(i)&&dd(i,r)&&bn(i)!=="body"}):[]}function QC(t,e,n,r){var i=e==="clippingParents"?JC(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(u,l){var c=Ol(t,l,r);return u.top=tr(c.top,u.top),u.right=Mo(c.right,u.right),u.bottom=Mo(c.bottom,u.bottom),u.left=tr(c.left,u.left),u},Ol(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function md(t){var e=t.reference,n=t.element,r=t.placement,i=r?gn(r):null,o=r?Rr(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,u;switch(i){case Re:u={x:a,y:e.y-n.height};break;case Ve:u={x:a,y:e.y+e.height};break;case Ue:u={x:e.x+e.width,y:s};break;case Ee:u={x:e.x-n.width,y:s};break;default:u={x:e.x,y:e.y}}var l=i?js(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(o){case kr:u[l]=u[l]-(e[c]/2-n[c]/2);break;case ci:u[l]=u[l]+(e[c]/2-n[c]/2);break}}return u}function fi(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,u=s===void 0?bC:s,l=n.rootBoundary,c=l===void 0?ud:l,d=n.elementContext,f=d===void 0?Vr:d,h=n.altBoundary,v=h===void 0?!1:h,g=n.padding,y=g===void 0?0:g,x=pd(typeof y!="number"?y:vd(y,bi)),b=f===Vr?wC:Vr,m=t.rects.popper,p=t.elements[v?b:f],w=QC(or(p)?p:p.contextElement||Bn(t.elements.popper),u,c,a),_=Or(t.elements.reference),O=md({reference:_,element:m,placement:i}),S=Ya(Object.assign({},m,O)),T=f===Vr?S:_,k={top:w.top-T.top+x.top,bottom:T.bottom-w.bottom+x.bottom,left:w.left-T.left+x.left,right:T.right-w.right+x.right},$=t.modifiersData.offset;if(f===Vr&&$){var N=$[i];Object.keys(k).forEach(function(R){var W=[Ue,Ve].indexOf(R)>=0?1:-1,E=[Re,Ve].indexOf(R)>=0?"y":"x";k[R]+=N[E]*W})}return k}function tA(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=u===void 0?ld:u,c=Rr(r),d=c?s?Cl:Cl.filter(function(v){return Rr(v)===c}):bi,f=d.filter(function(v){return l.indexOf(v)>=0});f.length===0&&(f=d);var h=f.reduce(function(v,g){return v[g]=fi(t,{placement:g,boundary:i,rootBoundary:o,padding:a})[gn(g)],v},{});return Object.keys(h).sort(function(v,g){return h[v]-h[g]})}function eA(t){if(gn(t)===$s)return[];var e=no(t);return[Sl(t),e,Sl(e)]}function nA(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,v=h===void 0?!0:h,g=n.allowedAutoPlacements,y=e.options.placement,x=gn(y),b=x===y,m=u||(b||!v?[no(y)]:eA(y)),p=[y].concat(m).reduce(function(tt,nt){return tt.concat(gn(nt)===$s?tA(e,{placement:nt,boundary:c,rootBoundary:d,padding:l,flipVariations:v,allowedAutoPlacements:g}):nt)},[]),w=e.rects.reference,_=e.rects.popper,O=new Map,S=!0,T=p[0],k=0;k<p.length;k++){var $=p[k],N=gn($),R=Rr($)===kr,W=[Re,Ve].indexOf(N)>=0,E=W?"width":"height",I=fi(e,{placement:$,boundary:c,rootBoundary:d,altBoundary:f,padding:l}),P=W?R?Ue:Ee:R?Ve:Re;w[E]>_[E]&&(P=no(P));var L=no(P),B=[];if(o&&B.push(I[N]<=0),s&&B.push(I[P]<=0,I[L]<=0),B.every(function(tt){return tt})){T=$,S=!1;break}O.set($,B)}if(S)for(var D=v?3:1,K=function(nt){var st=p.find(function(G){var Y=O.get(G);if(Y)return Y.slice(0,nt).every(function(at){return at})});if(st)return T=st,"break"},V=D;V>0;V--){var U=K(V);if(U==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}const rA={name:"flip",enabled:!0,phase:"main",fn:nA,requiresIfExists:["offset"],data:{_skip:!1}};function Rl(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function El(t){return[Re,Ue,Ve,Ee].some(function(e){return t[e]>=0})}function iA(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=fi(e,{elementContext:"reference"}),s=fi(e,{altBoundary:!0}),u=Rl(a,r),l=Rl(s,i,o),c=El(u),d=El(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const oA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:iA};function aA(t,e,n){var r=gn(t),i=[Ee,Re].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Ee,Ue].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function sA(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=ld.reduce(function(c,d){return c[d]=aA(d,e.rects,o),c},{}),s=a[e.placement],u=s.x,l=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}const uA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sA};function lA(t){var e=t.state,n=t.name;e.modifiersData[n]=md({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const cA={name:"popperOffsets",enabled:!0,phase:"read",fn:lA,data:{}};function fA(t){return t==="x"?"y":"x"}function dA(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,v=n.tetherOffset,g=v===void 0?0:v,y=fi(e,{boundary:u,rootBoundary:l,padding:d,altBoundary:c}),x=gn(e.placement),b=Rr(e.placement),m=!b,p=js(x),w=fA(p),_=e.modifiersData.popperOffsets,O=e.rects.reference,S=e.rects.popper,T=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,k=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(_){if(o){var R,W=p==="y"?Re:Ee,E=p==="y"?Ve:Ue,I=p==="y"?"height":"width",P=_[p],L=P+y[W],B=P-y[E],D=h?-S[I]/2:0,K=b===kr?O[I]:S[I],V=b===kr?-S[I]:-O[I],U=e.elements.arrow,tt=h&&U?Ns(U):{width:0,height:0},nt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hd(),st=nt[W],G=nt[E],Y=Jr(0,O[I],tt[I]),at=m?O[I]/2-D-Y-st-k.mainAxis:K-Y-st-k.mainAxis,ct=m?-O[I]/2+D+Y+G+k.mainAxis:V+Y+G+k.mainAxis,xt=e.elements.arrow&&wi(e.elements.arrow),pt=xt?p==="y"?xt.clientTop||0:xt.clientLeft||0:0,Ot=(R=$==null?void 0:$[p])!=null?R:0,H=P+at-Ot-pt,_t=P+ct-Ot,vt=Jr(h?Mo(L,H):L,P,h?tr(B,_t):B);_[p]=vt,N[p]=vt-P}if(s){var Rt,Lt=p==="x"?Re:Ee,Tt=p==="x"?Ve:Ue,dt=_[w],gt=w==="y"?"height":"width",X=dt+y[Lt],Mt=dt-y[Tt],At=[Re,Ee].indexOf(x)!==-1,ut=(Rt=$==null?void 0:$[w])!=null?Rt:0,Z=At?X:dt-O[gt]-S[gt]-ut+k.altAxis,St=At?dt+O[gt]+S[gt]-ut-k.altAxis:Mt,bt=h&&At?IC(Z,dt,St):Jr(h?Z:X,dt,h?St:Mt);_[w]=bt,N[w]=bt-dt}e.modifiersData[r]=N}}const hA={name:"preventOverflow",enabled:!0,phase:"main",fn:dA,requiresIfExists:["offset"]};function pA(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function vA(t){return t===We(t)||!He(t)?Is(t):pA(t)}function gA(t){var e=t.getBoundingClientRect(),n=Sr(e.width)/t.offsetWidth||1,r=Sr(e.height)/t.offsetHeight||1;return n!==1||r!==1}function mA(t,e,n){n===void 0&&(n=!1);var r=He(e),i=He(e)&&gA(e),o=Bn(e),a=Or(t,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((bn(e)!=="body"||Ws(o))&&(s=vA(e)),He(e)?(u=Or(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Ps(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function yA(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var u=e.get(s);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function xA(t){var e=yA(t);return LC.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function bA(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function wA(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ll={placement:"bottom",modifiers:[],strategy:"absolute"};function $l(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _A(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Ll:i;return function(s,u,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ll,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(x){var b=typeof x=="function"?x(c.options):x;g(),c.options=Object.assign({},o,c.options,b),c.scrollParents={reference:or(s)?Qr(s):s.contextElement?Qr(s.contextElement):[],popper:Qr(u)};var m=xA(wA([].concat(r,c.options.modifiers)));return c.orderedModifiers=m.filter(function(p){return p.enabled}),v(),h.update()},forceUpdate:function(){if(!f){var x=c.elements,b=x.reference,m=x.popper;if($l(b,m)){c.rects={reference:mA(b,wi(m),c.options.strategy==="fixed"),popper:Ns(m)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var p=0;p<c.orderedModifiers.length;p++){if(c.reset===!0){c.reset=!1,p=-1;continue}var w=c.orderedModifiers[p],_=w.fn,O=w.options,S=O===void 0?{}:O,T=w.name;typeof _=="function"&&(c=_({state:c,options:S,name:T,instance:h})||c)}}}},update:bA(function(){return new Promise(function(y){h.forceUpdate(),y(c)})}),destroy:function(){g(),f=!0}};if(!$l(s,u))return h;h.setOptions(l).then(function(y){!f&&l.onFirstUpdate&&l.onFirstUpdate(y)});function v(){c.orderedModifiers.forEach(function(y){var x=y.name,b=y.options,m=b===void 0?{}:b,p=y.effect;if(typeof p=="function"){var w=p({state:c,name:x,instance:h,options:m}),_=function(){};d.push(w||_)}})}function g(){d.forEach(function(y){return y()}),d=[]}return h}}var MA=[qC,cA,VC,cd,uA,rA,hA,BC,oA],CA=_A({defaultModifiers:MA}),AA="tippy-box",yd="tippy-content",kA="tippy-backdrop",xd="tippy-arrow",bd="tippy-svg-arrow",Yn={passive:!0,capture:!0},wd=function(){return document.body};function pa(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function zs(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function _d(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Tl(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function SA(t){return t.split(/\s+/).filter(Boolean)}function pr(t){return[].concat(t)}function Nl(t,e){t.indexOf(e)===-1&&t.push(e)}function OA(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function RA(t){return t.split("-")[0]}function Co(t){return[].slice.call(t)}function jl(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function ti(){return document.createElement("div")}function Do(t){return["Element","Fragment"].some(function(e){return zs(t,e)})}function EA(t){return zs(t,"NodeList")}function LA(t){return zs(t,"MouseEvent")}function $A(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function TA(t){return Do(t)?[t]:EA(t)?Co(t):Array.isArray(t)?t:Co(document.querySelectorAll(t))}function va(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Il(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function NA(t){var e,n=pr(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function jA(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,u=s.interactiveBorder,l=RA(a.placement),c=a.modifiersData.offset;if(!c)return!0;var d=l==="bottom"?c.top.y:0,f=l==="top"?c.bottom.y:0,h=l==="right"?c.left.x:0,v=l==="left"?c.right.x:0,g=o.top-r+d>u,y=r-o.bottom-f>u,x=o.left-n+h>u,b=n-o.right-v>u;return g||y||x||b})}function ga(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Pl(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var cn={isTouch:!1},Wl=0;function IA(){cn.isTouch||(cn.isTouch=!0,window.performance&&document.addEventListener("mousemove",Md))}function Md(){var t=performance.now();t-Wl<20&&(cn.isTouch=!1,document.removeEventListener("mousemove",Md)),Wl=t}function PA(){var t=document.activeElement;if($A(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function WA(){document.addEventListener("touchstart",IA,Yn),window.addEventListener("blur",PA)}var zA=typeof window<"u"&&typeof document<"u",BA=zA?!!window.msCrypto:!1,DA={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},HA={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ze=Object.assign({appendTo:wd,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},DA,HA),FA=Object.keys(Ze),VA=function(e){var n=Object.keys(e);n.forEach(function(r){Ze[r]=e[r]})};function Cd(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var s;r[o]=t[o]!==void 0?t[o]:(s=Ze[o])!=null?s:a}return r},{});return Object.assign({},t,n)}function UA(t,e){var n=e?Object.keys(Cd(Object.assign({},Ze,{plugins:e}))):FA,r=n.reduce(function(i,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function zl(t,e){var n=Object.assign({},e,{content:_d(e.content,[t])},e.ignoreAttributes?{}:UA(t,e.plugins));return n.aria=Object.assign({},Ze.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var qA=function(){return"innerHTML"};function Ka(t,e){t[qA()]=e}function Bl(t){var e=ti();return t===!0?e.className=xd:(e.className=bd,Do(t)?e.appendChild(t):Ka(e,t)),e}function Dl(t,e){Do(e.content)?(Ka(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Ka(t,e.content):t.textContent=e.content)}function Za(t){var e=t.firstElementChild,n=Co(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(yd)}),arrow:n.find(function(r){return r.classList.contains(xd)||r.classList.contains(bd)}),backdrop:n.find(function(r){return r.classList.contains(kA)})}}function Ad(t){var e=ti(),n=ti();n.className=AA,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=ti();r.className=yd,r.setAttribute("data-state","hidden"),Dl(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,a){var s=Za(e),u=s.box,l=s.content,c=s.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&Dl(l,t.props),a.arrow?c?o.arrow!==a.arrow&&(u.removeChild(c),u.appendChild(Bl(a.arrow))):u.appendChild(Bl(a.arrow)):c&&u.removeChild(c)}return{popper:e,onUpdate:i}}Ad.$$tippy=!0;var GA=1,qi=[],ma=[];function XA(t,e){var n=zl(t,Object.assign({},Ze,Cd(jl(e)))),r,i,o,a=!1,s=!1,u=!1,l=!1,c,d,f,h=[],v=Tl(H,n.interactiveDebounce),g,y=GA++,x=null,b=OA(n.plugins),m={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:y,reference:t,popper:ti(),popperInstance:x,props:n,state:m,plugins:b,clearDelayTimeouts:Z,setProps:St,setContent:bt,show:Nt,hide:lt,hideWithInteractivity:J,enable:At,disable:ut,unmount:wt,destroy:$t};if(!n.render)return p;var w=n.render(p),_=w.popper,O=w.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+p.id,p.popper=_,t._tippy=p,_._tippy=p;var S=b.map(function(j){return j.fn(p)}),T=t.hasAttribute("aria-expanded");return xt(),D(),P(),L("onCreate",[p]),n.showOnCreate&&X(),_.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),_.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&W().addEventListener("mousemove",v)}),p;function k(){var j=p.props.touch;return Array.isArray(j)?j:[j,0]}function $(){return k()[0]==="hold"}function N(){var j;return!!((j=p.props.render)!=null&&j.$$tippy)}function R(){return g||t}function W(){var j=R().parentNode;return j?NA(j):document}function E(){return Za(_)}function I(j){return p.state.isMounted&&!p.state.isVisible||cn.isTouch||c&&c.type==="focus"?0:pa(p.props.delay,j?0:1,Ze.delay)}function P(j){j===void 0&&(j=!1),_.style.pointerEvents=p.props.interactive&&!j?"":"none",_.style.zIndex=""+p.props.zIndex}function L(j,q,Q){if(Q===void 0&&(Q=!0),S.forEach(function(rt){rt[j]&&rt[j].apply(rt,q)}),Q){var ft;(ft=p.props)[j].apply(ft,q)}}function B(){var j=p.props.aria;if(j.content){var q="aria-"+j.content,Q=_.id,ft=pr(p.props.triggerTarget||t);ft.forEach(function(rt){var it=rt.getAttribute(q);if(p.state.isVisible)rt.setAttribute(q,it?it+" "+Q:Q);else{var mt=it&&it.replace(Q,"").trim();mt?rt.setAttribute(q,mt):rt.removeAttribute(q)}})}}function D(){if(!(T||!p.props.aria.expanded)){var j=pr(p.props.triggerTarget||t);j.forEach(function(q){p.props.interactive?q.setAttribute("aria-expanded",p.state.isVisible&&q===R()?"true":"false"):q.removeAttribute("aria-expanded")})}}function K(){W().removeEventListener("mousemove",v),qi=qi.filter(function(j){return j!==v})}function V(j){if(!(cn.isTouch&&(u||j.type==="mousedown"))){var q=j.composedPath&&j.composedPath()[0]||j.target;if(!(p.props.interactive&&Pl(_,q))){if(pr(p.props.triggerTarget||t).some(function(Q){return Pl(Q,q)})){if(cn.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[p,j]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),s=!0,setTimeout(function(){s=!1}),p.state.isMounted||st())}}}function U(){u=!0}function tt(){u=!1}function nt(){var j=W();j.addEventListener("mousedown",V,!0),j.addEventListener("touchend",V,Yn),j.addEventListener("touchstart",tt,Yn),j.addEventListener("touchmove",U,Yn)}function st(){var j=W();j.removeEventListener("mousedown",V,!0),j.removeEventListener("touchend",V,Yn),j.removeEventListener("touchstart",tt,Yn),j.removeEventListener("touchmove",U,Yn)}function G(j,q){at(j,function(){!p.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&q()})}function Y(j,q){at(j,q)}function at(j,q){var Q=E().box;function ft(rt){rt.target===Q&&(ga(Q,"remove",ft),q())}if(j===0)return q();ga(Q,"remove",d),ga(Q,"add",ft),d=ft}function ct(j,q,Q){Q===void 0&&(Q=!1);var ft=pr(p.props.triggerTarget||t);ft.forEach(function(rt){rt.addEventListener(j,q,Q),h.push({node:rt,eventType:j,handler:q,options:Q})})}function xt(){$()&&(ct("touchstart",Ot,{passive:!0}),ct("touchend",_t,{passive:!0})),SA(p.props.trigger).forEach(function(j){if(j!=="manual")switch(ct(j,Ot),j){case"mouseenter":ct("mouseleave",_t);break;case"focus":ct(BA?"focusout":"blur",vt);break;case"focusin":ct("focusout",vt);break}})}function pt(){h.forEach(function(j){var q=j.node,Q=j.eventType,ft=j.handler,rt=j.options;q.removeEventListener(Q,ft,rt)}),h=[]}function Ot(j){var q,Q=!1;if(!(!p.state.isEnabled||Rt(j)||s)){var ft=((q=c)==null?void 0:q.type)==="focus";c=j,g=j.currentTarget,D(),!p.state.isVisible&&LA(j)&&qi.forEach(function(rt){return rt(j)}),j.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||a)&&p.props.hideOnClick!==!1&&p.state.isVisible?Q=!0:X(j),j.type==="click"&&(a=!Q),Q&&!ft&&Mt(j)}}function H(j){var q=j.target,Q=R().contains(q)||_.contains(q);if(!(j.type==="mousemove"&&Q)){var ft=gt().concat(_).map(function(rt){var it,mt=rt._tippy,ot=(it=mt.popperInstance)==null?void 0:it.state;return ot?{popperRect:rt.getBoundingClientRect(),popperState:ot,props:n}:null}).filter(Boolean);jA(ft,j)&&(K(),Mt(j))}}function _t(j){var q=Rt(j)||p.props.trigger.indexOf("click")>=0&&a;if(!q){if(p.props.interactive){p.hideWithInteractivity(j);return}Mt(j)}}function vt(j){p.props.trigger.indexOf("focusin")<0&&j.target!==R()||p.props.interactive&&j.relatedTarget&&_.contains(j.relatedTarget)||Mt(j)}function Rt(j){return cn.isTouch?$()!==j.type.indexOf("touch")>=0:!1}function Lt(){Tt();var j=p.props,q=j.popperOptions,Q=j.placement,ft=j.offset,rt=j.getReferenceClientRect,it=j.moveTransition,mt=N()?Za(_).arrow:null,ot=rt?{getBoundingClientRect:rt,contextElement:rt.contextElement||R()}:t,yt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Et){var qt=Et.state;if(N()){var Yt=E(),kt=Yt.box;["placement","reference-hidden","escaped"].forEach(function(Ct){Ct==="placement"?kt.setAttribute("data-placement",qt.placement):qt.attributes.popper["data-popper-"+Ct]?kt.setAttribute("data-"+Ct,""):kt.removeAttribute("data-"+Ct)}),qt.attributes.popper={}}}},Wt=[{name:"offset",options:{offset:ft}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!it}},yt];N()&&mt&&Wt.push({name:"arrow",options:{element:mt,padding:3}}),Wt.push.apply(Wt,(q==null?void 0:q.modifiers)||[]),p.popperInstance=CA(ot,_,Object.assign({},q,{placement:Q,onFirstUpdate:f,modifiers:Wt}))}function Tt(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function dt(){var j=p.props.appendTo,q,Q=R();p.props.interactive&&j===wd||j==="parent"?q=Q.parentNode:q=_d(j,[Q]),q.contains(_)||q.appendChild(_),p.state.isMounted=!0,Lt()}function gt(){return Co(_.querySelectorAll("[data-tippy-root]"))}function X(j){p.clearDelayTimeouts(),j&&L("onTrigger",[p,j]),nt();var q=I(!0),Q=k(),ft=Q[0],rt=Q[1];cn.isTouch&&ft==="hold"&&rt&&(q=rt),q?r=setTimeout(function(){p.show()},q):p.show()}function Mt(j){if(p.clearDelayTimeouts(),L("onUntrigger",[p,j]),!p.state.isVisible){st();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(j.type)>=0&&a)){var q=I(!1);q?i=setTimeout(function(){p.state.isVisible&&p.hide()},q):o=requestAnimationFrame(function(){p.hide()})}}function At(){p.state.isEnabled=!0}function ut(){p.hide(),p.state.isEnabled=!1}function Z(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function St(j){if(!p.state.isDestroyed){L("onBeforeUpdate",[p,j]),pt();var q=p.props,Q=zl(t,Object.assign({},q,jl(j),{ignoreAttributes:!0}));p.props=Q,xt(),q.interactiveDebounce!==Q.interactiveDebounce&&(K(),v=Tl(H,Q.interactiveDebounce)),q.triggerTarget&&!Q.triggerTarget?pr(q.triggerTarget).forEach(function(ft){ft.removeAttribute("aria-expanded")}):Q.triggerTarget&&t.removeAttribute("aria-expanded"),D(),P(),O&&O(q,Q),p.popperInstance&&(Lt(),gt().forEach(function(ft){requestAnimationFrame(ft._tippy.popperInstance.forceUpdate)})),L("onAfterUpdate",[p,j])}}function bt(j){p.setProps({content:j})}function Nt(){var j=p.state.isVisible,q=p.state.isDestroyed,Q=!p.state.isEnabled,ft=cn.isTouch&&!p.props.touch,rt=pa(p.props.duration,0,Ze.duration);if(!(j||q||Q||ft)&&!R().hasAttribute("disabled")&&(L("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,N()&&(_.style.visibility="visible"),P(),nt(),p.state.isMounted||(_.style.transition="none"),N()){var it=E(),mt=it.box,ot=it.content;va([mt,ot],0)}f=function(){var Wt;if(!(!p.state.isVisible||l)){if(l=!0,_.offsetHeight,_.style.transition=p.props.moveTransition,N()&&p.props.animation){var jt=E(),Et=jt.box,qt=jt.content;va([Et,qt],rt),Il([Et,qt],"visible")}B(),D(),Nl(ma,p),(Wt=p.popperInstance)==null||Wt.forceUpdate(),L("onMount",[p]),p.props.animation&&N()&&Y(rt,function(){p.state.isShown=!0,L("onShown",[p])})}},dt()}}function lt(){var j=!p.state.isVisible,q=p.state.isDestroyed,Q=!p.state.isEnabled,ft=pa(p.props.duration,1,Ze.duration);if(!(j||q||Q)&&(L("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,l=!1,a=!1,N()&&(_.style.visibility="hidden"),K(),st(),P(!0),N()){var rt=E(),it=rt.box,mt=rt.content;p.props.animation&&(va([it,mt],ft),Il([it,mt],"hidden"))}B(),D(),p.props.animation?N()&&G(ft,p.unmount):p.unmount()}}function J(j){W().addEventListener("mousemove",v),Nl(qi,v),v(j)}function wt(){p.state.isVisible&&p.hide(),p.state.isMounted&&(Tt(),gt().forEach(function(j){j._tippy.unmount()}),_.parentNode&&_.parentNode.removeChild(_),ma=ma.filter(function(j){return j!==p}),p.state.isMounted=!1,L("onHidden",[p]))}function $t(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),pt(),delete t._tippy,p.state.isDestroyed=!0,L("onDestroy",[p]))}}function _i(t,e){e===void 0&&(e={});var n=Ze.plugins.concat(e.plugins||[]);WA();var r=Object.assign({},e,{plugins:n}),i=TA(t),o=i.reduce(function(a,s){var u=s&&XA(s,r);return u&&a.push(u),a},[]);return Do(t)?o[0]:o}_i.defaultProps=Ze;_i.setDefaultProps=VA;_i.currentInput=cn;Object.assign({},cd,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});_i.setDefaultProps({render:Ad});function Ho(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Hl=Symbol("implicit");function kd(){var t=new Map,e=[],n=[],r=Hl;function i(o){var a=o+"",s=t.get(a);if(!s){if(r!==Hl)return r;t.set(a,s=e.push(o))}return n[(s-1)%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Map;for(const a of o){const s=a+"";t.has(s)||t.set(s,e.push(a))}return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return kd(e,n).unknown(r)},Ho.apply(i,arguments),i}function Bs(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Sd(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mi(){}var di=.7,Ao=1/di,xr="\\s*([+-]?\\d+)\\s*",hi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",mn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YA=/^#([0-9a-f]{3,8})$/,KA=new RegExp("^rgb\\("+[xr,xr,xr]+"\\)$"),ZA=new RegExp("^rgb\\("+[mn,mn,mn]+"\\)$"),JA=new RegExp("^rgba\\("+[xr,xr,xr,hi]+"\\)$"),QA=new RegExp("^rgba\\("+[mn,mn,mn,hi]+"\\)$"),tk=new RegExp("^hsl\\("+[hi,mn,mn]+"\\)$"),ek=new RegExp("^hsla\\("+[hi,mn,mn,hi]+"\\)$"),Fl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bs(Mi,pi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Vl,formatHex:Vl,formatHsl:nk,formatRgb:Ul,toString:Ul});function Vl(){return this.rgb().formatHex()}function nk(){return Od(this).formatHsl()}function Ul(){return this.rgb().formatRgb()}function pi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=YA.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ql(e):n===3?new je(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=KA.exec(t))?new je(e[1],e[2],e[3],1):(e=ZA.exec(t))?new je(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=JA.exec(t))?Gi(e[1],e[2],e[3],e[4]):(e=QA.exec(t))?Gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tk.exec(t))?Yl(e[1],e[2]/100,e[3]/100,1):(e=ek.exec(t))?Yl(e[1],e[2]/100,e[3]/100,e[4]):Fl.hasOwnProperty(t)?ql(Fl[t]):t==="transparent"?new je(NaN,NaN,NaN,0):null}function ql(t){return new je(t>>16&255,t>>8&255,t&255,1)}function Gi(t,e,n,r){return r<=0&&(t=e=n=NaN),new je(t,e,n,r)}function rk(t){return t instanceof Mi||(t=pi(t)),t?(t=t.rgb(),new je(t.r,t.g,t.b,t.opacity)):new je}function Ja(t,e,n,r){return arguments.length===1?rk(t):new je(t,e,n,r??1)}function je(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Bs(je,Ja,Sd(Mi,{brighter:function(t){return t=t==null?Ao:Math.pow(Ao,t),new je(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?di:Math.pow(di,t),new je(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gl,formatHex:Gl,formatRgb:Xl,toString:Xl}));function Gl(){return"#"+ya(this.r)+ya(this.g)+ya(this.b)}function Xl(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function ya(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Yl(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new hn(t,e,n,r)}function Od(t){if(t instanceof hn)return new hn(t.h,t.s,t.l,t.opacity);if(t instanceof Mi||(t=pi(t)),!t)return new hn;if(t instanceof hn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new hn(a,s,u,t.opacity)}function ik(t,e,n,r){return arguments.length===1?Od(t):new hn(t,e,n,r??1)}function hn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Bs(hn,ik,Sd(Mi,{brighter:function(t){return t=t==null?Ao:Math.pow(Ao,t),new hn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?di:Math.pow(di,t),new hn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new je(xa(t>=240?t-240:t+120,i,r),xa(t,i,r),xa(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function xa(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ds=t=>()=>t;function ok(t,e){return function(n){return t+n*e}}function ak(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function sk(t){return(t=+t)==1?Rd:function(e,n){return n-e?ak(e,n,t):Ds(isNaN(e)?n:e)}}function Rd(t,e){var n=e-t;return n?ok(t,n):Ds(isNaN(t)?e:t)}const Kl=function t(e){var n=sk(e);function r(i,o){var a=n((i=Ja(i)).r,(o=Ja(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=Rd(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function uk(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function lk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ck(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Hs(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function fk(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ko(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dk(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hs(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Qa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ba=new RegExp(Qa.source,"g");function hk(t){return function(){return t}}function pk(t){return function(e){return t(e)+""}}function vk(t,e){var n=Qa.lastIndex=ba.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Qa.exec(t))&&(i=ba.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:ko(r,i)})),n=ba.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?pk(u[0].x):hk(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}function Hs(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ds(e):(n==="number"?ko:n==="string"?(r=pi(e))?(e=r,Kl):vk:e instanceof pi?Kl:e instanceof Date?fk:lk(e)?uk:Array.isArray(e)?ck:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dk:ko)(t,e)}function gk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mk(t){return function(){return t}}function yk(t){return+t}var Zl=[0,1];function pn(t){return t}function ts(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:mk(isNaN(e)?NaN:.5)}function xk(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bk(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ts(i,r),o=n(a,o)):(r=ts(r,i),o=n(o,a)),function(s){return o(r(s))}}function wk(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ts(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var u=OM(t,s,1,r)-1;return o[u](i[u](s))}}function Fs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vs(){var t=Zl,e=Zl,n=Hs,r,i,o,a=pn,s,u,l;function c(){var f=Math.min(t.length,e.length);return a!==pn&&(a=xk(t[0],t[f-1])),s=f>2?wk:bk,u=l=null,d}function d(f){return f==null||isNaN(f=+f)?o:(u||(u=s(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((l||(l=s(e,t.map(r),ko)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,yk),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=gk,c()},d.clamp=function(f){return arguments.length?(a=f?!0:pn,c()):a!==pn},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,c()}}function _k(){return Vs()(pn,pn)}function Mk(t,e,n,r){var i=EM(t,e,n),o;switch(r=Mh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=kh(i,a))&&(r.precision=o),Sh(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ah(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ch(i))&&(r.precision=o-(r.type==="%")*2);break}}return dc(r)}function Ed(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ga(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Mk(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=id(a,s,n),l===u)return r[i]=a,r[o]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function Ld(){var t=_k();return t.copy=function(){return Fs(t,Ld())},Ho.apply(t,arguments),Ed(t)}function Ck(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Jl(t){return Math.log(t)}function Ql(t){return Math.exp(t)}function Ak(t){return-Math.log(-t)}function kk(t){return-Math.exp(-t)}function Sk(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ok(t){return t===10?Sk:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Rk(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function tc(t){return function(e){return-t(-e)}}function Ek(t){var e=t(Jl,Ql),n=e.domain,r=10,i,o;function a(){return i=Rk(r),o=Ok(r),n()[0]<0?(i=tc(i),o=tc(o),t(Ak,kk)):t(Jl,Ql),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=function(s){var u=n(),l=u[0],c=u[u.length-1],d;(d=c<l)&&(f=l,l=c,c=f);var f=i(l),h=i(c),v,g,y,x=s==null?10:+s,b=[];if(!(r%1)&&h-f<x){if(f=Math.floor(f),h=Math.ceil(h),l>0){for(;f<=h;++f)for(g=1,v=o(f);g<r;++g)if(y=v*g,!(y<l)){if(y>c)break;b.push(y)}}else for(;f<=h;++f)for(g=r-1,v=o(f);g>=1;--g)if(y=v*g,!(y<l)){if(y>c)break;b.push(y)}b.length*2<x&&(b=Ga(l,c,x))}else b=Ga(f,h,Math.min(h-f,x)).map(o);return d?b.reverse():b},e.tickFormat=function(s,u){if(u==null&&(u=r===10?".0e":","),typeof u!="function"&&(u=dc(u)),s===1/0)return u;s==null&&(s=10);var l=Math.max(1,r*s/e.ticks().length);return function(c){var d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=l?u(c):""}},e.nice=function(){return n(Ck(n(),{floor:function(s){return o(Math.floor(i(s)))},ceil:function(s){return o(Math.ceil(i(s)))}}))},e}function $d(){var t=Ek(Vs()).domain([1,10]);return t.copy=function(){return Fs(t,$d()).base(t.base())},Ho.apply(t,arguments),t}function ec(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Lk(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $k(t){return t<0?-t*t:t*t}function Tk(t){var e=t(pn,pn),n=1;function r(){return n===1?t(pn,pn):n===.5?t(Lk,$k):t(ec(n),ec(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ed(e)}function Td(){var t=Tk(Vs());return t.copy=function(){return Fs(t,Td()).exponent(t.exponent())},Ho.apply(t,arguments),t}function Nk(){return Td.apply(null,arguments).exponent(.5)}function jk(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Ik=jk("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function ei(){return(ei=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var wa=Math.PI/180;function Pk(t){return t.text}function Wk(){return"serif"}function nc(){return"normal"}function zk(t){return Math.sqrt(t.value)}function Bk(){return 30*(~~(6*Math.random())-3)}function Dk(){return 1}function Hk(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,2048/o,2048/o);var a=0,s=0,u=0,l=n.length;for(--r;++r<l;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var c=i.measureText(e.text+"m").width*o,d=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*wa),h=Math.cos(e.rotate*wa),v=c*h,g=c*f,y=d*h,x=d*f;c=Math.max(Math.abs(v+x),Math.abs(v-x))+31>>5<<5,d=~~Math.max(Math.abs(g+y),Math.abs(g-y))}else c=c+31>>5<<5;if(d>u&&(u=d),a+c>=2048&&(a=0,s+=u,u=0),s+d>=2048)break;i.translate((a+(c>>1))/o,(s+(d>>1))/o),e.rotate&&i.rotate(e.rotate*wa),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=c,e.height=d,e.xoff=a,e.yoff=s,e.x1=c>>1,e.y1=d>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=c}for(var b=i.getImageData(0,0,2048/o,2048/o).data,m=[];--r>=0;)if((e=n[r]).hasText){for(var p=(c=e.width)>>5,w=(d=e.y1-e.y0,0);w<d*p;w++)m[w]=0;if((a=e.xoff)==null)return;s=e.yoff;for(var _=0,O=-1,S=0;S<d;S++){for(w=0;w<c;w++){var T=b[2048*(s+S)+(a+w)<<2]?1<<31-w%32:0;m[p*S+(w>>5)]|=T,_|=T}_?O=S:(e.y0++,d--,S--,s++)}e.y1=e.y0+O,e.sprite=m.slice(0,(e.y1-e.y0)*p)}}}function Fk(t,e,n){for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,u=32-s,l=t.y1-t.y0,c=(t.y+t.y0)*(n>>=5)+(a>>5),d=0;d<l;d++){r=0;for(var f=0;f<=o;f++)if((r<<u|(f<o?(r=i[d*o+f])>>>s:0))&e[c+f])return!0;c+=n}return!1}function Vk(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function Nd(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Uk(){return document.createElement("canvas")}function In(t){return typeof t=="function"?t:function(){return t}}var qk={archimedean:Nd,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(i){var o=i<0?-1:1;switch(Math.sqrt(1+4*o*i)-o&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};function rc(t,e){return t[Math.floor(e()*t.length)]}function ic(t){return t.size+"px"}function _a(t){return t.text}function oc(t){return"translate("+t.x+", "+t.y+")"+(typeof t.rotate=="number"?"rotate("+t.rotate+")":"")}function Gk(t){var e,n=t.callbacks,r=t.maxWords,i=t.options,o=t.selection,a=t.size,s=i.deterministic,u=i.enableOptimizations,l=i.fontFamily,c=i.fontStyle,d=i.fontSizes,f=i.fontWeight,h=i.padding,v=i.randomSeed,g=i.rotations,y=i.rotationAngles,x=i.spiral,b=i.scale,m=t.words.concat().sort(function(w,_){return RM(w.value,_.value)}).slice(0,r),p=xC(s?v||"deterministic":null);(e=u?function(){var w=[256,256],_=Pk,O=Wk,S=zk,T=nc,k=nc,$=Bk,N=Dk,R=Nd,W=[],E=1/0,I=_s("word","end"),P=Math.random,L={},B=Uk,D=!1;function K(V,U,tt){for(var nt,st,G,Y,at,ct=U.x,xt=U.y,pt=Math.sqrt(w[0]*w[0]+w[1]*w[1]),Ot=R(w),H=P()<.5?1:-1,_t=-H;(nt=Ot(_t+=H))&&(st=~~nt[0],G=~~nt[1],!(Math.min(Math.abs(st),Math.abs(G))>=pt));)if(U.x=ct+st,U.y=xt+G,!(U.x+U.x0<0||U.y+U.y0<0||U.x+U.x1>w[0]||U.y+U.y1>w[1]||tt&&Fk(U,V,w[0])||tt&&!((Y=U).x+Y.x1>(at=tt)[0].x&&Y.x+Y.x0<at[1].x&&Y.y+Y.y1>at[0].y&&Y.y+Y.y0<at[1].y))){for(var vt,Rt=U.sprite,Lt=U.width>>5,Tt=w[0]>>5,dt=U.x-(Lt<<4),gt=127&dt,X=32-gt,Mt=U.y1-U.y0,At=(U.y+U.y0)*Tt+(dt>>5),ut=0;ut<Mt;ut++){vt=0;for(var Z=0;Z<=Lt;Z++)V[At+Z]|=vt<<X|(Z<Lt?(vt=Rt[ut*Lt+Z])>>>gt:0);At+=Tt}return delete U.sprite,!0}return!1}return L.canvas=function(V){return arguments.length?(B=In(V),L):B},L.start=function(){var V=function(G){G.width=G.height=1;var Y=Math.sqrt(G.getContext("2d").getImageData(0,0,1,1).data.length>>2);G.width=2048/Y,G.height=2048/Y;var at=G.getContext("2d");return at.fillStyle=at.strokeStyle="red",at.textAlign="center",{context:at,ratio:Y}}(B()),U=new Uint32Array((w[0]>>5)*w[1]),tt=null,nt=[],st=W.map(function(G,Y){return G.text=_.call(this,G,Y),G.font=O.call(this,G,Y),G.style=T.call(this,G,Y),G.weight=k.call(this,G,Y),G.rotate=$.call(this,G,Y),G.size=~~S.call(this,G,Y),G.padding=N.call(this,G,Y),G}).sort(function(G,Y){return Y.size-G.size});return setTimeout(function(){return function G(Y){var at=50*Y,ct=Math.min(50*(Y+1),W.length);(function(xt,pt){for(var Ot=xt;Ot<pt;Ot+=1){var H=st[Ot];H.x=w[0]*(P()+.5)>>1,H.y=w[1]*(P()+.5)>>1,Hk(V,H,st,Ot),H.hasText&&K(U,H,tt)&&(nt.push(H),I.call("word",L,H),tt?Vk(tt,H):tt=[{x:H.x+H.x0,y:H.y+H.y0},{x:H.x+H.x1,y:H.y+H.y1}],H.x-=w[0]>>1,H.y-=w[1]>>1)}})(at,ct),D||(ct<W.length?setTimeout(function(){return G(Y+1)},0):(L.stop(),I.call("end",L,nt,tt)))}(0)},0),L},L.revive=function(){return D=!1,L},L.stop=function(){return D=!0,L},L.timeInterval=function(V){return arguments.length?(E=V??1/0,L):E},L.words=function(V){return arguments.length?(W=V,L):W},L.size=function(V){return arguments.length?(w=[+V[0],+V[1]],L):w},L.font=function(V){return arguments.length?(O=In(V),L):O},L.fontStyle=function(V){return arguments.length?(T=In(V),L):T},L.fontWeight=function(V){return arguments.length?(k=In(V),L):k},L.rotate=function(V){return arguments.length?($=In(V),L):$},L.text=function(V){return arguments.length?(_=In(V),L):_},L.spiral=function(V){return arguments.length?(R=qk[V]||V,L):R},L.fontSize=function(V){return arguments.length?(S=In(V),L):S},L.padding=function(V){return arguments.length?(N=In(V),L):N},L.random=function(V){return arguments.length?(P=V,L):P},L.on=function(){var V=I.on.apply(I,arguments);return V===I?L:V},L}():QM()).size(a).padding(h).words(eC(m)).rotate(function(){return g===void 0?30*(~~(6*p())-3):function(w,_,O){if(w<1)return 0;var S=[];if(w===1)S=[_[0]];else{S=[].concat(_);for(var T=(_[1]-_[0])/(w-1),k=_[0]+T;k<_[1];)S.push(k),k+=T}return rc(S,O)}(g,y,p)}).spiral(x).random(p).text(_a).font(l).fontStyle(c).fontWeight(f),function w(_,O){O===void 0&&(O=1),u&&e.revive(),e.fontSize(function(S){return function(T,k,$){var N,R=$M(T,function(E){return Number(E.value)}),W=LM(T,function(E){return Number(E.value)});switch($){case"log":N=$d;break;case"sqrt":N=Nk;break;case"linear":default:N=Ld}return N().domain([R,W]).range(k)}(m,_,b)(S.value)}).on("end",function(S){if(m.length!==S.length&&O<=10){O===10&&console.warn("Unable to layout "+(m.length-S.length)+" word(s) after "+O+" attempts.  Consider: (1) Increasing the container/component size. (2) Lowering the max font size. (3) Limiting the rotation angles.");var T=Math.max(.95*_[0],1);w([T,Math.max(.95*_[1],T)],O+1)}else(function(k){var $,N=k.callbacks,R=k.options,W=k.random,E=k.words,I=N.getWordColor,P=N.getWordTooltip,L=N.onWordClick,B=N.onWordMouseOver,D=N.onWordMouseOut,K=R.colors,V=R.enableTooltip,U=R.fontStyle,tt=R.fontWeight,nt=R.textAttributes,st=R.tooltipOptions,G=R.fontFamily,Y=R.transitionDuration;function at(ct){return I?I(ct):rc(K,W)}k.selection.selectAll("text").data(E).join(function(ct){var xt=ct.append("text").on("click",function(pt){L&&L(pt,Zn)}).on("mouseover",function(pt){V&&($=_i(Zn.target,ei({animation:"scale",arrow:!0,content:function(){return P(pt)}},st))),B&&B(pt,Zn)}).on("mouseout",function(pt){$&&$.destroy(),D&&D(pt,Zn)}).attr("cursor",L?"pointer":"default").attr("fill",at).attr("font-family",G).attr("font-style",U).attr("font-weight",tt).attr("text-anchor","middle").attr("transform","translate(0, 0) rotate(0)");typeof nt=="object"&&Object.keys(nt).forEach(function(pt){xt=xt.attr(pt,nt[pt])}),xt=xt.call(function(pt){return pt.transition().duration(Y).attr("font-size",ic).attr("transform",oc).text(_a)})},function(ct){ct.transition().duration(Y).attr("fill",at).attr("font-family",G).attr("font-size",ic).attr("transform",oc).text(_a)},function(ct){ct.transition().duration(Y).attr("fill-opacity",0).remove()})})({callbacks:n,options:i,random:p,selection:o,words:S})}).start()}(d)}var jd={getWordTooltip:function(t){return t.text+" ("+t.value+")"}},Id={colors:TM(20).map(function(t){return t.toString()}).map(kd(Ik)),deterministic:!1,enableOptimizations:!1,enableTooltip:!0,fontFamily:"times new roman",fontSizes:[4,32],fontStyle:"normal",fontWeight:"normal",padding:1,rotationAngles:[-90,90],scale:"sqrt",spiral:"rectangular",tooltipOptions:{},transitionDuration:600};function Pd(t){var e=t.callbacks,n=t.maxWords,r=n===void 0?100:n,i=t.minSize,o=t.options,a=t.size,s=t.words,u=function(y,x){if(y==null)return{};var b,m,p={},w=Object.keys(y);for(m=0;m<w.length;m++)x.indexOf(b=w[m])>=0||(p[b]=y[b]);return p}(t,["callbacks","maxWords","minSize","options","size","words"]),l=ei({},jd,e),c=ei({},Id,o),d=function(y,x,b){var m=A.useRef(),p=A.useState(x),w=p[0],_=p[1],O=A.useState(null),S=O[0],T=O[1];return A.useEffect(function(){var k=m.current,$=ol(k).append("svg").style("display","block");typeof b=="object"&&Object.keys(b).forEach(function(P){$=$.attr(P,b[P])});var N=$.append("g");function R(P,L){$.attr("height",L).attr("width",P),N.attr("transform","translate("+P/2+", "+L/2+")"),_([P,L])}T(N);var W=0,E=0;x===void 0?(W=k.parentElement.offsetWidth,E=k.parentElement.offsetHeight):(W=x[0],E=x[1]),R(W=Math.max(W,y[0]),E=Math.max(E,y[1]));var I=new q_(function(P){if(P&&P.length!==0&&x===void 0){var L=P[0].contentRect;R(L.width,L.height)}});return I.observe(k),function(){I.unobserve(k),ol(k).selectAll("*").remove()}},[x,y,b]),[m,S,w]}(i,a,o.svgAttributes),f=d[0],h=d[1],v=d[2],g=A.useRef(lw(Gk,100));return A.useEffect(function(){h&&g.current({callbacks:l,maxWords:r,options:c,selection:h,size:v,words:s})},[r,l,c,h,v,s]),sh.createElement("div",ei({ref:f,style:{height:"100%",width:"100%"}},u))}Pd.defaultProps={callbacks:jd,maxWords:100,minSize:[300,300],options:Id};function Xk({className:t}){const{events:e}=qe(),[n,r]=A.useState([]);return A.useEffect(()=>{const i={},o=new Set(["the","and","of","to","a","in","for","is","on","that","by","this","with","i","you","it","not","or","be","are","from","at","as"]);e.forEach(s=>{`${s.title} ${s.comment||""}`.toLowerCase().split(/\W+/).forEach(l=>{l.length>3&&!o.has(l)&&!/^\d+$/.test(l)&&(i[l]=(i[l]||0)+1)})});const a=Object.entries(i).map(([s,u])=>({text:s,value:u})).sort((s,u)=>u.value-s.value).slice(0,50);r(a)},[e]),C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Trending Topics"}),C.jsx("div",{className:"h-[300px]",children:C.jsx(Pd,{words:n,options:{rotations:2,rotationAngles:[-90,0],fontSizes:[12,60],colors:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],enableTooltip:!0,deterministic:!1,fontFamily:"Inter"}})})]})}function Pt(){return Pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pt.apply(null,arguments)}function Dn(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ac,Yk=A.memo(function(t){var e=t.years,n=t.legend,r=t.theme;return C.jsx(C.Fragment,{children:e.map(function(i){return C.jsx(zn,{transform:"translate("+i.x+","+i.y+") rotate("+i.rotation+")",textAnchor:"middle",style:r.labels.text,children:n(i.year)},i.year)})})}),Kk=A.memo(function(t){var e=t.path,n=t.borderWidth,r=t.borderColor;return C.jsx("path",{d:e,style:{fill:"none",strokeWidth:n,stroke:r,pointerEvents:"none"}})}),Wd=A.memo(function(t){var e=t.months,n=t.legend,r=t.theme;return C.jsx(C.Fragment,{children:e.map(function(i){return C.jsx(zn,{transform:"translate("+i.x+","+i.y+") rotate("+i.rotation+")",textAnchor:"middle",style:r.labels.text,children:n(i.year,i.month,i.date)},i.date.toString()+".legend")})})}),Zk=A.memo(function(t){var e=t.data,n=t.x,r=t.y,i=t.size,o=t.color,a=t.borderWidth,s=t.borderColor,u=t.isInteractive,l=t.tooltip,c=t.onMouseEnter,d=t.onMouseMove,f=t.onMouseLeave,h=t.onClick,v=t.formatValue,g=ze(),y=g.showTooltipFromEvent,x=g.hideTooltip,b=A.useCallback(function(_){if("value"in e){var O=Pt({},e,{value:v(e.value),data:Pt({},e.data)});y(A.createElement(l,Pt({},O)),_),c==null||c(e,_)}},[y,l,e,c,v]),m=A.useCallback(function(_){if("value"in e){var O=Pt({},e,{value:v(e.value),data:Pt({},e.data)});y(A.createElement(l,Pt({},O)),_),d==null||d(e,_)}},[y,l,e,d,v]),p=A.useCallback(function(_){"value"in e&&(x(),f==null||f(e,_))},[x,e,f]),w=A.useCallback(function(_){return h==null?void 0:h(e,_)},[e,h]);return C.jsx("rect",{x:n,y:r,width:i,height:i,style:{fill:o,strokeWidth:a,stroke:s},onMouseEnter:u?b:void 0,onMouseMove:u?m:void 0,onMouseLeave:u?p:void 0,onClick:u?w:void 0})}),Jk=A.memo(function(t){var e=t.value,n=t.day,r=t.color;return e===void 0||isNaN(Number(e))?null:C.jsx(er,{id:n,value:e,color:r,enableChip:!0})}),Qk=es("%b"),zd={colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],align:"center",direction:"horizontal",emptyColor:"#fff",minValue:0,maxValue:"auto",yearSpacing:30,yearLegend:function(t){return t},yearLegendPosition:"before",yearLegendOffset:10,monthBorderWidth:2,monthBorderColor:"#000",monthSpacing:0,monthLegend:function(t,e,n){return Qk(n)},monthLegendPosition:"before",monthLegendOffset:10,daySpacing:0,dayBorderWidth:1,dayBorderColor:"#000",isInteractive:!0,legends:[],tooltip:Jk},Xt=Pt({},zd,{role:"img"}),Qt=Pt({},zd,{pixelRatio:typeof window<"u"&&(ac=window.devicePixelRatio)!=null?ac:1}),ne=Pt({},Xt,{dayBorderColor:"#fff",dayRadius:0,square:!0,weekdayLegendOffset:75,firstWeekday:"sunday",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}),tS=function(t,e,n){var r=t.map(function(i){return i.value});return[e==="auto"?Math.min.apply(Math,r):e,n==="auto"?Math.max.apply(Math,r):n]},eS=Rh(function(t){var e,n=t.date,r=t.cellSize,i=t.yearIndex,o=t.yearSpacing,a=t.monthSpacing,s=t.daySpacing,u=t.direction,l=t.originX,c=t.originY,d=new Date(n.getFullYear(),n.getMonth()+1,0),f=ni.count(io(n),n),h=ni.count(io(d),d),v=n.getDay(),g=d.getDay(),y=l,x=c,b=i*(7*(r+s)+o),m=n.getMonth()*a;u==="horizontal"?(x+=b,y+=m):(x+=m,y+=b);var p={x:y,y:x,width:0,height:0};return u==="horizontal"?(e=["M"+(y+(f+1)*(r+s))+","+(x+v*(r+s)),"H"+(y+f*(r+s))+"V"+(x+7*(r+s)),"H"+(y+h*(r+s))+"V"+(x+(g+1)*(r+s)),"H"+(y+(h+1)*(r+s))+"V"+x,"H"+(y+(f+1)*(r+s))+"Z"].join(""),p.x=y+f*(r+s),p.width=y+(h+1)*(r+s)-p.x,p.height=7*(r+s)):(e=["M"+(y+v*(r+s))+","+(x+(f+1)*(r+s)),"H"+y+"V"+(x+(h+1)*(r+s)),"H"+(y+(g+1)*(r+s))+"V"+(x+h*(r+s)),"H"+(y+7*(r+s))+"V"+(x+f*(r+s)),"H"+(y+v*(r+s))+"Z"].join(""),p.y=x+f*(r+s),p.width=7*(r+s),p.height=x+(h+1)*(r+s)-p.y),{path:e,bbox:p}},function(t){var e=t.date,n=t.cellSize,r=t.yearIndex,i=t.yearSpacing,o=t.monthSpacing,a=t.daySpacing,s=t.direction,u=t.originX,l=t.originY;return e.toString()+"."+n+"."+r+"."+i+"."+o+"."+a+"."+s+"."+u+"."+l}),nS=es("%Y-%m-%d"),rS=function(t){var e,n=t.width,r=t.height,i=t.from,o=t.to,a=t.direction,s=t.yearSpacing,u=t.monthSpacing,l=t.daySpacing,c=t.align,d=br(i)?i:new Date(i),f=br(o)?o:new Date(o),h=ap(d.getFullYear(),f.getFullYear()+1),v=Math.max.apply(Math,h.map(function(k){return Oh(new Date(k,0,1),new Date(k+1,0,1)).length}))+1,g=function(k){var $,N,R=k.width,W=k.height,E=k.direction,I=k.yearRange,P=k.yearSpacing,L=k.monthSpacing,B=k.daySpacing,D=k.maxWeeks;return E==="horizontal"?($=(R-12*L-B*D)/D,N=(W-(I.length-1)*P-I.length*(8*B))/(7*I.length)):($=(R-(I.length-1)*P-I.length*(8*B))/(7*I.length),N=(W-12*L-B*D)/D),Math.min($,N)}({width:n,height:r,direction:a,yearRange:h,yearSpacing:s,monthSpacing:u,daySpacing:l,maxWeeks:v}),y=g*v+l*v+12*u,x=7*(g+l)*h.length+s*(h.length-1),b=a==="horizontal"?y:x,m=a==="horizontal"?x:y,p=ep({width:b,height:m},{width:n,height:r},c),w=p[0],_=p[1];e=a==="horizontal"?function(k,$,N,R){return function(W,E,I,P){return{x:W+ni.count(io(I),I)*(k+R)+R/2+I.getMonth()*N,y:E+I.getDay()*(k+R)+R/2+P*($+7*(k+R))}}}(g,s,u,l):function(k,$,N,R){return function(W,E,I,P){var L=ni.count(io(I),I);return{x:W+I.getDay()*(k+R)+R/2+P*($+7*(k+R)),y:E+L*(k+R)+R/2+I.getMonth()*N}}}(g,s,u,l);var O=[],S=[],T=[];return h.forEach(function(k,$){var N=new Date(k,0,1),R=new Date(k+1,0,1);T=T.concat(hc(N,R).map(function(E){return Pt({date:E,day:nS(E),size:g},e(w,_,E,$))}));var W=np(N,R).map(function(E){return Pt({date:E,year:E.getFullYear(),month:E.getMonth()},eS({originX:w,originY:_,date:E,direction:a,yearIndex:$,yearSpacing:s,monthSpacing:u,daySpacing:l,cellSize:g}))});S=S.concat(W),O.push({year:k,bbox:{x:W[0].bbox.x,y:W[0].bbox.y,width:W[11].bbox.x-W[0].bbox.x+W[11].bbox.width,height:W[11].bbox.y-W[0].bbox.y+W[11].bbox.height}})}),{years:O,months:S,days:T,cellSize:g,calendarWidth:b,calendarHeight:m,originX:w,originY:_}},iS=function(t){var e=t.days,n=t.data,r=t.colorScale,i=t.emptyColor;return e.map(function(o){var a=n.find(function(s){return s.day===o.day});return Pt({},o,a?{color:r(a.value),data:a,value:a.value}:{color:i})})},oS=function(t){var e=t.years,n=t.direction,r=t.position,i=t.offset;return e.map(function(o){var a=0,s=0,u=0;return n==="horizontal"&&r==="before"?(a=o.bbox.x-i,s=o.bbox.y+o.bbox.height/2,u=-90):n==="horizontal"&&r==="after"?(a=o.bbox.x+o.bbox.width+i,s=o.bbox.y+o.bbox.height/2,u=-90):n==="vertical"&&r==="before"?(a=o.bbox.x+o.bbox.width/2,s=o.bbox.y-i):(a=o.bbox.x+o.bbox.width/2,s=o.bbox.y+o.bbox.height+i),Pt({},o,{x:a,y:s,rotation:u})})},aS=function(t){var e=t.months,n=t.direction,r=t.position,i=t.offset;return e.map(function(o){var a=0,s=0,u=0;return n==="horizontal"&&r==="before"?(a=o.bbox.x+o.bbox.width/2,s=o.bbox.y-i):n==="horizontal"&&r==="after"?(a=o.bbox.x+o.bbox.width/2,s=o.bbox.y+o.bbox.height+i):n==="vertical"&&r==="before"?(a=o.bbox.x-i,s=o.bbox.y+o.bbox.height/2,u=-90):(a=o.bbox.x+o.bbox.width+i,s=o.bbox.y+o.bbox.height/2,u=-90),Pt({},o,{x:a,y:s,rotation:u})})},Bd=function(t){var e=t.width,n=t.height,r=t.from,i=t.to,o=t.direction,a=t.yearSpacing,s=t.monthSpacing,u=t.daySpacing,l=t.align;return A.useMemo(function(){return rS({width:e,height:n,from:r,to:i,direction:o,yearSpacing:a,monthSpacing:s,daySpacing:u,align:l})},[e,n,r,i,o,a,s,u,l])},Us=function(t){var e=t.data,n=t.minValue,r=t.maxValue,i=t.colors,o=t.colorScale;return A.useMemo(function(){if(o)return o;var a=tS(e,n,r);return op().domain(a).range(i)},[e,n,r,i,o])},Dd=function(t){var e=t.years,n=t.direction,r=t.yearLegendPosition,i=t.yearLegendOffset;return A.useMemo(function(){return oS({years:e,direction:n,position:r,offset:i})},[e,n,r,i])},qs=function(t){var e=t.months,n=t.direction,r=t.monthLegendPosition,i=t.monthLegendOffset;return A.useMemo(function(){return aS({months:e,direction:n,position:r,offset:i})},[e,n,r,i])},Hd=function(t){var e=t.days,n=t.data,r=t.colorScale,i=t.emptyColor;return A.useMemo(function(){return iS({days:e,data:n,colorScale:r,emptyColor:i})},[e,n,r,i])},sS=["months","years"],uS=["isInteractive","renderWrapper","theme"],lS=function(t){var e=t.margin,n=t.width,r=t.height,i=t.align,o=i===void 0?Xt.align:i,a=t.colors,s=a===void 0?Xt.colors:a,u=t.colorScale,l=t.data,c=t.direction,d=c===void 0?Xt.direction:c,f=t.emptyColor,h=f===void 0?Xt.emptyColor:f,v=t.from,g=t.to,y=t.minValue,x=y===void 0?Xt.minValue:y,b=t.maxValue,m=b===void 0?Xt.maxValue:b,p=t.valueFormat,w=t.legendFormat,_=t.yearLegend,O=_===void 0?Xt.yearLegend:_,S=t.yearLegendOffset,T=S===void 0?Xt.yearLegendOffset:S,k=t.yearLegendPosition,$=k===void 0?Xt.yearLegendPosition:k,N=t.yearSpacing,R=N===void 0?Xt.yearSpacing:N,W=t.monthBorderColor,E=W===void 0?Xt.monthBorderColor:W,I=t.monthBorderWidth,P=I===void 0?Xt.monthBorderWidth:I,L=t.monthLegend,B=L===void 0?Xt.monthLegend:L,D=t.monthLegendOffset,K=D===void 0?Xt.monthLegendOffset:D,V=t.monthLegendPosition,U=V===void 0?Xt.monthLegendPosition:V,tt=t.monthSpacing,nt=tt===void 0?Xt.monthSpacing:tt,st=t.dayBorderColor,G=st===void 0?Xt.dayBorderColor:st,Y=t.dayBorderWidth,at=Y===void 0?Xt.dayBorderWidth:Y,ct=t.daySpacing,xt=ct===void 0?Xt.daySpacing:ct,pt=t.isInteractive,Ot=pt===void 0?Xt.isInteractive:pt,H=t.tooltip,_t=H===void 0?Xt.tooltip:H,vt=t.onClick,Rt=t.onMouseEnter,Lt=t.onMouseLeave,Tt=t.onMouseMove,dt=t.legends,gt=dt===void 0?Xt.legends:dt,X=t.role,Mt=X===void 0?Xt.role:X,At=t.forwardedRef,ut=ce(),Z=en(n,r,e),St=Z.margin,bt=Z.innerWidth,Nt=Z.innerHeight,lt=Z.outerWidth,J=Z.outerHeight,wt=Bd({width:bt,height:Nt,from:v,to:g,direction:d,yearSpacing:R,monthSpacing:nt,daySpacing:xt,align:o}),$t=wt.months,j=wt.years,q=Dn(wt,sS),Q=Us({data:l,minValue:x,maxValue:m,colors:s,colorScale:u}),ft=qs({months:$t,direction:d,monthLegendPosition:U,monthLegendOffset:K}),rt=Dd({years:j,direction:d,yearLegendPosition:$,yearLegendOffset:T}),it=Hd({days:q.days,data:l,colorScale:Q,emptyColor:h}),mt=Je(w),ot=Je(p);return C.jsxs(ar,{width:lt,height:J,margin:St,role:Mt,ref:At,children:[it.map(function(yt){return C.jsx(Zk,{data:yt,x:yt.x,y:yt.y,size:yt.size,color:yt.color,borderWidth:at,borderColor:G,onMouseEnter:Rt,onMouseLeave:Lt,onMouseMove:Tt,isInteractive:Ot,tooltip:_t,onClick:vt,formatValue:ot},yt.date.toString())}),$t.map(function(yt){return C.jsx(Kk,{path:yt.path,borderWidth:P,borderColor:E},yt.date.toString())}),C.jsx(Wd,{months:ft,legend:B,theme:ut}),C.jsx(Yk,{years:rt,legend:O,theme:ut}),gt.map(function(yt,Wt){var jt=Q.ticks(yt.itemCount).map(function(Et){return{id:Et,label:mt(Et),color:Q(Et)}});return C.jsx(vi,Pt({},yt,{containerWidth:n,containerHeight:r,data:jt}),Wt)})]})},cS=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Xt.isInteractive:n,i=t.renderWrapper,o=t.theme,a=Dn(t,uS);return C.jsx(tn,{isInteractive:r,renderWrapper:i,theme:o,children:C.jsx(lS,Pt({isInteractive:r},a,{forwardedRef:e}))})}),fS=es("%Y-%m-%d"),dS=function(t){var e,n,r=t.direction,i=t.daySpacing,o=t.offset,a=t.square,s=t.totalDays,u=t.width,l=t.height;r==="horizontal"?(u-=o,e=7,n=Math.ceil(s/7)):(l-=o,n=7,e=Math.ceil(s/7));var c=(l-i*(e+1))/e,d=(u-i*(n+1))/n,f=Math.min(c,d);return{columns:n,rows:e,cellHeight:a?f:c,cellWidth:a?f:d}},Fd=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Gs(t){return Fd.findIndex(function(e){return e.toLowerCase()===t})}var sc=function(t,e){var n=t.getDay()-Gs(e);return[0,1,2,3,4,5,6].slice(n)[0]};function hS(t){var e=t.startDate,n=t.date,r=t.direction,i=t.firstWeekday,o=function(d){return[ni,Lh,$h,Th,Nh,jh,Ih][Gs(d)]}(i),a=o.count(e,n),s=n.getMonth(),u=n.getFullYear(),l=0,c=0;return r==="horizontal"?(l=a,c=sc(n,i)):(l=sc(n,i),c=a),{currentColumn:l,year:u,currentRow:c,firstWeek:a,month:s,date:n}}var pS=function(t){var e=t.direction,n=t.colorScale,r=t.emptyColor,i=t.from,o=t.to,a=t.data,s=t.cellWidth,u=t.cellHeight,l=t.daySpacing,c=t.offset,d=t.firstWeekday,f=l,h=l;e==="horizontal"?f+=c:h+=c;var v=i||a[0].date,g=o||a[a.length-1].date,y=br(v)?v:new Date(v),x=br(g)?g:new Date(g);return hc(y,x).map(function(b){return{date:b,day:fS(b)}}).map(function(b){var m=a.find(function(N){return N.day===b.day}),p=hS({startDate:y,date:b.date,direction:e,firstWeekday:d}),w=p.currentColumn,_=p.currentRow,O=p.firstWeek,S=p.year,T=p.month,k=p.date,$={x:f+l*w+s*w,y:h+l*_+u*_};return m?Pt({},m,{coordinates:$,firstWeek:O,month:T,year:S,date:k,color:n(m.value),width:s,height:u}):Pt({},b,{coordinates:$,firstWeek:O,month:T,year:S,date:k,color:r,width:s,height:u})})},vS=function(t){var e,n,r=t.cellHeight,i=t.cellWidth,o=t.direction,a=t.daySpacing,s=t.ticks,u=s===void 0?[1,3,5]:s,l=t.firstWeekday,c=t.arrayOfWeekdays,d=i+a,f=r+a,h=(e=c===void 0?Fd:c,n=Gs(l),e.length&&n?(n%=e.length,e.slice(n,e.length).concat(e.slice(0,n))):e);return u.map(function(v){return{value:h[v],rotation:o==="horizontal"?0:-90,y:o==="horizontal"?f*(v+1)-f/3:0,x:o==="horizontal"?0:d*(v+1)-d/3}})},gS=function(t){var e=t.direction,n=t.daySpacing,r=t.days,i=t.cellHeight,o=t.cellWidth;return r.reduce(function(a,s){if(a.weeks.length===s.firstWeek||!a.weeks.length&&s.firstWeek===1){a.weeks.push(s);var u=s.year+"-"+s.month;if(Object.keys(a.months).includes(u))e==="horizontal"?a.months[u].bbox.width=(s.firstWeek-a.months[u].firstWeek)*(o+n):a.months[u].bbox.height=(s.firstWeek-a.months[u].firstWeek)*(i+n);else{var l={x:0,y:0,width:0,height:0};e==="horizontal"?(l.x=s.coordinates.x-n,l.height=i+n,l.width=o+2*n):(l.y=s.coordinates.y-n,l.height=i+2*n,l.width=o+2*n),a.months[u]={date:s.date,bbox:l,firstWeek:s.firstWeek,month:0,year:0}}}return a},{months:{},weeks:[]})},mS=function(t){var e,n,r=t.from,i=t.to,o=t.data;return e=r?br(r)?r:new Date(r):o[0].date,n=r&&i?br(i)?i:new Date(i):o[o.length-1].date,e.getDay()+Eh.count(e,n)},yS=A.memo(function(t){var e=t.data,n=t.x,r=t.ry,i=r===void 0?5:r,o=t.rx,a=o===void 0?5:o,s=t.y,u=t.width,l=t.height,c=t.color,d=t.borderWidth,f=t.borderColor,h=t.isInteractive,v=t.tooltip,g=t.onMouseEnter,y=t.onMouseMove,x=t.onMouseLeave,b=t.onClick,m=t.formatValue,p=ze(),w=p.showTooltipFromEvent,_=p.hideTooltip,O=A.useCallback(function($){if("value"in e){var N=Pt({},e,{value:m(e.value)});w(A.createElement(v,Pt({},N)),$),g==null||g(e,$)}},[w,v,e,g,m]),S=A.useCallback(function($){if("value"in e){var N=Pt({},e,{value:m(e.value)});w(A.createElement(v,Pt({},N)),$),y==null||y(e,$)}},[w,v,e,y,m]),T=A.useCallback(function($){"value"in e&&(_(),x==null||x(e,$))},[_,e,x]),k=A.useCallback(function($){return b==null?void 0:b(e,$)},[e,b]);return C.jsx("rect",{x:n,y:s,rx:a,ry:i,width:u,height:l,style:{fill:c,strokeWidth:d,stroke:f},onMouseEnter:h?O:void 0,onMouseMove:h?S:void 0,onMouseLeave:h?T:void 0,onClick:h?k:void 0})}),xS=["isInteractive","renderWrapper","theme"],bS=function(t){var e=t.margin,n=t.width,r=t.height,i=t.square,o=i===void 0?ne.square:i,a=t.colors,s=a===void 0?ne.colors:a,u=t.colorScale,l=t.emptyColor,c=l===void 0?ne.emptyColor:l,d=t.from,f=t.to,h=t.data,v=t.direction,g=v===void 0?ne.direction:v,y=t.minValue,x=y===void 0?ne.minValue:y,b=t.maxValue,m=b===void 0?ne.maxValue:b,p=t.valueFormat,w=t.legendFormat,_=t.monthLegend,O=_===void 0?ne.monthLegend:_,S=t.monthLegendOffset,T=S===void 0?ne.monthLegendOffset:S,k=t.monthLegendPosition,$=k===void 0?ne.monthLegendPosition:k,N=t.weekdayLegendOffset,R=N===void 0?ne.weekdayLegendOffset:N,W=t.weekdayTicks,E=t.weekdays,I=E===void 0?ne.weekdays:E,P=t.dayBorderColor,L=P===void 0?ne.dayBorderColor:P,B=t.dayBorderWidth,D=B===void 0?ne.dayBorderWidth:B,K=t.daySpacing,V=K===void 0?ne.daySpacing:K,U=t.dayRadius,tt=U===void 0?ne.dayRadius:U,nt=t.isInteractive,st=nt===void 0?ne.isInteractive:nt,G=t.tooltip,Y=G===void 0?ne.tooltip:G,at=t.onClick,ct=t.onMouseEnter,xt=t.onMouseLeave,pt=t.onMouseMove,Ot=t.legends,H=Ot===void 0?ne.legends:Ot,_t=t.role,vt=_t===void 0?ne.role:_t,Rt=t.firstWeekday,Lt=Rt===void 0?ne.firstWeekday:Rt,Tt=t.forwardedRef,dt=en(n,r,e),gt=dt.margin,X=dt.innerWidth,Mt=dt.innerHeight,At=dt.outerWidth,ut=dt.outerHeight,Z=A.useMemo(function(){return h.map(function(it){return Pt({},it,{date:new Date(it.day+"T00:00:00")})}).sort(function(it,mt){return it.day.localeCompare(mt.day)})},[h]),St=ce(),bt=Us({data:Z,minValue:x,maxValue:m,colors:s,colorScale:u}),Nt=mS({from:d,to:f,data:Z}),lt=dS({square:o,offset:R,totalDays:Nt,width:X,height:Mt,daySpacing:V,direction:g}),J=lt.cellHeight,wt=lt.cellWidth,$t=pS({offset:R,colorScale:bt,emptyColor:c,cellHeight:J,cellWidth:wt,from:d,to:f,data:Z,direction:g,daySpacing:V,firstWeekday:Lt}),j=Object.values(gS({daySpacing:V,direction:g,cellHeight:J,cellWidth:wt,days:$t}).months),q=vS({direction:g,cellHeight:J,cellWidth:wt,daySpacing:V,ticks:W,firstWeekday:Lt,arrayOfWeekdays:I}),Q=qs({months:j,direction:g,monthLegendPosition:$,monthLegendOffset:T}),ft=Je(p),rt=Je(w);return C.jsxs(ar,{width:At,height:ut,margin:gt,role:vt,ref:Tt,children:[q.map(function(it){return C.jsx(zn,{transform:"translate("+it.x+","+it.y+") rotate("+it.rotation+")",textAnchor:"left",style:St.labels.text,children:it.value},it.value+"-"+it.x+"-"+it.y)}),$t.map(function(it){return C.jsx(yS,{data:it,x:it.coordinates.x,rx:tt,y:it.coordinates.y,ry:tt,width:wt,height:J,color:it.color,borderWidth:D,borderColor:L,onMouseEnter:ct,onMouseLeave:xt,onMouseMove:pt,isInteractive:st,tooltip:Y,onClick:at,formatValue:ft},it.date.toString())}),C.jsx(Wd,{months:Q,legend:O,theme:St}),H.map(function(it,mt){var ot=bt.ticks(it.itemCount).map(function(yt){return{id:yt,label:rt(yt),color:bt(yt)}});return C.jsx(vi,Pt({},it,{containerWidth:n,containerHeight:r,data:ot}),mt)})]})},wS=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?ne.isInteractive:n,i=t.renderWrapper,o=t.theme,a=Dn(t,xS);return C.jsx(tn,{isInteractive:r,renderWrapper:i,theme:o,children:C.jsx(bS,Pt({isInteractive:r},a,{forwardedRef:e}))})}),_S=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=Dn(t,_S);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(wS,Pt({width:u,height:l},a,{ref:e}))}})});var MS=["defaultWidth","defaultHeight","onResize","debounceResize"],CS=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=Dn(t,MS);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(cS,Pt({width:u,height:l},a,{ref:e}))}})}),AS=["months","years"],kS=["isInteractive","renderWrapper","theme"],uc=function(t,e,n,r,i,o){var a=so(e,t),s=a[0],u=a[1];return n.find(function(l){return"value"in l&&vc(l.x+o.left-i/2,l.y+o.top-i/2,r+i,r+i,s,u)})},SS=A.memo(function(t){var e=t.margin,n=t.width,r=t.height,i=t.pixelRatio,o=i===void 0?Qt.pixelRatio:i,a=t.align,s=a===void 0?Qt.align:a,u=t.colors,l=u===void 0?Qt.colors:u,c=t.colorScale,d=t.data,f=t.direction,h=f===void 0?Qt.direction:f,v=t.emptyColor,g=v===void 0?Qt.emptyColor:v,y=t.from,x=t.to,b=t.minValue,m=b===void 0?Qt.minValue:b,p=t.maxValue,w=p===void 0?Qt.maxValue:p,_=t.valueFormat,O=t.legendFormat,S=t.yearLegend,T=S===void 0?Qt.yearLegend:S,k=t.yearLegendOffset,$=k===void 0?Qt.yearLegendOffset:k,N=t.yearLegendPosition,R=N===void 0?Qt.yearLegendPosition:N,W=t.yearSpacing,E=W===void 0?Qt.yearSpacing:W,I=t.monthLegend,P=I===void 0?Qt.monthLegend:I,L=t.monthLegendOffset,B=L===void 0?Qt.monthLegendOffset:L,D=t.monthLegendPosition,K=D===void 0?Qt.monthLegendPosition:D,V=t.monthSpacing,U=V===void 0?Qt.monthSpacing:V,tt=t.dayBorderColor,nt=tt===void 0?Qt.dayBorderColor:tt,st=t.dayBorderWidth,G=st===void 0?Qt.dayBorderWidth:st,Y=t.daySpacing,at=Y===void 0?Qt.daySpacing:Y,ct=t.isInteractive,xt=ct===void 0?Qt.isInteractive:ct,pt=t.tooltip,Ot=pt===void 0?Qt.tooltip:pt,H=t.onClick,_t=t.onMouseEnter,vt=t.onMouseLeave,Rt=t.onMouseMove,Lt=t.legends,Tt=Lt===void 0?Qt.legends:Lt,dt=t.forwardedRef,gt=A.useRef(null),X=en(n,r,e),Mt=X.innerWidth,At=X.innerHeight,ut=X.outerWidth,Z=X.outerHeight,St=X.margin,bt=Bd({width:Mt,height:At,from:y,to:x,direction:h,yearSpacing:E,monthSpacing:U,daySpacing:at,align:s}),Nt=bt.months,lt=bt.years,J=Dn(bt,AS),wt=Us({data:d,minValue:m,maxValue:w,colors:l,colorScale:c}),$t=qs({months:Nt,direction:h,monthLegendPosition:K,monthLegendOffset:B}),j=Dd({years:lt,direction:h,yearLegendPosition:R,yearLegendOffset:$}),q=Hd({days:J.days,data:d,colorScale:wt,emptyColor:g}),Q=A.useState(null),ft=Q[0],rt=Q[1],it=ce(),mt=Je(_),ot=Je(O),yt=ze(),Wt=yt.showTooltipFromEvent,jt=yt.hideTooltip;A.useEffect(function(){if(gt.current){gt.current.width=ut*o,gt.current.height=Z*o;var kt=gt.current.getContext("2d");kt&&(kt.scale(o,o),kt.fillStyle=it.background,kt.fillRect(0,0,ut,Z),kt.translate(St.left,St.top),q.forEach(function(Ct){kt.fillStyle=Ct.color,G>0&&(kt.strokeStyle=nt,kt.lineWidth=G),kt.beginPath(),kt.rect(Ct.x,Ct.y,Ct.size,Ct.size),kt.fill(),G>0&&kt.stroke()}),kt.textAlign="center",kt.textBaseline="middle",rs(kt,it.labels.text),$t.forEach(function(Ct){kt.save(),kt.translate(Ct.x,Ct.y),kt.rotate(oo(Ct.rotation)),ao(kt,it.labels.text,String(P(Ct.year,Ct.month,Ct.date))),kt.restore()}),j.forEach(function(Ct){kt.save(),kt.translate(Ct.x,Ct.y),kt.rotate(oo(Ct.rotation)),ao(kt,it.labels.text,String(T(Ct.year))),kt.restore()}),Tt.forEach(function(Ct){var Dt=wt.ticks(Ct.itemCount).map(function(fe){return{id:fe,label:ot(fe),color:wt(fe)}});yc(kt,Pt({},Ct,{data:Dt,containerWidth:Mt,containerHeight:At,theme:it}))}))}},[gt,At,Mt,ut,Z,o,St,q,nt,G,c,T,j,P,$t,Tt,it,ot,wt]);var Et=A.useCallback(function(kt){if(gt.current){var Ct=uc(kt,gt.current,q,q[0].size,G,St);if(Ct){if(rt(Ct),!("value"in Ct))return;var Dt=Pt({},Ct,{value:mt(Ct.value),data:Pt({},Ct.data)});Wt(A.createElement(Ot,Pt({},Dt)),kt),ft||_t==null||_t(Ct,kt),Rt==null||Rt(Ct,kt),ft&&(vt==null||vt(Ct,kt))}else jt(),Ct&&(vt==null||vt(Ct,kt))}},[gt,ft,St,q,rt,mt,G,Wt,jt,_t,Rt,vt,Ot]),qt=A.useCallback(function(){rt(null),jt()},[rt,jt]),Yt=A.useCallback(function(kt){if(H&&gt.current){var Ct=uc(kt,gt.current,q,q[0].size,at,St);Ct&&H(Ct,kt)}},[gt,at,St,q,H]);return C.jsx("canvas",{ref:is(gt,dt),width:ut*o,height:Z*o,style:{width:ut,height:Z},onMouseEnter:xt?Et:void 0,onMouseMove:xt?Et:void 0,onMouseLeave:xt?qt:void 0,onClick:xt?Yt:void 0})}),OS=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Qt.isInteractive:n,i=t.renderWrapper,o=t.theme,a=Dn(t,kS);return C.jsx(tn,{isInteractive:r,renderWrapper:i,theme:o,children:C.jsx(SS,Pt({isInteractive:r},a,{forwardedRef:e}))})}),RS=["defaultWidth","defaultHeight","onResize","debounceResize"];A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=Dn(t,RS);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(OS,Pt({width:u,height:l},a,{ref:e}))}})});function ES({className:t}){const{events:e}=qe(),[n,r]=A.useState([]);return A.useEffect(()=>{const i=new Date,o=[];for(let a=0;a<365;a++){const s=new Date(i);s.setDate(s.getDate()-a),o.push({day:s.toISOString().split("T")[0],value:Math.floor(Math.random()*100)})}r(o)},[]),C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Contribution Calendar"}),C.jsx("div",{className:"h-[200px]",children:C.jsx(CS,{data:n,from:new Date(new Date().setFullYear(new Date().getFullYear()-1)).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0],emptyColor:"#1e293b",colors:["#1e293b","#064e3b","#065f46","#047857","#10b981"],margin:{top:20,right:20,bottom:20,left:20},yearSpacing:40,monthBorderColor:"#ffffff",dayBorderWidth:2,dayBorderColor:"#0f172a",theme:{text:{fill:"#888888"},tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]})}function So(){return So=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},So.apply(null,arguments)}function Vd(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bt={id:"id",value:"value",cornerRadius:0,layers:["arcs","arcLabels"],colors:{scheme:"nivo"},colorBy:"id",inheritColorFromParent:!0,childColor:{from:"color"},borderWidth:1,borderColor:"white",enableArcLabels:!1,arcLabel:"formattedValue",arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:0,arcLabelsSkipRadius:0,arcLabelsTextColor:{theme:"labels.text.fill"},animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",isInteractive:!0,defs:[],fill:[],tooltip:function(t){var e=t.id,n=t.formattedValue,r=t.color;return C.jsx(er,{id:e,value:n,enableChip:!0,color:r})},role:"img"},LS=function(t){var e=t.data,n=t.id,r=n===void 0?Bt.id:n,i=t.value,o=i===void 0?Bt.value:i,a=t.valueFormat,s=t.radius,u=t.cornerRadius,l=u===void 0?Bt.cornerRadius:u,c=t.colors,d=c===void 0?Bt.colors:c,f=t.colorBy,h=f===void 0?Bt.colorBy:f,v=t.inheritColorFromParent,g=v===void 0?Bt.inheritColorFromParent:v,y=t.childColor,x=y===void 0?Bt.childColor:y,b=ce(),m=gi(d,h),p=me(x,b),w=kn(r),_=kn(o),O=Je(a),S=A.useMemo(function(){var T,k=ys(e),$=Tr(k).sum(_),N=vy().size([2*Math.PI,s*s])($).descendants().slice(1),R=(T=$.value)!=null?T:0;return Ph(N,"depth").reduce(function(W,E){var I,P=w(E.data),L=E.value,B=100*L/R,D=E.ancestors().map(function(U){return w(U.data)}),K={startAngle:E.x0,endAngle:E.x1,innerRadius:Math.sqrt(E.y0),outerRadius:Math.sqrt(E.y1)};E.parent&&(I=W.find(function(U){return U.id===w(E.parent.data)}));var V={id:P,path:D,value:L,percentage:B,formattedValue:a?O(L):B.toFixed(2)+"%",color:"",arc:K,data:E.data,depth:E.depth,height:E.height};return g&&I&&V.depth>1?V.color=p(I,V):V.color=m(V),[].concat(W,[V])},[])},[e,s,_,w,a,O,m,g,p]);return{arcGenerator:y1({cornerRadius:l}),nodes:S}},$S=function(t){var e=t.nodes,n=t.arcGenerator,r=t.centerX,i=t.centerY,o=t.radius;return A.useMemo(function(){return{nodes:e,arcGenerator:n,centerX:r,centerY:i,radius:o}},[e,n,r,i,o])},TS=function(t){var e=t.center,n=t.data,r=t.arcGenerator,i=t.borderWidth,o=t.borderColor,a=t.isInteractive,s=t.onClick,u=t.onMouseEnter,l=t.onMouseMove,c=t.onMouseLeave,d=t.tooltip,f=t.transitionMode,h=ze(),v=h.showTooltipFromEvent,g=h.hideTooltip,y=A.useMemo(function(){if(a)return function(p,w){s==null||s(p,w)}},[a,s]),x=A.useMemo(function(){if(a)return function(p,w){v(A.createElement(d,p),w),u==null||u(p,w)}},[a,v,d,u]),b=A.useMemo(function(){if(a)return function(p,w){v(A.createElement(d,p),w),l==null||l(p,w)}},[a,v,d,l]),m=A.useMemo(function(){if(a)return function(p,w){g(),c==null||c(p,w)}},[a,g,c]);return C.jsx(v1,{center:e,data:n,arcGenerator:r,borderWidth:i,borderColor:o,transitionMode:f,onClick:y,onMouseEnter:x,onMouseMove:b,onMouseLeave:m})},NS=["isInteractive","animate","motionConfig","theme","renderWrapper"],jS=function(t){var e=t.data,n=t.id,r=n===void 0?Bt.id:n,i=t.value,o=i===void 0?Bt.value:i,a=t.valueFormat,s=t.cornerRadius,u=s===void 0?Bt.cornerRadius:s,l=t.layers,c=l===void 0?Bt.layers:l,d=t.colors,f=d===void 0?Bt.colors:d,h=t.colorBy,v=h===void 0?Bt.colorBy:h,g=t.inheritColorFromParent,y=g===void 0?Bt.inheritColorFromParent:g,x=t.childColor,b=x===void 0?Bt.childColor:x,m=t.borderWidth,p=m===void 0?Bt.borderWidth:m,w=t.borderColor,_=w===void 0?Bt.borderColor:w,O=t.margin,S=t.width,T=t.height,k=t.enableArcLabels,$=k===void 0?Bt.enableArcLabels:k,N=t.arcLabel,R=N===void 0?Bt.arcLabel:N,W=t.arcLabelsRadiusOffset,E=W===void 0?Bt.arcLabelsRadiusOffset:W,I=t.arcLabelsSkipAngle,P=I===void 0?Bt.arcLabelsSkipAngle:I,L=t.arcLabelsSkipRadius,B=L===void 0?Bt.arcLabelsSkipRadius:L,D=t.arcLabelsTextColor,K=D===void 0?Bt.arcLabelsTextColor:D,V=t.arcLabelsComponent,U=t.defs,tt=U===void 0?Bt.defs:U,nt=t.fill,st=nt===void 0?Bt.fill:nt,G=t.transitionMode,Y=G===void 0?Bt.transitionMode:G,at=t.isInteractive,ct=at===void 0?Bt.isInteractive:at,xt=t.onClick,pt=t.onMouseEnter,Ot=t.onMouseLeave,H=t.onMouseMove,_t=t.tooltip,vt=_t===void 0?Bt.tooltip:_t,Rt=t.role,Lt=Rt===void 0?Bt.role:Rt,Tt=t.forwardedRef,dt=en(S,T,O),gt=dt.innerHeight,X=dt.innerWidth,Mt=dt.margin,At=dt.outerHeight,ut=dt.outerWidth,Z=A.useMemo(function(){return{radius:Math.min(X,gt)/2,centerX:X/2,centerY:gt/2}},[gt,X]),St=Z.centerX,bt=Z.centerY,Nt=Z.radius,lt=LS({data:e,id:r,value:o,valueFormat:a,radius:Nt,cornerRadius:u,colors:f,colorBy:v,inheritColorFromParent:y,childColor:b}),J=lt.arcGenerator,wt=lt.nodes,$t=ns(tt,wt,st,{colorKey:"color",targetKey:"fill"}),j={arcs:null,arcLabels:null};c.includes("arcs")&&(j.arcs=C.jsx(TS,{center:[St,bt],data:wt,arcGenerator:J,borderWidth:p,borderColor:_,transitionMode:Y,isInteractive:ct,tooltip:vt,onClick:xt,onMouseEnter:pt,onMouseLeave:Ot,onMouseMove:H},"arcs")),$&&c.includes("arcLabels")&&(j.arcLabels=C.jsx(f1,{center:[St,bt],data:wt,label:R,radiusOffset:E,skipAngle:P,skipRadius:B,textColor:K,transitionMode:Y,component:V},"arcLabels"));var q=$S({nodes:wt,arcGenerator:J,centerX:St,centerY:bt,radius:Nt});return C.jsx(ar,{width:ut,height:At,defs:$t,margin:Mt,role:Lt,ref:Tt,children:c.map(function(Q,ft){return j[Q]!==void 0?j[Q]:typeof Q=="function"?C.jsx(A.Fragment,{children:A.createElement(Q,q)},ft):null})})},IS=A.forwardRef(function(t,e){var n=t.isInteractive,r=n===void 0?Bt.isInteractive:n,i=t.animate,o=i===void 0?Bt.animate:i,a=t.motionConfig,s=a===void 0?Bt.motionConfig:a,u=t.theme,l=t.renderWrapper,c=Vd(t,NS);return C.jsx(tn,{isInteractive:r,animate:o,motionConfig:s,theme:u,renderWrapper:l,children:C.jsx(jS,So({},c,{isInteractive:r,forwardedRef:e}))})}),PS=["defaultWidth","defaultHeight","onResize","debounceResize"],WS=A.forwardRef(function(t,e){var n=t.defaultWidth,r=t.defaultHeight,i=t.onResize,o=t.debounceResize,a=Vd(t,PS);return C.jsx(Qe,{defaultWidth:n,defaultHeight:r,onResize:i,debounceResize:o,children:function(s){var u=s.width,l=s.height;return C.jsx(IS,So({},a,{width:u,height:l,ref:e}))}})});function zS({className:t}){const{events:e}=qe(),[n,r]=A.useState(null);return A.useEffect(()=>{const i={name:"root",children:[]},o={};e.slice(0,200).forEach(a=>{const s=a.wiki||"other";o[s]||(o[s]={name:s,children:[{name:"Main",children:[]},{name:"Talk",children:[]}]},i.children.push(o[s]));const u=a.namespace===0?0:1,l=a.bot?"Bot":"Human";let c=o[s].children[u].children.find(d=>d.name===l);c||(c={name:l,loc:0},o[s].children[u].children.push(c)),c.loc++}),r(i)},[e]),n?C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Hierarchical Breakdown"}),C.jsx("div",{className:"h-[300px]",children:C.jsx(WS,{data:n,margin:{top:10,right:10,bottom:10,left:10},id:"name",value:"loc",cornerRadius:2,borderColor:{theme:"background"},colors:{scheme:"nivo"},childColor:{from:"color",modifiers:[["brighter",.1]]},enableArcLabels:!0,arcLabelsSkipAngle:10,arcLabelsTextColor:{from:"color",modifiers:[["darker",1.4]]},theme:{tooltip:{container:{background:"#1e293b",color:"#fff"}}}})})]}):null}function BS({events:t}){const[e,n]=A.useState([]),[r,i]=A.useState([]);return A.useEffect(()=>{const o=t.slice(0,50).map((s,u)=>({id:s.user,position:[(Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10],color:s.bot?"#3b82f6":"#10b981"})),a=[];for(let s=0;s<o.length;s++)for(let u=s+1;u<o.length;u++)Math.random()>.9&&a.push({start:o[s].position,end:o[u].position});n(o),i(a)},[t]),xp(o=>{o.clock.getElapsedTime()}),C.jsxs("group",{children:[e.map((o,a)=>C.jsx(Bp,{position:o.position,args:[.2,16,16],children:C.jsx("meshStandardMaterial",{color:o.color})},a)),r.map((o,a)=>C.jsx(Wp,{points:[o.start,o.end],color:"#555",lineWidth:1,transparent:!0,opacity:.3},a))]})}function DS({className:t}){const{events:e}=qe();return C.jsxs(Ge,{className:`p-4 ${t}`,children:[C.jsx("h3",{className:"font-semibold text-sm mb-4",children:"3D Network Topology"}),C.jsx("div",{className:"h-[300px] bg-slate-950 rounded-lg overflow-hidden",children:C.jsxs(mp,{camera:{position:[0,0,15],fov:60},gl:{preserveDrawingBuffer:!0},children:[C.jsx("ambientLight",{intensity:.5}),C.jsx("pointLight",{position:[10,10,10]}),C.jsx(BS,{events:e}),C.jsx(yp,{autoRotate:!0,autoRotateSpeed:.5})]})})]})}const QS=()=>C.jsxs("div",{className:"min-h-screen bg-background",children:[C.jsx(lh,{}),C.jsxs("main",{className:"pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-[1800px] mx-auto",children:[C.jsxs("div",{className:"mb-8",children:[C.jsxs(ke.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold flex items-center gap-2",children:[C.jsx(uh,{className:"w-6 h-6 text-primary"}),"Advanced Visualizations"]}),C.jsx(ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-sm text-muted-foreground mt-1",children:"Deep dive into Wikipedia edit patterns and network topology"})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:C.jsx(wy,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:C.jsx(Zy,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:C.jsx(DS,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:C.jsx(Tb,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:C.jsx(zS,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:C.jsx(Nb,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:C.jsx(qb,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:C.jsx(Xk,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:C.jsx(V1,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:C.jsx(Gb,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},children:C.jsx(F1,{})}),C.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:C.jsx(ES,{})})]})]})]});export{QS as default};
