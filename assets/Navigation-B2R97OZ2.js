import{bV as ie,bW as ce,r as n,j as e,bX as me,bY as R,bZ as T,b_ as xe,b$ as pe,c0 as I,c1 as he,a9 as A,aP as L,X as y,c2 as ue,c3 as O,c4 as ge,c5 as M,c6 as P,c7 as F,c8 as G,S as B,_ as c,u as K,L as U,g as H,v as $,f as v,G as V,h as W,b7 as X,b8 as Y,c9 as fe,ca as je,p as g,x as D,cb as Ne,o as b,w as _,cc as be,a6 as z,aa as ve}from"./vendor-DukLKV3j.js";import{B as p}from"./button-DnCoHbkF.js";import{c as l,a as ye,g as we,e as ke}from"./index-DMsRMC1O.js";const Ce=ie,Se=ce,J=n.forwardRef(({className:a,align:s="center",sideOffset:t=4,...o},d)=>e.jsx(me,{children:e.jsx(R,{ref:d,align:s,sideOffset:t,className:l("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})}));J.displayName=R.displayName;const Z=n.forwardRef(({className:a,children:s,...t},o)=>e.jsxs(T,{ref:o,className:l("relative overflow-hidden",a),...t,children:[e.jsx(xe,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(q,{}),e.jsx(pe,{})]}));Z.displayName=T.displayName;const q=n.forwardRef(({className:a,orientation:s="vertical",...t},o)=>e.jsx(I,{ref:o,orientation:s,className:l("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...t,children:e.jsx(he,{className:"relative flex-1 rounded-full bg-border"})}));q.displayName=I.displayName;const Le=[{id:"1",title:"High Anomaly Detected",message:'Unusual edit volume detected in "Politics" category.',time:"2 mins ago",read:!1,type:"critical"},{id:"2",title:"System Update",message:"Backend services successfully updated to v2.1.0.",time:"1 hour ago",read:!1,type:"info"},{id:"3",title:"New Data Source",message:'Connected to "Wikimedia Commons" stream.',time:"3 hours ago",read:!0,type:"info"},{id:"4",title:"Performance Alert",message:"High latency detected in region: US-East.",time:"5 hours ago",read:!0,type:"warning"}];function De(){const[a,s]=A.useState(Le),t=a.filter(r=>!r.read).length,o=r=>{s(a.map(m=>m.id===r?{...m,read:!0}:m))},d=()=>{s(a.map(r=>({...r,read:!0})))},h=(r,m)=>{m.stopPropagation(),s(a.filter(w=>w.id!==r))};return e.jsxs(Ce,{children:[e.jsx(Se,{asChild:!0,children:e.jsxs(p,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(L,{className:"w-4 h-4"}),t>0&&e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})}),e.jsxs(J,{className:"w-80 p-0 bg-slate-900 border-slate-800",align:"end",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-800",children:[e.jsx("h4",{className:"font-semibold text-sm text-slate-200",children:"Notifications"}),t>0&&e.jsx(p,{variant:"ghost",size:"sm",className:"text-xs text-primary hover:text-primary/80 h-auto p-0 px-2",onClick:d,children:"Mark all as read"})]}),e.jsx(Z,{className:"h-[300px]",children:a.length>0?e.jsx("div",{className:"divide-y divide-slate-800",children:a.map(r=>e.jsx("div",{className:l("p-4 hover:bg-slate-800/50 transition-colors cursor-pointer relative group",!r.read&&"bg-slate-800/20"),onClick:()=>o(r.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:l("w-2 h-2 mt-1.5 rounded-full shrink-0",r.type==="critical"?"bg-red-500":r.type==="warning"?"bg-amber-500":"bg-blue-500")}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:l("text-sm font-medium leading-none",r.read?"text-slate-400":"text-slate-200"),children:r.title}),e.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:r.message}),e.jsx("p",{className:"text-[10px] text-slate-600",children:r.time})]}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity absolute top-2 right-2 text-slate-500 hover:text-slate-300",onClick:m=>h(r.id,m),children:e.jsx(y,{className:"w-3 h-3"})})]})},r.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 p-4",children:[e.jsx(L,{className:"w-8 h-8 mb-2 opacity-20"}),e.jsx("p",{className:"text-sm",children:"No notifications"})]})})]})]})}const _e=ue,ze=ge,Ue=O,Q=n.forwardRef(({className:a,...s},t)=>e.jsx(G,{ref:t,className:l("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s}));Q.displayName=G.displayName;const ee=n.forwardRef(({className:a,children:s,...t},o)=>e.jsxs(ze,{children:[e.jsx(Q,{}),e.jsxs(M,{ref:o,className:l("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...t,children:[s,e.jsxs(O,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(y,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ee.displayName=M.displayName;const Ee=({className:a,...s})=>e.jsx("div",{className:l("flex flex-col space-y-1.5 text-center sm:text-left",a),...s});Ee.displayName="DialogHeader";const Re=({className:a,...s})=>e.jsx("div",{className:l("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s});Re.displayName="DialogFooter";const Te=n.forwardRef(({className:a,...s},t)=>e.jsx(P,{ref:t,className:l("text-lg font-semibold leading-none tracking-tight",a),...s}));Te.displayName=P.displayName;const Ie=n.forwardRef(({className:a,...s},t)=>e.jsx(F,{ref:t,className:l("text-sm text-muted-foreground",a),...s}));Ie.displayName=F.displayName;const se=n.forwardRef(({className:a,...s},t)=>e.jsx(c,{ref:t,className:l("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...s}));se.displayName=c.displayName;const Ae=({children:a,...s})=>e.jsx(_e,{...s,children:e.jsx(ee,{className:"overflow-hidden p-0 shadow-lg",children:e.jsx(se,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:a})})}),ae=n.forwardRef(({className:a,...s},t)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(B,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(c.Input,{ref:t,className:l("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...s})]}));ae.displayName=c.Input.displayName;const te=n.forwardRef(({className:a,...s},t)=>e.jsx(c.List,{ref:t,className:l("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...s}));te.displayName=c.List.displayName;const oe=n.forwardRef((a,s)=>e.jsx(c.Empty,{ref:s,className:"py-6 text-center text-sm",...a}));oe.displayName=c.Empty.displayName;const j=n.forwardRef(({className:a,...s},t)=>e.jsx(c.Group,{ref:t,className:l("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...s}));j.displayName=c.Group.displayName;const N=n.forwardRef(({className:a,...s},t)=>e.jsx(c.Separator,{ref:t,className:l("-mx-1 h-px bg-border",a),...s}));N.displayName=c.Separator.displayName;const x=n.forwardRef(({className:a,...s},t)=>e.jsx(c.Item,{ref:t,className:l("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",a),...s}));x.displayName=c.Item.displayName;function Oe(){const[a,s]=n.useState(!1),t=K();n.useEffect(()=>{const d=h=>{h.key==="k"&&(h.metaKey||h.ctrlKey)&&(h.preventDefault(),s(r=>!r))};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[]);const o=A.useCallback(d=>{s(!1),d()},[]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm text-muted-foreground hidden lg:flex",children:e.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[e.jsx("span",{className:"text-xs",children:"⌘"}),"K"]})}),e.jsxs(Ae,{open:a,onOpenChange:s,children:[e.jsx(ae,{placeholder:"Type a command or search..."}),e.jsxs(te,{children:[e.jsx(oe,{children:"No results found."}),e.jsxs(j,{heading:"Suggestions",children:[e.jsxs(x,{onSelect:()=>o(()=>t("/dashboard")),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs(x,{onSelect:()=>o(()=>t("/monitor")),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Monitor"})]}),e.jsxs(x,{onSelect:()=>o(()=>t("/sources")),children:[e.jsx($,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Data Sources"})]})]}),e.jsx(N,{}),e.jsxs(j,{heading:"Navigation",children:[e.jsxs(x,{onSelect:()=>o(()=>t("/analytics")),children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Analytics"})]}),e.jsxs(x,{onSelect:()=>o(()=>t("/geography")),children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Geography"})]}),e.jsxs(x,{onSelect:()=>o(()=>t("/settings")),children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]})]}),e.jsx(N,{}),e.jsxs(j,{heading:"Theme",children:[e.jsxs(x,{onSelect:()=>o(()=>{document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark"),localStorage.setTheme="dark"}),children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{children:"Dark Mode"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Use dark theme"})]})]}),e.jsxs(x,{onSelect:()=>o(()=>{document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),localStorage.theme="light"}),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{children:"Light Mode"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Use light theme"})]})]}),e.jsxs(x,{onSelect:()=>o(()=>{document.documentElement.classList.remove("dark","light"),localStorage.removeItem("theme")}),children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{children:"System"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Follow system preference"})]})]})]}),e.jsx(N,{}),e.jsx("div",{className:"border-t border-border p-2 text-xs text-muted-foreground",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted border border-border",children:"↑↓"}),e.jsx("span",{children:"Navigate"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted border border-border",children:"↵"}),e.jsx("span",{children:"Select"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted border border-border",children:"Esc"}),e.jsx("span",{children:"Close"})]})]})})]})]})]})}function Me(){const[a,s]=n.useState("dark");n.useEffect(()=>{const o=localStorage.getItem("theme");o==="light"||o==="dark"?(s(o),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(o)):(s("dark"),document.documentElement.classList.add("dark"))},[]);const t=()=>{const o=a==="dark"?"light":"dark";s(o),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(o),localStorage.setItem("theme",o)};return e.jsxs(p,{variant:"ghost",size:"icon",onClick:t,className:"relative overflow-hidden hover-glow","aria-label":"Toggle theme",children:[e.jsx(Y,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(X,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}const E=[{path:"/dashboard",label:"Dashboard",icon:U},{path:"/monitor",label:"Monitor",icon:H},{path:"/sources",label:"Data Sources",icon:$},{path:"/analytics",label:"Analytics",icon:v},{path:"/visualizations",label:"Visualizations",icon:v},{path:"/geography",label:"Geography",icon:V},{path:"/settings",label:"Settings",icon:W}];function He({className:a}){const s=je(),t=K(),{toast:o}=ye(),[d,h]=n.useState(!1),[r,m]=n.useState(!1),[w,Pe]=n.useState(!1),[Fe]=n.useState(3),u=we(),k=u?u.username.slice(0,2).toUpperCase():"JD",C=()=>{ke(),o({title:"Logged Out",description:"You have been successfully logged out."}),t("/login")},re=()=>h(!d),S=s.pathname.split("/").filter(Boolean),le=S.map((i,f)=>{const ne=`/${S.slice(0,f+1).join("/")}`,de=i.charAt(0).toUpperCase()+i.slice(1);return{path:ne,label:de}});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 border-b border-border/50 bg-background/80 backdrop-blur-xl px-4 h-16 flex items-center justify-between",children:[e.jsxs(g,{to:"/",className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-bold",children:"TopoForge"})]}),e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>m(!r),children:r?e.jsx(y,{className:"h-5 w-5"}):e.jsx(Ne,{className:"h-5 w-5"})})]}),e.jsxs(b.nav,{initial:!1,animate:{width:d?"80px":"280px"},className:l("hidden md:flex fixed left-0 top-0 bottom-0 bg-background/95 backdrop-blur-md border-r border-border z-40 flex-col transition-all duration-300",a),children:[e.jsxs("div",{className:l("p-6 flex items-center",d?"justify-center":"justify-between"),children:[!d&&e.jsxs(g,{to:"/",className:"flex items-center gap-2 group",children:[e.jsx("div",{className:"relative w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-primary/50 flex items-center justify-center overflow-hidden",children:e.jsx(D,{className:"w-4 h-4 text-primary-foreground relative z-10"})}),e.jsx("span",{className:"font-bold text-lg",children:"TopoForge"})]}),e.jsx(p,{variant:"ghost",size:"icon",onClick:re,className:"h-6 w-6",children:d?e.jsx(_,{className:"h-4 w-4"}):e.jsx(be,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:E.map(i=>{const f=s.pathname===i.path;return e.jsxs(g,{to:i.path,className:l("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group relative",f?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",d&&"justify-center px-2"),title:d?i.label:void 0,children:[e.jsx(i.icon,{className:l("h-5 w-5",f&&"animate-pulse")}),!d&&e.jsx("span",{className:"font-medium",children:i.label}),f&&e.jsx(b.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-6 bg-primary rounded-r-full"})]},i.path)})}),e.jsx("div",{className:"p-4 border-t border-border",children:d?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-xs font-bold cursor-pointer",title:u==null?void 0:u.username,children:k})}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-xs font-bold",children:k}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:(u==null?void 0:u.username)||"Guest"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Online"})]})]}),e.jsx(p,{variant:"ghost",size:"icon",onClick:C,children:e.jsx(z,{className:"w-4 h-4"})})]})})]}),e.jsxs("div",{className:l("hidden md:flex fixed top-0 right-0 h-16 items-center justify-between px-8 border-b border-border/50 bg-background/80 backdrop-blur-xl z-30 transition-all duration-300",d?"left-[80px]":"left-[280px]"),children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(g,{to:"/",className:"hover:text-foreground",children:"Home"}),le.map(i=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx(g,{to:i.path,className:l("hover:text-foreground",s.pathname===i.path&&"text-foreground font-medium"),children:i.label})]},i.path))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>document.dispatchEvent(new KeyboardEvent("keydown",{key:"k",metaKey:!0})),children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx("span",{"data-tour":"theme-toggle",children:e.jsx(Me,{})}),e.jsx(Oe,{})]}),e.jsx(De,{})]})]}),e.jsx(ve,{children:r&&e.jsx(b.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden fixed top-16 left-0 right-0 bg-background border-b border-border z-40",children:e.jsxs("div",{className:"p-4 space-y-2",children:[E.map(i=>e.jsxs(g,{to:i.path,onClick:()=>m(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-secondary",children:[e.jsx(i.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:i.label})]},i.path)),e.jsxs(p,{variant:"ghost",className:"w-full justify-start gap-3 px-4",onClick:C,children:[e.jsx(z,{className:"w-5 h-5"}),"Logout"]})]})})})]})}export{_e as D,He as N,Z as S,ee as a,Ee as b,Te as c,Ie as d,Re as e,Ue as f};
